{"version":3,"sources":["../node_modules/@syncfusion/ej2-base/src/util.js","../node_modules/@syncfusion/ej2-base/src/intl/parser-base.js","../node_modules/@syncfusion/ej2-base/src/hijri-parser.js","../node_modules/@syncfusion/ej2-base/src/intl/date-formatter.js","../node_modules/@syncfusion/ej2-base/src/intl/number-formatter.js","../node_modules/@syncfusion/ej2-base/src/intl/date-parser.js","../node_modules/@syncfusion/ej2-base/src/intl/number-parser.js","../node_modules/@syncfusion/ej2-base/src/observer.js","../node_modules/@syncfusion/ej2-base/src/internationalization.js","../node_modules/@syncfusion/ej2-base/src/intl/intl-base.js","../node_modules/@syncfusion/ej2-base/src/ajax.js","../node_modules/@syncfusion/ej2-base/src/browser.js","../node_modules/@syncfusion/ej2-base/src/event-handler.js","../node_modules/@syncfusion/ej2-base/src/dom.js","../node_modules/@syncfusion/ej2-base/src/base.js","../node_modules/@syncfusion/ej2-base/src/notify-property-change.js","../node_modules/@syncfusion/ej2-base/src/animation.js","../node_modules/@syncfusion/ej2-base/src/module-loader.js","../node_modules/@syncfusion/ej2-base/src/component.js","../node_modules/@syncfusion/ej2-base/src/child-property.js","../node_modules/@syncfusion/ej2-base/src/draggable.js","../node_modules/@syncfusion/ej2-base/src/droppable.js","../node_modules/@syncfusion/ej2-base/src/keyboard.js","../node_modules/@syncfusion/ej2-base/src/l10n.js","../node_modules/@syncfusion/ej2-base/src/touch.js","../node_modules/@syncfusion/ej2-base/src/template.js","../node_modules/@syncfusion/ej2-base/src/template-engine.js","../node_modules/@syncfusion/ej2-base/src/sanitize-helper.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/constant.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/classes.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/util.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/enum.js","../node_modules/@syncfusion/ej2-richtexteditor/src/common/util.js","../node_modules/@syncfusion/ej2-richtexteditor/src/common/constant.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/models/items.js","../components/Layout/Layout.tsx","../node_modules/@syncfusion/ej2-popups/src/common/position.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/services/service-locator.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/models/default-locale.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/services/renderer-factory.js","../node_modules/@syncfusion/ej2-popups/src/popup/popup.js","../node_modules/@syncfusion/ej2-popups/src/common/collision.js","../node_modules/@syncfusion/ej2-buttons/src/common/common.js","../node_modules/@syncfusion/ej2-inputs/src/input/input.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/base-toolbar.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/dropdown-buttons.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/color-picker.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/utils.js","../../src/TributeEvents.js","../../src/TributeMenuEvents.js","../../src/TributeRange.js","../../src/TributeSearch.js","../../src/Tribute.js","../node_modules/lodash/each.js","../components/ItemLayout/ItemLayout.tsx","../node_modules/@syncfusion/ej2-react-base/src/component-base.js","../node_modules/@syncfusion/ej2-react-base/src/util.js","../node_modules/@syncfusion/ej2-react-base/src/complex-base.js","../node_modules/@syncfusion/ej2-react-base/src/services.js","../node_modules/@syncfusion/ej2-react-base/src/template.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../components/Segment/Segment.tsx","../node_modules/@syncfusion/ej2-buttons/src/button/button.js","../node_modules/@syncfusion/ej2-buttons/src/check-box/check-box.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/link-module.js","../components/WordColorIcon.tsx","../components/ExcelColorIcon.tsx","../components/PowerPointColorIcon.tsx","../components/FilesPdfIcon.tsx","../components/UserFriendsIcon.tsx","../components/MentionIcon.tsx","../components/ShiftActivityIcon.tsx","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/formatter/formatter.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/constant.js","../node_modules/@syncfusion/ej2-richtexteditor/src/selection/selection.js","../node_modules/@syncfusion/ej2-richtexteditor/src/common/config.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/dom-node.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/lists.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/insert-methods.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/nodecutter.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/formats.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/inserthtml.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/link.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/alignments.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/indents.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/classes.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/image.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/table.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/isformatted.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/selection-commands.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/selection-exec.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/inserthtml-exec.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/clearformat.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/clearformat-exec.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/undo.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/ms-word-clean-up.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/insert-text.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/editor-manager.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/formatter/html-formatter.js","../node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/toolbar-status.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-toolbar-status.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/content-renderer.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/iframe-content-renderer.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/xhtml-validation.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-editor.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/render.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/keyboard.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/view-source.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/interface.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/execute-command-callback.js","../node_modules/@syncfusion/ej2-filemanager/src/file-manager/models/ajax-settings.js","../node_modules/@syncfusion/ej2-filemanager/src/file-manager/models/contextMenu-settings.js","../node_modules/@syncfusion/ej2-filemanager/src/file-manager/models/details-view-settings.js","../node_modules/@syncfusion/ej2-filemanager/src/file-manager/models/navigation-pane-settings.js","../node_modules/@syncfusion/ej2-filemanager/src/file-manager/models/search-settings.js","../node_modules/@syncfusion/ej2-filemanager/src/file-manager/models/toolbar-settings.js","../node_modules/@syncfusion/ej2-filemanager/src/file-manager/models/upload-settings.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/models/toolbar-settings.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/models/iframe-settings.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/models/inline-mode.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-attributes.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/full-screen.js","../node_modules/@syncfusion/ej2-popups/src/common/resize.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/enter-key.js","../node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/dialog-renderer.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/base/rich-text-editor.js","../node_modules/@syncfusion/ej2-react-richtexteditor/src/rich-text-editor/richtexteditor.component.js","../node_modules/@syncfusion/ej2-navigations/src/common/h-scroll.js","../node_modules/@syncfusion/ej2-navigations/src/common/v-scroll.js","../node_modules/@syncfusion/ej2-navigations/src/toolbar/toolbar.js","../node_modules/@syncfusion/ej2-splitbuttons/src/common/common.js","../node_modules/@syncfusion/ej2-splitbuttons/src/drop-down-button/drop-down-button.js","../node_modules/@syncfusion/ej2-splitbuttons/src/split-button/split-button.js","../node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js","../node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js","../node_modules/@syncfusion/ej2-inputs/src/slider/slider.js","../node_modules/@syncfusion/ej2-inputs/src/color-picker/color-picker.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/toolbar-renderer.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/toolbar-action.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/toolbar.js","../behaviors/Accordion/accordionBehavior.ts","../behaviors/Accordion/accordionTitleBehavior.ts","../components/Accordion/AccordionTitle.tsx","../behaviors/Accordion/accordionContentBehavior.ts","../components/Accordion/AccordionContent.tsx","../utils/accessibility/FocusHandling/FocusContainer.ts","../components/Accordion/Accordion.tsx","../behaviors/Attachment/attachmentBehavior.ts","../components/Attachment/AttachmentBody.tsx","../components/Attachment/AttachmentDescription.tsx","../components/Attachment/AttachmentHeader.tsx","../components/Attachment/AttachmentIcon.tsx","../components/Attachment/Attachment.tsx","../node_modules/@syncfusion/ej2-inputs/src/textbox/textbox.js","../node_modules/@syncfusion/ej2-popups/src/spinner/spinner.js","../node_modules/@syncfusion/ej2-inputs/src/uploader/uploader.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/image-module.js","../behaviors/Chat/chatBehavior.ts","../components/Chat/ChatItem.tsx","../components/Chat/Chat.tsx","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/base-quick-toolbar.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/popup-renderer.js","../node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/quick-toolbar.js"],"names":["instances","uid","isBlazorPlatform","createInstance","classFunction","params","arrayParam","unshift","undefined","Function","prototype","bind","apply","getValue","nameSpace","obj","value","splits","replace","split","i","length","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","constructor","getEnumValue","enumObject","enumValue","merge","source","destination","temrObj","tempProp","_i","keys_1","Object","indexOf","Array","isArray","extend","copied","first","second","deep","result","arguments","_loop_1","arguments_1","obj1","forEach","clone","src","copy","isArrayChanged","blazorEventExtend","isBlazor","Event","hasOwnProperty","getUniqueID","definedName","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","setTimeout","compareElementParent","child","parent","document","parentNode","throwError","message","Error","e","stack","print","element","printWindow","div","createElement","links","slice","call","getElementsByTagName","querySelectorAll","blinks","l","len","push","reference","window","open","appendChild","cloneNode","outerHTML","write","innerHTML","close","focus","interval","setInterval","ready","clearInterval","formatUnit","match","getInstance","component","elem","querySelector","_a","inst","HijriParser","defaultNumberingSystem","defaultNumberSymbols","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","prop","res","propKeys_1","getSymbolRegex","props","regexStr","map","str","join","RegExp","getSymbolMatch","ret","matchKeys_1","constructRegex","val","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","blazorMode","cur","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","mapper","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","blazorCurrencyData","dateCorrection","getHijriDate","gDate","day","getDate","month","getMonth","year","getFullYear","tMonth","tYear","yPrefix","Math","floor","julilanOffset","julianNumber","b","c","d","tempMonth","modifiedJulianDate","iyear","z","cyc","j","iy","im","tempDay","iln","ii","hYear","hmonth","hDate","date","toGregorian","julianDate","a","gDay","gMonth","gYear","Date","abbreviateRegexGlobal","standalone","weekdayKey","timeSetter","m","h","H","s","f","datePartMatcher","DateFormat","dateFormat","culture","option","cldr","dependable","base","getDependables","calendar","numObject","dateObject","formatOptions","isIslamic","islamicRegex","test","isServerRendered","compareBlazorDateFormats","resPattern","format","getResultantPattern","skeleton","type","dateSeperator","getDateSeparator","ConvertDateToWeekFormat","pattern","numMapper","parser","parserObject","patternMatch_1","char","weekday","monthIndex","days","designator","eText","era","timeZone","isNaN","intDateFormatter","options","matches","dateParseRegex","dObject","getCurrentDateValue","matches_1","length_1","curval","curvalstr","processNumber","curstr","getDay","curlength","toString","substring","substr","desig","getHours","dec","retu","timezone","getTimezoneOffset","pattern_1","hourFormat","gmtZeroFormat","getTimeZoneValue","gmtFormat","getWeekOfYear","checkTwodigitNumber","latnParseRegex","tVal","curPattern","no","abs","ishour","errorText","NumberFormat","numberFormatter","symbolPattern","fOptions","cOptions","dOptions","numericObject","numberMapper","currencySymbol","getCurrencySymbol","currency","defaultCurrencyCode","altSymbol","percentSymbol","minusSymbol","symbols","formatRegex","customFormat","getProperNumericSkeleton","isCurrency","isPercent","getSymbolPattern","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","replaceBlazorCurrency","getFormatData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isFinite","intNumberFormatter","negativeDataRegex","p","lastIndexOf","temp","primary","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","text","range","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","toExponential","groupNumbers","nlead","nend","min","max","toPrecision","level1","sep","decimalSymbol","level2","flag","prefix","toFixed","lead","latnRegex","minute","hour","milliseconds","DateParser","dateParser","numOptions","parseOptions","hourOnly","regexString","evalposition","patternMatch","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","numbers","canUpdate","charKey","optional","weekData","weekObject","monthData","hour12","periodValur","tzone","hpattern","parseTimeZoneRegx","pos","parserRegex","parsedDateParts","internalDateParse","dobj","tDate","ystrig","is2DigitYear","parseInt","getDateObject","setMilliseconds","y","setFullYear","tKeys_1","tValue","setDate","pDate","lDate","lastDay","setHours","tzValue","setMinutes","getMinutes","num","retOptions","props_1","curObject","matchString","internalNumberParser","toUpperCase","toLowerCase","tmatch","getZoneValue","tZone","splitStr","cRegex","ival","parseRegex","groupRegex","NumberParser","numberParser","custom","symbolpattern","symbolRegex","infinity","getParsedNumber","isNegative","tempValue","end","Infinity","NaN","exponent","parseFloat","convertMaxFracDigits","decimalSplitValue","Observer","context","ranArray","boundedEvents","on","property","handler","id","cntxt","notExist","isHandlerPresent","off","splice","indexLocation","notify","argument","successHandler","errorHandler","name","blazorCallback","curObject_1","objs","index","isTrigger","obj_1","promise","then","data","isJson","JSON","parse","dateReviver","catch","destroy","boundedEvents_1","onIntlChange","rightToLeft","cldrData","defaultCulture","Internationalization","cultureName","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","isExcelFormat","IntlBase","getActualDateTimeFormat","getNumberPattern","isExcel","getActualNumberFormat","getFirstDayOfWeek","getWeekData","getNumericObject","locale","numSystem","symbPattern","blazorCultureFormats","customRegex","fractionRegex","patternRegex","dateConverterMapper","firstDayMapper","currencyFormatRegex","curWithoutNumberRegex","typeMapper","blazorCulture","iType","basicPatterns","dPattern","tPattern","mode","calendartype","blazorDefaultObject","defaultObject","dateString","convertMapper","tempString","curFormatMapper","patternMatcher","needFraction","cSymbol","fractionOnly","changeCurrencySymbol","groupPattern","fraction","fmatch","sym","currencyCode","customNumberFormat","integerPart","spaceCapture","spaceGrouping","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","fractionDigitsPattern","minDigits","maxDigits","diff","minimumIntegerPattern","integer","x","groupingPattern","C","P","N","A","E","formatSplit","dateObj","actualPattern","tLength","timeZonePattern","options_1","minFrac","numrericObject","curMatch","curCode","hasNegativePattern","cPattern","processSymbol","firstDay","iCulture","aCurrency","rCurrency","iCurrency","pData_1","weeknum","newYear","daynum","getTime","nday","headerRegex","Ajax","async","contentType","emitError","url","send","eventArgs","cancel","httpRequest","Promise","resolve","reject","XMLHttpRequest","onreadystatechange","stateChange","onLoad","onload","onProgress","onprogress","onAbort","onabort","onError","onerror","onUploadProgress","upload","setRequestHeader","beforeSend","onSuccess","failureHandler","reason","onFailure","responseText","dataType","error","readyState","status","statusText","getResponseHeader","responseHeaders","header","headers","exec","getAllResponseHeaders","REGX_MOBILE","REGX_IE","REGX_IE11","REGX_IOS","REGX_IOS7","REGX_ANDROID","REGX_WINDOWS","REGX_VERSION","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","Browser","extractBrowserDetail","browserInfo","clientInfo","userAgent","version","language","navigator","getEvent","event","events","isPointer","isTouch","isDevice","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","getTouchCancelEvent","regX","platform","maxTouchPoints","defineProperty","get","uA","set","enumerable","configurable","info","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","touchCancelEvent","EventHandler","addOrGetEventData","__eventList","add","eventName","listener","bindTo","intDebounce","debounceListener","eventData","isIE","addEventListener","passive","remove","some","removeEventListener","clearEvents","copyData","shift","trigger","eventProp","eventData_1","event_1","SVG_REG","tagName","properties","createElementNS","className","styles","setAttribute","attrs","attributes","addClass","elements","classes","classList","getClassList","ele","_b","classList_1","curClass","contains","removeClass","classList_2","classArr","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","isEval","docFrag","createDocumentFragment","insertBefore","firstElementChild","executeScript","append","script","head","detach","removeChild","iKey","select","selector","needsVDOM","querySelectId","selectAll","charRegex","idList","list","splitId","setId","closest","el","nodeType","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","isColEName","Base","isRendered","isComplexArraySetter","allowServerDataBinding","isProtectedOnChange","changedProperties","oldProperties","bulkChanges","refreshing","ignoreCollectionWatch","finalUpdate","childChangedProperties","modelObserver","addInstance","setProperties","isDestroyed","muteOnChange","prevDetection","dataBind","serverDataBind","callChildDataBind","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","updateModel","saveChanges","newValue","oldValue","unbind","Uint16Array","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","postMessage","setImmediate","moduleClass","getModuleName","ej2_instances","filter","getComponent","comp","instance","getElementById","getObject","curKey","defaultValue","getObjectArray","isSetter","isFactory","curType","propertyGetter","propertySetter","oldVal","complexGetter","complexSetter","complexArrayGetter","defCollection","ignore","controlParent","extendFunc","descriptor","complexArrayDefinedCallback","complexArraySetter","oldValueCollection","newValCollection","dFunc","keyString","propName","getParentKey","model_1","getArrayModel","model","ejsAction","isControlParent","arrayFunction","modelObject","Property","target","propertyDescriptor","addPropertyCollection","Complex","Collection","eventDescriptor","finalContext","getParentContext","NotifyPropertyChanges","classConstructor","propertyType","propList","complexProps","colProps","propNames","complexPropNames","colPropNames","eventNames","propertyName","curText","__extends","extendStatics","setPrototypeOf","__proto__","__","create","__decorate","decorators","desc","r","getOwnPropertyDescriptor","Reflect","decorate","Animation","_super","easing","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","getModel","elements_1","element_1","delayAnimation","stop","animation","removeAttribute","animationId","getAttribute","frameId","cancelAnimationFrame","applyAnimation","timeStamp","step","timerId","prevTimeStamp","duration","startAnimation","begin","avg","timingFunction","progress","requestAnimationFrame","fail","newProp","oldProp","rippleEffect","rippleOptions","done","rippleModel","rippleFlag","isCenterRipple","getRippleModel","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","documentElement","left","right","top","bottom","radius","sqrt","diameter","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","rippleElements","opacity","getElementsByClassName","lastPageID","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","clean","modules","usedModules","arg","removableModule","removableModule_1","mod","ChildProperty","parentObj","isParentArray","updateChange","updateTimeOut","changeTime_1","curIndex","restrictServerDataBind","isSaveChanges","action","parent_1","parentKey","complexKeys","isFinal","valueLength","componentCount","lastHistoryLen","versionBasedStatePersistence","Component","randomId","uniqueID","isStringTemplate","needsID","isReactHybrid","enableRtl","moduleLoader","localObserver","detectFunction","appendTo","enablePersistence","setPersistData","refresh","preRender","injectModules","render","accessMount","mount","getRootElement","actualElement","getLocalData","eleId","localStorage","getItem","ej2StatePersistenceVersion","mergePersistData","renderComplete","wrapperElement","event_2","getInjectedModules","injectedModules","Inject","isVDOM","triggerStateChange","setState","currentContext","calls","setItem","getPersistData","appendReactElement","container","renderReactTemplates","clearTemplate","templateName","isHistoryChanged","pageID","location","href","history","hash","charCodeAt","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","ignoreList","newObj","newList","this_1","defaultPosition","isDraggedObject","isDragged","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","borderWidth","padding","diffX","prevLeft","prevTop","dragProcessStarted","eleTop","tapHoldTimer","externalInitialize","diffY","parentScrollX","parentScrollY","droppables","toggleEvents","scope","isUnWire","handle","enableTapHold","mobileInitialize","initialize","evt","currentTarget","removeTapholdTimer","tapHoldThreshold","getScrollableParent","axis","tempScrollHeight","scrollHeight","tempScrollWidth","scrollWidth","getScrollableValues","curTarget","currentStateTarget","isDragStarted","abort","abortSelectors","preventDefault","changedTouches","intCoord","getCoordinates","initialPosition","clientX","clientY","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isPreventSelect","isChangeTouch","intCordinate","styleProp","margin","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","isReplaceDragEle","currentStateCheck","calculateParentPosition","position","getMousePosition","isDragScroll","distance","getHelperElement","dragTargetElement","helperElement","parentClientRect","offsetParent","dragStart","getProperTargetElement","bindEvents","bindDragEvents","dragElement","dragArea","setDragArea","enableTailMode","enableScrollHandler","posValue","getProcessedPositionValue","dragElePosition","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","offsetTop","offsetLeft","width","height","offsetHeight","pageYOffset","pageXOffset","innerHeight","innerWidth","queryPositionInfo","rect","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","hoverObject","triggerOutFunction","dragData","intOver","helper","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","draEleTop","draEleLeft","iTop","iLeft","tempDraEleTop","dragValue","enableAutoScroll","scrollIntoView","intOut","docBody","docEle","dragStop","dragStopCalled","intDrop","change","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","pointerEvents","elementFromPoint","oldEle","isdragscroll","dragEle","srcElement","isOffsetParent","cursorAt","sender","reset","draggable","draggedElement","dropIns","getDropInstance","parentElement","drop","eleInst","eleInst_1","Droppable","mouseOver","wireEvents","area","accept","isDrag","isDropArea","canDrop","droppedElement","display","coord","keyCode","KeyboardEvents","keyPressHandler","isAltKey","altKey","isCtrlKey","ctrlKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","trim","keyAction","unwireEvents","config","configCache","keyData","Number","getKeyCode","keyVal","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","point","updateChangeTouches","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","now","timeOutTapHold","tapHoldEvent","moveEvent","endEvent","cancelEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","startX","startY","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","swipeFn","tap","tapThreshold","modeclear","endPoint","calcPoints","swipeArgs","swipeDirection","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","modeClear","lastTapTime","eleStyle","overflow","overflowX","overflowY","eTapArgs","pnt","newX","newY","newT","xDist","yDist","LINES","QUOTES","IF_STMT","ELSEIF_STMT","ELSE_STMT","FOR_STMT","IF_OR_FOR","CALL_FUNCTION","NOT_NUMBER","WORD","DBL_QUOTED_STR","WORDIF","exp","ARR_OBJ","SINGLE_SLASH","DOUBLE_SLASH","WORDFUNC","WINDOWFUNC","compile","template","ignorePrefix","argName","evalExpResult","varCOunt","localKeys","isClass","singleSpace","cnt","matchStr","SPECIAL_CHAR","rlStr","addNameSpace","strs","HandleSpecialCharArrObj","rlStr_1","mtc","fnStr","fNameSpace","ftArray","splRegexp","arrObj","SlashReplace","NameSpaceForspecialChar","evalExp","addNS","tempStr","nameSpaceNew","quotes","NameSpaceArrObj","HAS_ROW","HAS_SVG","blazorTemplates","templateString","compiler","engineObj","templateId","blazorTemplateId","blazorId","random","childNodes","setTemplateEngine","classObj","getTemplateEngine","Engine","removeTags","removeAttrs","attribute","jsEvents","SanitizeHtmlHelper","beforeSanitize","selectors","tags","sanitize","item","serializeValue","wrapElement","removeXssTags","removeJsEvents","removeXssAttrs","tempEleValue","removeElement","nodes","children","localName","attr","hasAttribute","initialLoad","contentChanged","initialEnd","iframeMouseDown","toolbarClick","toolbarRefresh","refreshBegin","toolbarUpdated","bindOnEnd","renderColorPicker","htmlToolbarClick","markdownToolbarClick","destroyColorPicker","modelChanged","keyUp","keyDown","mouseUp","toolbarCreated","toolbarRenderComplete","enableFullScreen","disableFullScreen","dropDownSelect","beforeDropDownItemRender","execCommandCallBack","imageToolbarAction","linkToolbarAction","windowResize","resizeStart","onResize","resizeStop","insertLink","unLink","editLink","openLink","actionBegin","actionComplete","updatedToolbarStatus","updateToolbarItem","insertImage","insertCompleted","imageLink","imageAlt","imageDelete","imageCaption","imageSize","sourceCode","updateSource","beforeDropDownOpen","selectionSave","selectionRestore","expandPopupClick","count","mouseDown","sourceCodeMouseDown","editAreaClick","scroll","contentscroll","colorPickerChanged","tableColorPickerChanged","focusChange","selectRange","getSelectedHtml","renderInlineToolbar","paste","rtlMode","createTable","docClick","tableToolbarAction","checkUndo","readOnlyMode","pasteClean","enterHandler","beforeDialogOpen","clearDialogObj","dialogOpen","beforeDialogClose","dialogClose","beforeQuickToolbarOpen","quickToolbarOpen","quickToolbarClose","imageSelected","imageUploading","imageUploadSuccess","imageUploadFailed","imageRemoving","afterImageDelete","xhtmlValidation","beforeImageUpload","resizeInitialized","renderFileManager","beforeImageDrop","dynamicModule","updateTbItemsStatus","showLinkDialog","closeLinkDialog","showImageDialog","closeImageDialog","showTableDialog","closeTableDialog","CLS_RTE","CLS_RTL","CLS_DISABLED","CLS_SCRIPT_SHEET","CLS_STYLE_SHEET","CLS_TOOLBAR","CLS_TB_FIXED","CLS_TB_FLOAT","CLS_TB_ABS_FLOAT","CLS_INLINE","CLS_RTE_EXPAND_TB","CLS_FULL_SCREEN","CLS_QUICK_TB","CLS_POP","CLS_TB_STATIC","CLS_QUICK_POP","CLS_QUICK_DROPDOWN","CLS_IMAGE_POP","CLS_INLINE_POP","CLS_INLINE_DROPDOWN","CLS_DROPDOWN_POPUP","CLS_DROPDOWN_ICONS","CLS_DROPDOWN_ITEMS","CLS_DROPDOWN_BTN","CLS_RTE_CONTENT","CLS_TB_ITEM","CLS_TB_WRAP","CLS_SHOW","CLS_HIDE","CLS_VISIBLE","CLS_FOCUS","CLS_RM_WHITE_SPACE","CLS_IMGRIGHT","CLS_IMGLEFT","CLS_IMGCENTER","CLS_IMGBREAK","CLS_CAPTION","CLS_RTE_CAPTION","CLS_CAPINLINE","CLS_IMGINLINE","CLS_ICONS","CLS_ACTIVE","CLS_EXPAND_OPEN","CLS_RTE_ELEMENTS","CLS_TB_BTN","CLS_HR_SEPARATOR","CLS_TB_IOS_FIX","CLS_LIST_PRIMARY_CONTENT","CLS_NUMBERFORMATLIST_TB_BTN","CLS_BULLETFORMATLIST_TB_BTN","CLS_FORMATS_TB_BTN","CLS_FONT_NAME_TB_BTN","CLS_FONT_SIZE_TB_BTN","CLS_FONT_COLOR_TARGET","CLS_BACKGROUND_COLOR_TARGET","CLS_COLOR_CONTENT","CLS_FONT_COLOR_DROPDOWN","CLS_BACKGROUND_COLOR_DROPDOWN","CLS_COLOR_PALETTE","CLS_FONT_COLOR_PICKER","CLS_BACKGROUND_COLOR_PICKER","CLS_RTE_READONLY","CLS_RTE_HIDDEN","CLS_RTE_RES_HANDLE","CLS_RTE_IMAGE","CLS_RESIZE","CLS_IMG_FOCUS","CLS_RTE_DRAG_IMAGE","CLS_RTE_UPLOAD_POPUP","CLS_POPUP_OPEN","CLS_IMG_RESIZE","CLS_DROPAREA","CLS_IMG_INNER","CLS_UPLOAD_FILES","CLS_RTE_DIALOG_UPLOAD","CLS_CUSTOM_TILE","CLS_NOCOLOR_ITEM","CLS_TABLE","CLS_RTE_FIXED_TB_EXPAND","CLS_RTE_TB_ENABLED","undoRedoItems","inlineNode","getIndex","items","toLocaleLowerCase","hasClass","getDropDownValue","returnType","k","subCommand","isNOU","iconCss","isIDevice","isIos","getFormattedFontSize","isIFrame","getTooltipText","serviceLocator","i10n","getService","itemLocale","toolsLocale","setToolbarStatus","isPopToolbar","self","updateDropDownFontFormatLocale","dropDown","dropDownModule","tbItems","itemStr","tbElements","toolbarSettings","formatDropDown","formatItems","types","formatContent","default","content","alignDropDown","fontNameDropDown","fontNameItems","fontFamily","fontNameContent","name_1","title","fontSizeDropDown","fontSizeItems","fontSize","fontSizeContent","getCollection","getTBarItemsIndex","toolbarItems","itemsIndex","command","updateUndoRedoStatus","baseToolbar","undoRedoStatus","trgItems","toolbarObj","keys_2","enableItems","dispatchEvent","createEvent","initEvent","parseHtml","tempNode","DocumentFragment","createRange","createContextualFragment","getTextNodesUnder","docElement","node","firstChild","nextSibling","concat","toObjectLowerCase","convertedValue","getEditValue","rteObj","enableHtmlEncode","updateTextNode","decode","enterKey","resultElm","isPreviousInlineElem","previousParent","insertElem","nodeName","textContent","imageElm","getDefaultValue","isEditableValueEmpty","sanitizeHelper","enableHtmlSanitizer","convertToBlob","dataUrl","arr","mime","bstr","atob","n","u8arr","Uint8Array","Blob","getLocaleFontFormat","localeItems","localeObj","fontNameLocale","formatsLocale","numberFormatListLocale","bulletFormatListLocale","RenderType","ToolbarType","DialogType","setEditFrameFocus","editableElement","iframe","contentWindow","paraElm","tableElm","tdElm","borderLeft","removeProperty","borderRight","borderBottom","borderTop","border","getLastTextNode","startChildNodes","finalNode","getDefaultHtmlTbStatus","bold","italic","subscript","superscript","strikethrough","orderedlist","unorderedlist","underline","alignments","backgroundcolor","fontcolor","fontname","fontsize","formats","createlink","insertcode","KEY_DOWN","ACTION","FORMAT_TYPE","KEY_DOWN_HANDLER","LIST_TYPE","KEY_UP_HANDLER","KEY_UP","MODEL_CHANGED_PLUGIN","MODEL_CHANGED","MS_WORD_CLEANUP_PLUGIN","MS_WORD_CLEANUP","ON_BEGIN","SPACE_ACTION","templateItems","tools","alignmentLocale","alignmentItems","imageAlignItems","displayLocale","imageDisplayItems","cssClass","tableCellItems","tableRowLocale","tableRowsItems","tableColumnLocale","tableColumnsItems","tableVerticalLocale","TableCellVerticalAlignItems","tableStyleLocale","TableStyleItems","predefinedItems","fontColor","backgroundColor","numberFormatList","bulletFormatList","getLocale","updateDropDownLocale","layoutClassName","layoutSlotClassNames","main","gap","reducedStart","reducedMain","reducedEnd","Layout","useFluentContext","useTelemetry","setStart","setEnd","reducing","disappearing","renderStartArea","renderMainArea","renderEndArea","renderGap","alignItems","debug","justifyItems","mainSize","endSize","startSize","vertical","design","variables","ElementType","getElementType","unhandledProps","useUnhandledProps","getA11yProps","useAccessibility","debugName","rtl","useStyles","mapPropsToStyles","hasMain","hasEnd","hasStart","mapPropsToInlineStyles","startArea","mainArea","endArea","root","isSingleArea","activeAreas","composedClasses","cx","accessibility","PropTypes","rootCSS","startCSS","mainCSS","endCSS","forElements","createShorthandFactory","elementRect","popupRect","parentDocument","fixedParent","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","tempAnchor","calculatePosition","currentElement","positionX","positionY","targetValues","ownerDocument","posX","posY","setPosx","getElementHCenter","setPosy","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","updatePosition","getBodyScrollTop","getBodyScrollLeft","popupWidth","ServiceLocator","services","register","defaultLocale","RendererFactory","rendererMap","addRenderer","rName","getRenderer","PositionData","CLASSNAMES","Popup","zIndex","setEnableRtl","refreshPosition","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","resolveCollision","checkCollision","orientationOnChange","getRelateToElement","scrollRefresh","parent_2","relateToElement","relateTo","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","scrollElement","scrollParents","parent_3","isElementVisible","checkGetBoundingClientRect","win","windowView","scrollY","scrollX","outerWidth","outerHeight","elementView","parent_4","reposition","relateToElem","collision","checkFixedParent","X","Y","parentDisplay","getAnchorPosition","anchorEle","eleRect","anchorRect","targetType","callFlip","param","flip","viewPortElement","callFit","isCollide","fit","viewPortRect","horz","vert","show","animationOptions","relativeElement","zIndexElement","getZindexPartial","showAnimation","hideAnimation","parentStyle","overflowRegex","parentZindex","defaultView","childrenZindex","isEqualNode","siblingsZindex","finalValue","currentZindexValue","targetContainer","elemData","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","elemOffset","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","rightSide","leftSide","bottomSide","tEdge","TL","TR","BL","BR","eEdge","oldVisibility","edge","updateElementData","setPosition","leftFlip","topFlip","setPopup","eStatus","deepCheck","collideSide","getTargetContainerLeft","getTargetContainerTop","windowWidth","documentReact","wrapperInitialize","tag","WRAPPER","role","input","ejInstance","nodeValue","getTextNode","childnode","rippleMouseHandler","rippleSpan","setHiddenInput","proxy","wrap","Input","floatType","isBindClearAction","bindInitialEvent","checkInputValue","floatLabelType","getParentNode","inputElement","inputValue","_focusFn","label","_blurFn","wireFloatingEvents","createFloatingInput","inputObject","internalCreateElement","makeElement","createInputContainer","customTag","floatLinelement","floatLabelElement","placeholder","innerText","encodePlaceHolder","inputWrap","updateLabelState","checkFloatLabelType","updateIconState","button","activeElement","wireClearBtnEvents","readOnly","validateLabel","tagClass","spanEle","setCssClass","oldClass","setPlaceholder","setReadonly","isReadonly","readonly","isRtl","setEnabled","isEnable","inputContainer","disabledAttrs","considerWrapper","removeAttributes","addAttributes","setClearButton","isClear","initial","clearButton","insertAdjacentElement","createClearButton","_internalRipple","isRipple","argsButton","buttons","_onMouseDownRipple","_onMouseUpRipple","parentEle","createIconEle","iconClass","prependSpan","innerWrapper","appendSpan","validateInputType","containerElement","createInput","bindClearAction","showClearButton","enabled","setPropertyValue","setWidth","removeFloating","inputEle","addFloating","iconEle","inputObj","isPrependIcon","floatLine","floatText","wrapper","setRipple","addIcon","icons","internalCreate","result_1","result_2","BaseToolbar","locator","renderFactory","itemConfigs","setRtl","getClass","getTemplateObject","getID","inlineMode","enable","tooltipText","prefixIcon","icon","getItems","click","proxy_1","callback_1","undo","formatter","getUndoRedoStack","saveData","tbItems_1","getToolbarOptions","rteToolbarObj","overflowMode","toolbarRenderer","Toolbar","renderToolbar","DropDownButtons","initializeInstance","beforeRender","dropdownContent","renderDropDowns","containerType","tbElement","targetElement","formatOLItem","defineProperties","numberFormatListDropDown","renderListDropDown","itemName","formatULItem","bulletFormatListDropDown","formatItem","renderDropDownButton","fontItem","getEditNode","imageAlignmentDropDown","imageDisplayDropDown","rowDropDown","columnDropDown","cellDropDown","verticalAlignDropDown","tableStylesDropDown","getUpdateItems","dropDownItems","_c","fontItems","_d","_e","_f","_g","contentModule","getEditPanel","tableRowsDropDown","tableColumnsDropDown","tableCellVerticalAlignDropDown","displayDropDown","imageAlignDropDown","tableSettings","removeDropDownClasses","destroyDropDowns","onIframeMouseDown","ColorPickerInput","renderColorPickerInput","targetID","suffixID","fontNode","fontColorPicker","fontColorDropDown","renderColorPickerDropDown","backNode","backgroundColorPicker","backgroundColorDropDown","defaultColorPicker","innerEle","borderBottomColor","columns","presetColors","colorCode","modeSwitcher","_classCallCheck","Constructor","TypeError","_defineProperties","writable","_createClass","protoProps","staticProps","find","predicate","thisArg","CustomEvent","bubbles","cancelable","detail","initCustomEvent","TributeEvents","tribute","boundKeydown","keydown","boundKeyup","keyup","boundInput","shouldDeactivate","isActive","hideMenu","commandEvent","o","callbacks","inputEvent","menu","li","stopPropagation","selectItemAtIndex","current","externalTrigger","updateSelection","allowSpaces","hasTrailingSpace","autocompleteMode","triggerChar","triggers","mentionText","collection","menuShowMinLength","showMenuFor","eventKeyPressed","getTriggerInfo","mentionTriggerChar","selectedPath","mentionSelectedPath","selectedOffset","mentionSelectedOffset","collectionItem","enter","filteredItems","menuSelected","escape","tab","space","spaceSelectsMatch","up","selected","setActiveLi","down","lis","selectClass","liClientRect","menuClientRect","scrollDistance","includeMargin","currentStyle","TributeMenuEvents","menuEvents","menuClickEvent","menuContainerScrollEvent","windowResizeEvent","positionMenuAtCaret","getDocument","menuContainer","func","wait","immediate","timeout","_this2","callNow","TributeRange","scrollTo","coordinates","positionMenu","cssText","isContentEditable","getContentEditableCaretPosition","mentionPosition","getTextAreaOrInputUnderlinePosition","menuDimensions","menuIsOffScreen","isMenuOffScreen","menuIsOffScreenHorizontally","menuIsOffScreenVertically","path","previousSibling","sel","getWindowSelection","collapse","removeAllRanges","addRange","requireLeadingSpace","replaceEvent","replaceTextSuffix","endPos","pasteHtml","myField","textSuffix","startPos","selectionStart","selectionEnd","html","anchorNode","deleteContents","lastNode","frag","insertNode","cloneRange","setStartAfter","getSelection","ctx","ce","contentEditable","getNodePositionInParent","reverse","getRangeAt","startOffset","selectedElem","workingNodeContent","selectStartOffset","textComponent","wordsArray","menuAlreadyActive","isAutocomplete","selectionInfo","getContentEditableSelectedPath","effectiveRange","getTextPrecedingCurrentSelection","lastWordOfEffectiveRange","getLastWordInText","mentionSelectedElement","mostRecentTriggerCharPos","idx","lastIndexWithLeadingSpace","currentTriggerSnippet","firstSnippetChar","leadingSpace","reversedStr","cidx","firstChar","triggerIdx","windowHeight","doc","windowLeft","clientLeft","windowTop","clientTop","menuTop","menuRight","menuBottom","menuLeft","ceil","dimensions","flipped","isFirefox","mozInnerScreenX","computed","whiteSpace","wordWrap","span","menuContainerIsBody","borderTopWidth","borderLeftWidth","getMenuDimensions","parentHeight","scrollStillAvailable","selectedNodePosition","clientRect","elemTop","elemBottom","maxY","targetY","TributeSearch","search","array","string","opts","pre","post","compareString","caseSensitive","skip","rendered","score","patternCache","traverse","cache","stringIndex","patternIndex","calculateScore","best","pop","indices","reduce","prev","extract","original","sort","t","values","containerClass","itemClass","selectTemplate","menuItemTemplate","lookup","fillAttr","noMatchTemplate","searchOpts","menuItemLimit","Tribute","defaultSelectTemplate","defaultMenuItemTemplate","console","warn","jQuery","NodeList","HTMLCollection","_attach","ensureEditable","inputTypes","ul","currentMentionTextSnapshot","createMenu","tributeMenu","processValues","noMatchEvent","fragment","_findLiTarget","movementY","collectionIndex","placeCaretAtEnd","insertTextAtCursor","insertAtCaret","selectNodeContents","createTextRange","textRange","moveToElementText","textNode","createTextNode","textarea","scrollPos","caretPos","front","back","replaceText","replaceTriggerText","newValues","_append","_detach","_this3","_isActive","matchItem","exports","require","itemLayoutClassName","itemLayoutSlotClassNames","headerMedia","contentMedia","media","endMedia","ItemLayout","as","mediaCSS","endMediaCSS","resolvedStyles","mergedMediaClasses","mergedEndMediaClasses","pxToRem","renderContentArea","renderHeaderArea","headerCSS","headerMediaCSS","contentCSS","contentMediaCSS","headerArea","contentArea","gridTemplateRows","mergedClasses","mediaClasses","mappedProp","defaulthtmlkeys","delayUpdate","ComponentBase","attrKeys","cachedTimeOut","isAppendCalled","initRenderCalled","isReactForeceUpdate","isReact","isshouldComponentUpdateCalled","componentDidMount","refreshChild","canDelayUpdate","renderReactComponent","portals","componentDidUpdate","refreshProperties","reactElement","shouldComponentUpdate","nextProps","updateProperties","silent","dProps","propkey","isClassName","htmlattributes","compareValues","clsName","propsClsName","dpropsClsName","processComplexTemplate","compTemplate","complexTemplate","PropVal","getDefaultAttributes","propKeys","controlAttributes","ref","reactUid","clsList","onChange","syntheticEvent","nativeEvent","value1","value2","String","tempVal","tempVal2","compareObjects","oldProps","newProps","diffArray","_j","checkInjectedModules","prevModule","curModule_1","getInjectedServices","directivekeys","changedProps","directiveValue","validateChildren","skipRefresh","prevProperties","dKeys","compareOutput","_c1","allColumns","propInstance","changedProps_1","changes","propInstance_1","componentWillUnmount","ReactDOM","callback","forceUpdate","templateNames","tempPortal","indexCount","propIndexCount","portal","childCache","childs_1","React","toArray","ifield","getChildType","childProps","getChildProps","isDirective","moduleName","subChild","matcher","subChild_1","accessProp","cacheVal","cachedValue","childs_2","isService","applyMixins","derivedClass","baseClass","ComplexBase","stringCompiler","templateElement","cEle","actTemplate","actData","isLegacyTemplate","rele","_getPrototypeOf","getPrototypeOf","_typeof","Symbol","iterator","_possibleConstructorReturn","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Proxy","Super","NewTarget","_setPrototypeOf","_inherits","subClass","superClass","Segment","color","inverted","disabled","childrenExist","Box","cssClassName","Button","removeRippleEffect","isPrimary","tempContent","setIconCss","controlStatus","iconPosition","isToggle","btnClickHandler","unWireEvents","focusIn","CHECK","DISABLED","FRAME","INDETERMINATE","LABEL","RIPPLE","RIPPLECHECK","RIPPLEINDETERMINATE","RTL","containerAttr","CheckBox","isFocused","isMouseClick","clickTriggered","changeState","state","ariaState","frameSpan","getWrapper","checked","indeterminate","clickHandler","focusOutHandler","changeEventArgs","updateVueArrayModel","focusHandler","initialCheckedValue","isVue","setDisabled","initWrapper","for","labelPosition","setText","keyUpHandler","labelMouseDownHandler","labelMouseUpHandler","rippleElem","labelWrap","updateHtmlAttributeToWrapper","changeHandler","formResetHandler","formElem","init","htmlAttributes","Link","rteID","rendererFactory","dialogRenderObj","linkDialog","showDialog","closeDialog","onKeyDown","showLinkQuickToolbar","onToolbarAction","removeLink","editAreaClickHandler","dialogObj","returnValue","quickToolbarModule","linkQTBar","quickToolObj","target_1","parentTop","parentLeft","editorManager","nodeSelection","getRange","isNotify","toolbarModule","getToolbarElement","linkTop","linkLeft","linkPos","tbHeight","getExpandTBarPopHeight","iframeSettings","touches","showPopup","endContainer","hideLinkQuickToolbar","hidePopup","showOnRightClick","quickToolbarSettings","editorMode","getAnchorNode","Content","isPopupOpen","startContainer","openDialog","isInternal","save","selectNodeEle","getNodeCollection","selectParentEle","getParentNodeCollection","selectNode","selection","selectParent","textArea","markdownSelection","getSelectedText","inputDetails","linkWebAddress","linkDisplayText","linkTooltip","urlPlace","textPlace","linkDialogEle","linkContent","contentElem","linkTarget","linkUrl","linkText","linkTitle","linkOpenLabel","checkBoxObj","selectText","linkInsert","linkCancel","selectObj","selfLink","dialogModel","showCloseIcon","closeOnEscape","isModal","insertlink","buttonModel","cancelDialog","animationSettings","effect","isBlur","restore","maxHeight","btnText","checkUrl","endOffset","onDocumentClick","inlineQTBar","linkEle","isUrl","enableAutoUrl","getPanel","argsValue","code","process","setSelectionRange","selectedNode","linkUpdate","WordColorIcon","createSvgIcon","svg","focusable","viewBox","fill","fillRule","clipRule","displayName","ExcelColorIcon","PowerPointColorIcon","FilesPdfIcon","UserFriendsIcon","iconClassNames","MentionIcon","ShiftActivityIcon","Formatter","saveSelection","rangeCount","getAncestorNode","commonAncestorContainer","action_1","requestType","itemCollection","CONSTANT","actionBeginArgs","isTableModule","tableModule","ensureInsideTableList","observer","callBack","enterAction","selectType","clipboardAction","execCommand","enableUndo","onKeyHandler","callbackArgs","setPlaceHolder","autoResize","undoRedoManager","getUndoStatus","undoRedoStack","quickTBarObj","IMAGE","TABLE","LINK","INSERT_ROW","INSERT_COLUMN","DELETEROW","DELETECOLUMN","REMOVETABLE","TABLEHEADER","TABLE_VERTICAL_ALIGN","TABLE_MERGE","TABLE_VERTICAL_SPLIT","TABLE_HORIZONTAL_SPLIT","ALIGNMENT_TYPE","INDENT_TYPE","DEFAULT_TAG","BLOCK_TAGS","IGNORE_BLOCK_TAGS","TABLE_BLOCK_TAGS","SELECTION_TYPE","INSERTHTML_TYPE","INSERT_TEXT_TYPE","CLEAR_TYPE","NodeSelection","startNodeName","endNodeName","saveInstance","rootNode","documentFromRange","getNodeArray","isChildNode","nodeCollection","getNode","startNode","endNode","getParentNodes","getSelectionNodeCollection","getSelectionNodes","getSelectionNodeCollectionBr","getSelectionNodesBr","regEx","fromCharCode","getInsertNodeCollection","getInsertNodes","isStart","setRangePoint","isvalid","size","constant","setRange","setSelectionText","startIndex","endIndex","setSelectionContents","setSelectionNode","getSelectedNodes","Clear","insertParentNode","newNode","surroundContents","setCursorPoint","htmlKeyConfig","selfClosingTags","markerClassName","DOMNode","currentDocument","contents","isBlockNode","Node","ELEMENT_NODE","isLink","blockParentNode","rawAttributes","rawAttr","orderRawAttr","attrKey","attrValue","clearAttributes","openTagString","closeTagString","createTagString","isList","isElement","isEditable","replaceWith","parseHTMLFragment","insertAfter","referenceNode","wrapInner","unWrap","unWrapNode","getSelectedNode","TEXT_NODE","nodeFinds","existNodes","isEditorArea","getRangePoint","ranges","getPreviousNode","previousElementSibling","encode","divNode","saveMarker","startTextNode","endTextNode","marker","setMarker","existNode","textNodes","ensureSelfClosingTag","isTable","parNode","tdNode","lastChild","createTempNode","nextElementSibling","getImageTagInSelection","focusNode","blockNodes","collectionNodes","ignoreTableTag","listNodes","Lists","domNode","EVENTS","applyListsHandler","keyDownHandler","spaceKeyAction","testList","olListRegex","elementStart","testCurrentList","olListStartRegex","currentContent","spaceList","preElement","nextElement","preElemULStart","nextElemULStart","startElementOLTest","preElementOLTest","nextElementOLTest","enterList","startNodeParent","nearBlockNode","nodeCutter","GetSpliceNode","insertTag","backspaceList","parentList","commonAncestor","startEle","endEle","lastElementChild","collapsed","isNested","ignoreDefault","currentAction","getAction","revertList","revertClean","nestedList","cleanNode","prevSibling","noPreviousElement","firstNode","firstNodeOL","siblingListOL","siblingListLI","siblingListLIFirst","nestedElement","nestedElementLI","firstNodeLI","listsNodes","setSelectionBRConfig","allSelectedNode","selectedNodes","currentFormatNodes","currentNode","previousCurrentNode","previousNode","tempElem","preNode","postNode","applyLists","startElem","endElem","isRevert","removeEmptyListElements","checkLists","listStyle","listImage","listEle","openTag","closeTag","newTag","replaceHTML","collectionString","listElem","nodesTemp","liParents","contentNodes","findUnSelected","rightIndent","indentElements","childElements","childLI","viewNode","childNode","nodeInnerHtml","emptyUl","emptyLi","InsertMethods","WrapBefore","isAfter","AppendBefore","Wrap","unwrap","NodeCutter","SplitNode","isCollapsed","setStartBefore","setEndAfter","extractContents","spliceEmptyNode","isImgElm","GetCursorStart","indexes","GetCursorRange","cursorRange","TrimLineBreak","GetCursorNode","line","Formats","applyFormats","onKeyUp","endCon","pTag","replaceChild","brNode","startCon","preElem","endPreElem","deleteContent","removeCodeContent","lastEmpty","lastBeforeBr","startParent","paraFocus","isNotEndCursor","pointer","referNode","isEnd","insertMarker","brTag","previousSib","insertAdjacentHTML","setCursorPosition","isEmpty","markerElem","mrkParentElem","focusSelectionParent","brElm","tempSpanPElem","tempSpan","isSelectAll","formatsNodes","exeValue","cleanFormats","replaceNode","replaceTag","preFormatMerge","preNodes","ignoreAttr","InsertHtml","Insert","editNode","isExternal","isCursor","closestParentNode","closestEle","pasteInsertHTML","sibNode","childElementCount","lasNode","removeEmptyElements","imageFocus","paraElem","isSingleNode","currentBlockNode","getImmediateBlockNode","containsBlockNode","removingComments","lastSelectionNode","allChildNodes","insertTempNode","isFirstTextNode","firstParaElm","nearestAnchor","immediateBlockNode","placeCursorEnd","cursorPos","blockNode","liNode","splitedElm","elm","innerElement","findDetachEmptyElem","emptyElements","detachableElement","LinkCommand","linkCommand","createLink","closestAnchor","domSelection","charAt","localeCompare","createAchorNode","removeText","createLinkNode","txtArray","inlineNodes","removeNodes","anchorNodes","finalinlineNodes","check","j_1","cln","j_2","linkNode","containsNode","Alignments","applyAlignment","getTableNode","isTableAlign","alignmentNodes","imageTags","elementNode","imgObj","imageCommand","Indents","indentValue","applyIndents","editEle","indentsNodes","parentNodes","marginLeftOrRight","indentsValue","CLASS_IMAGE_RIGHT","CLASS_IMAGE_LEFT","CLASS_IMAGE_CENTER","CLASS_IMAGE_BREAK","CLASS_CAPTION_INLINE","ImageCommand","createImage","insertImageLink","openImageLink","editImageLink","removeImageLink","removeImage","insertAltTextImage","imageDimension","imageJustifyLeft","imageJustifyCenter","imageJustifyRight","imageInline","imageBreak","isReplaced","imgElement","setStyle","imgEle","imgElm_1","altText","calculateStyleValue","minWidth","maxWidth","minHeight","capImgWrap","textEle","newTextEle","insertElement","TableCommand","insertRow","insertColumn","deleteRow","deleteColumn","removeTable","tableHeader","tableVerticalAlign","cellMerge","HorizontalSplit","VerticalSplit","tableMove","table","tblBody","tdWid","rows","row","cell","removeEmptyNode","emptyLiChild","getSelectedCellMinMaxIndex","selectedCells","curTable","minI","maxI","minJ","maxJ","selectedCellIndex","getCorrespondingIndex","minMaxIndex","FindIndex","startRow","endRow","startColumn","endColumn","isBelow","selectedCell","lastRow","cloneRow","allCells","getCorrespondingColumns","minVal","newRow","isHeaderSelect","tdElement","selectedRow","curCell","curRow","allRows","colIndex","previousWidth","currentWidth","currentTabElm","thTdElm","dataset","oldWidth","colTemplate","tBodyHeadEle","rowIndex","deleteIndex","selectedMinMaxIndex","minCol","maxCol","currentRow","currentCell","currentCellIndex","colSpanVal","rowHeadEle","nextFocusCell","sContainer","startChildLength","rowSpanVal","focusTrEle","selectedTable","headerExit","cellCount","colSpanCount","createTHead","th","deleteTHead","tableCell","verticalAlign","mergeCellContent","minMaxIndexes","getSelectedMinMaxIndexes","firstCell","rowSelectedCells","totalWidth","updateRowSpanStyle","updateColSpanStyle","colValue","colMin","eleArray","updateCellAttribute","rowValue","rowMin","firstIndex","spanCount","innerHtml","correspondingCells","minRow","maxRow","currentRowCol","targetRowCol","activeCell","newCell","activeCellIndex","activeCellRowSpan","avgCount","avgRowIndex","newTrEle","avgWidth","correspondingColumns","activeCellcolSpan","elementArray","colEle","ele_1","colspan_1","rowSpan","columnIndex","cells","nextIndex","nextCol","highlightCells","startCell","endCell","minRowIndex","maxRowIndex","minColIndex","maxColIndex","minMaxValues","MinMax","activeCellTag","targetCellTag","activeRowIndex","activeColumnIndex","targetRowIndex","targetColumnIndex","activeCellList","activeIndexes","targetIndexes","IsFormatted","getFormattedNode","getFormatParent","isFormattedNode","isBold","isItalic","isUnderline","isStrikethrough","isSuperscript","isSubscript","isFontColor","isFontName","isFontSize","isBackgroundColor","inlineTags","fontWeight","fontStyle","textDecoration","backColor","SelectionCommands","applyFormat","isFormatted","isFormat","preventRestore","isFontStyle","cursorNode","insertCursorNode","isSubSup","formatNode","insertFormat","removeFormat","applySelection","cursorNodes","cursorFormat","getCursorFormat","emptySpaceNode","brElem","getInsertNode","bgStyle","splitNode","startText","nodeIndex","bg","formatNodeStyles","formatNodeTagName","nodeTraverse","GetFormatNode","currentNodeElem","curParentElem","liElement","toLocaleUpperCase","applyStyles","getChildNode","updateStyles","SelectionBasedExec","InsertHtmlExec","applyHtml","pastedElements","allPastedElements","imgElements","allImgElm","imgElem","ClearFormat","clear","defaultTag","lastText","exactNodes","cloneSelectNodes","clearInlines","reSelection","cloneParentNodes","clearBlocks","selectionNodes","endIndexNode","spliceParent","removeParent","index1","index2","index3","parentIndex","elementIndex","NONVALID_TAGS","NONVALID_PARENT_TAGS","IGNORE_PARENT_TAGS","currentInlineNode","removeInlineParent","ClearFormatExec","applyClear","UndoRedoManager","undoRedoSteps","undoRedoTimer","onAction","redo","currentContainer","changEle","steps","removedContent","MsWordPaste","olData","ulData","ignorableNodes","borderStyle","removableElements","listContents","wordCleanup","wordPasteStyleConfig","allowedStylePropertiesArray","tempHTMLContent","clipboardData","getData","rtfData","pattern4","imageConversion","addListClass","cleanUp","listConverter","styleCorrection","removeUnwantedElements","breakLineAddition","removeClassName","addTableBorderClass","allNodes","allTableElm","hasTableBorder","checkVShape","imgSrc","base64Src","imgName","linkRegex","hexValue","hexConversion","convertToBase64","byteArr","conHexStringToBytes","hex","base64String","conBytesToBase64","base64Str","byteArrLen","array3","array3length","array4","imgType","picHead","pic","fullImg","elmWithClass","allElements","findDetachElem","brElement","regExpStartElem","regExpEndElem","styleElement","styleClassObject_1","findStyleObject","removeUnwantedStyle","filterStyles","resultElem","fromClass","styleProperty","valueSplit","changedValue","elmWithStyles","elemStyleProperty","styleValue","styleValues","styleClassObject","tempStyle","classNameCollection","stylesCollection","classNames","prevflagState","tempCleaner","level","stNode","currentListStyle","getListContent","listStyleType","getlistStyleType","currentClassName","textAlign","listType","nestedLevel","class","listStyleTypeName","makeConversion","elemColl","temp1","listContent","currentListClass","prevList","pLevel","listCount","pElement","getNamedItem","pushContent","styleNodes","InsertTextExec","insertText","EditorManager","listObj","formatObj","alignmentObj","indentsObj","linkObj","selectionObj","inserthtmlObj","insertTextObj","clearObj","tableObj","msWordPaste","editorKeyDown","editorKeyUp","onWordPaste","onBegin","HTMLFormatter","updateFormatter","keyConfig","editElement","statusCollection","ToolbarStatus","targetNode","fontName","documentNode","formatCollection","nodesLength","isNodeChanged","isOrderedList","isUnorderedList","isAlignment","isFormats","isNumberFormatList","isBulletFormatList","align","HtmlToolbarStatus","toolbarStatus","prevToolbarStatus","onRefreshHandler","tbStatusString","markdown","ContentRender","renderPanel","rteContent","setPanel","contentPanel","getText","panel","IframeContentRender","iFrameContent","contentDocument","setThemeColor","XhtmlValidation","enableXhtmlValidation","enableXhtml","AddRootElement","ImageTags","RemoveUnsupported","selfEncloseValidation","currentValue","arrayValue","valueTemp","valueDupe","valueOriginal","imgRegexp","g","imgNodes","RemoveElementNode","rmvNode","parentArray","rmvArray","underlineEle","strongEle","boldEle","attrArray","RemoveAttributeByName","attrName","hasChildNodes","childEle","HtmlEditor","rangeCollection","isImageDelete","nodeSelectionObj","colorPickerModule","instantiateRenderer","onToolbarClick","onSelectionSave","onSelectionRestore","updateReadOnly","onPaste","contenteditable","contentRenderer","currentRange","backSpaceCleanup","deleteCleanup","enableTabKey","textCont","spaceLink","currentRange_1","editorValue","orderedList_1","unOrderedList","isUnOrderedList","eventArgs_1","rangeElement","oldRangeElement","deleteRangeElement","deleteOldRangeElement","ulListStartRegex","isLiElement","getRootBlockNode","getRangeLiNode","normalize","rootElement","getRangeElement","getCaretIndex","preCaretRange","rangeBlockNode","rangeLiNode","isWordPaste","httpRegex","wwwRegex","enterSplitText","contentInnerElem","contentWithSpace","spaceBetweenContent","spaceSplit","divElement","splitTextContent","resultSplitContent","pasteCleanupModule","splitText","urlText","urlTextRange","closestElement","imageDialog","formatterClass","toolbarUpdate","Render","renderer","isMetaKey","metaKey","ViewSource","onInitialEnd","updateSourceCode","unWireEvent","getSourceCode","wireEvent","keyboardModule","previewKeyDown","previewElement","mouseDownHandler","wireBaseKeyDown","unWireBaseKeyDown","targetItem","updateItem","getBaseToolbarObject","updateValueData","getTextAreaValue","disableToolbarItem","enableToolbarItem","getToolbar","setContentHeight","updateValue","invokeChangeEvent","editHTML","getViewPanel","executeGroup","ExecCommandCallBack","commandCallBack","AjaxSettings","fileItems","folderItems","layoutItems","ContextMenuSettings","columnArray","field","headerText","customAttributes","DetailsViewSettings","NavigationPaneSettings","SearchSettings","ToolbarSettings","UploadSettings","Expand","ImageSettings","FileManagerSettings","getImageUrl","uploadUrl","visible","file","folder","layout","FileToolbarSettings","autoUpload","minFileSize","maxFileSize","allowedExtensions","autoClose","TableSettings","QuickToolbarSettings","PasteCleanupSettings","FontFamily","FontSize","Format","FontColor","BackgroundColor","NumberFormatList","BulletFormatList","Resources","IFrameSettings","InlineMode","setAttributes","rte","isFrame","htmlAttr","setEnable","setReadOnly","valueContainer","selectedHandler","resizeWestWidth","FullScreen","showFullScreen","hideQuickToolbars","scrollableParent","evenArgs","beginEventArgs","enableFloating","toggleParentOverflow","removeItems","removeFixedTBarClass","hideFullScreen","addFixedTBarClass","isAdd","EnterKeyAction","getRangeNode","isTableEnter","curElement","blockElement","shiftKey_1","focusElem","currentFocusElem","shiftEnterKey","isImageNode","isFocusedFirst","splitFirstText","removeBRElement","isNearBlockLengthZero","newElem","createInsertElement","finalFocusElem","startParentElem","insertElm","currentParent","currentParentLastChild","isLastNodeLength","focusBRElem","lineBreakBRElem","insertBRElement","outerBRElem","insertFocusContent","isEmptyBrInserted","brElm2","elementClass","RESIZE_HANDLER","FOCUSED_HANDLER","RESTRICT_LEFT","RESIZE_WITHIN_VIEWPORT","dialogBorderResize","originalWidth","originalHeight","originalX","originalY","originalMouseX","originalMouseY","resize","resizeEnd","setLeft","setBorderResizeElm","direction","calculateValues","getDOMElement","domElement","resizers","onMouseDown","onTouchStart","borderResizers","getEventType","targetEle","clientWidth","clientHeight","onMouseMove","onMouseUp","resizeTowards","resizeSouth","resizeNorth","resizeWest","resizeEast","getClientRectValues","containerRectValues","documentHeight","calculateValue","currentpageY","targetRectValues","calculatedHeight","borderValue","topWithoutborder","targetTop","calculatedTop","boundaryRectValues","currentHeight","top_1","rectValues","documentWidth","calculatedWidth","left_1","removeResize","handlers","DialogUtility","ButtonProps","AnimationSettings","ROOT","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CLOSE_ICON","DLG_TARGET","SCROLL_DISABLED","DEVICE","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_SHOW","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","DLG_RESIZABLE","DLG_RESTRICT_LEFT_VALUE","DLG_RESTRICT_WIDTH_VALUE","DLG_USER_ACTION_CLOSED","Dialog","dlgClosedBy","initRender","enableResize","setResize","getMinHeight","headerContent","allowMaxHeight","preventVisibility","clonedEle","closeIconClickEventHandler","dlgOverlayClickEventHandler","preventFocus","overlayClickEventArgs","focusContent","l10n","checkPositionData","prevOnChange","isNumberValue","getEle","computedHeaderHeight","computedFooterHeight","footerEle","minimumHeight","headerHeight","footerHeight","onResizeStart","onResizing","onResizeComplete","isBlazorServerRender","computedHeight","computedWidth","resizeHandles","directionValue","resizeBegin","resizing","resizeComplete","boundary","directions","resizeHandler","createResize","wireWindowResizeEvent","unWireWindowResizeEvent","getFocusElement","buttonObj","btnObj","ftrTemplateContent","contentEle","focusableElements","buttonIndex_1","isTagName","isContentEdit","primaryButtonEle","setCSSClass","setMaxHeight","initialRender","setzIndex","calculatezIndex","setTargetContent","setHeader","renderCloseIcon","footerTemplate","setButton","setFooterTemplate","allowDragging","setAllowDragging","setIsModal","dlgContainer","dlgOverlay","refElement","popupObj","resetResizeIcon","openEventArgs","unBindEvent","closeArgs","activeEle","blur","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","dialogConHeight","resizeIcon","zIndexValue","setPopupPosition","dragObj","dragEventArgs","buttonContent","buttonType","btn","footerBtn","buttonClickHandler","isFlat","innerContentElement","HTMLElement","setTemplate","templateFn","templateProps","templateValue","dialogItem","isContent","headerEle","createHeaderContent","closeIcon","closeIconBtnObj","closeIconTitle","oldCSSClass","getValidFocusNode","u","tabIndex","disableElement","getAutoFocusNode","validNode","elementMatch","msGetRegionContent","Element","bindEvent","updateSanitizeContent","updateIsModal","buttonCount","setTarget","setPopupZindex","windowResizeHandler","classArray","getDimension","isFullScreen","fullScreen","beforeOpenArgs","openAnimation","isInteracted","closedBy","beforeCloseArgs","closeAnimation","getButtons","createDialog","dialogObject","formOptions","isDraggable","formButtonModel","buttonPropModel","buttonProps","alert","alertDialogObj","dialogElement","alertButtonModel","okButton","setAlertButtonModel","alertOptions","confirm","confirmDialogObj","okButtonModel","cancelButtonModel","cancelButton","setConfirmButtonModel","confirmOptions","DialogRenderer","dlgObj","beforeOpen","beforeClose","beforeOpenCallback","__assign","assign","RichTextEditor","defaultResetValue","isResizeInitialized","isFocusOut","isRTE","showCharCount","fileManagerSettings","updateEnable","tabindex","eventInitializer","onBlurHandler","blurHandler","onFocusHandler","onResizeHandler","clickPoints","initialValue","initializeServices","setContainer","persistData","originalElement","valueTemplate","invalidAttr","rteOuterWrapper","focusOut","txt","executeCommand","commandName","htmlPurifier","tool","htmlEditorModule","imageValue","insertImageSettings","linkValue","renderModule","sourceCodeModule","RTERender","getXhtml","cleanList","currentStartContainer","currentEndContainer","currentStartOffset","isSameContainer","closestLI","currentLastElem","restrict","bool","removeNodeArray","placeHolderWrapper","allowedKeys","sanitizeHtml","inputVal","triggerEditArea","touch","notifyMouseUp","touchData","prevClientX","prevClientY","closestTable","ensureModuleInjected","onCopy","onCut","pasteArgs","totalLength","maxLength","args_1","htmlValue","getAsFile","destroyDependentModules","timeInterval","allClassName","removeHtmlAttributes","removeItem","getContent","wrapperElm","selectedHtml","cloneContents","showInlineToolbar","targetElm","getClientRects","showInlineQTBar","hideInlineToolbar","hideInlineQTBar","nVal","updatePanelValue","countModule","refreshToolbarOverflow","setHeight","updateRTL","frameSetting","resources","files","scripts","removeSheets","setIframeSettings","renderCount","wireContextEvent","unWireContextEvent","srcList","getTextArea","editPanel","unbindEvents","printWind","printArgs","printingArgs","resizeTo","screen","availWidth","availHeight","refreshUI","fullScreenModule","muteToolbarUpdate","enableTBarItems","removeToolbarItem","removeTBarItems","enterKeyModule","styleSrc","scriptSrc","InjectSheet","scriptSheet","scriptEle","createScriptElement","styleEle","createStyleElement","rel","compiledTemplate","updateResizeFlag","getInsertImgMaxWidth","editEleMaxWidth","imgPadding","paddingLeft","paddingRight","isExpand","heightValue","rteHeightPercent","topValue","heightPercent","cntEle","rteHeight","getToolbarHeight","rzHandle","rzHeight","expandPopHeight","codeElement","tbWrapHeight","getHtml","showSourceCode","getCharCount","htmlText","InsertLink","InsertImage","InsertTable","getBaseToolbar","getInlineBaseToolbar","preventDefaultResize","preventImgResize","defaultResize","scrollHandler","contentScrollHandler","cloneValue","active","saveInterval","autoSaveOnIdle","updateValueOnIdle","toolbarItem","getUpdatedValue","removeResizeElement","updateIntervalValue","idleInterval","updateStatus","status_1","rteElement","trg","relatedTarget","wireScrollElementsEvents","scrollParentElements","contextHandler","touchModule","EJ2Touch","tapHold","touchHandler","unWireScrollElementsEvents","closestElem","onSelection","resetHandler","setAutoHeight","iframeElement_1","arrayKey","formElement","RichTextEditorComponent","immediateRender","CLS_DISABLE","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_DEVICE","CLS_OVERLAY","CLS_RIGHTOVERLAY","CLS_LEFTOVERLAY","HScroll","browser","browserCheck","customStep","ieCheck","uniqueId","swipe","swipeHandler","scrollEle","createOverlay","createNavIcon","setScrollState","scrollStep","scrollDiv","innerEle_1","scrollItems","nav","overlay","disable","navEles","rightOverlayEle","clsRight","rightEle","navItem","leftEle","eventBinding","clsLeft","navEle","navLeftItem","onKeyPress","keyTimer","keyTimeout","eleScrolling","tabHoldHandler","repeatScroll","clickEventHandler","trgt","scrollDis","isContinuous","rootEle","frameScrollRequest","swipeEle","sin","scrollUpdating","scrollVal","scrollValue","arrowDisabling","addDisable","removeDisable","arrowIcon","navLeftEle","navRightEle","leftOverlay","rightOverlay","disEle","CLS_NAVUPARROW","CLS_NAVDOWNARROW","CLS_VSCROLLNAV","CLS_UPOVERLAY","CLS_DOWNOVERLAY","VScroll","scrollEventHandler","createOverlayElement","wheelEventHandler","scrollCnt","buildTag","scrollBar","navs","overlays","downOverlayEle","clsDown","downEle","upEle","clsUp","navElement","navUpItem","ev","deltaY","swipeElement","addDisableCls","removeDisableCls","navUpEle","navDownEle","upOverlay","downOverlay","CLS_VERTICAL","CLS_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPOPEN","CLS_TEMPLATE","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARNAV","CLS_TBARSCRLNAV","CLS_TBARCENTER","CLS_TBARPOS","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_HIDDEN","CLS_MULTIROW","CLS_MULTIROWPOS","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTEANDABLE_TOOLBAR","CLS_EXTENDEDPOPOPEN","Item","resizeContext","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","home","isAngular","btnItems","tempId","destroyItems","trgtEle","ctrlTem","popObj","tbarAlign","attrb","enableCollision","scrollModule","tbarItemsCol","isVertical","isExtendedOpen","popupPriCount","allowKeyboard","wireKeyboardEvent","keyModule","keyActionHandler","docKeyDown","unwireKeyboardEvent","popCheck","destroyScroll","docEvent","clearProperty","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","tbarItems","destroyMode","tempEle","popupRefresh","elementFocus","fChild","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","eleFocus","popupCheck","extendedPopup","popFrstEle","activeEleRemove","tbarScrollChk","eleContains","sib","itemObj","isPopupElement","popupNav","popupClickHandler","clickedArgs","getElementOffsetY","renderControl","ariaAttr","renderItems","renderLayout","renderOverflowMode","itemPositioning","checkPopupRefresh","separator","itemsAlign","itemEleDom","innerItem","innerPos","renderSubComponent","tbarItemAlign","showAlwaysInPopup","changeOrientation","refreshOverflow","initScroll","innerItems","checkOverflow","itemWidthCal","getScrollCntEle","trgClass","eleWidth","itemWidth","popNav","scrollNav","navEleWidth","toolbarAlign","priorityCheck","offsetWid","removePositioning","setOverflowAttributes","createPopupEle","eleItem","multiVar","extendVar","eleInlineItem","innerNav","createPopupIcon","innerNavDom","checkPriority","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","poppedEle","nodePri","tbResize","tbarElement","sepItem","extendEle","popupEle","popupInit","eleStyles","popup","borderRightWidth","tbarPopupHandler","isOpen","toolEle","popupElePos","popIcon","overflowHeight","tbEleData","popupOffset","inEle","eleOffset","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","compuStyle","fstEleCheck","tbarEleMrgn","eleWid_1","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","isVer","dimension","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","tbarWidth","tbarItemsWid","elWidth","eleSplice","sepBeforePri_1","refreshPositioning","tbarWid","popWid","itemEle","alignDiv","alignEle","leftAlign_1","ctrlTemplate","setAttr","itemElement","getElementByIndex","addItems","extendedOpen","itemsDiv","itemsRerender","itemAgn","items_1","algIndex","removeItemByIndex","eleIdx","indexAgn","btnItem","templateRender","templateProp","isComponent","itemType","templateCompiler","tempArray","buttonRendering","dom","iconPos","textStr","btnTxt","suffixIcon","tempDom","itemClick","showTextOn","sTxt","curEle","multirowele","tEle","changedProb","newProperty","popupPriCheck","booleanCheck","itemCol","hideItem","initIndex","eleIndex","innerItems_2","nextEle","setFlag","removeFlag","initELe","upDownKeyHandler","defaultIdx","liIdx","selectedLi","isValidLI","DropDownButton","isPopupCreated","toggle","canOpen","openPopUp","closePopup","newItem","createItems","isUniqueId","len_1","getULElement","getTargetElement","getPopUpElement","appendItems","showIcon","hasIcon","tempItem","createAnchor","blankIconList","iconLi","cssProp","setBlankIconStyle","appendArrowSpan","setActiveElem","isColorPicker","createPopupOnClick","prevElem","activeElem","popupUnWireEvents","destroyPopup","keyBoardHandler","delegateMousedownHandler","mousedownHandler","popupWireEvents","popupElement","rippleFn","keyEventHandler","getLI","popupElem","splitButton","observedArgs","ul_1","openArgs","focusEle","ul_2","arrowSpan","TAGNAME","SplitButton","createPrimaryButton","createSecondaryButton","secondaryBtnObj","setAria","btnModel","primaryBtnObj","btnElem","dropDownBtnModel","callBackPromise","Deferred","primaryBtnClickHandler","btnKeyBoardHandler","altdownarrow","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_LEFT","TIP_RIGHT","POPUP_OPEN","POPUP_CLOSE","POPUP_LIB","POPUP_CONTAINER","Tooltip","mouseMoveEvent","mouseMoveTarget","isBodyContainer","formatPosition","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","tipClass","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionPosition","calculateElementPosition","collisionLeft","collisionTop","collisionFlipFit","findTarget","needTemplateReposition","tooltipEventArgs","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","updateTipPosition","selEle","removeList","adjustArrow","leftValue","tipPosExclude","tooltipWidth","tooltipHeight","arrowInnerELe","tipPointerPosition","POINTER_ADJUST","renderContent","tooltipContent","enableHtmlParse","tempArr","templateFunction","isSticky","tipClose","ICON","onStickyClose","addDescribedBy","describedby","removeDescribedBy","orgdescribedby","tapHoldHandler","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","closeDelay","targetList_1","ctrlId","restoreElement","showTooltip","mouseMoveBeforeOpen","mouseMoveBeforeRemove","showTimer","hideTimer","openDelay","beforeRenderArgs","beforeRenderCallback","isHidden","TOOLTIP_WRAP","tooltipBeforeRender","tooltipAfterRender","PopupAnimation","appendContainer","ctrlObj","openAnimation_1","wireMouseEvents","viewContainerRef","horizontal","affectedPos","checkCollideTarget","newpos","collidedPosition","elePosVertical","elePosHorizontal","getOffSetPosition","elePosition","arrowleft","positionString","newPos","offsetType","windowCollision","isTooltipOpen","tooltipHide","popupHide","unwireMouseEvents","tooltipHover","tooltipMouseOut","onMouseOut","enteredElement","checkForTooltipElement","tooltipElementMouseOut","eventPageX","eventPageY","colpos","touchEnd","opensOn","triggerList_1","getTriggerList","wireFocusEvents","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","SPINICON","SPINUP","ERROR","INCREMENT","DECREMENT","INTREGEXP","NUMERIC_FOCUS","wrapperAttributes","NumericTextBox","preventChange","isDynamicChange","numericOptions","isPrevFocused","decimalSeparator","intRegExp","isCalled","cloneElement","angularTagName","formEle","localeText","incrementTitle","decrementTitle","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","prevValue","updateHTMLAttrToElement","checkAttributes","inputEleValue","validateMinMax","validateStep","updatePlaceholder","createWrapper","showSpinButton","spinBtnCreation","setElementWidth","changeValue","strictMode","trimValue","decimals","roundNumber","hiddenInput","elementPrevValue","isDynamic","attributes_1","setNumber","minValue","maxValue","stepValue","updatedCssClassValue","getNumericValidClassList","inputWrapper","updateHTMLAttrToWrapper","updateDataAttribute","pro","updateCssClass","newClass","numericClassName","updatedClassValue","numericStyle","spinDown","spinUp","wireSpinBtnEvents","MAX_VALUE","formattedValue","operation","isInteract","performAction","raiseChangeEvent","checkErrorClass","bindClearEvent","setElementValue","keyupEvent","resetFormHandler","setSpinButton","inputHandler","pasteHandler","mouseDownOnSpinner","mouseUpOnSpinner","touchMoveOnSpinner","unwireSpinBtnEvents","parsedInput","previousValue","isInteraction","beforeUpdate","preventHandler","iOS","currentPos","prevPos","valArray","ignoreKeyCode","prevVal","cursorPosChanged","validateDecimalOnType","parseValue","parsedValue","localChange","previous","updatedValue","correctRounding","floatExp","floatValue","floatStep","valueCount","stepCount","roundValue","precision","divide","pow","round","updateCurrency","propVal","numberOfDecimals","getNumberOfDecimals","modifyText","validateState","elementValue","serverDecimalSeparator","EXPREGEXP","valueString","decimalPart","result1","result2","currentChar","fractionRule","mouseWheel","delta","rawEvent","wheelDelta","focusEventArgs","formatValue_1","blurEventArgs","value_1","focusEvent","getElementData","mouseUpClick","timeOut","touchEvent","floatLabelTypeUpdate","increment","decrement","updateSpinButton","updateClearButton","propValue","TicksData","ColorRangeData","LimitData","TooltipData","Slider","horDir","verDir","transition","rangeBar","transitionOnMaterialTooltip","scaleTransform","customAriaText","isDragComplete","initialTooltip","isElementFocused","tickElementCollection","tooltipFormatInfo","ticksFormatInfo","formChecker","isForm","formResetValue","internationalization","tooltip","ticks","formatString","formatInfo","formatValue","makeRoundNumber","elementVal","fractionalToInteger","noOfDecimals","tens","setZindex","getTheme","sliderContainer","tooltipElement","showOn","sliderTrack","getThemeInitialization","setHandler","createRangeBar","limits","createLimitBar","setOrientClass","showButtons","setButtons","rangeValueUpdate","previousVal","checkHandleValue","previousChanged","setLimitBar","placement","renderScale","renderTooltip","isMaterial","isBootstrap","isBootstrap4","isTailwind","isBootstrap5","isMaterialTooltip","orientation","firstElementClassName","limitBarFirst","limitBarSecond","firstHandle","secondHandle","setAriaAttributes","customValues","createSecondHandle","createFirstHandle","materialHandle","wireFirstHandleEvt","handleFocus","transitionEnd","handleOver","handleLeave","wireSecondHandleEvt","handleStart","handlePos1","getHandle","tooltipToggle","closeTooltip","handleFocusOut","focusSliderElement","sliderBarClick","sliderBarMove","sliderBarUp","preDir","setBarColor","tooltipValue","setTooltipContent","tooltipObj","addTooltipClass","setAriaAttrValue","setPreviousVal","ariaContent","handle1","handleVal1","handle2","handleVal2","oldCss","newCss","getTooltipTransformProperties","previousTooltipClass","rotate","tooltipPlacement","tooltipBeforeOpen","css","setTooltipTransform","tooltipCollision","tooltipOffsetValue","materialTooltipEventCallBack","wireMaterialTooltipEvent","tooltipPositionCalculation","transformProperties","translate","openMaterialTooltip","refreshTooltip","tooltipContentElement","cursor","closeMaterialTooltip","tooltipTarget","checkTooltipPosition","tooltipClass","tooltipCollidedPosition","beforeCollision","tooltipBeforeClose","initializeTooltipProps","tooltipShowOn","firstBtn","secondBtn","buttonTitle","enabledRTL","buttonFocusOut","repeatButton","hVal","handleValueUpdate","getLimitCorrectedValues","changeHandleValue","repeatHandlerMouse","buttonClick","repeatInterval","materialChange","focusHandle","repeatHandlerUp","changeEvent","customTickCounter","bigNum","tickCount","orien","isAndroid","smallStep","showSmallTicks","largeStep","islargeTick","tickWidth","largestep","startValue","repeat","createTick","formatTicksValue","decimalPoints","ticksAlignment","triggerEvent","ticksWrapper","tickElements","scaleAlignment","spanElement","tickText","tickElement","tickValuePosition","otherChild","other","ariaValueText","isTickFormatted","valuenow","activeHandle","getLimitValueAndPosition","minStart","minEnd","maxStart","maxEnd","buttonUp","openTooltip","setRangeBar","handlePos2","checkValidValueAndPos","checkHandlePosition","setLimitBarPositions","fromMinPostion","fromMaxpostion","toMinPostion","toMaxpostion","fromPosition","toPosition","limitBar","preHandlePos1","setHandlePosition","validateRangeValue","setRangeValue","modifyZindex","updateRangeValue","preHandlePos2","values_1","tempStartEnd","startHandleFixed","endHandleFixed","xyToPosition","stepValueCalculation","percentStep","remain","addition","positionToValue","handlepos","handleVal","focusedElement","checkRepeatedValue","handleValueAdjust","handleValue","assignValue","handleNumber","minDiff","dragRangeBarMove","xPostion","yPostion","rangeBarDragged","secondPartRemain","firstPartRemain","valueAndPostion","dragRangeBarUp","wireButtonEvt","sliderFocusOut","rangeBarMousedown","elementClick","onresize","hover","changeSliderType","updateConfig","changeRtl","limitsPropertyChange","setMinMaxValue","setTooltip","trackPosition","trackClassName","colorRange","startingPosition","endPosition","trackContainer","APPLY","CANCEL","CURRENT","CTRLBTN","CTRLSWITCH","FORMATSWITCH","HANDLER","HEX","HIDEHEX","HIDEOPACITY","HIDERGBA","HIDEVALUE","HIDEVALUESWITCH","HSVAREA","HSVCONTAINER","INPUTWRAPPER","MODESWITCH","NOCOLOR","OPACITY","PALETTES","PALETTECONTENT","PICKERCONTENT","PREVIEW","PREVIOUS","SHOWVALUE","SELECT","SPLITPREVIEW","TILE","presets","ColorPicker","Apply","Cancel","ModeSwitcher","inline","createWidget","createSplitBtn","enableOpacity","noColor","slicedValue","initialInputValue","tileRipple","ctrlBtnRipple","createPalette","firstPaletteFocus","createPicker","getDragHandler","isRgb","createCtrlBtn","toggleDisabled","refreshPopupPos","splitBtn","onOpen","rgba","convertToRgbString","hexToRgb","preview","getPopupEle","popupInst","getPopupInst","bindCallBackEvent","observeOpenArgs","modal","observedCloseArgs","onPopupClose","destroyOtherComp","paletteGroup","appendElement","appendPalette","setNoColor","borderBottomWidth","rgb","hsv","rgbToHsv","colors","refEle","tile","roundedColor","palette","presetName","addTileSelection","noColorEle","insertPos","hsvContainer","dragHandler","setHsvContainerBg","setHandlerPosition","createSlider","createDragTooltip","getHsvContainer","hsvToRgb","hsvArea","sliderPreviewWrapper","createPreview","sliderWrapper","slider","hueSlider","hueChange","createOpacitySlider","opacitySlider","opacityChange","opacityBgTrack","updateOpacitySliderBg","opacityEle","background","convertToOtherFormat","pValue","rgbToHex","cValue","updateOpacityInput","updatePreview","opacityTextBoxInst","previewContainer","colorValue","isPicker","createNumericInput","numericInput","appendValueSwitchBtn","hexInput","appendOpacityValue","valueSwitchBtn","formatSwitchHandler","btnWrapper","controlBtnWrapper","appendModeSwitchBtn","getTooltipInst","setTooltipOffset","convertToHsvString","updateHsv","isKey","updateInput","removeTileSelection","convertRgbToNumberArray","pickerKeyDown","handlerDown","addCtrlSwitchEvent","previewHandler","paletteClickHandler","paletteKeyDown","ctrlSwitchBtn","handlerDragPosition","enterKeyHandler","triggerChangeEvent","observedcloseArgs","prob","setHsv","handlerMove","handlerEnd","switchToPalette","ctrlBtnClick","noColorTile","switchToPicker","grpEle","selectedEle","tiles","prevSelectedEle","tilePosition","keySelectionChanges","newEle","cIdx","emptyCount","inputValueChange","tooltipInst","bigInt","v","q","changeModeSwitcherProp","ctrlSwitchWrapper","changeShowBtnProps","ctrlBtnWrapper","changeValueProp","setInputEleProps","changeDisabledProp","changeCssClassProps","popupWrapper","changeRtlProps","changePaletteProps","changeOpacityProps","count_1","ToolbarRenderer","popupOverlay","onPopupOverlay","removePopupContainer","toolbarBeforeCreate","toolbarClicked","dropDownSelected","dropDownOpen","popupModal","dropDownClose","popupContainer","beforeCreate","created","clicked","beforeItemRender","inlineEle","currentDropdown","setIsModel","paletteSelection","dropDownArgs","colorbox","colorPicker","defaultColor","initialBackgroundColor","colorpickerValue","onclick","setColorPickerContentWidth","pickerRefresh","dropElement","onmousedown","onkeydown","colorPickerContent","beforeTileRender","colorPickerArgs","beforeModeSwitch","toolbarPanel","ToolbarAction","renderSelection","tableQTBar","listItem","isToolbar","isTransformChild","toolbarBindEvent","keyBoardModule","toolBarKeyDown","createToolbarElement","tbWrapper","getToolbarMode","tbMode","Scrollable","checkToolbarResponsive","tBarMode","MultiRow","checkIsTransformChild","transformElements","toggleFloatClass","scrollParent","isBody","isFloat","floatOffset","floatingToolbarOffset","scrollParentRelativeTop","trgHeight","bodyStyle","paddingTop","scrollParentYOffset","scrollParentRect","scrollParentTop","divEle","iframeEle","showFixedTBar","hideFixedTBar","trgItem","addTBarItem","prefixId","updateToolbarStatus","hideScreen","popHeight","expandPopup","isToolbarDestroyed","destroyToolbar","getDOMVisibility","focusChangeHandler","dropDownBeforeOpenHandler","tbFocusHandler","activeElm","isToolbaractive","tbKeydownHandler","toolbarClickHandler","toolbarActionModule","onRefresh","refreshToolbar","accordionBehavior","keyActions","moveNext","keyCombinations","keyboardKey","ArrowDown","movePrevious","ArrowUp","moveFirst","Home","moveLast","End","accordionTitleBehavior","isHeading","forcedOpen","performClick","Enter","SpacebarKey","accordionTitleClassName","accordionTitleSlotClassNames","contentWrapper","AccordionTitle","contentRef","indicator","canBeCollapsed","accordionContentId","actionHandlers","handleClick","mapPropsToBehavior","hasContent","handleWrapperOverrides","predefinedProps","onFocus","onClick","contentWrapperElement","innerRef","defaultProps","overrideProps","rtlTextContainer","commonPropTypes","customPropTypes","accordionContentBehavior","accordionTitleId","AccordionContent","ContainerFocusHandler","circular","getItemsCount","setFocusAt","focusedIndex","itemsCount","accordionClassName","accordionSlotClassNames","Accordion","expanded","exclusive","panels","renderPanelContent","renderPanelTitle","alwaysActiveIndex","useAutoControlled","activeIndex","setActiveIndex","setfocusedIndex","itemRefs","targetComponent","defaultAccordionTitleId","defaultAccordionContentId","computeNewIndex","isIndexActionable","handleTitleOverrides","titleProps","isIndexActive","titleId","contentId","createShorthand","renderPanels","defaultActiveIndex","onTitleClick","onActiveIndexChange","attachmentBehavior","AttachmentBody","compose","overrideStyles","shorthandConfig","AttachmentDescription","AttachmentHeader","AttachmentIcon","attachmentClassName","Attachment","composeOptions","actionable","description","getA11Props","unstable_props","slotProps","mergeVariablesOverrides","slots","handledProps","TEXTBOX_FOCUS","TextBox","isHiddenInput","inputPreviousValue","textboxOptions","textboxWrapper","respectiveElement","isBlank","autocomplete","globalize","multiline","attributeName","apiAttributes","attrs_1","autoCompleteTxt","getInputValidClassList","setInitialValue","updatedClassValues","inputClassName","resetForm","animationHandler","resetValue","interaction","resetInputHandler","globalTimeOut","CLS_SHOWSPIN","CLS_HIDESPIN","CLS_MATERIALSPIN","CLS_FABRICSPIN","CLS_TAILWINDSPIN","CLS_BOOTSPIN","CLS_BOOT4SPIN","CLS_BOOT5SPIN","CLS_HIGHCONTRASTSPIN","CLS_SPINWRAP","CLS_SPININWRAP","CLS_SPINCIRCLE","CLS_SPINLABEL","CLS_SPINTEMPLATE","spinTemplate","spinCSSClass","createSpinner","spinnerContainer","spinnerInnerContainer","inner_wrap","create_spinner_container","theme","defaultSize","calculateRadius","setTheme","labelEle","createLabel","replaceContent","innerContainer","random_generator","create_material_element","mat_calculate_attributes","createMaterialSpinner","create_fabric_element","fb_calculate_attributes","createFabricSpinner","svgBoot","viewBoxValue","trans","defaultRadius","bootCircle","create_bootstrap_element","rad","startArc","defineArcPoints","circleEle","boot_calculate_attributes","createBootstrapSpinner","createHighContrastSpinner","createBootstrap4Spinner","createBootstrap5Spinner","createTailwindSpinner","generateSeries","series","formSeries","combine","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","svgMaterial","matCirclePath","animateMaterial","spinnerInfo","globalInfo","previousId","startTime","strokeSize","getStrokeSize","mat_animation","currentTime","updatePath","getDashOffset","createCircle","easeAnimation","transformOrigin","drawArc","PI","timestamp","timecount","innerConainer","centerX","centerY","circle","defineCircle","endArc","defineArc","angle","radians","cos","showSpinner","showHideSpinner","isHide","spinnerWrap","inner","svgEle","isAnimate","globalObject","globalVariables","timeOutVar","startMatAnimate","rotation","boot_animate","animateBootstrap","hideSpinner","INPUT_WRAPPER","DROP_AREA","LIST_PARENT","FILE","STATUS","FILE_NAME","FILE_TYPE","FILE_SIZE","REMOVE_ICON","DELETE_ICON","SPINNER_PANE","ABORT_ICON","RETRY_ICON","DRAG_HOVER","PROGRESS_WRAPPER","PROGRESSBAR","PROGRESSBAR_TEXT","UPLOAD_INPROGRESS","UPLOAD_SUCCESS","UPLOAD_FAILED","TEXT_CONTAINER","VALIDATION_FAILS","RTL_CONTAINER","ICON_FOCUSED","PAUSE_UPLOAD","RESUME_UPLOAD","RESTRICT_RETRY","wrapperAttr","FORM_UPLOAD","INVALID_FILE","FilesProp","ButtonsProps","AsyncSettings","Uploader","initialAttr","multiple","uploadedFilesData","allTypes","pausedData","uploadMetaData","btnTabIndex","disableKeyboardNavigation","actionCompleteCount","selectedFiles","uploaderName","fileStreams","newFileRef","isFirstFileOnSelection","dragCounter","fileList","filesData","uploaderOptions","setExtensions","clearAll","setControlStatus","setMultipleSelection","setRTL","reRenderFileList","browse","renderButtonTemplates","unBindDropEvents","updateDropArea","checkHTMLAttributes","renderPreLoadFiles","updateDirectoryAttributes","setLocalizedTexts","preLocaleObj","browseButton","localizedTexts","uploadWrapper","updateFileList","getKeyValue","keyValue","uploadButton","listParent","createFileList","actionButtons","removeActionButtons","renderActionButtons","checkActionButtonStatus","Browse","Upload","dropFilesHint","invalidMaxFileSize","invalidMinFileSize","invalidFileType","uploadFailedMessage","uploadSuccessMessage","removedSuccessMessage","removedFailedMessage","inProgress","readyToUploadMessage","delete","pauseUpload","pause","resume","retry","fileUploadCancel","invalidFileSelection","totalFiles","formRendered","isPureReactComponent","browserName","directoryUpload","renderBrowseButton","initializeUpload","isPreloadFiles","wireActionButtonEvents","serverActionButtonsEventBind","unwireActionButtonEvents","uploadButtonClick","clearButtonClick","uploadText","clearText","dropAreaWrapper","setDropArea","clearData","files_1","fileData","rawFile","validationMessages","minSize","maxSize","statusCode","allowUpload","showFileList","sequentialUpload","dropTextArea","dropArea","dropZoneElement","enableDropText","createDropTextHint","bindDropEvents","fileDropArea","uploadStyle","newAttr","createAttribute","setAttributeNode","checkAutoUpload","sequenceUpload","isFileListCreated","updatedOldCssClass","browseButtonClick","onSelectFiles","removeFocus","metaData","getCurrentMetaData","abortUpload","resumeUpload","chunkUpload","removeFiles","fileInfo","targetMetaData","dragHover","onDragLeave","onPasteFile","onDragEnter","dropEffect","dataTransfer","pasteFile","kind","renderSelectedFiles","getSelectedFiles","allFiles","getFilesData","nameElements","selectedElement","formUpload","isFormUpload","getFilesInArray","spinnerTarget","uploadSequential","checkActionComplete","removeFilesData","customTemplate","getLiElement","removeUploadedFile","removeDirectly","ajax","asyncSettings","removeUrl","formData","FormData","currentRequest","removingEventCallback","removeCompleted","removeFailed","postRawFile","updateFormData","customFormData","customData","updateCustomheader","request","_loop_2","response","getResponse","statusElement","getFilesFromFolder","filesEntries","checkDirectoryUpload","_loop_3","webkitGetAsEntry","isFile","files_2","fileObj","fullPath","isDirectory","traverseFileTree","directoryReader","createReader","readFileFromDirectory","readEntries","entries","pushFilesEntries","_loop_4","this_2","targetFiles","sortFilesList","sortFileList","getBase64","fileReader","FileReader","readAsDataURL","directory","isModified","modifiedFilesData","progressInterval","isCanceled","updateInitialFileDetails","checkExtension","_internalRenderSelect","fileDetails","getFileType","webkitRelativePath","validatedFileSize","fileSource","dataFiles","updateSortedFileList","raiseActionComplete","allowFormUpload","saveUrl","singleUpload","previousListClone","added","removedList_1","oldList","createParentUL","dropFiles","extensions_1","extension","fileSize","minSizeError","maxSizeError","isPreLoadFile","isPreload","createCustomfileList","fileData_1","listElement","uploadTemplateFn","templateComplier","liTempCompiler","eventsArgs","formFileList","statusMessage","fileContainer","fileData_2","fileNameEle","getFileNameOnly","fileTypeEle","fileType","rtlContainer","truncateName","formValidateFileInfo","setListToFileInfo","infoEle","bytesToSize","getFileSize","createFormInput","iconElement","mergeFileInfo","addInvalidClass","typeValidationMessage","fileData_3","fileData_4","fileNames","fileData_5","statusForFormUpload","isValid","fileData_6","formCustomFileList","isSelectedFile","fileData_7","textContainer","textElement","fileExtension","preventActionComplete","getSlicedName","nameElement","tail","fileData_8","setInitialAttributes","filterfileList","filterFiles","updateLiStatus","createProgressBar","progressbarWrapper","progressBar","progressbarInnerWrapper","progressbarText","updateProgressbar","loaded","total","changeProgressValue","progressValue","uploadInProgress","customUI","cancelUploadingFile","updateProgressBarClasses","removecanceledFile","renderFailureState","removeProgressbar","deleteIcon","pauseButton","reloadcanceledFile","uploadComplete","raiseSuccessEvent","uploadFailed","withCredentials","spinnerEle","getSelectedFileStatus","matchFiles","matchFilesIndex","selectFileIndex","selectedFileData","fileDataIndex","callType","progressAnimation","animateProgressBar","extensions","uploadTemplate","exception","isMutiple","isDisabled","fileIndex","chunkSize","chunkIndex","blob","retryCount","sendRequest","totalChunk","chunkUploadComplete","chunkUploadInProgress","currentChunkIndex","uploadingEventCallback","chunkUploadFailed","eventCancelByArgs","removeIcon","checkChunkUpload","requestResponse","updateMetaData","sendNextRequest","name_2","removeChunkFile","removeChunkProgressBar","pauseIcon","chunkCount","retryRequest","retryAfterDelay","file_1","failureMessage","checkPausePlayAction","retryUpload","fromcanceledStage","retryElement","clearIcon","progressVal","totalChunks","abortIcon","bytes","sortedFilesData","sortedFileNames_1","name_3","attributes_2","uploadFiles_1","uploadFiles","serverReadFileBase64","totalCount","reader","uploadFileCount","getFileRead","fileCount","getFileInfo","uploadFilesRequest","chunkEnabled","name_4","spliceFiles","liIndex","beforeEventArgs","isLiRemoved","removingFiles_1","validUrl","_loop_5","fileUploadedIndex","removeFiles_1","fileDataFiles","pauseUploading","getFiles","resumeFiles","retryFailedFiles","cancelingFiles","cancelUpload","showHideUploadSpinner","Image","isImgUploaded","isAllowedTypes","deletedImg","onWindowResize","showImageQuickToolbar","caption","deleteImg","insertImgLink","insertAltText","alignmentSelect","afterRender","imagePaste","dragDrop","dragEnter","dragOver","imageClick","undoStack","onCutHandler","img","outline","resizeBtnInit","getPointX","prevSelectedImgEle","imgResizeDiv","imageResize","getPointY","stopImmediatePropagation","imageQTBar","resizeBtnStat","topLeft","topRight","botLeft","botRight","resizeStartArgs","cancelResizeAction","imgResizePos","resizeImgDupPos","calcPos","imgWid","imgHgt","borWid","devWid","setAspectRatio","expectedX","expectedY","resizeByPercent","percentageValue","pixToPerc","expected","imgDupMouseMove","resizingArgs","mouseX","mouseY","imgDupPos","openImgLink","editImgLink","removeImgLink","isCapLink","captionEle","isCursor_1","checkImageBack","checkImageDel","removeResizeEle","imageRemovePost","alignImage","break","imageWithLinkQTBarItemUpdate","toolbarElement","newItems","addQTBarItem","hideImageQuickToolbar","imagDialog","linkWrap","inputLink","linkargs_1","selfImage","link","altWrap","altHeader","inputAlt","altArgs_1","alt","insertAlt","captionClass","absoluteUrl","URL","baseURI","removingImgName","xhr","triggerPost","responseType","File","imgWrap","imgInner","imgCaption","imgSizeHeader","dialogContent","imgsizeInput","selectObj_1","insertSize","imgDialog","imgInsert","imglinkCancel","imgHeader","insertImageUrl","uploadObj","removing","imgUpload","linkHeader","linkHeaderText","imageUrlPopup","imgUrl","placeUrl","inputUrl","spellcheck","matchUrl","imgHeight","imgWidth","imgSizeWrap","widthVal","changedWidthValue","heightVal","changedHeightValue","widthNum","inputWidthValue","heightNum","inputHeightValue","dialogEle","uploadParentEle","deviceImgUpMsg","imgUpMsg","spanMsg","btnEle","autofocus","browserMsg","btnClick","fileSelect","selectArgs","beforeUploadArgs","uploadEle","allowedTypes","reader_1","saveFormat","createObjectURL","beforeUpload","currentRequestHeader","customFormDatas","uploading","success","failure","effectAllowed","isImgOrFileDrop","caretRangeFromPoint","rangeParent","rangeOffset","getDropRange","insertDragImage","startRange","startCharIndexCharacter","rangeRect","activePopupElement","imgFiles","fileName","onSelect","imgArgs_1","validFiles","imageTag","uploadMethod","dragEvent","imageElement","isUploading","refreshPopup","canceling","imageUploadingArgs","uploadFailure","uploadSuccess","reader_2","showPopupToolBar","imageSrc","createQTBar","image","ImageToolbar","chatBehavior","focusZone","shouldEnterInnerZone","getCode","FocusZoneDirection","shouldResetActiveElementWhenTabFromZone","defaultTabbableElement","getLastTabbableElement","childBehaviors","chatMessageBehavior","lastVisibleMessage","chatItemsElements","chatItemClassName","chatItemSlotClassNames","gutter","ChatItem","chatProps","useChatContextSelectors","density","attached","contentPosition","gutterElement","messageElement","chatClassName","chatSlotClassNames","Chat","contextProps","behaviors","defaultChatDensity","BaseQuickToolbar","isDOMElement","popupRenderer","dropDownButtons","colorPickerObj","appendPopupContent","popupType","popupId","stringItems","createToolbar","imgWrapper","targetOffsetTop","parentOffsetTop","parentData","editTop","tBarElementHeight","editHeight","popWidth","viewPort","contentTop","windowY","bodyRightSpace","beforeQuickToolbarArgs","editPanelTop","editPanelHeight","bodyRight","toolbarAvail","expTBHeight","tBarHeight","showPopupData","viewSourcePanel","removeEleFromDOM","removeQTBarItem","PopupRenderer","popupPanel","QuickToolbar","formattedItems","getQTBarOptions","popType","renderType","qTBar","initializeQuickToolbars","selectionChangeHandler","keyUpQT","renderQuickToolbars","textQTBar","LinkToolbar","TextToolbar","TableToolbar","renderInlineQuickToolbar","InlineToolbar","deBounce","deBouncer","mouseUpHandler","inlineQTBarMouseDownHandler","onSelectionChange","wireInlineQTBarEvents","unWireInlineQTBarEvents"],"mappings":"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O,uBACP,IAAO,uBACP,IAAO,SACP,IAAO,uBACP,IAAO,uBACP,IAAO,KACP,IAAO,uBACP,IAAO,uBACP,IAAO,uBACP,IAAO,uBACP,IAAO,iBACP,IAAO,uBACP,IAAO,uBACP,IAAO,uBACP,IAAO,iBACP,IAAO,IACP,IAAO,OACP,IAAO,uBACP,IAAO,uBACP,IAAO,uBACP,IAAO,IACP,IAAO,SACP,IAAO,MACP,IAAO,SACP,IAAO,SACP,IAAO,SACP,IAAO,KACP,IAAO,IACP,IAAO,gBACP,IAAO,SACP,IAAO,MACP,IAAO,SACP,IAAO,OACP,IAAO,eACP,IAAO,MACP,IAAO,IACP,IAAO,UACP,IAAO,OACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,UACP,IAAO,MACP,IAAO,MACP,IAAO,IACP,IAAO,IACP,IAAO,MACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,OACP,IAAO,OACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,OACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,SACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,OACP,IAAO,KACP,IAAO,OACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,KACP,IAAO,MACP,IAAO,IACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,SACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,SACP,IAAO,IACP,IAAO,OACP,IAAO,2BACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,OACP,IAAO,KACP,IAAO,KACP,IAAO,SACP,IAAO,KACP,IAAO,OACP,IAAO,SACP,IAAO,SACP,IAAO,SACP,IAAO,SACP,IAAO,SACP,IAAO,SACP,IAAO,qBACP,IAAO,KACP,IAAO,SACP,IAAO,MACP,IAAO,qBACP,IAAO,SACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,eACP,IAAO,OACP,IAAO,IACP,IAAO,UACP,IAAO,SACP,IAAO,KACP,IAAO,IACP,IAAO,MACP,IAAO,SACP,IAAO,gBACP,IAAO,UACP,IAAO,sBACP,IAAO,qBACP,IAAO,SACP,IAAO,KACP,IAAO,SACP,IAAO,qBACP,IAAO,SACP,IAAO,QClWX,SAAWjD,GACP,IAAIkD,EAAiB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAC7G,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO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,GACzC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,iBAAa,GACpC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,oBAAgB,GACvC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,yBAAqB,GAC5C63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,gBAAY,GACnC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,iBAAa,GACpC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,eAAW,GAClC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,eAAW,GAClC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,gBAAY,GACnC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,oBAAgB,GACvC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,gBAAY,GACnC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,gBAAY,GACnC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,cAAU,GACjC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,oBAAgB,GACvC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,oBAAgB,GACvC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,sBAAkB,GACzC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,iBAAa,GACpC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,eAAW,GAClC63B,EAAW,CACPx0B,eACDokL,EAASznL,UAAW,gBAAY,GACnCynL,EAAW5vJ,EAAW,CAClBlB,KACD8wJ,GA3vGuB,CA6vG5B9nJ,K,4DCv3GEy/J,GAAuB,WACvB,SAASA,EAAM/6L,EAAQsiD,GACnB7iD,KAAKu7L,eAAgB,EACrBv7L,KAAKw7L,gBAAiB,EACtBx7L,KAAK23B,MAAQ,KACb33B,KAAK+3B,MAAQ,KACb/3B,KAAKy7L,WAAa,GAClBz7L,KAAKO,OAASA,EACdP,KAAKulF,MAAQhlF,EAAOS,QAAQmY,GAC5BnZ,KAAK8iD,KAAOD,EAAeE,WAAW,aACtC/iD,KA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","file":"static/js/3.65c726c7.chunk.js","sourcesContent":["var instances = 'ej2_instances';\nvar uid = 0;\nvar isBlazorPlatform = false;\n/**\n * Function to check whether the platform is blazor or not.\n *\n * @returns {void} result\n * @private\n */\nexport function disableBlazorMode() {\n    isBlazorPlatform = false;\n}\n/**\n * Create Instance from constructor function with desired parameters.\n *\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n *\n * @param {Function} handler - callback function to be triggered.\n * @returns {Function} ?\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    // eslint-disable-next-line\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    // eslint-disable-next-line\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n        handler = messageHandler = secret = undefined;\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n *\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function getValue(nameSpace, obj) {\n    // eslint-disable-next-line\n    var value = obj;\n    var splits = nameSpace.replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n *\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n    // eslint-disable-next-line\n    var start = obj || {};\n    // eslint-disable-next-line\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n *\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} key - String value to the get the inner object\n * @returns {void} ?\n * @private\n */\n// eslint-disable-next-line\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n *\n * @param {any} obj - Object which is need to check.\n * @returns {boolean} ?\n * @private\n */\n// eslint-disable-next-line\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n *\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function getEnumValue(enumObject, enumValue) {\n    // eslint-disable-next-line\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n *\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @returns {void} ?\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        var deepmerge = 'deepMerge';\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (!isNullOrUndefined(temrObj[deepmerge]) && (temrObj[deepmerge].indexOf(key) !== -1) &&\n                (isObject(tempProp[key]) || Array.isArray(tempProp[key]))) {\n                extend(temrObj[key], temrObj[key], tempProp[key], true);\n            }\n            else {\n                temrObj[key] = tempProp[key];\n            }\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n *\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @param {boolean} deep ?\n * @returns {Object} ?\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied && typeof copied === 'object' ? copied : {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        // eslint-disable-next-line\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        // eslint-disable-next-line\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            var isArrayChanged = Array.isArray(copy) && Array.isArray(src) && (copy.length !== src.length);\n            // eslint-disable-next-line\n            var blazorEventExtend = isBlazor() ? (!(src instanceof Event) && !isArrayChanged) : true;\n            if (deep && blazorEventExtend && (isObject(copy) || Array.isArray(copy))) {\n                if (isObject(copy)) {\n                    clone = src ? src : {};\n                    // eslint-disable-next-line\n                    if (Array.isArray(clone) && clone.hasOwnProperty('isComplexArray')) {\n                        extend(clone, {}, copy, deep);\n                    }\n                    else {\n                        result[key] = extend(clone, {}, copy, deep);\n                    }\n                }\n                else {\n                    /* istanbul ignore next */\n                    clone = isBlazor() ? src && Object.keys(copy).length : src ? src : [];\n                    result[key] = extend([], clone, copy, deep);\n                }\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n *\n * @param {Object} value - To check the object is null or undefined\n * @returns {boolean} ?\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n *\n * @param {Object} value - To check the object is undefined\n * @returns {boolean} ?\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n *\n * @param {string} definedName - To concatenate the unique id to provided name\n * @returns {string} ?\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n *\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @returns {Function} ?\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    // eslint-disable-next-line\n    var out;\n    return function () {\n        var _this = this;\n        // eslint-disable-next-line\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n/**\n * To convert the object to string for query url\n *\n * @param  {Object} data ?\n * @returns {string} ?\n * @private\n */\n// eslint-disable-next-line\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n *\n * @param {any} value - Specifies the T type array to be checked.\n * @returns {boolean} ?\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n *\n * @param {Element} child - Specifies the child element to compare with parent.\n * @param {Element} parent - Specifies the parent element.\n * @returns {boolean} ?\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n *\n * @param {string} message - Specifies the error message to be thrown.\n * @returns {void} ?\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        // eslint-disable-next-line\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n *\n * @param {Element} element - Specifies the print content element.\n * @param {Window} printWindow - Specifies the print window.\n * @returns {Window} ?\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('base, link, style'));\n    var blinks = [].slice.call(document.getElementsByTagName('body')[0].querySelectorAll('link, style'));\n    if (blinks.length) {\n        for (var l = 0, len = blinks.length; l < len; l++) {\n            links.push(blinks[l]);\n        }\n    }\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // eslint-disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n *\n * @param {number|string} value ?\n * @returns {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to check whether the platform is blazor or not.\n *\n * @returns {void} result\n * @private\n */\nexport function enableBlazorMode() {\n    isBlazorPlatform = true;\n}\n/**\n * Function to check whether the platform is blazor or not.\n *\n * @returns {boolean} result\n * @private\n */\nexport function isBlazor() {\n    return isBlazorPlatform;\n}\n/**\n * Function to convert xPath to DOM element in blazor platform\n *\n * @returns {HTMLElement} result\n * @param {HTMLElement | object} element ?\n * @private\n */\nexport function getElement(element) {\n    var xPath = 'xPath';\n    if (!(element instanceof Node) && isBlazor() && !isNullOrUndefined(element[xPath])) {\n        return document.evaluate(element[xPath], document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n    }\n    return element;\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n *\n * @param {string | HTMLElement} element ?\n * @param {any} component ?\n * @returns {Object} ?\n * @private\n */\n// eslint-disable-next-line\nexport function getInstance(element, component) {\n    // eslint-disable-next-line\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n *\n * @param {string | HTMLElement} element ?\n * @param {Object} instance ?\n * @returns {void} ?\n * @private\n */\nexport function addInstance(element, instance) {\n    // eslint-disable-next-line\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\n/**\n * Function to generate the unique id.\n *\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function uniqueID() {\n    if ((typeof window) === 'undefined') {\n        return;\n    }\n    // eslint-disable-next-line\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    return intCrypto.getRandomValues(num);\n}\n/**\n *\n * @param {Int16Array} num ?\n * @returns {string} ?\n */\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue, isBlazor } from '../util';\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '∞',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n *\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     *\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object} ?\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        var value = isBlazor() ? cName : 'main.' + cName;\n        return getValue(value, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     *\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object} ?\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     *\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object} ?\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            // eslint-disable-next-line\n            if (!res.hasOwnProperty(prop[key])) {\n                // eslint-disable-next-line\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     *\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp} ?\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    /**\n     *\n     * @param {Object} prop ?\n     * @returns {Object} ?\n     */\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            // eslint-disable-next-line\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     *\n     * @param {string} val ?\n     * @returns {string} ?\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     *\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string} ?\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            // eslint-disable-next-line\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     *\n     * @param {Object} obj ?\n     * @returns {NumericObject} ?\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     *\n     * @param {Object} curObj ?\n     * @param {Object} numberSystem ?\n     * @param {boolean} needSymbols ?\n     * @param {boolean} blazorMode ?\n     * @returns {Object} ?\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols, blazorMode) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem) || blazorMode) {\n            var digits = blazorMode ? getValue('obj.mapperDigits', cur) : getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue(blazorMode ? 'numberSymbols' : 'symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     *\n     * @param {Object} curObj ?\n     * @param {Object} numberSystem ?\n     * @param {boolean} isNumber ?\n     * @returns {NumberMapper} ?\n     */\n    // eslint-disable-next-line\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    // eslint-disable-next-line\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n/**\n * @private\n */\nvar blazorCurrencyData = {\n    'DJF': 'Fdj',\n    'ERN': 'Nfk',\n    'ETB': 'Br',\n    'NAD': '$',\n    'ZAR': 'R',\n    'XAF': 'FCFA',\n    'GHS': 'GH₵',\n    'XDR': 'XDR',\n    'AED': 'د.إ.‏',\n    'BHD': 'د.ب.‏',\n    'DZD': 'د.ج.‏',\n    'EGP': 'ج.م.‏',\n    'ILS': '₪',\n    'IQD': 'د.ع.‏',\n    'JOD': 'د.ا.‏',\n    'KMF': 'CF',\n    'KWD': 'د.ك.‏',\n    'LBP': 'ل.ل.‏',\n    'LYD': 'د.ل.‏',\n    'MAD': 'د.م.‏',\n    'MRU': 'أ.م.',\n    'OMR': 'ر.ع.‏',\n    'QAR': 'ر.ق.‏',\n    'SAR': 'ر.س.‏',\n    'SDG': 'ج.س.',\n    'SOS': 'S',\n    'SSP': '£',\n    'SYP': 'ل.س.‏',\n    'TND': 'د.ت.‏',\n    'YER': 'ر.ي.‏',\n    'CLP': '$',\n    'INR': '₹',\n    'TZS': 'TSh',\n    'EUR': '€',\n    'AZN': '₼',\n    'RUB': '₽',\n    'BYN': 'Br',\n    'ZMW': 'K',\n    'BGN': 'лв.',\n    'NGN': '₦',\n    'XOF': 'CFA',\n    'BDT': '৳',\n    'CNY': '¥',\n    'BAM': 'КМ',\n    'UGX': 'USh',\n    'USD': '$',\n    'CZK': 'Kč',\n    'GBP': '£',\n    'DKK': 'kr.',\n    'KES': 'Ksh',\n    'CHF': 'CHF',\n    'MVR': 'ރ.',\n    'BTN': 'Nu.',\n    'XCD': 'EC$',\n    'AUD': '$',\n    'BBD': '$',\n    'BIF': 'FBu',\n    'BMD': '$',\n    'BSD': '$',\n    'BWP': 'P',\n    'BZD': '$',\n    'CAD': '$',\n    'NZD': '$',\n    'FJD': '$',\n    'FKP': '£',\n    'GIP': '£',\n    'GMD': 'D',\n    'GYD': '$',\n    'HKD': '$',\n    'IDR': 'Rp',\n    'JMD': '$',\n    'KYD': '$',\n    'LRD': '$',\n    'MGA': 'Ar',\n    'MOP': 'MOP$',\n    'MUR': 'Rs',\n    'MWK': 'MK',\n    'MYR': 'RM',\n    'PGK': 'K',\n    'PHP': '₱',\n    'PKR': 'Rs',\n    'RWF': 'RF',\n    'SBD': '$',\n    'SCR': 'SR',\n    'SEK': 'kr',\n    'SGD': '$',\n    'SHP': '£',\n    'SLL': 'Le',\n    'ANG': 'NAf.',\n    'SZL': 'E',\n    'TOP': 'T$',\n    'TTD': '$',\n    'VUV': 'VT',\n    'WST': 'WS$',\n    'ARS': '$',\n    'BOB': 'Bs',\n    'BRL': 'R$',\n    'COP': '$',\n    'CRC': '₡',\n    'CUP': '$',\n    'DOP': '$',\n    'GTQ': 'Q',\n    'HNL': 'L',\n    'MXN': '$',\n    'NIO': 'C$',\n    'PAB': 'B/.',\n    'PEN': 'S/',\n    'PYG': '₲',\n    'UYU': '$',\n    'VES': 'Bs.S',\n    'IRR': 'ريال',\n    'GNF': 'FG',\n    'CDF': 'FC',\n    'HTG': 'G',\n    'XPF': 'FCFP',\n    'HRK': 'kn',\n    'HUF': 'Ft',\n    'AMD': '֏',\n    'ISK': 'kr',\n    'JPY': '¥',\n    'GEL': '₾',\n    'CVE': '​',\n    'KZT': '₸',\n    'KHR': '៛',\n    'KPW': '₩',\n    'KRW': '₩',\n    'KGS': 'сом',\n    'AOA': 'Kz',\n    'LAK': '₭',\n    'MZN': 'MTn',\n    'MKD': 'ден',\n    'MNT': '₮',\n    'BND': '$',\n    'MMK': 'K',\n    'NOK': 'kr',\n    'NPR': 'रु',\n    'AWG': 'Afl.',\n    'SRD': '$',\n    'PLN': 'zł',\n    'AFN': '؋',\n    'STN': 'Db',\n    'MDL': 'L',\n    'RON': 'lei',\n    'UAH': '₴',\n    'LKR': 'රු.',\n    'ALL': 'Lekë',\n    'RSD': 'дин.',\n    'TJS': 'смн',\n    'THB': '฿',\n    'TMT': 'm.',\n    'TRY': '₺',\n    'UZS': 'сўм',\n    'VND': '₫',\n    'TWD': 'NT$'\n};\n/**\n *\n * @param {string} currencyCode ?\n * @returns {string} ?\n */\nexport function getBlazorCurrencySymbol(currencyCode) {\n    return getValue(currencyCode || '', blazorCurrencyData);\n}\n","/***\n * Hijri parser\n */\n// eslint-disable-next-line\nexport var HijriParser;\n(function (HijriParser) {\n    var dateCorrection = [28607, 28636, 28665, 28695, 28724, 28754, 28783, 28813, 28843, 28872, 28901, 28931, 28960, 28990,\n        29019, 29049, 29078, 29108, 29137, 29167, 29196, 29226, 29255, 29285, 29315, 29345, 29375, 29404, 29434, 29463, 29492, 29522,\n        29551, 29580, 29610, 29640, 29669, 29699, 29729, 29759, 29788, 29818, 29847, 29876, 29906, 29935, 29964, 29994, 30023, 30053,\n        30082, 30112, 30141, 30171, 30200, 30230, 30259, 30289, 30318, 30348, 30378, 30408, 30437, 30467, 30496, 30526, 30555, 30585,\n        30614, 30644, 30673, 30703, 30732, 30762, 30791, 30821, 30850, 30880, 30909, 30939, 30968, 30998, 31027, 31057, 31086, 31116,\n        31145, 31175, 31204, 31234, 31263, 31293, 31322, 31352, 31381, 31411, 31441, 31471, 31500, 31530, 31559, 31589, 31618, 31648,\n        31676, 31706, 31736, 31766, 31795, 31825, 31854, 31884, 31913, 31943, 31972, 32002, 32031, 32061, 32090, 32120, 32150, 32180,\n        32209, 32239, 32268, 32298, 32327, 32357, 32386, 32416, 32445, 32475, 32504, 32534, 32563, 32593, 32622, 32652, 32681, 32711,\n        32740, 32770, 32799, 32829, 32858, 32888, 32917, 32947, 32976, 33006, 33035, 33065, 33094, 33124, 33153, 33183, 33213, 33243,\n        33272, 33302, 33331, 33361, 33390, 33420, 33450, 33479, 33509, 33539, 33568, 33598, 33627, 33657, 33686, 33716, 33745, 33775,\n        33804, 33834, 33863, 33893, 33922, 33952, 33981, 34011, 34040, 34069, 34099, 34128, 34158, 34187, 34217, 34247, 34277, 34306,\n        34336, 34365, 34395, 34424, 34454, 34483, 34512, 34542, 34571, 34601, 34631, 34660, 34690, 34719, 34749, 34778, 34808, 34837,\n        34867, 34896, 34926, 34955, 34985, 35015, 35044, 35074, 35103, 35133, 35162, 35192, 35222, 35251, 35280, 35310, 35340, 35370,\n        35399, 35429, 35458, 35488, 35517, 35547, 35576, 35605, 35635, 35665, 35694, 35723, 35753, 35782, 35811, 35841, 35871, 35901,\n        35930, 35960, 35989, 36019, 36048, 36078, 36107, 36136, 36166, 36195, 36225, 36254, 36284, 36314, 36343, 36373, 36403, 36433,\n        36462, 36492, 36521, 36551, 36580, 36610, 36639, 36669, 36698, 36728, 36757, 36786, 36816, 36845, 36875, 36904, 36934, 36963,\n        36993, 37022, 37052, 37081, 37111, 37141, 37170, 37200, 37229, 37259, 37288, 37318, 37347, 37377, 37406, 37436, 37465, 37495,\n        37524, 37554, 37584, 37613, 37643, 37672, 37701, 37731, 37760, 37790, 37819, 37849, 37878, 37908, 37938, 37967, 37997, 38027,\n        38056, 38085, 38115, 38144, 38174, 38203, 38233, 38262, 38292, 38322, 38351, 38381, 38410, 38440, 38469, 38499, 38528, 38558,\n        38587, 38617, 38646, 38676, 38705, 38735, 38764, 38794, 38823, 38853, 38882, 38912, 38941, 38971, 39001, 39030, 39059, 39089,\n        39118, 39148, 39178, 39208, 39237, 39267, 39297, 39326, 39355, 39385, 39414, 39444, 39473, 39503, 39532, 39562, 39592, 39621,\n        39650, 39680, 39709, 39739, 39768, 39798, 39827, 39857, 39886, 39916, 39946, 39975, 40005, 40035, 40064, 40094, 40123, 40153,\n        40182, 40212, 40241, 40271, 40300, 40330, 40359, 40389, 40418, 40448, 40477, 40507, 40536, 40566, 40595, 40625, 40655, 40685,\n        40714, 40744, 40773, 40803, 40832, 40862, 40892, 40921, 40951, 40980, 41009, 41039, 41068, 41098, 41127, 41157, 41186, 41216,\n        41245, 41275, 41304, 41334, 41364, 41393, 41422, 41452, 41481, 41511, 41540, 41570, 41599, 41629, 41658, 41688, 41718, 41748,\n        41777, 41807, 41836, 41865, 41894, 41924, 41953, 41983, 42012, 42042, 42072, 42102, 42131, 42161, 42190, 42220, 42249, 42279,\n        42308, 42337, 42367, 42397, 42426, 42456, 42485, 42515, 42545, 42574, 42604, 42633, 42662, 42692, 42721, 42751, 42780, 42810,\n        42839, 42869, 42899, 42929, 42958, 42988, 43017, 43046, 43076, 43105, 43135, 43164, 43194, 43223, 43253, 43283, 43312, 43342,\n        43371, 43401, 43430, 43460, 43489, 43519, 43548, 43578, 43607, 43637, 43666, 43696, 43726, 43755, 43785, 43814, 43844, 43873,\n        43903, 43932, 43962, 43991, 44021, 44050, 44080, 44109, 44139, 44169, 44198, 44228, 44258, 44287, 44317, 44346, 44375, 44405,\n        44434, 44464, 44493, 44523, 44553, 44582, 44612, 44641, 44671, 44700, 44730, 44759, 44788, 44818, 44847, 44877, 44906, 44936,\n        44966, 44996, 45025, 45055, 45084, 45114, 45143, 45172, 45202, 45231, 45261, 45290, 45320, 45350, 45380, 45409, 45439, 45468,\n        45498, 45527, 45556, 45586, 45615, 45644, 45674, 45704, 45733, 45763, 45793, 45823, 45852, 45882, 45911, 45940, 45970, 45999,\n        46028, 46058, 46088, 46117, 46147, 46177, 46206, 46236, 46265, 46295, 46324, 46354, 46383, 46413, 46442, 46472, 46501, 46531,\n        46560, 46590, 46620, 46649, 46679, 46708, 46738, 46767, 46797, 46826, 46856, 46885, 46915, 46944, 46974, 47003, 47033, 47063,\n        47092, 47122, 47151, 47181, 47210, 47240, 47269, 47298, 47328, 47357, 47387, 47417, 47446, 47476, 47506, 47535, 47565, 47594,\n        47624, 47653, 47682, 47712, 47741, 47771, 47800, 47830, 47860, 47890, 47919, 47949, 47978, 48008, 48037, 48066, 48096, 48125,\n        48155, 48184, 48214, 48244, 48273, 48303, 48333, 48362, 48392, 48421, 48450, 48480, 48509, 48538, 48568, 48598, 48627, 48657,\n        48687, 48717, 48746, 48776, 48805, 48834, 48864, 48893, 48922, 48952, 48982, 49011, 49041, 49071, 49100, 49130, 49160, 49189,\n        49218, 49248, 49277, 49306, 49336, 49365, 49395, 49425, 49455, 49484, 49514, 49543, 49573, 49602, 49632, 49661, 49690, 49720,\n        49749, 49779, 49809, 49838, 49868, 49898, 49927, 49957, 49986, 50016, 50045, 50075, 50104, 50133, 50163, 50192, 50222, 50252,\n        50281, 50311, 50340, 50370, 50400, 50429, 50459, 50488, 50518, 50547, 50576, 50606, 50635, 50665, 50694, 50724, 50754, 50784,\n        50813, 50843, 50872, 50902, 50931, 50960, 50990, 51019, 51049, 51078, 51108, 51138, 51167, 51197, 51227, 51256, 51286, 51315,\n        51345, 51374, 51403, 51433, 51462, 51492, 51522, 51552, 51582, 51611, 51641, 51670, 51699, 51729, 51758, 51787, 51816, 51846,\n        51876, 51906, 51936, 51965, 51995, 52025, 52054, 52083, 52113, 52142, 52171, 52200, 52230, 52260, 52290, 52319, 52349, 52379,\n        52408, 52438, 52467, 52497, 52526, 52555, 52585, 52614, 52644, 52673, 52703, 52733, 52762, 52792, 52822, 52851, 52881, 52910,\n        52939, 52969, 52998, 53028, 53057, 53087, 53116, 53146, 53176, 53205, 53235, 53264, 53294, 53324, 53353, 53383, 53412, 53441,\n        53471, 53500, 53530, 53559, 53589, 53619, 53648, 53678, 53708, 53737, 53767, 53796, 53825, 53855, 53884, 53913, 53943, 53973,\n        54003, 54032, 54062, 54092, 54121, 54151, 54180, 54209, 54239, 54268, 54297, 54327, 54357, 54387, 54416, 54446, 54476, 54505,\n        54535, 54564, 54593, 54623, 54652, 54681, 54711, 54741, 54770, 54800, 54830, 54859, 54889, 54919, 54948, 54977, 55007, 55036,\n        55066, 55095, 55125, 55154, 55184, 55213, 55243, 55273, 55302, 55332, 55361, 55391, 55420, 55450, 55479, 55508, 55538, 55567,\n        55597, 55627, 55657, 55686, 55716, 55745, 55775, 55804, 55834, 55863, 55892, 55922, 55951, 55981, 56011, 56040, 56070, 56100,\n        56129, 56159, 56188, 56218, 56247, 56276, 56306, 56335, 56365, 56394, 56424, 56454, 56483, 56513, 56543, 56572, 56601, 56631,\n        56660, 56690, 56719, 56749, 56778, 56808, 56837, 56867, 56897, 56926, 56956, 56985, 57015, 57044, 57074, 57103, 57133, 57162,\n        57192, 57221, 57251, 57280, 57310, 57340, 57369, 57399, 57429, 57458, 57487, 57517, 57546, 57576, 57605, 57634, 57664, 57694,\n        57723, 57753, 57783, 57813, 57842, 57871, 57901, 57930, 57959, 57989, 58018, 58048, 58077, 58107, 58137, 58167, 58196, 58226,\n        58255, 58285, 58314, 58343, 58373, 58402, 58432, 58461, 58491, 58521, 58551, 58580, 58610, 58639, 58669, 58698, 58727, 58757,\n        58786, 58816, 58845, 58875, 58905, 58934, 58964, 58994, 59023, 59053, 59082, 59111, 59141, 59170, 59200, 59229, 59259, 59288,\n        59318, 59348, 59377, 59407, 59436, 59466, 59495, 59525, 59554, 59584, 59613, 59643, 59672, 59702, 59731, 59761, 59791, 59820,\n        59850, 59879, 59909, 59939, 59968, 59997, 60027, 60056, 60086, 60115, 60145, 60174, 60204, 60234, 60264, 60293, 60323, 60352,\n        60381, 60411, 60440, 60469, 60499, 60528, 60558, 60588, 60618, 60648, 60677, 60707, 60736, 60765, 60795, 60824, 60853, 60883,\n        60912, 60942, 60972, 61002, 61031, 61061, 61090, 61120, 61149, 61179, 61208, 61237, 61267, 61296, 61326, 61356, 61385, 61415,\n        61445, 61474, 61504, 61533, 61563, 61592, 61621, 61651, 61680, 61710, 61739, 61769, 61799, 61828, 61858, 61888, 61917, 61947,\n        61976, 62006, 62035, 62064, 62094, 62123, 62153, 62182, 62212, 62242, 62271, 62301, 62331, 62360, 62390, 62419, 62448, 62478,\n        62507, 62537, 62566, 62596, 62625, 62655, 62685, 62715, 62744, 62774, 62803, 62832, 62862, 62891, 62921, 62950, 62980, 63009,\n        63039, 63069, 63099, 63128, 63157, 63187, 63216, 63246, 63275, 63305, 63334, 63363, 63393, 63423, 63453, 63482, 63512, 63541,\n        63571, 63600, 63630, 63659, 63689, 63718, 63747, 63777, 63807, 63836, 63866, 63895, 63925, 63955, 63984, 64014, 64043, 64073,\n        64102, 64131, 64161, 64190, 64220, 64249, 64279, 64309, 64339, 64368, 64398, 64427, 64457, 64486, 64515, 64545, 64574, 64603,\n        64633, 64663, 64692, 64722, 64752, 64782, 64811, 64841, 64870, 64899, 64929, 64958, 64987, 65017, 65047, 65076, 65106, 65136,\n        65166, 65195, 65225, 65254, 65283, 65313, 65342, 65371, 65401, 65431, 65460, 65490, 65520, 65549, 65579, 65608, 65638, 65667,\n        65697, 65726, 65755, 65785, 65815, 65844, 65874, 65903, 65933, 65963, 65992, 66022, 66051, 66081, 66110, 66140, 66169, 66199,\n        66228, 66258, 66287, 66317, 66346, 66376, 66405, 66435, 66465, 66494, 66524, 66553, 66583, 66612, 66641, 66671, 66700, 66730,\n        66760, 66789, 66819, 66849, 66878, 66908, 66937, 66967, 66996, 67025, 67055, 67084, 67114, 67143, 67173, 67203, 67233, 67262,\n        67292, 67321, 67351, 67380, 67409, 67439, 67468, 67497, 67527, 67557, 67587, 67617, 67646, 67676, 67705, 67735, 67764, 67793,\n        67823, 67852, 67882, 67911, 67941, 67971, 68000, 68030, 68060, 68089, 68119, 68148, 68177, 68207, 68236, 68266, 68295, 68325,\n        68354, 68384, 68414, 68443, 68473, 68502, 68532, 68561, 68591, 68620, 68650, 68679, 68708, 68738, 68768, 68797, 68827, 68857,\n        68886, 68916, 68946, 68975, 69004, 69034, 69063, 69092, 69122, 69152, 69181, 69211, 69240, 69270, 69300, 69330, 69359, 69388,\n        69418, 69447, 69476, 69506, 69535, 69565, 69595, 69624, 69654, 69684, 69713, 69743, 69772, 69802, 69831, 69861, 69890, 69919,\n        69949, 69978, 70008, 70038, 70067, 70097, 70126, 70156, 70186, 70215, 70245, 70274, 70303, 70333, 70362, 70392, 70421, 70451,\n        70481, 70510, 70540, 70570, 70599, 70629, 70658, 70687, 70717, 70746, 70776, 70805, 70835, 70864, 70894, 70924, 70954, 70983,\n        71013, 71042, 71071, 71101, 71130, 71159, 71189, 71218, 71248, 71278, 71308, 71337, 71367, 71397, 71426, 71455, 71485, 71514,\n        71543, 71573, 71602, 71632, 71662, 71691, 71721, 71751, 71781, 71810, 71839, 71869, 71898, 71927, 71957, 71986, 72016, 72046,\n        72075, 72105, 72135, 72164, 72194, 72223, 72253, 72282, 72311, 72341, 72370, 72400, 72429, 72459, 72489, 72518, 72548, 72577,\n        72607, 72637, 72666, 72695, 72725, 72754, 72784, 72813, 72843, 72872, 72902, 72931, 72961, 72991, 73020, 73050, 73080, 73109,\n        73139, 73168, 73197, 73227, 73256, 73286, 73315, 73345, 73375, 73404, 73434, 73464, 73493, 73523, 73552, 73581, 73611, 73640,\n        73669, 73699, 73729, 73758, 73788, 73818, 73848, 73877, 73907, 73936, 73965, 73995, 74024, 74053, 74083, 74113, 74142, 74172,\n        74202, 74231, 74261, 74291, 74320, 74349, 74379, 74408, 74437, 74467, 74497, 74526, 74556, 74586, 74615, 74645, 74675, 74704,\n        74733, 74763, 74792, 74822, 74851, 74881, 74910, 74940, 74969, 74999, 75029, 75058, 75088, 75117, 75147, 75176, 75206, 75235,\n        75264, 75294, 75323, 75353, 75383, 75412, 75442, 75472, 75501, 75531, 75560, 75590, 75619, 75648, 75678, 75707, 75737, 75766,\n        75796, 75826, 75856, 75885, 75915, 75944, 75974, 76003, 76032, 76062, 76091, 76121, 76150, 76180, 76210, 76239, 76269, 76299,\n        76328, 76358, 76387, 76416, 76446, 76475, 76505, 76534, 76564, 76593, 76623, 76653, 76682, 76712, 76741, 76771, 76801, 76830,\n        76859, 76889, 76918, 76948, 76977, 77007, 77036, 77066, 77096, 77125, 77155, 77185, 77214, 77243, 77273, 77302, 77332, 77361,\n        77390, 77420, 77450, 77479, 77509, 77539, 77569, 77598, 77627, 77657, 77686, 77715, 77745, 77774, 77804, 77833, 77863, 77893,\n        77923, 77952, 77982, 78011, 78041, 78070, 78099, 78129, 78158, 78188, 78217, 78247, 78277, 78307, 78336, 78366, 78395, 78425,\n        78454, 78483, 78513, 78542, 78572, 78601, 78631, 78661, 78690, 78720, 78750, 78779, 78808, 78838, 78867, 78897, 78926, 78956,\n        78985, 79015, 79044, 79074, 79104, 79133, 79163, 79192, 79222, 79251, 79281, 79310, 79340, 79369, 79399, 79428, 79458, 79487,\n        79517, 79546, 79576, 79606, 79635, 79665, 79695, 79724, 79753, 79783, 79812, 79841, 79871, 79900, 79930, 79960, 79990\n    ];\n    /**\n     *\n     * @param {Date} gDate ?\n     * @returns {Object} ?\n     */\n    function getHijriDate(gDate) {\n        var day = gDate.getDate();\n        var month = gDate.getMonth();\n        var year = gDate.getFullYear();\n        var tMonth = month + 1;\n        var tYear = year;\n        if (tMonth < 3) {\n            tYear -= 1;\n            tMonth += 12;\n        }\n        var yPrefix = Math.floor(tYear / 100.);\n        var julilanOffset = yPrefix - Math.floor(yPrefix / 4.) - 2;\n        var julianNumber = Math.floor(365.25 * (tYear + 4716)) + Math.floor(30.6001 * (tMonth + 1)) + day - julilanOffset - 1524;\n        yPrefix = Math.floor((julianNumber - 1867216.25) / 36524.25);\n        julilanOffset = yPrefix - Math.floor(yPrefix / 4.) + 1;\n        var b = julianNumber + julilanOffset + 1524;\n        var c = Math.floor((b - 122.1) / 365.25);\n        var d = Math.floor(365.25 * c);\n        var tempMonth = Math.floor((b - d) / 30.6001);\n        day = (b - d) - Math.floor(30.6001 * tempMonth);\n        month = Math.floor((b - d) / 20.6001);\n        if (month > 13) {\n            c += 1;\n            month -= 12;\n        }\n        month -= 1;\n        year = c - 4716;\n        var modifiedJulianDate = julianNumber - 2400000;\n        // date calculation for year after 2077\n        var iyear = 10631. / 30.;\n        var z = julianNumber - 1948084;\n        var cyc = Math.floor(z / 10631.);\n        z = z - 10631 * cyc;\n        var j = Math.floor((z - 0.1335) / iyear);\n        var iy = 30 * cyc + j;\n        z = z - Math.floor(j * iyear + 0.1335);\n        var im = Math.floor((z + 28.5001) / 29.5);\n        /* istanbul ignore next */\n        if (im === 13) {\n            im = 12;\n        }\n        var tempDay = z - Math.floor(29.5001 * im - 29);\n        var i = 0;\n        for (; i < dateCorrection.length; i++) {\n            if (dateCorrection[i] > modifiedJulianDate) {\n                break;\n            }\n        }\n        var iln = i + 16260;\n        var ii = Math.floor((iln - 1) / 12);\n        var hYear = ii + 1;\n        var hmonth = iln - 12 * ii;\n        var hDate = modifiedJulianDate - dateCorrection[i - 1] + 1;\n        if ((hDate + '').length > 2) {\n            hDate = tempDay;\n            hmonth = im;\n            hYear = iy;\n        }\n        return { year: hYear, month: hmonth, date: hDate };\n    }\n    HijriParser.getHijriDate = getHijriDate;\n    /**\n     *\n     * @param {number} year ?\n     * @param {number} month ?\n     * @param {number} day ?\n     * @returns {Date} ?\n     */\n    function toGregorian(year, month, day) {\n        var iy = year;\n        var im = month;\n        var id = day;\n        var ii = iy - 1;\n        var iln = (ii * 12) + 1 + (im - 1);\n        var i = iln - 16260;\n        var mcjdn = id + dateCorrection[i - 1] - 1;\n        var julianDate = mcjdn + 2400000;\n        var z = Math.floor(julianDate + 0.5);\n        var a = Math.floor((z - 1867216.25) / 36524.25);\n        a = z + 1 + a - Math.floor(a / 4);\n        var b = a + 1524;\n        var c = Math.floor((b - 122.1) / 365.25);\n        var d = Math.floor(365.25 * c);\n        var e = Math.floor((b - d) / 30.6001);\n        var gDay = b - d - Math.floor(e * 30.6001);\n        var gMonth = e - (e > 13.5 ? 13 : 1);\n        var gYear = c - (gMonth > 2.5 ? 4716 : 4715);\n        /* istanbul ignore next */\n        if (gYear <= 0) {\n            gMonth--;\n        } // No year zero\n        return new Date(gYear + '/' + (gMonth) + '/' + gDay);\n    }\n    HijriParser.toGregorian = toGregorian;\n})(HijriParser || (HijriParser = {}));\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue, isBlazor } from '../util';\nimport { HijriParser } from '../hijri-parser';\nimport { isNullOrUndefined, extend } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n    f: 'getMilliseconds'\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era',\n    'f': 'milliseconds'\n};\nvar timeSeparator = 'timeSeparator';\n/* tslint:disable no-any */\n/**\n * Date Format is a framework provides support for date formatting.\n *\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     *\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} option - Specific the format in which date  will format.\n     * @param {Object} cldr - Specifies the global cldr data collection.\n     * @returns {Function} ?\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, option.calendar);\n        var numObject = getValue('parserObject.numbers', dependable);\n        var dateObject = dependable.dateObject;\n        var formatOptions = { isIslamic: base.islamicRegex.test(option.calendar) };\n        if (isBlazor() && option.isServerRendered) {\n            option = base.compareBlazorDateFormats(option, culture);\n        }\n        var resPattern = option.format ||\n            base.getResultantPattern(option.skeleton, dependable.dateObject, option.type, false, isBlazor() ? culture : '');\n        formatOptions.dateSeperator = isBlazor() ? getValue('dateSeperator', dateObject) : base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            resPattern = base.ConvertDateToWeekFormat(resPattern);\n            if (isBlazor()) {\n                resPattern = resPattern.replace(/tt/, 'a');\n            }\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = isBlazor() ?\n                extend({}, numObject) : parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        if (isBlazor()) {\n                            // eslint-disable-next-line\n                            formatOptions.weekday = getValue('days.' + base.monthIndex[len], dateObject);\n                        }\n                        else {\n                            // eslint-disable-next-line\n                            formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        }\n                        break;\n                    case 'M':\n                    case 'L':\n                        if (isBlazor()) {\n                            // eslint-disable-next-line\n                            formatOptions.month = getValue('months.' + base.monthIndex[len], dateObject);\n                        }\n                        else {\n                            // eslint-disable-next-line\n                            formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        }\n                        break;\n                    case 'a':\n                        formatOptions.designator = isBlazor() ?\n                            getValue('dayPeriods', dateObject) : getValue('dayPeriods.format.wide', dateObject);\n                        break;\n                    case 'G':\n                        // eslint-disable-next-line\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = isBlazor() ? getValue('eras', dateObject) : getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     *\n     * @param {Date} value ?\n     * @param {FormatOptions} options ?\n     * @returns {string} ?\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        var dObject = this.getCurrentDateValue(value, options.isIslamic);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var curvalstr = '';\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = dObject.month;\n                    if (length_1 > 2) {\n                        // eslint-disable-next-line\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    // eslint-disable-next-line\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                case 'f':\n                    isNumber = true;\n                    if (char === 'd') {\n                        curval = dObject.date;\n                    }\n                    else if (char === 'f') {\n                        isNumber = false;\n                        processNumber = true;\n                        // eslint-disable-next-line\n                        curvalstr = value[timeSetter[char]]().toString();\n                        curvalstr = curvalstr.substring(0, length_1);\n                        var curlength = curvalstr.length;\n                        if (length_1 !== curlength) {\n                            if (length_1 > 3) {\n                                continue;\n                            }\n                            for (var i = 0; i < length_1 - curlength; i++) {\n                                curvalstr = '0' + curvalstr.toString();\n                            }\n                        }\n                        curstr += curvalstr;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        curval = value[timeSetter[char]]();\n                    }\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += dObject.year;\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    // eslint-disable-next-line\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    // eslint-disable-next-line\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    // eslint-disable-next-line\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    // eslint-disable-next-line\n                    var retu = options.era[dec];\n                    if (isNullOrUndefined(retu)) {\n                        // eslint-disable-next-line\n                        retu = options.era[dec ? 0 : 1];\n                    }\n                    ret += retu || '';\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/'/g, '');\n                    break;\n                case 'z':\n                    // eslint-disable-next-line\n                    var timezone = value.getTimezoneOffset();\n                    // eslint-disable-next-line\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    // eslint-disable-next-line\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                case 'W':\n                    isNumber = true;\n                    curval = base.getWeekOfYear(value);\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    DateFormat.getCurrentDateValue = function (value, isIslamic) {\n        if (isIslamic) {\n            return HijriParser.getHijriDate(value);\n        }\n        return { year: value.getFullYear(), month: value.getMonth() + 1, date: value.getDate() };\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     *\n     * @param {number} val ?\n     * @param {number} len ?\n     * @returns {string} ?\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     *\n     * @param {number} tVal ?\n     * @param {string} pattern ?\n     * @returns {string} ?\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","import { isUndefined, throwError, isNullOrUndefined, extend, isBlazor, getValue } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal', 'exponential'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n *\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     *\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} cldr - Specifies the global cldr data collection.\n     * @returns {Function} ?\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, '', true);\n        var numObject = dependable.numericObject;\n        dOptions.numberMapper = isBlazor() ? extend({}, numObject) :\n            parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = isBlazor() ? getValue('currencySymbol', numObject) : base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode, option.altSymbol);\n        /* eslint-disable  @typescript-eslint/no-explicit-any */\n        dOptions.percentSymbol = isBlazor() ? getValue('numberSymbols.percentSign', numObject) :\n            dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = isBlazor() ? getValue('numberSymbols.minusSign', numObject) :\n            dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            if (!isBlazor()) {\n                symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            }\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency && !isBlazor()) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            if (!isBlazor()) {\n                var split = symbolPattern.split(';');\n                cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n                cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n                if (fOptions.useGrouping) {\n                    fOptions.groupSeparator = symbols[mapper[2]];\n                    fOptions.groupData = this.getGroupingDetails(split[0]);\n                }\n            }\n            else {\n                cOptions.nData = extend({}, {}, getValue(fOptions.type + 'nData', numObject));\n                cOptions.pData = extend({}, {}, getValue(fOptions.type + 'pData', numObject));\n                if (fOptions.type === 'currency' && option.currency) {\n                    base.replaceBlazorCurrency([cOptions.pData, cOptions.nData], dOptions.currencySymbol, option.currency);\n                }\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     *\n     * @param {string} pattern ?\n     * @returns {GroupDetails} ?\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     *\n     * @param {number} val1 ?\n     * @param {number} val2 ?\n     * @param {boolean} checkbothExist ?\n     * @param {boolean} isFraction ?\n     * @returns {boolean} ?\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        // eslint-disable-next-line\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     *\n     * @param {number} val ?\n     * @param {string} text ?\n     * @param {boolean} isFraction ?\n     * @returns {void} ?\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     *\n     * @param {number} value ?\n     * @param {base.GenericFormatOptions} fOptions ?\n     * @param {CommonOptions} dOptions ?\n     * @returns {string} ?\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (isUndefined(fOptions.nData.type)) {\n            return undefined;\n        }\n        else {\n            if (value < 0) {\n                value = value * -1;\n                curData = fOptions.nData;\n            }\n            else if (value === 0) {\n                curData = fOptions.zeroData || fOptions.pData;\n            }\n            else {\n                curData = fOptions.pData;\n            }\n            var fValue = '';\n            if (curData.isPercent) {\n                value = value * 100;\n            }\n            if (curData.groupOne) {\n                fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n            }\n            else {\n                fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n                if (curData.minimumIntegerDigits) {\n                    fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n                }\n            }\n            if (curData.type === 'scientific') {\n                fValue = value.toExponential(curData.maximumFractionDigits);\n                fValue = fValue.replace('e', dOptions.numberMapper.numberSymbols[mapper[4]]);\n            }\n            fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n            if (curData.useGrouping) {\n                /* eslint-disable  @typescript-eslint/no-explicit-any */\n                fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n            }\n            fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n            if (curData.nlead === 'N/A') {\n                return curData.nlead;\n            }\n            else {\n                return curData.nlead + fValue + curData.nend;\n            }\n        }\n    };\n    /**\n     * Returns significant digits processed numeric string\n     *\n     * @param {number} value ?\n     * @param {number} min ?\n     * @param {number} max ?\n     * @returns {string} ?\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     *\n     * @param {string} val ?\n     * @param {number} level1 ?\n     * @param {string} sep ?\n     * @param {string} decimalSymbol ?\n     * @param {number} level2 ?\n     * @returns {string} ?\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     *\n     * @param {number} value ?\n     * @param {number} min ?\n     * @param {number} max ?\n     * @returns {string} ?\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     *\n     * @param {string} value ?\n     * @param {number} min ?\n     * @returns {string} ?\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined, isBlazor } from '../util';\nimport { datePartMatcher } from './date-formatter';\nimport { HijriParser } from '../hijri-parser';\nvar standalone = 'stand-alone';\nvar latnRegex = /^[0-9]*$/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth',\n    milliseconds: 'setMilliseconds'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n *\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     *\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} option - Specific the format in which string date  will be parsed.\n     * @param {Object} cldr - Specifies the global cldr data collection.\n     * @returns {Function} ?\n     */\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, option.calendar);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), false, isBlazor());\n        var parseOptions = {};\n        if (isBlazor() && option.isServerRendered) {\n            option = base.compareBlazorDateFormats(option, culture);\n        }\n        var resPattern = option.format ||\n            base.getResultantPattern(option.skeleton, dependable.dateObject, option.type, false, isBlazor() ? culture : '');\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            resPattern = base.ConvertDateToWeekFormat(resPattern);\n            parseOptions = { isIslamic: base.islamicRegex.test(option.calendar), pattern: resPattern, evalposition: {}, culture: culture };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            // eslint-disable-next-line\n            var numMapper = isBlazor() ? dependable.parserObject.numbers :\n                parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                // eslint-disable-next-line\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // eslint-disable-next-line\n                        var weekData = void 0;\n                        if (isBlazor()) {\n                            // eslint-disable-next-line\n                            weekData = getValue('days.' + base.monthIndex[len], dependable.dateObject);\n                        }\n                        else {\n                            // eslint-disable-next-line\n                            weekData = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        }\n                        // eslint-disable-next-line\n                        var weekObject = parser.reverseObject(weekData);\n                        // tslint:enable\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                    case 'f':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            var monthData = void 0;\n                            if (isBlazor()) {\n                                // eslint-disable-next-line\n                                monthData = getValue('months.' + base.monthIndex[len], dependable.dateObject);\n                            }\n                            else {\n                                // eslint-disable-next-line\n                                monthData = dependable.dateObject[month][standalone][base.monthIndex[len]];\n                            }\n                            // eslint-disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(monthData);\n                            // eslint-disable-next-line\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else if (char === 'f') {\n                            if (len > 3) {\n                                continue;\n                            }\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + '?' + nRegx + '?' + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'W':\n                        // eslint-disable-next-line\n                        var opt = len === 1 ? '?' : '';\n                        regexString += '(' + nRegx + opt + nRegx + ')';\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        // eslint-disable-next-line\n                        var periodValur = isBlazor() ?\n                            getValue('dayPeriods', dependable.dateObject) :\n                            getValue('dayPeriods.format.wide', dependable.dateObject);\n                        // eslint-disable-next-line\n                        parseOptions[charKey] = parser.reverseObject(periodValur);\n                        // eslint-disable-next-line\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        // eslint-disable-next-line\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        // eslint-disable-next-line\n                        parseOptions[charKey] = parser.reverseObject(isBlazor() ?\n                            getValue('eras', dependable.dateObject) : getValue('eras.' + eText, dependable.dateObject));\n                        // eslint-disable-next-line\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        // eslint-disable-next-line\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        // eslint-disable-next-line\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        // eslint-disable-next-line\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        // eslint-disable-next-line\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        hpattern = hpattern.replace(/:/g, numMapper.timeSeparator);\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        // eslint-disable-next-line\n                        var iString = str.replace(/'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '([\\\\D])';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$', 'i');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            if (parseOptions.isIslamic) {\n                var dobj = {};\n                var tYear = parsedDateParts.year;\n                var tDate = parsedDateParts.day;\n                var tMonth = parsedDateParts.month;\n                var ystrig = tYear ? (tYear + '') : '';\n                var is2DigitYear = (ystrig.length === 2);\n                if (!tYear || !tMonth || !tDate || is2DigitYear) {\n                    dobj = HijriParser.getHijriDate(new Date());\n                }\n                if (is2DigitYear) {\n                    tYear = parseInt((dobj.year + '').slice(0, 2) + ystrig, 10);\n                }\n                // tslint:disable-next-line\n                var dateObject = HijriParser.toGregorian(tYear || dobj.year, tMonth || dobj.month, tDate || dobj.date);\n                parsedDateParts.year = dateObject.getFullYear();\n                parsedDateParts.month = dateObject.getMonth() + 1;\n                parsedDateParts.day = dateObject.getDate();\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /* tslint:disable */\n    /**\n     * Returns date object for provided date options\n     *\n     * @param {DateParts} options ?\n     * @param {Date} value ?\n     * @returns {Date} ?\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'milliseconds', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            // eslint-disable-next-line\n            var tValue = options[key];\n            if (isUndefined(tValue) && key === 'day') {\n                res.setDate(1);\n            }\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    // eslint-disable-next-line\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    // eslint-disable-next-line\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     *\n     * @param {string} value ?\n     * @param {ParseOptions} parseOptions ?\n     * @param {NumericOptions} num ?\n     * @returns {DateParts} ?\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    // eslint-disable-next-line\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        matchString = ((prop === 'month') && (!parseOptions.isIslamic) && (parseOptions.culture === 'en' || parseOptions.culture === 'en-GB' || parseOptions.culture === 'en-US'))\n                            ? matchString[0].toUpperCase() + matchString.substring(1).toLowerCase() : matchString;\n                        // eslint-disable-next-line\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     *\n     * @param {string} value ?\n     * @param {NumericOptions} option ?\n     * @returns {number} ?\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     *\n     * @param {string} hourFormat ?\n     * @param {base.TimeZoneOptions} tZone ?\n     * @param {string} nRegex ?\n     * @returns {string} ?\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        // eslint-disable-next-line\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     *\n     * @param {boolean} flag ?\n     * @param {string} val1 ?\n     * @param {string} val2 ?\n     * @param {NumericOptions} num ?\n     * @returns {number} ?\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var ival = flag ? val1 : val2;\n        if (!ival) {\n            return 0;\n        }\n        var value = this.internalNumberParser(ival, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined, isBlazor, getValue } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n *\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     *\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will parsed.\n     * @param {Object} cldr - Specifies the global cldr data collection.\n     * @returns {Function} ?\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, '', true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n            if (!parseOptions.fractionDigits) {\n                if (option.maximumFractionDigits) {\n                    parseOptions.maximumFractionDigits = option.maximumFractionDigits;\n                }\n            }\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        var numbers = getValue('numbers', dependable.parserObject);\n        // eslint-disable-next-line\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true, isBlazor());\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // eslint-disable-next-line\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern;\n        if (!isBlazor()) {\n            symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n            if (symbolpattern) {\n                symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n                var split = symbolpattern.split(';');\n                parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n                parseOptions.pData = base.getFormatData(split[0], true, '');\n            }\n        }\n        else {\n            parseOptions.nData = extend({}, {}, getValue(parseOptions.type + 'nData', numbers));\n            parseOptions.pData = extend({}, {}, getValue(parseOptions.type + 'pData', numbers));\n            if (parseOptions.type === 'currency' && option.currency) {\n                base.replaceBlazorCurrency([parseOptions.pData, parseOptions.nData], getValue('currencySymbol', numbers), option.currency);\n            }\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     *\n     * @param {string} value ?\n     * @param {NumericParts} options ?\n     * @param {NumericOptions} numOptions ?\n     * @returns {number} ?\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            value = value.indexOf('-') !== -1 ? value.replace('-.', '-0.') : value;\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (options.maximumFractionDigits) {\n                ret = this.convertMaxFracDigits(tempValue, options, ret, isNegative);\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    NumberParser.convertMaxFracDigits = function (value, options, ret, isNegative) {\n        var decimalSplitValue = value.split('.');\n        if (decimalSplitValue[1] && decimalSplitValue[1].length > options.maximumFractionDigits) {\n            ret = +(ret.toFixed(options.custom ?\n                (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.maximumFractionDigits));\n        }\n        return ret;\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","import { isNullOrUndefined, getValue, extend, isBlazor } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.ranArray = [];\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    /**\n     * To attach handler for given property in current context.\n     *\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @param {string} id - specifies the random generated id.\n     * @returns {void}\n     */\n    Observer.prototype.on = function (property, handler, context, id) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!isNullOrUndefined(id)) {\n            if (this.ranArray.indexOf(id) === -1) {\n                this.ranArray.push(id);\n                this.boundedEvents[property].push({ handler: handler, context: cntxt, id: id });\n            }\n        }\n        else if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     *\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @param {string} id - specifies the random generated id.\n     * @returns {void} ?\n     */\n    Observer.prototype.off = function (property, handler, id) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (id) {\n                    if (curObject[i].id === id) {\n                        curObject.splice(i, 1);\n                        var indexLocation = this.ranArray.indexOf(id);\n                        if (indexLocation !== -1) {\n                            this.ranArray.splice(indexLocation, 1);\n                        }\n                        break;\n                    }\n                }\n                else if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     *\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @param {Function} successHandler - this function will invoke after event successfully triggered\n     * @param {Function} errorHandler - this function will invoke after event if it was failure to call.\n     * @returns {void} ?\n     */\n    Observer.prototype.notify = function (property, argument, successHandler, errorHandler) {\n        if (this.notExist(property)) {\n            if (successHandler) {\n                successHandler.call(this, argument);\n            }\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var blazor = 'Blazor';\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        if (window[blazor]) {\n            return this.blazorCallback(curObject, argument, successHandler, errorHandler, 0);\n        }\n        else {\n            for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n                var cur = curObject_1[_i];\n                cur.handler.call(cur.context, argument);\n            }\n            if (successHandler) {\n                successHandler.call(this, argument);\n            }\n        }\n    };\n    Observer.prototype.blazorCallback = function (objs, argument, successHandler, errorHandler, index) {\n        var _this = this;\n        var isTrigger = index === objs.length - 1;\n        if (index < objs.length) {\n            var obj_1 = objs[index];\n            var promise = obj_1.handler.call(obj_1.context, argument);\n            if (promise && typeof promise.then === 'function') {\n                if (!successHandler) {\n                    return promise;\n                }\n                promise.then(function (data) {\n                    data = typeof data === 'string' && _this.isJson(data) ? JSON.parse(data, _this.dateReviver) : data;\n                    extend(argument, argument, data, true);\n                    if (successHandler && isTrigger) {\n                        successHandler.call(obj_1.context, argument);\n                    }\n                    else {\n                        return _this.blazorCallback(objs, argument, successHandler, errorHandler, index + 1);\n                    }\n                }).catch(function (data) {\n                    if (errorHandler) {\n                        errorHandler.call(obj_1.context, typeof data === 'string' &&\n                            _this.isJson(data) ? JSON.parse(data, _this.dateReviver) : data);\n                    }\n                });\n            }\n            else if (successHandler && isTrigger) {\n                successHandler.call(obj_1.context, argument);\n            }\n            else {\n                return this.blazorCallback(objs, argument, successHandler, errorHandler, index + 1);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Observer.prototype.dateReviver = function (key, value) {\n        var dPattern = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/;\n        if (isBlazor && typeof value === 'string' && value.match(dPattern) !== null) {\n            return (new Date(value));\n        }\n        return (value);\n    };\n    Observer.prototype.isJson = function (value) {\n        try {\n            JSON.parse(value);\n        }\n        catch (e) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * To destroy handlers in the event\n     *\n     * @returns {void} ?\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     *\n     * @param {string} prop ?\n     * @returns {boolean} ?\n     */\n    Observer.prototype.notExist = function (prop) {\n        // eslint-disable-next-line\n        return this.boundedEvents.hasOwnProperty(prop) === false || this.boundedEvents[prop].length <= 0;\n    };\n    /**\n     * Returns if the handler is present.\n     *\n     * @param {BoundOptions[]} boundedEvents ?\n     * @param {Function} handler ?\n     * @returns {boolean} ?\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue, isBlazor } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n *\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n *\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n *\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     *\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function} ?\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     *\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function} ?\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        if (isBlazor() && options && !options.format) {\n            options.minimumFractionDigits = 0;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     *\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function} ?\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     *\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function} ?\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        if (isBlazor() && options && !options.format) {\n            options.minimumFractionDigits = 0;\n        }\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     *\n     * @param {number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string} ?\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     *\n     * @param {Date} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string} ?\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     *\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date} ?\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     *\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number} ?\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     *\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string} ?\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     *\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @param {boolean} isExcel ?\n     * @returns {string} ?\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option, isExcel) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData, isExcel);\n    };\n    /**\n     * Returns the First Day of the Week\n     *\n     * @returns {number} ?\n     */\n    Internationalization.prototype.getFirstDayOfWeek = function () {\n        return IntlBase.getWeekData(this.getCulture(), cldrData);\n    };\n    /**\n     * Returns the culture\n     *\n     * @returns {string} ?\n     */\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n *\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n * @returns {void} ?\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n *\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void} ?\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n *\n * @param {Object[]} data Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void} ?\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n *\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void} ?\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n *\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @param {string} type ?\n * @returns {Object} ?\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    // eslint-disable-next-line\n    var numObject = IntlBase.getDependables(cldrData, locale, '', true)[mapper[0]];\n    // eslint-disable-next-line\n    var dateObject = IntlBase.getDependables(cldrData, locale, '')[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = isBlazor() ? getValue('numberSymbols', numObject) : getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the numeric CLDR  number base object for given culture\n *\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @param {string} currency - Specifies the currency for which numericObject to be returned.\n * @returns {string} ?\n * @ignore\n * @private\n */\nexport function getNumberDependable(locale, currency) {\n    // eslint-disable-next-line\n    var numObject = IntlBase.getDependables(cldrData, locale, '', true);\n    // eslint-disable-next-line\n    return IntlBase.getCurrencySymbol(numObject.numericObject, currency);\n}\n/**\n * To get the default date CLDR object.\n *\n * @param {string} mode ?\n * @returns {Object} ?\n * @ignore\n * @private\n */\nexport function getDefaultDateObject(mode) {\n    // eslint-disable-next-line\n    return IntlBase.getDependables(cldrData, '', mode, false)[mapper[1]];\n}\n","import { defaultCurrencyCode } from '../internationalization';\nimport { getValue, isNullOrUndefined, extend, isBlazor } from '../util';\nimport { ParserBase as parser, getBlazorCurrencySymbol } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\nimport { isUndefined } from '../util';\nexport var blazorCultureFormats = {\n    'en-US': {\n        'd': 'M/d/y',\n        'D': 'EEEE, MMMM d, y',\n        'f': 'EEEE, MMMM d, y h:mm a',\n        'F': 'EEEE, MMMM d, y h:mm:s a',\n        'g': 'M/d/y h:mm a',\n        'G': 'M/d/yyyy h:mm:ss tt',\n        'm': 'MMMM d',\n        'M': 'MMMM d',\n        'r': 'ddd, dd MMM yyyy HH\\':\\'mm\\':\\'ss \\'GMT\\'',\n        'R': 'ddd, dd MMM yyyy HH\\':\\'mm\\':\\'ss \\'GMT\\'',\n        's': 'yyyy\\'-\\'MM\\'-\\'dd\\'T\\'HH\\':\\'mm\\':\\'ss',\n        't': 'h:mm tt',\n        'T': 'h:m:s tt',\n        'u': 'yyyy\\'-\\'MM\\'-\\'dd HH\\':\\'mm\\':\\'ss\\'Z\\'',\n        'U': 'dddd, MMMM d, yyyy h:mm:ss tt',\n        'y': 'MMMM yyyy',\n        'Y': 'MMMM yyyy'\n    }\n};\n/**\n * Date base common constants and function for date parser and formatter.\n */\n// eslint-disable-next-line\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*[0#\\ ]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    IntlBase.dateConverterMapper = /dddd|ddd/ig;\n    var defaultFirstDay = 'sun';\n    IntlBase.islamicRegex = /^islamic/;\n    var firstDayMapper = {\n        'sun': 0,\n        'mon': 1,\n        'tue': 2,\n        'wed': 3,\n        'thu': 4,\n        'fri': 5,\n        'sat': 6\n    };\n    IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.currencyFormatRegex = /(^[ca]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.curWithoutNumberRegex = /(c|a)$/ig;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    'days': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                'sun': 'Sun',\n                                'mon': 'Mon',\n                                'tue': 'Tue',\n                                'wed': 'Wed',\n                                'thu': 'Thu',\n                                'fri': 'Fri',\n                                'sat': 'Sat'\n                            },\n                            'narrow': {\n                                'sun': 'S',\n                                'mon': 'M',\n                                'tue': 'T',\n                                'wed': 'W',\n                                'thu': 'T',\n                                'fri': 'F',\n                                'sat': 'S'\n                            },\n                            'short': {\n                                'sun': 'Su',\n                                'mon': 'Mo',\n                                'tue': 'Tu',\n                                'wed': 'We',\n                                'thu': 'Th',\n                                'fri': 'Fr',\n                                'sat': 'Sa'\n                            },\n                            'wide': {\n                                'sun': 'Sunday',\n                                'mon': 'Monday',\n                                'tue': 'Tuesday',\n                                'wed': 'Wednesday',\n                                'thu': 'Thursday',\n                                'fri': 'Friday',\n                                'sat': 'Saturday'\n                            }\n                        }\n                    },\n                    'dayPeriods': {\n                        'format': {\n                            'wide': {\n                                'am': 'AM',\n                                'pm': 'PM'\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            '1-alt-variant': 'Common Era'\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': '{1} \\'at\\' {0}',\n                        'long': '{1} \\'at\\' {0}',\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y'\n                        }\n                    }\n                },\n                'islamic': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Muh.',\n                                '2': 'Saf.',\n                                '3': 'Rab. I',\n                                '4': 'Rab. II',\n                                '5': 'Jum. I',\n                                '6': 'Jum. II',\n                                '7': 'Raj.',\n                                '8': 'Sha.',\n                                '9': 'Ram.',\n                                '10': 'Shaw.',\n                                '11': 'Dhuʻl-Q.',\n                                '12': 'Dhuʻl-H.'\n                            },\n                            'narrow': {\n                                '1': '1',\n                                '2': '2',\n                                '3': '3',\n                                '4': '4',\n                                '5': '5',\n                                '6': '6',\n                                '7': '7',\n                                '8': '8',\n                                '9': '9',\n                                '10': '10',\n                                '11': '11',\n                                '12': '12'\n                            },\n                            'wide': {\n                                '1': 'Muharram',\n                                '2': 'Safar',\n                                '3': 'Rabiʻ I',\n                                '4': 'Rabiʻ II',\n                                '5': 'Jumada I',\n                                '6': 'Jumada II',\n                                '7': 'Rajab',\n                                '8': 'Shaʻban',\n                                '9': 'Ramadan',\n                                '10': 'Shawwal',\n                                '11': 'Dhuʻl-Qiʻdah',\n                                '12': 'Dhuʻl-Hijjah'\n                            }\n                        }\n                    },\n                    'days': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                'sun': 'Sun',\n                                'mon': 'Mon',\n                                'tue': 'Tue',\n                                'wed': 'Wed',\n                                'thu': 'Thu',\n                                'fri': 'Fri',\n                                'sat': 'Sat'\n                            },\n                            'narrow': {\n                                'sun': 'S',\n                                'mon': 'M',\n                                'tue': 'T',\n                                'wed': 'W',\n                                'thu': 'T',\n                                'fri': 'F',\n                                'sat': 'S'\n                            },\n                            'short': {\n                                'sun': 'Su',\n                                'mon': 'Mo',\n                                'tue': 'Tu',\n                                'wed': 'We',\n                                'thu': 'Th',\n                                'fri': 'Fr',\n                                'sat': 'Sa'\n                            },\n                            'wide': {\n                                'sun': 'Sunday',\n                                'mon': 'Monday',\n                                'tue': 'Tuesday',\n                                'wed': 'Wednesday',\n                                'thu': 'Thursday',\n                                'fri': 'Friday',\n                                'sat': 'Saturday'\n                            }\n                        }\n                    },\n                    'dayPeriods': {\n                        'format': {\n                            'wide': {\n                                'am': 'AM',\n                                'pm': 'PM'\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'AH'\n                        },\n                        'eraAbbr': {\n                            '0': 'AH'\n                        },\n                        'eraNarrow': {\n                            '0': 'AH'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y G',\n                        'long': 'MMMM d, y G',\n                        'medium': 'MMM d, y G',\n                        'short': 'M/d/y GGGGG'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': '{1} \\'at\\' {0}',\n                        'long': '{1} \\'at\\' {0}',\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y G',\n                            'yyyy': 'y G',\n                            'yyyyM': 'M/y GGGGG',\n                            'yyyyMd': 'M/d/y GGGGG',\n                            'yyyyMEd': 'E, M/d/y GGGGG',\n                            'yyyyMMM': 'MMM y G',\n                            'yyyyMMMd': 'MMM d, y G',\n                            'yyyyMMMEd': 'E, MMM d, y G',\n                            'yyyyMMMM': 'MMMM y G',\n                            'yyyyQQQ': 'QQQ y G',\n                            'yyyyQQQQ': 'QQQQ y G'\n                        }\n                    }\n                }\n            },\n            'timeZoneNames': {\n                'hourFormat': '+HH:mm;-HH:mm',\n                'gmtFormat': 'GMT{0}',\n                'gmtZeroFormat': 'GMT'\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '€',\n                    'symbol-alt-narrow': '€'\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': '£'\n                }\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '×',\n                'perMille': '‰',\n                'infinity': '∞',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###'\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '¤#,##0.00',\n                'accounting': '¤#,##0.00;(¤#,##0.00)'\n            },\n            'scientificFormats-numberSystem-latn': {\n                'standard': '#E0'\n            }\n        }\n    };\n    IntlBase.blazorDefaultObject = {\n        'numbers': {\n            'mapper': {\n                '0': '0',\n                '1': '1',\n                '2': '2',\n                '3': '3',\n                '4': '4',\n                '5': '5',\n                '6': '6',\n                '7': '7',\n                '8': '8',\n                '9': '9'\n            },\n            'mapperDigits': '0123456789',\n            'numberSymbols': {\n                'decimal': '.',\n                'group': ',',\n                'plusSign': '+',\n                'minusSign': '-',\n                'percentSign': '%',\n                'nan': 'NaN',\n                'timeSeparator': ':',\n                'infinity': '∞'\n            },\n            'timeSeparator': ':',\n            'currencySymbol': '$',\n            'currencypData': {\n                'nlead': '$',\n                'nend': '',\n                'groupSeparator': ',',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'percentpData': {\n                'nlead': '',\n                'nend': '%',\n                'groupSeparator': ',',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'percentnData': {\n                'nlead': '-',\n                'nend': '%',\n                'groupSeparator': ',',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'currencynData': {\n                'nlead': '($',\n                'nend': ')',\n                'groupSeparator': ',',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'decimalnData': {\n                'nlead': '-',\n                'nend': '',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'decimalpData': {\n                'nlead': '',\n                'nend': '',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            }\n        },\n        'dates': {\n            'dayPeriods': {\n                'am': 'AM',\n                'pm': 'PM'\n            },\n            'dateSeperator': '/',\n            'days': {\n                'abbreviated': {\n                    'sun': 'Sun',\n                    'mon': 'Mon',\n                    'tue': 'Tue',\n                    'wed': 'Wed',\n                    'thu': 'Thu',\n                    'fri': 'Fri',\n                    'sat': 'Sat'\n                },\n                'short': {\n                    'sun': 'Su',\n                    'mon': 'Mo',\n                    'tue': 'Tu',\n                    'wed': 'We',\n                    'thu': 'Th',\n                    'fri': 'Fr',\n                    'sat': 'Sa'\n                },\n                'wide': {\n                    'sun': 'Sunday',\n                    'mon': 'Monday',\n                    'tue': 'Tuesday',\n                    'wed': 'Wednesday',\n                    'thu': 'Thursday',\n                    'fri': 'Friday',\n                    'sat': 'Saturday'\n                }\n            },\n            'months': {\n                'abbreviated': {\n                    '1': 'Jan',\n                    '2': 'Feb',\n                    '3': 'Mar',\n                    '4': 'Apr',\n                    '5': 'May',\n                    '6': 'Jun',\n                    '7': 'Jul',\n                    '8': 'Aug',\n                    '9': 'Sep',\n                    '10': 'Oct',\n                    '11': 'Nov',\n                    '12': 'Dec'\n                },\n                'wide': {\n                    '1': 'January',\n                    '2': 'February',\n                    '3': 'March',\n                    '4': 'April',\n                    '5': 'May',\n                    '6': 'June',\n                    '7': 'July',\n                    '8': 'August',\n                    '9': 'September',\n                    '10': 'October',\n                    '11': 'November',\n                    '12': 'December'\n                }\n            },\n            'eras': {\n                '1': 'AD'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency',\n        E: 'scientific'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     *\n     * @private\n     * @param {string} skeleton ?\n     * @param {Object} dateObject ?\n     * @param {string} type ?\n     * @param {boolean} isIslamic ?\n     * @param {string} blazorCulture ?\n     * @returns {string} ?\n     */\n    function getResultantPattern(skeleton, dateObject, type, isIslamic, blazorCulture) {\n        var resPattern;\n        var iType = type || 'date';\n        if (blazorCulture) {\n            resPattern = compareBlazorDateFormats({ skeleton: skeleton }, blazorCulture).format ||\n                compareBlazorDateFormats({ skeleton: 'd' }, 'en-US').format;\n        }\n        else {\n            if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n                resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n                if (iType === 'dateTime') {\n                    var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                    var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                    resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n                }\n            }\n            else {\n                resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n            }\n            if (isUndefined(resPattern) && skeleton === 'yMd') {\n                resPattern = 'M/d/y';\n            }\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     *\n     * @private\n     * @param {Object} cldr ?\n     * @param {string} culture ?\n     * @param {string} mode ?\n     * @param {boolean} isNumber ?\n     * @returns {any} ?\n     */\n    function getDependables(cldr, culture, mode, isNumber) {\n        var ret = {};\n        var calendartype = mode || 'gregorian';\n        ret.parserObject = parser.getMainObject(cldr, culture) || (isBlazor() ? IntlBase.blazorDefaultObject : IntlBase.defaultObject);\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            var dateString = isBlazor() ? 'dates' : ('dates.calendars.' + calendartype);\n            ret.dateObject = getValue(dateString, ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     *\n     * @private\n     * @param {string} type ?\n     * @param {string} numSystem ?\n     * @param {Object} obj ?\n     * @param {boolean} isAccount ?\n     * @returns {string} ?\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     *\n     * @param {string} format ?\n     * @returns {string} ?\n     */\n    function ConvertDateToWeekFormat(format) {\n        var convertMapper = format.match(IntlBase.dateConverterMapper);\n        if (convertMapper && isBlazor()) {\n            var tempString = convertMapper[0].length === 3 ? 'EEE' : 'EEEE';\n            return format.replace(IntlBase.dateConverterMapper, tempString);\n        }\n        return format;\n    }\n    IntlBase.ConvertDateToWeekFormat = ConvertDateToWeekFormat;\n    /**\n     *\n     * @param {DateFormatOptions} formatOptions ?\n     * @param {string} culture ?\n     * @returns {DateFormatOptions} ?\n     */\n    function compareBlazorDateFormats(formatOptions, culture) {\n        var format = formatOptions.format || formatOptions.skeleton;\n        var curFormatMapper = getValue((culture || 'en-US') + '.' + format, blazorCultureFormats);\n        if (!curFormatMapper) {\n            curFormatMapper = getValue('en-US.' + format, blazorCultureFormats);\n        }\n        if (curFormatMapper) {\n            curFormatMapper = ConvertDateToWeekFormat(curFormatMapper);\n            formatOptions.format = curFormatMapper.replace(/tt/, 'a');\n        }\n        return formatOptions;\n    }\n    IntlBase.compareBlazorDateFormats = compareBlazorDateFormats;\n    /**\n     * Returns proper numeric skeleton\n     *\n     * @private\n     * @param {string} skeleton ?\n     * @returns {any} ?\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        // eslint-disable-next-line\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     *\n     * @private\n     * @param {string} pattern ?\n     * @param {boolean} needFraction ?\n     * @param {string} cSymbol ?\n     * @param {boolean} fractionOnly ?\n     * @returns {any} ?\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     *\n     * @private\n     * @param {string} val ?\n     * @param {string} sym ?\n     * @returns {string} ?\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    IntlBase.changeCurrencySymbol = changeCurrencySymbol;\n    /**\n     * Returns currency symbol based on currency code ?\n     *\n     * @private\n     * @param {Object} numericObject ?\n     * @param {string} currencyCode ?\n     * @param {string} altSymbol ?\n     * @returns {string} ?\n     */\n    function getCurrencySymbol(numericObject, currencyCode, altSymbol) {\n        var symbol = altSymbol ? ('.' + altSymbol) : '.symbol';\n        var getCurrency = getValue('currencies.' + currencyCode + symbol, numericObject) ||\n            getValue('currencies.' + currencyCode + '.symbol-alt-narrow', numericObject) || '$';\n        return getCurrency;\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     *\n     * @private\n     * @param {string} format ?\n     * @param {CommonOptions} dOptions ?\n     * @param {any} obj ?\n     * @returns {any} ?\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            // eslint-disable-next-line\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     *\n     * @private\n     * @param {string} format ?\n     * @param {CommonOptions} dOptions ?\n     * @param {Object} numObject ?\n     * @returns {any} ?\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || (pattern[5] === '' && format !== 'N/A')) {\n            cOptions.type = undefined;\n            return cOptions;\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        var spaceCapture = integerPart.match(/\\ $/g) ? true : false;\n        var spaceGrouping = integerPart.replace(/\\ $/g, '').indexOf(' ') !== -1;\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1 || spaceGrouping;\n        integerPart = spaceGrouping ? integerPart.replace(/,/g, '') : integerPart.replace(/,/g, '').replace(/\\ $/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                // eslint-disable-next-line\n                cOptions.groupSeparator = spaceGrouping ? ' ' : dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/'/g, '');\n            cOptions.nend = spaceCapture ? ' ' + cOptions.nend.replace(/'/g, '') : cOptions.nend.replace(/'/g, '');\n        }\n        return cOptions;\n    }\n    IntlBase.customNumberFormat = customNumberFormat;\n    /**\n     * Returns formatting options for currency or percent type\n     *\n     * @private\n     * @param {string[]} parts ?\n     * @param {string} actual ?\n     * @param {string} symbol ?\n     * @returns {any} ?\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                // eslint-disable-next-line\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                // eslint-disable-next-line\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     *\n     * @private\n     * @param {Object} dateObj ?\n     * @returns {string} ?\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[d‏M‏]([^d‏M])[d‏M‏]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     *\n     * @private\n     * @param {string} culture ?\n     * @param {DateFormatOptions} options ?\n     * @param {Object} cldr ?\n     * @param {boolean} isExcelFormat ?\n     * @returns {string} ?\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture, options.calendar);\n        if (isBlazor()) {\n            options = compareBlazorDateFormats(options, culture);\n        }\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                // eslint-disable-next-line\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     *\n     * @param {string} actual ?\n     * @param {any} option ?\n     * @returns {any} ?\n     */\n    // eslint-disable-next-line\n    function processSymbol(actual, option) {\n        if (actual.indexOf(',') !== -1) {\n            // eslint-disable-next-line\n            var split = actual.split(',');\n            actual = (split[0] + getValue('numberMapper.numberSymbols.group', option) +\n                split[1].replace('.', getValue('numberMapper.numberSymbols.decimal', option)));\n        }\n        else {\n            actual = actual.replace('.', getValue('numberMapper.numberSymbols.decimal', option));\n        }\n        return actual;\n    }\n    /**\n     * Returns Native Number pattern\n     *\n     * @private\n     * @param {string} culture ?\n     * @param {NumberFormatOptions} options ?\n     * @param {Object} cldr ?\n     * @param {boolean} isExcel ?\n     * @returns {string} ?\n     */\n    function getActualNumberFormat(culture, options, cldr, isExcel) {\n        var dependable = getDependables(cldr, culture, '', true);\n        var parseOptions = { custom: true };\n        var numrericObject = dependable.numericObject;\n        var minFrac;\n        var curObj = {};\n        var curMatch = (options.format || '').match(IntlBase.currencyFormatRegex);\n        var type = IntlBase.formatRegex.test(options.format) ? getProperNumericSkeleton(options.format || 'N') : {};\n        var dOptions = {};\n        if (curMatch) {\n            dOptions.numberMapper = isBlazor() ?\n                extend({}, dependable.numericObject) :\n                parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var curCode = isBlazor() ? getValue('currencySymbol', dependable.numericObject) :\n                getCurrencySymbol(dependable.numericObject, options.currency || defaultCurrencyCode, options.altSymbol);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            symbolPattern = symbolPattern.replace(/\\u00A4/g, curCode);\n            var split = symbolPattern.split(';');\n            curObj.hasNegativePattern = isBlazor() ? true : (split.length > 1);\n            curObj.nData = isBlazor() ? getValue(type.type + 'nData', numrericObject) :\n                getFormatData(split[1] || '-' + split[0], true, curCode);\n            curObj.pData = isBlazor() ? getValue(type.type + 'pData', numrericObject) :\n                getFormatData(split[0], false, curCode);\n            if (!curMatch[2] && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n                minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n            }\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency' || (parseOptions.type && isBlazor())) {\n                if (isBlazor() && parseOptions.type !== 'currency') {\n                    curObj.pData = getValue(parseOptions.type + 'pData', numrericObject);\n                    curObj.nData = getValue(parseOptions.type + 'nData', numrericObject);\n                }\n                var cPattern = actualPattern;\n                actualPattern = curObj.pData.nlead + cPattern + curObj.pData.nend;\n                if (curObj.hasNegativePattern || isBlazor()) {\n                    actualPattern += ';' + curObj.nData.nlead + cPattern + curObj.nData.nend;\n                }\n            }\n            if (parseOptions.type === 'percent' && !isBlazor()) {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/'/g, '\"');\n        }\n        if (Object.keys(dOptions).length > 0) {\n            actualPattern = !isExcel ? processSymbol(actualPattern, dOptions) : actualPattern;\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    /**\n     *\n     * @param {string} pattern ?\n     * @param {number} minDigits ?\n     * @param {number} maxDigits ?\n     * @returns {string} ?\n     */\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    IntlBase.fractionDigitsPattern = fractionDigitsPattern;\n    /**\n     *\n     * @param {string} pattern ?\n     * @param {number} digits ?\n     * @returns {string} ?\n     */\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    IntlBase.minimumIntegerPattern = minimumIntegerPattern;\n    /**\n     *\n     * @param {string} pattern ?\n     * @returns {string} ?\n     */\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n    IntlBase.groupingPattern = groupingPattern;\n    /**\n     *\n     * @param {string} culture ?\n     * @param {Object} cldr ?\n     * @returns {number} ?\n     */\n    function getWeekData(culture, cldr) {\n        var firstDay = defaultFirstDay;\n        var mapper = getValue('supplemental.weekData.firstDay', cldr);\n        var iCulture = culture;\n        if ((/en-/).test(iCulture)) {\n            iCulture = iCulture.slice(3);\n        }\n        iCulture = iCulture.slice(0, 2).toUpperCase() + iCulture.substr(2);\n        if (mapper) {\n            firstDay = mapper[iCulture] || mapper[iCulture.slice(0, 2)] || defaultFirstDay;\n        }\n        return firstDayMapper[firstDay];\n    }\n    IntlBase.getWeekData = getWeekData;\n    /**\n     * @private\n     * @param {any} pData ?\n     * @param {string} aCurrency ?\n     * @param {string} rCurrency ?\n     * @returns {void} ?\n     */\n    function replaceBlazorCurrency(pData, aCurrency, rCurrency) {\n        var iCurrency = getBlazorCurrencySymbol(rCurrency);\n        if (aCurrency !== iCurrency) {\n            for (var _i = 0, pData_1 = pData; _i < pData_1.length; _i++) {\n                var data = pData_1[_i];\n                data.nend = data.nend.replace(aCurrency, iCurrency);\n                data.nlead = data.nlead.replace(aCurrency, iCurrency);\n            }\n        }\n    }\n    IntlBase.replaceBlazorCurrency = replaceBlazorCurrency;\n    /**\n     * @private\n     * @param {Date} date ?\n     * @returns {number} ?\n     */\n    function getWeekOfYear(date) {\n        var newYear = new Date(date.getFullYear(), 0, 1);\n        var day = newYear.getDay();\n        var weeknum;\n        day = (day >= 0 ? day : day + 7);\n        var daynum = Math.floor((date.getTime() - newYear.getTime() -\n            (date.getTimezoneOffset() - newYear.getTimezoneOffset()) * 60000) / 86400000) + 1;\n        if (day < 4) {\n            weeknum = Math.floor((daynum + day - 1) / 7) + 1;\n            if (weeknum > 52) {\n                var nYear = new Date(date.getFullYear() + 1, 0, 1);\n                var nday = nYear.getDay();\n                nday = nday >= 0 ? nday : nday + 7;\n                weeknum = nday < 4 ? 1 : 53;\n            }\n        }\n        else {\n            weeknum = Math.floor((daynum + day - 1) / 7);\n        }\n        return weeknum;\n    }\n    IntlBase.getWeekOfYear = getWeekOfYear;\n})(IntlBase || (IntlBase = {}));\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     *\n     * @param  {string|Object} options ?\n     * @param  {string} type ?\n     * @param  {boolean} async ?\n     * @returns defaultType any\n     */\n    function Ajax(options, type, async, contentType) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         *\n         * @default true\n         */\n        this.mode = true;\n        /**\n         * A boolean value indicating whether to ignore the promise reject.\n         *\n         * @private\n         * @default true\n         */\n        this.emitError = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n        this.contentType = (this.contentType !== undefined) ? this.contentType : contentType;\n    }\n    /**\n     *\n     * Send the request to server.\n     *\n     * @param {any} data - To send the user data\n     * @return {Promise} ?\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var eventArgs = {\n            cancel: false,\n            httpRequest: null\n        };\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            if (!isNullOrUndefined(_this.onLoad)) {\n                _this.httpRequest.onload = _this.onLoad;\n            }\n            if (!isNullOrUndefined(_this.onProgress)) {\n                _this.httpRequest.onprogress = _this.onProgress;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onAbort)) {\n                _this.httpRequest.onabort = _this.onAbort;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onError)) {\n                _this.httpRequest.onerror = _this.onError;\n            }\n            //** Upload Events **/\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onUploadProgress)) {\n                _this.httpRequest.upload.onprogress = _this.onUploadProgress;\n            }\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data) && _this.contentType !== null) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                eventArgs.httpRequest = _this.httpRequest;\n                _this.beforeSend(eventArgs);\n            }\n            if (!eventArgs.cancel) {\n                _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n            }\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            //success range should be 200 to 299\n            if ((this.httpRequest.status >= 200 && this.httpRequest.status <= 299) || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                if (this.emitError) {\n                    reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n                }\n                else {\n                    resolve();\n                }\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     *\n     * @param  {string} key Key to search in the response header\n     * @returns {string} ?\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        // eslint-disable-next-line\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        // eslint-disable-next-line\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ /]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ /]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ /]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ /]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ /]([\\w.]+)/i,\n    SAFARI: /(safari)[ /]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ /]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n *\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                // eslint-disable-next-line\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     *\n     * @param {string} event - type of event triggered.\n     * @returns {boolean}\n     */\n    Browser.getEvent = function (event) {\n        // eslint-disable-next-line\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            },\n            cancel: {\n                isPointer: 'pointercancel', isTouch: 'touchcancel', isDevice: 'mouseleave'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     *\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     *\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     *\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To cancel the touch event from browser\n     *\n     * @returns {string}\n     */\n    Browser.getTouchCancelEvent = function () {\n        return Browser.getEvent('cancel');\n    };\n    /**\n     * To get the value based on provided key and regX\n     *\n     * @param {string} key ?\n     * @param {RegExp} regX ?\n     * @returns {Object} ?\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        if (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1 && Browser.isTouch === true) {\n            browserDetails['isIos'] = true;\n            browserDetails['isDevice'] = true;\n            browserDetails['isTouch'] = true;\n            browserDetails['isPointer'] = true;\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties\n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         *\n         * @param {string} uA ?\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         *\n         * @returns {BrowserInfo} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return (window.browserDetails.isTouch =\n                    ('ontouchstart' in window.navigator) ||\n                        (window &&\n                            window.navigator &&\n                            (window.navigator.maxTouchPoints > 0)) || ('ontouchstart' in window));\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         *\n         * @returns {string} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         *\n         * @returns {string} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         *\n         * @returns {string} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchCancelEvent\", {\n        /**\n         * Property is to cancel the touch end event.\n         *\n         * @returns {string} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchCancelEvent)) {\n                return window.browserDetails.touchCancelEvent = Browser.getTouchCancelEvent();\n            }\n            return window.browserDetails.touchCancelEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { debounce, extend } from './util';\nimport { Browser } from './browser';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     *\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} intDebounce - Specifies at what interval given event listener should be triggered.\n     * @returns {Function} ?\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            if (Browser.isIE) {\n                element.addEventListener(event[i], debounceListener);\n            }\n            else {\n                element.addEventListener(event[i], debounceListener, { passive: false });\n            }\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     *\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @returns {void} ?\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     *\n     * @param {any} element - Specifies the target html element to clear the events\n     * @returns {void} ?\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        // eslint-disable-next-line\n        eventData = EventHandler.addOrGetEventData(element);\n        // eslint-disable-next-line\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     *\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @returns {void} ?\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined, getValue, setValue, isObject, extend } from './util';\nvar SVG_REG = /^svg|^path|^g/;\n/**\n * Function to create Html element.\n *\n * @param {string} tagName - Name of the tag, id and class names.\n * @param {ElementProperties} properties - Object to set properties in the element.\n * @param {ElementProperties} properties.id - To set the id to the created element.\n * @param {ElementProperties} properties.className - To add classes to the element.\n * @param {ElementProperties} properties.innerHTML - To set the innerHTML to element.\n * @param {ElementProperties} properties.styles - To set the some custom styles to element.\n * @param {ElementProperties} properties.attrs - To set the attributes to element.\n * @returns {any} ?\n * @private\n */\nexport function createElement(tagName, properties) {\n    var element = (SVG_REG.test(tagName) ? document.createElementNS('http://www.w3.org/2000/svg', tagName) : document.createElement(tagName));\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n *\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @returns {any} .\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (isObject(ele)) {\n                var curClass = getValue('attributes.className', ele);\n                if (isNullOrUndefined(curClass)) {\n                    setValue('attributes.className', className, ele);\n                }\n                else if (!new RegExp('\\\\b' + className + '\\\\b', 'i').test(curClass)) {\n                    setValue('attributes.className', curClass + ' ' + className, ele);\n                }\n            }\n            else {\n                if (!ele.classList.contains(className)) {\n                    ele.classList.add(className);\n                }\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n *\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @returns {any} .\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        var flag = isObject(ele);\n        var canRemove = flag ? getValue('attributes.className', ele) : ele.className !== '';\n        if (canRemove) {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                if (flag) {\n                    var classes_1 = getValue('attributes.className', ele);\n                    var classArr = classes_1.split(' ');\n                    var index = classArr.indexOf(className);\n                    if (index !== -1) {\n                        classArr.splice(index, 1);\n                    }\n                    setValue('attributes.className', classArr.join(' '), ele);\n                }\n                else {\n                    ele.classList.remove(className);\n                }\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to get classlist.\n *\n * @param  {string | string[]} classes - An element the need to check visibility\n * @returns {string[]} ?\n * @private\n */\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n *\n * @param  {Element|Node} element - An element the need to check visibility\n * @returns {boolean} ?\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n *\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @param {boolean} isEval - ?\n * @returns {Element[] | NodeList} ?\n * @private\n */\nexport function prepend(fromElements, toElement, isEval) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    if (isEval) {\n        executeScript(toElement);\n    }\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n *\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @param {boolean} isEval - ?\n * @returns {Element[] | NodeList} ?\n * @private\n */\nexport function append(fromElements, toElement, isEval) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    if (isEval) {\n        executeScript(toElement);\n    }\n    return fromElements;\n}\n/**\n * The function is used to evaluate script from Ajax request\n *\n * @param {Element} ele - An element is going to evaluate the script\n * @returns {void} ?\n */\nfunction executeScript(ele) {\n    var eleArray = ele.querySelectorAll('script');\n    eleArray.forEach(function (element) {\n        var script = document.createElement('script');\n        script.text = element.innerHTML;\n        document.head.appendChild(script);\n        detach(script);\n    });\n}\n/**\n * The function used to remove the element from parentnode\n *\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    if (parentNode) {\n        return parentNode.removeChild(element);\n    }\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n *\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @returns {void} ?\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n *\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {string} attributes - JSON Object that is going to as attributes.\n * @returns {Element} ?\n * @private\n */\n// eslint-disable-next-line\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        if (isObject(ele)) {\n            var iKey = key;\n            if (key === 'tabindex') {\n                iKey = 'tabIndex';\n            }\n            ele.attributes[iKey] = attributes[key];\n        }\n        else {\n            ele.setAttribute(key, attributes[key]);\n        }\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n *\n * @param  {string} selector - Selector string need fetch element\n * @param  {Document|Element} context - It is an optional type, That specifies a Dom context.\n * @param {boolean} needsVDOM ?\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function select(selector, context, needsVDOM) {\n    if (context === void 0) { context = document; }\n    selector = querySelectId(selector);\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n *\n * @param  {string} selector - Selector string need fetch element\n * @param  {Document|Element} context - It is an optional type, That specifies a Dom context.\n * @param {boolean} needsVDOM ?\n * @returns {HTMLElement[]} ?\n * @private\n */\n// eslint-disable-next-line\nexport function selectAll(selector, context, needsVDOM) {\n    if (context === void 0) { context = document; }\n    selector = querySelectId(selector);\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * The function selects an id of element from the given context.\n *\n * @param  {string} selector - Selector string need fetch element\n * @returns {string} ?\n * @private\n */\nfunction querySelectId(selector) {\n    var charRegex = /(!|\"|\\$|%|&|'|\\(|\\)|\\*|\\/|:|;|<|=|\\?|@|\\]|\\^|`|{|}|\\||\\+|~)/g;\n    if (selector.match(/#[0-9]/g) || selector.match(charRegex)) {\n        var idList = selector.split(',');\n        for (var i = 0; i < idList.length; i++) {\n            var list = idList[i].split(' ');\n            for (var j = 0; j < list.length; j++) {\n                if (list[j].indexOf('#') > -1) {\n                    if (!list[j].match(/\\[.*\\]/)) {\n                        var splitId = list[j].split('#');\n                        if (splitId[1].match(/^\\d/) || splitId[1].match(charRegex)) {\n                            var setId = list[j].split('.');\n                            setId[0] = setId[0].replace(/#/, '[id=\\'') + '\\']';\n                            list[j] = setId.join('.');\n                        }\n                    }\n                }\n            }\n            idList[i] = list.join(' ');\n        }\n        return idList.join(',');\n    }\n    return selector;\n}\n/**\n * Returns single closest parent element based on class selector.\n *\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @returns {Element} ?\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n *\n * @param  {Element|Node} element - An element that need to get siblings.\n * @returns {Element[]} ?\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n *\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @returns {string} ?\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal;\n    var isObj = isObject(element);\n    if (isObj) {\n        attrVal = getValue('attributes.' + property, element);\n    }\n    else {\n        attrVal = element.getAttribute(property);\n    }\n    if (isNullOrUndefined(attrVal) && value) {\n        if (!isObj) {\n            element.setAttribute(property, value.toString());\n        }\n        else {\n            element.attributes[property] = value;\n        }\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n *\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @returns {void} ?\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // eslint-disable-next-line\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n *\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @returns {void} ?\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n *\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @returns {void} ?\n * @private\n */\nexport function matches(element, selector) {\n    // eslint-disable-next-line\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n/**\n * Method to get the html text from DOM.\n *\n * @param {HTMLElement} ele - Element to compare with the selector.\n * @param {string} innerHTML - String selector which element will satisfy.\n * @returns {void} ?\n * @private\n */\nexport function includeInnerHTML(ele, innerHTML) {\n    ele.innerHTML = innerHTML;\n}\n/**\n * Method to get the containsclass.\n *\n * @param {HTMLElement} ele - Element to compare with the selector.\n * @param {string} className - String selector which element will satisfy.\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function containsClass(ele, className) {\n    if (isObject(ele)) {\n        // eslint-disable-next-line\n        return new RegExp('\\\\b' + className + '\\\\b', 'i').test(ele.attributes.className);\n    }\n    else {\n        return ele.classList.contains(className);\n    }\n}\n/**\n * Method to check whether the element matches the given selector.\n *\n * @param {Object} element - Element to compare with the selector.\n * @param {boolean} deep ?\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function cloneNode(element, deep) {\n    if (isObject(element)) {\n        if (deep) {\n            return extend({}, {}, element, true);\n        }\n    }\n    else {\n        return element.cloneNode(deep);\n    }\n}\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue, isBlazor, getValue, extend } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\nvar isColEName = new RegExp(']');\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n *\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     *\n     * @param {Object} options ?\n     * @param {string} element ?\n     */\n    function Base(options, element) {\n        this.isRendered = false;\n        this.isComplexArraySetter = false;\n        this.isServerRendered = false;\n        this.allowServerDataBinding = true;\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.bulkChanges = {};\n        this.refreshing = false;\n        this.ignoreCollectionWatch = false;\n        // eslint-disable-next-line\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     *\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange ? - Specifies to true when we set properties.\n     * @returns {void} ?\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        else if (isBlazor() && this.isRendered) {\n            this.serverDataBind(prop);\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    /**\n     * Calls for child element data bind\n     *\n     * @param {Object} obj ?\n     * @param {Object} parent ?\n     * @returns {void} ?\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     *\n     * @returns {void} ?\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /* tslint:disable:no-any */\n    Base.prototype.serverDataBind = function (newChanges) {\n        if (!isBlazor()) {\n            return;\n        }\n        newChanges = newChanges ? newChanges : {};\n        extend(this.bulkChanges, {}, newChanges, true);\n        var sfBlazor = 'sfBlazor';\n        if (this.allowServerDataBinding && window[sfBlazor].updateModel) {\n            window[sfBlazor].updateModel(this);\n            this.bulkChanges = {};\n        }\n    };\n    /* tslint:enable:no-any */\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (isBlazor()) {\n            // tslint:disable-next-line:no-any\n            var newChanges = {};\n            newChanges[key] = newValue;\n            this.serverDataBind(newChanges);\n        }\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     *\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} handler - Specifies the call to run when the event occurs.\n     * @returns {void} ?\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     *\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} handler - Specifies the function to remove\n     * @returns {void} ?\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     *\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @param {Function} successHandler - this function will invoke after event successfully triggered\n     * @param {Function} errorHandler - this function will invoke after event if it failured to call.\n     * @returns {void} ?\n     */\n    Base.prototype.trigger = function (eventName, eventProp, successHandler, errorHandler) {\n        var _this = this;\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            var data = this.modelObserver.notify(eventName, eventProp, successHandler, errorHandler);\n            if (isColEName.test(eventName)) {\n                var handler = getValue(eventName, this);\n                if (handler) {\n                    var blazor = 'Blazor';\n                    if (window[blazor]) {\n                        var promise = handler.call(this, eventProp);\n                        if (promise && typeof promise.then === 'function') {\n                            if (!successHandler) {\n                                data = promise;\n                            }\n                            else {\n                                promise.then(function (data) {\n                                    if (successHandler) {\n                                        data = typeof data === 'string' && _this.modelObserver.isJson(data) ?\n                                            JSON.parse(data) : data;\n                                        successHandler.call(_this, data);\n                                    }\n                                }).catch(function (data) {\n                                    if (errorHandler) {\n                                        data = typeof data === 'string' && _this.modelObserver.isJson(data) ? JSON.parse(data) : data;\n                                        errorHandler.call(_this, data);\n                                    }\n                                });\n                            }\n                        }\n                        else if (successHandler) {\n                            successHandler.call(this, eventProp);\n                        }\n                    }\n                    else {\n                        handler.call(this, eventProp);\n                        if (successHandler) {\n                            successHandler.call(this, eventProp);\n                        }\n                    }\n                }\n                else if (successHandler) {\n                    successHandler.call(this, eventProp);\n                }\n            }\n            this.isProtectedOnChange = prevDetection;\n            return data;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     *\n     * @returns {void} ?\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-lib', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     *\n     * @returns {void} ?\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        // eslint-disable-next-line\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-lib']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\n/**\n * Global function to get the component instance from the rendered element.\n *\n * @param {HTMLElement} elem Specifies the HTMLElement or element id string.\n * @param {string} comp Specifies the component module name or Component.\n * @returns {any} ?\n */\n// tslint:disable-next-line:no-any\nexport function getComponent(elem, comp) {\n    var instance;\n    var i;\n    var ele = typeof elem === 'string' ? document.getElementById(elem) : elem;\n    for (i = 0; i < ele.ej2_instances.length; i++) {\n        instance = ele.ej2_instances[i];\n        if (typeof comp === 'string') {\n            var compName = instance.getModuleName();\n            if (comp === compName) {\n                return instance;\n            }\n        }\n        else {\n            // tslint:disable-next-line:no-any\n            if (instance instanceof comp) {\n                return instance;\n            }\n        }\n    }\n    return undefined;\n}\n/**\n * Function to remove the child instances.\n *\n * @param {HTMLElement} element ?\n * @return {void}\n * @private\n */\n// tslint:disable-next-line:no-any\nexport function removeChildInstance(element) {\n    // tslint:disable-next-line:no-any\n    var childEle = [].slice.call(element.getElementsByClassName('e-control'));\n    for (var i = 0; i < childEle.length; i++) {\n        var compName = childEle[i].classList[1].split('e-')[1];\n        // tslint:disable-next-line:no-any\n        var compInstance = getComponent(childEle[i], compName);\n        if (!isUndefined(compInstance)) {\n            compInstance.destroy();\n        }\n    }\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n *\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type ?\n * @returns {ClassObject} ?\n */\n// eslint-disable-next-line\nfunction getObject(instance, curKey, defaultValue, type) {\n    // eslint-disable-next-line\n    if (!instance.properties.hasOwnProperty(curKey) || !(instance.properties[curKey] instanceof type)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n *\n * @param {ClassObject} instance ?\n * @param {string} curKey ?\n * @param {Object[]} defaultValue ?\n * @param {Object} type ?\n * @param {boolean} isSetter ?\n * @param {boolean} isFactory ?\n * @returns {Object[]} ?\n */\n// eslint-disable-next-line\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue ? defaultValue.length : 0;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i], instance);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], false]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @returns {void} ?\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        // eslint-disable-next-line\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @returns {void} ?\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            // eslint-disable-next-line\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\n// eslint-disable-next-line\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\n/**\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @param {FunctionConstructor} type ?\n * @returns {void} ?\n */\n// eslint-disable-next-line\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        // eslint-disable-next-line\n        if (this.properties.hasOwnProperty(curKey)) {\n            return this.properties[curKey];\n        }\n        else {\n            return getObject(this, curKey, defaultValue, curType);\n        }\n    };\n}\n/**\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue, this);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\n/**\n *\n * @param {Object[]} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        var _this = this;\n        // eslint-disable-next-line\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        var ignore = ((this.controlParent !== undefined && this.controlParent.ignoreCollectionWatch)\n            || this.ignoreCollectionWatch);\n        // eslint-disable-next-line\n        if (!this.properties[curKey].hasOwnProperty('push') && !ignore) {\n            ['push', 'pop'].forEach(function (extendFunc) {\n                var descriptor = {\n                    value: complexArrayDefinedCallback(extendFunc, curKey, type, _this.properties[curKey]).bind(_this),\n                    configurable: true\n                };\n                Object.defineProperty(_this.properties[curKey], extendFunc, descriptor);\n            });\n        }\n        // eslint-disable-next-line\n        if (!this.properties[curKey].hasOwnProperty('isComplexArray')) {\n            Object.defineProperty(this.properties[curKey], 'isComplexArray', { value: true });\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n *\n * @param {Object[]} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        this.isComplexArraySetter = true;\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.isComplexArraySetter = false;\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\n/**\n *\n * @param {Object[]} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        // eslint-disable-next-line\n        var oldValueCollection = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\n/**\n *\n * @param {Object[]} defaultValue ?\n * @param {string} curKey ?\n * @param {FunctionConstructor} type ?\n * @returns {void} ?\n */\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        // eslint-disable-next-line\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n *\n * @param {string} dFunc ?\n * @param {string} curKey ?\n * @param {Object} type ?\n * @param {Object} prop ?\n * @returns {Object} ?\n */\nfunction complexArrayDefinedCallback(dFunc, curKey, type, prop) {\n    /* tslint:disable no-function-expression */\n    return function () {\n        var newValue = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newValue[_i] = arguments[_i];\n        }\n        var keyString = this.propName ? this.getParentKey() + '.' + curKey + '-' : curKey + '-';\n        switch (dFunc) {\n            case 'push':\n                for (var i = 0; i < newValue.length; i++) {\n                    Array.prototype[dFunc].apply(prop, [newValue[i]]);\n                    var model_1 = getArrayModel(keyString + (prop.length - 1), newValue[i], !this.controlParent, dFunc);\n                    this.serverDataBind(model_1, newValue[i], false, dFunc);\n                }\n                break;\n            case 'pop':\n                Array.prototype[dFunc].apply(prop);\n                // eslint-disable-next-line\n                var model = getArrayModel(keyString + prop.length, null, !this.controlParent, dFunc);\n                this.serverDataBind(model, { ejsAction: 'pop' }, false, dFunc);\n                break;\n        }\n        return prop;\n    };\n}\n/**\n *\n * @param {string} keyString ?\n * @param {Object} value ?\n * @param {boolean} isControlParent ?\n * @param {string} arrayFunction ?\n * @returns {Object} ?\n */\nfunction getArrayModel(keyString, value, isControlParent, arrayFunction) {\n    var modelObject = keyString;\n    if (isControlParent) {\n        modelObject = {};\n        modelObject[keyString] = value;\n        if (value && typeof value === 'object') {\n            var action = 'ejsAction';\n            modelObject[keyString][action] = arrayFunction;\n        }\n    }\n    return modelObject;\n}\n// eslint-disable-next-line\n/**\n * Method used to create property. General syntax below.\n *\n * @param {Object} defaultValue - Specifies the default value of property.\n * @returns {PropertyDecorator} ?\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n *\n * @param  {any} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * @returns {PropertyDecorator} ?\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n *\n * @param  {Function} type - Specifies the class factory type of complex object.\n * @returns {PropertyDecorator} ?\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n *\n * @param  {any} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * @returns {PropertyDecorator} ?\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n *\n * @param  {Function} type - Specifies the class type of complex object.\n * @returns {PropertyCollectionInfo} ?\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n *\n * @returns {PropertyDecorator} ?\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * @param {Function} classConstructor ?\n * @returns {void} ?\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\n// eslint-disable-next-line\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n *\n * @param {BuildInfo} target ?\n * @param {string} key ?\n * @param {string} propertyType ?\n * @param {Object} defaultValue ?\n * @param {Function} type ?\n * @returns {void} ?\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    // eslint-disable-next-line\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    // eslint-disable-next-line\n    target.propList[propertyType + 'Names'].push(key);\n}\n/**\n * Returns an object containing the builder properties\n *\n * @param {Function} component ?\n * @returns {Object} ?\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n *\n * @param {any} component -specifies the target component for which builder to be created.\n * @returns {Object} ?\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        // eslint-disable-next-line\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n *\n * @param {Object} context ?\n * @param {string} prefix ?\n * @returns {ParentOption} ?\n * @private\n */\nfunction getParentContext(context, prefix) {\n    // eslint-disable-next-line\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     *\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @returns {void} ?\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     *\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     *\n     * @param {AnimationModel} model ?\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     *\n     * @param {AnimationModel} model ?\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element\n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame\n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    //startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     *\n     * @param {AnimationModel} options ?\n     * @returns {AnimationModel} ?\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     * @param {AnimationModel} newProp ?\n     * @param {AnimationModel} oldProp ?\n     * @returns {void} ?\n     */\n    // eslint-disable-next-line\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     *\n     * @private\n     * @returns {void} ?\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     *\n     * @private\n     * @returns {void} ?\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    var Animation_1;\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n *\n * @private\n * @param {HTMLElement} element - Target element\n * @param {RippleOptions} rippleOptions - Ripple options .\n * @param {Function} done .\n * @returns {void} .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return (function () { });\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\n/**\n * Handler for ripple model\n *\n * @param {RippleOptions} rippleOptions ?\n * @returns {RippleOptions} ?\n */\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n *\n * @param {MouseEvent} e ?\n * @returns {void} ?\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - ((!document.body.scrollTop && document.documentElement) ?\n        document.documentElement.scrollTop : document.body.scrollTop);\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n *\n * @param {MouseEvent} e ?\n * @returns {void} ?\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n *\n * @param {MouseEvent} e ?\n * @returns {void} ?\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n *\n * @param {MouseEvent} e ?\n * @param {RippleArgs} eventArgs ?\n * @returns {void} ?\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n *\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean} ?\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    /**\n     * Inject required modules in component library\n     *\n     * @returns {void} ?\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     *\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     *\n     * @param {ModuleDeclaration[]} moduleList ?\n     * @returns {void} ?\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     *\n     * @param {string} name ?\n     * @returns {string} ?\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     *\n     * @param {string} modName ?\n     * @returns {boolean} ?\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, uniqueID, isBlazor } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\nimport { createElement, addClass, removeClass, select } from './dom';\nvar componentCount = 0;\nvar lastPageID;\nvar lastHistoryLen = 0;\nexport var versionBasedStatePersistence = false;\n/**\n * To enable or disable version based statePersistence functionality for all components globally.\n *\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable versionBasedStatePersistence option.\n * @returns {void}\n */\nexport function enableVersionBasedPersistence(status) {\n    versionBasedStatePersistence = status;\n}\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     *\n     * @param {Object} options ?\n     * @param {string} selector ?\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.randomId = uniqueID();\n        /**\n         * string template option for Blazor template rendering\n         *\n         * @private\n         */\n        _this.isStringTemplate = false;\n        _this.needsID = false;\n        _this.isReactHybrid = false;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this, _this.randomId);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    /**\n     * Destroys the sub modules while destroying the widget\n     *\n     * @returns {void} ?\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        removeClass([this.element], ['e-control']);\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction, this.randomId);\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     *\n     * @returns {void} ?\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    Component.prototype.accessMount = function () {\n        if (this.mount && !this.isReactHybrid) {\n            this.mount();\n        }\n    };\n    /**\n     * Returns the route element of the component\n     *\n     * @returns {HTMLElement} ?\n     */\n    Component.prototype.getRootElement = function () {\n        if (this.isReactHybrid) {\n            // eslint-disable-next-line\n            return this.actualElement;\n        }\n        else {\n            return this.element;\n        }\n    };\n    /**\n     * Returns the persistence data for component\n     *\n     * @returns {any} ?\n     */\n    // eslint-disable-next-line\n    Component.prototype.getLocalData = function () {\n        var eleId = this.getModuleName() + this.element.id;\n        if (versionBasedStatePersistence) {\n            return window.localStorage.getItem(eleId + this.ej2StatePersistenceVersion);\n        }\n        else {\n            return window.localStorage.getItem(eleId);\n        }\n    };\n    /**\n     * Appends the control within the given HTML element\n     *\n     * @param {string | HTMLElement} selector - Target element where control needs to be appended\n     * @returns {void} ?\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = select(selector, document);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n            addClass([this.element], ['e-control', moduleClass]);\n            this.isProtectedOnChange = false;\n            if (this.needsID && !this.element.id) {\n                this.element.id = this.getUniqueID(this.getModuleName());\n            }\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            if (!this.mount) {\n                this.trigger('created');\n            }\n            else {\n                this.accessMount();\n            }\n        }\n    };\n    /**\n     * It is used to process the post rendering functionalities to a component.\n     *\n     * @param {Node} wrapperElement ?\n     * @returns {void} ?\n     */\n    Component.prototype.renderComplete = function (wrapperElement) {\n        if (isBlazor()) {\n            var sfBlazor = 'sfBlazor';\n            // eslint-disable-next-line\n            window[sfBlazor].renderComplete(this.element, wrapperElement);\n        }\n        this.isRendered = true;\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     *\n     * @returns {void} ?\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     *\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @returns {void} ?\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     *\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @returns {void} ?\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     *\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @returns {void} ?\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     *\n     * @returns {Function} ?\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    /**\n     * Dynamically injects the required modules to the component.\n     *\n     * @param {Function} moduleList ?\n     * @returns {void} ?\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    /**\n     * This is a instance method to create an element.\n     *\n     * @param {string} tagName ?\n     * @param {ElementProperties} prop ?\n     * @param {boolean} isVDOM ?\n     * @returns {any} ?\n     * @private\n     */\n    // eslint-disable-next-line\n    Component.prototype.createElement = function (tagName, prop, isVDOM) {\n        return createElement(tagName, prop);\n    };\n    /**\n     *\n     * @param {Function} handler - handler to be triggered after state Updated.\n     * @param {any} argument - Arguments to be passed to caller.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Component.prototype.triggerStateChange = function (handler, argument) {\n        if (this.isReactHybrid) {\n            // eslint-disable-next-line\n            this.setState();\n            this.currentContext = { calls: handler, args: argument };\n        }\n    };\n    // tslint: enable: no-any\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.detectFunction = function (args) {\n        var prop = Object.keys(args);\n        if (prop.length) {\n            this[prop[0]] = args[prop[0]];\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data;\n        if (versionBasedStatePersistence) {\n            data = window.localStorage.getItem(this.getModuleName() + this.element.id + this.ej2StatePersistenceVersion);\n        }\n        else {\n            data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        }\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        if (!this.isDestroyed) {\n            if (versionBasedStatePersistence) {\n                window.localStorage.setItem(this.getModuleName() +\n                    this.element.id + this.ej2StatePersistenceVersion, this.getPersistData());\n            }\n            else {\n                window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n            }\n        }\n    };\n    //tslint:disable-next-line\n    Component.prototype.appendReactElement = function (element, container) {\n        //No Code\n    };\n    ;\n    //tslint:disable-next-line\n    Component.prototype.renderReactTemplates = function () {\n        //No Code\n    };\n    // eslint-disable-next-line\n    Component.prototype.clearTemplate = function (templateName, index) {\n        //No Code\n    };\n    Component.prototype.getUniqueID = function (definedName) {\n        if (this.isHistoryChanged()) {\n            componentCount = 0;\n        }\n        lastPageID = this.pageID(location.href);\n        lastHistoryLen = history.length;\n        return definedName + '_' + lastPageID + '_' + componentCount++;\n    };\n    Component.prototype.pageID = function (url) {\n        var hash = 0;\n        if (url.length === 0) {\n            return hash;\n        }\n        for (var i = 0; i < url.length; i++) {\n            var char = url.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return Math.abs(hash);\n    };\n    Component.prototype.isHistoryChanged = function () {\n        return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            // eslint-disable-next-line\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // eslint-disable-next-line\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n//Function handling for page navigation detection\n/* istanbul ignore next */\n(function () {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', \n        /* istanbul ignore next */\n        function () {\n            componentCount = 0;\n        });\n    }\n})();\n","import { getValue, setValue, merge, isBlazor } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n *\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.isComplexArraySetter = false;\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // eslint-disable-next-line\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.isParentArray = isArray;\n        this.setProperties(defaultValue, true);\n    }\n    /**\n     * Updates the property changes\n     *\n     * @param {boolean} val ?\n     * @param {string} propName ?\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     *\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            var changeTime_1 = setTimeout(this.parentObj.dataBind.bind(this.parentObj));\n            var clearUpdate = function () {\n                clearTimeout(changeTime_1);\n            };\n            this.finalUpdate = clearUpdate;\n        }\n    };\n    /**\n     * Clears changed properties\n     *\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     *\n     * @param {Object} prop ?\n     * @param {boolean} muteOnChange ?\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     *\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     *\n     * @param {string} key ?\n     * @param {Object} newValue ?\n     * @param {Object} oldValue ?\n     * @param {boolean} restrictServerDataBind ?\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue, restrictServerDataBind) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        if (!restrictServerDataBind) {\n            this.serverDataBind(key, newValue, true);\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    ChildProperty.prototype.serverDataBind = function (key, value, isSaveChanges, action) {\n        if (isBlazor() && !this.parentObj.isComplexArraySetter) {\n            var parent_1;\n            var newChanges = {};\n            var parentKey = isSaveChanges ? this.getParentKey(true) + '.' + key : key;\n            /* istanbul ignore else  */\n            if (parentKey.indexOf('.') !== -1) {\n                var complexKeys = parentKey.split('.');\n                parent_1 = newChanges;\n                for (var i = 0; i < complexKeys.length; i++) {\n                    var isFinal = i === complexKeys.length - 1;\n                    parent_1[complexKeys[i]] = isFinal ? value : {};\n                    parent_1 = isFinal ? parent_1 : parent_1[complexKeys[i]];\n                }\n            }\n            else {\n                newChanges[parentKey] = {};\n                parent_1 = newChanges[parentKey];\n                newChanges[parentKey][key] = value;\n            }\n            /* istanbul ignore next */\n            if (this.isParentArray) {\n                var actionProperty = 'ejsAction';\n                parent_1[actionProperty] = action ? action : 'none';\n            }\n            this.controlParent.serverDataBind(newChanges);\n        }\n    };\n    ChildProperty.prototype.getParentKey = function (isSaveChanges) {\n        // eslint-disable-next-line\n        var index = '';\n        var propName = this.propName;\n        /* istanbul ignore next */\n        if (this.isParentArray) {\n            index = this.parentObj[this.propName].indexOf(this);\n            var valueLength = this.parentObj[this.propName].length;\n            valueLength = isSaveChanges ? valueLength : (valueLength > 0 ? valueLength - 1 : 0);\n            index = index !== -1 ? '-' + index : '-' + valueLength;\n            propName = propName + index;\n        }\n        if (this.controlParent !== this.parentObj) {\n            propName = this.parentObj.getParentKey() + '.' + this.propName + index;\n        }\n        return propName;\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent, isBlazor } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\nvar isDraggedObject = { isDragged: false };\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.prevLeft = 0;\n        _this.prevTop = 0;\n        _this.dragProcessStarted = false;\n        /* tslint:disable no-any */\n        _this.eleTop = 0;\n        _this.tapHoldTimer = 0;\n        _this.externalInitialize = false;\n        _this.diffY = 0;\n        _this.parentScrollX = 0;\n        _this.parentScrollY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        var handler = (this.enableTapHold && Browser.isDevice && Browser.isTouch) ? this.mobileInitialize : this.initialize;\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, handler);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, handler, this);\n        }\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.mobileInitialize = function (evt) {\n        var _this = this;\n        var target = evt.currentTarget;\n        this.tapHoldTimer = setTimeout(function () {\n            _this.externalInitialize = true;\n            _this.removeTapholdTimer();\n            _this.initialize(evt, target);\n        }, this.tapHoldThreshold);\n        EventHandler.add(document, Browser.touchMoveEvent, this.removeTapholdTimer, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.removeTapholdTimer, this);\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.removeTapholdTimer = function () {\n        clearTimeout(this.tapHoldTimer);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.removeTapholdTimer);\n        EventHandler.remove(document, Browser.touchEndEvent, this.removeTapholdTimer);\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.getScrollableParent = function (element, axis) {\n        var scroll = { 'vertical': 'scrollHeight', 'horizontal': 'scrollWidth' };\n        var client = { 'vertical': 'clientHeight', 'horizontal': 'clientWidth' };\n        if (isNullOrUndefined(element)) {\n            return null;\n        }\n        if (element[scroll[axis]] > element[client[axis]]) {\n            if (axis === 'vertical' ? element.scrollTop > 0 : element.scrollLeft > 0) {\n                if (axis === 'vertical') {\n                    this.parentScrollY = this.parentScrollY +\n                        (this.parentScrollY === 0 ? element.scrollTop : element.scrollTop - this.parentScrollY);\n                    this.tempScrollHeight = element.scrollHeight;\n                }\n                else {\n                    this.parentScrollX = this.parentScrollX +\n                        (this.parentScrollX === 0 ? element.scrollLeft : element.scrollLeft - this.parentScrollX);\n                    this.tempScrollWidth = element.scrollWidth;\n                }\n                if (!isNullOrUndefined(element)) {\n                    return this.getScrollableParent(element.parentNode, axis);\n                }\n                else {\n                    return element;\n                }\n            }\n            else {\n                return this.getScrollableParent(element.parentNode, axis);\n            }\n        }\n        else {\n            return this.getScrollableParent(element.parentNode, axis);\n        }\n    };\n    Draggable.prototype.getScrollableValues = function () {\n        this.parentScrollX = 0;\n        this.parentScrollY = 0;\n        var isModalDialog = this.element.classList.contains('e-dialog') && this.element.classList.contains('e-dlg-modal');\n        var verticalScrollParent = this.getScrollableParent(this.element.parentNode, 'vertical');\n        var horizontalScrollParent = this.getScrollableParent(this.element.parentNode, 'horizontal');\n    };\n    Draggable.prototype.initialize = function (evt, curTarget) {\n        this.currentStateTarget = evt.target;\n        if (this.isDragStarted()) {\n            return;\n        }\n        else {\n            this.isDragStarted(true);\n            this.externalInitialize = false;\n        }\n        this.target = (evt.currentTarget || curTarget);\n        this.dragProcessStarted = false;\n        if (this.abort) {\n            /* tslint:disable no-any */\n            var abortSelectors = this.abort;\n            if (typeof abortSelectors === 'string') {\n                abortSelectors = [abortSelectors];\n            }\n            for (var i = 0; i < abortSelectors.length; i++) {\n                if (!isNullOrUndefined(closest(evt.target, abortSelectors[i]))) {\n                    /* istanbul ignore next */\n                    if (this.isDragStarted()) {\n                        this.isDragStarted(true);\n                    }\n                    return;\n                }\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches) && evt.type !== 'touchstart') {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.getScrollableValues();\n            if (evt.clientX === evt.pageX) {\n                this.parentScrollX = 0;\n            }\n            if (evt.clientY === evt.pageY) {\n                this.parentScrollY = 0;\n            }\n            this.relativeXPosition = intCoord.pageX - (pos.left + this.parentScrollX);\n            this.relativeYPosition = intCoord.pageY - (pos.top + this.parentScrollY);\n        }\n        if (this.externalInitialize) {\n            this.intDragStart(evt);\n        }\n        else {\n            EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n            EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        }\n        this.toggleEvents(true);\n        if (evt.type !== 'touchstart' && this.isPreventSelect) {\n            document.body.classList.add('e-prevent-select');\n        }\n        this.externalInitialize = false;\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        this.removeTapholdTimer();\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (isChangeTouch) {\n            evt.preventDefault();\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        /* istanbul ignore next */\n        if (this.isReplaceDragEle) {\n            element = this.currentStateCheck(evt.target, element);\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt, this.isDragScroll);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if ((distance >= this.distance || this.externalInitialize)) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                var args = {\n                    event: evt,\n                    element: element,\n                    target: curTarget,\n                    bindEvents: isBlazor() ? this.bindDragEvents.bind(this) : null,\n                    dragElement: dragTargetElement\n                };\n                this.trigger('dragStart', args);\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            this.getScrollableValues();\n            // when drag element has margin-top\n            var styles = getComputedStyle(element);\n            var marginTop = parseFloat(styles.marginTop);\n            /* istanbul ignore next */\n            if (this.clone && marginTop !== 0) {\n                pos.top += marginTop;\n            }\n            this.eleTop = !isNaN(parseFloat(styles.top)) ? parseFloat(styles.top) - this.offset.top : 0;\n            /* istanbul ignore next */\n            // if (this.eleTop > 0) {\n            //     pos.top += this.eleTop;\n            // }\n            if (this.enableScrollHandler && !this.clone) {\n                pos.top -= this.parentScrollY;\n                pos.left -= this.parentScrollX;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            this.dragElePosition = { top: pos.top, left: pos.left };\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (!isBlazor()) {\n                this.bindDragEvents(dragTargetElement);\n            }\n        }\n    };\n    Draggable.prototype.bindDragEvents = function (dragTargetElement) {\n        if (isVisible(dragTargetElement)) {\n            EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n            EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n            this.setGlobalDroppables(false, this.element, dragTargetElement);\n        }\n        else {\n            this.toggleEvents();\n            document.body.classList.remove('e-prevent-select');\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt, this.isDragScroll);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            var flag = true;\n            if (this.hoverObject) {\n                if (this.hoverObject.instance !== eleObj.instance) {\n                    this.triggerOutFunction(evt, eleObj);\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (flag) {\n                eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n                eleObj.instance.intOver(evt, eleObj.target);\n                this.hoverObject = eleObj;\n            }\n        }\n        else if (this.hoverObject) {\n            this.triggerOutFunction(evt, eleObj);\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        var styles = getComputedStyle(helperElement);\n        if (this.dragArea) {\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft && dLeft > 0) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right + window.pageXOffset < dLeft + helperWidth && dLeft > 0) {\n                    left = dLeft - (dLeft - this.dragLimit.right) + window.pageXOffset - helperWidth;\n                }\n                else {\n                    left = dLeft < 0 ? this.dragLimit.left : dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop && dTop > 0) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom + window.pageYOffset < dTop + helperHeight && dTop > 0) {\n                    top = dTop - (dTop - this.dragLimit.bottom) + window.pageYOffset - helperHeight;\n                }\n                else {\n                    top = dTop < 0 ? this.dragLimit.top : dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        if (this.dragProcessStarted) {\n            if (isNullOrUndefined(top)) {\n                top = this.prevTop;\n            }\n            if (isNullOrUndefined(left)) {\n                left = this.prevLeft;\n            }\n        }\n        var draEleTop;\n        var draEleLeft;\n        if (this.dragArea) {\n            this.dragLimit.top = this.clone ? this.dragLimit.top : 0;\n            draEleTop = (top - iTop) < 0 ? this.dragLimit.top : (top - iTop);\n            draEleLeft = (left - iLeft) < 0 ? this.dragElePosition.left : (left - iLeft);\n        }\n        else {\n            draEleTop = top - iTop;\n            draEleLeft = left - iLeft;\n        }\n        var marginTop = parseFloat(getComputedStyle(this.element).marginTop);\n        // when drag-element has margin-top\n        /* istanbul ignore next */\n        if (marginTop > 0) {\n            if (this.clone) {\n                draEleTop += marginTop;\n                if (dTop < 0) {\n                    if ((marginTop + dTop) >= 0) {\n                        draEleTop = marginTop + dTop;\n                    }\n                    else {\n                        draEleTop -= marginTop;\n                    }\n                }\n                draEleTop = (this.dragLimit.bottom < draEleTop) ? this.dragLimit.bottom : draEleTop;\n            }\n            if ((top - iTop) < 0) {\n                if (dTop + marginTop + (helperElement.offsetHeight - iTop) >= 0) {\n                    var tempDraEleTop = this.dragLimit.top + dTop - iTop;\n                    if ((tempDraEleTop + marginTop + iTop) < 0) {\n                        draEleTop -= marginTop + iTop;\n                    }\n                    else {\n                        draEleTop = tempDraEleTop;\n                    }\n                }\n                else {\n                    draEleTop -= marginTop + iTop;\n                }\n            }\n        }\n        /* istanbul ignore next */\n        // if(this.eleTop > 0) {\n        //      draEleTop += this.eleTop;\n        // }\n        if (this.enableScrollHandler && !this.clone) {\n            draEleTop -= this.parentScrollY;\n            draEleLeft -= this.parentScrollX;\n        }\n        var dragValue = this.getProcessedPositionValue({ top: draEleTop + 'px', left: draEleLeft + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n            this.helperElement.scrollIntoView();\n        }\n        this.dragProcessStarted = true;\n        this.prevLeft = left;\n        this.prevTop = top;\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.triggerOutFunction = function (evt, eleObj) {\n        this.hoverObject.instance.intOut(evt, eleObj.target);\n        this.hoverObject.instance.dragData[this.scope] = null;\n        this.hoverObject = null;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        this.dragProcessStarted = false;\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    /**\n     * @private\n     */\n    Draggable.prototype.intDestroy = function (evt) {\n        this.dragProcessStarted = false;\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n        if (this.isDragStarted()) {\n            this.isDragStarted(true);\n        }\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.isDragStarted = function (change) {\n        if (change) {\n            isDraggedObject.isDragged = !isDraggedObject.isDragged;\n        }\n        return isDraggedObject.isDragged;\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = ele.scrollWidth ? ele.scrollWidth : elementArea.right - elementArea.left;\n            eleHeightBound = ele.scrollHeight ? ele.scrollHeight : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = ele.offsetTop + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.pointerEvents || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.pointerEvents = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.pointerEvents = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.currentStateCheck = function (ele, oldEle) {\n        var elem;\n        if (!isNullOrUndefined(this.currentStateTarget) && this.currentStateTarget !== ele) {\n            elem = this.currentStateTarget;\n        }\n        else {\n            elem = !isNullOrUndefined(oldEle) ? oldEle : ele;\n        }\n        return elem;\n    };\n    Draggable.prototype.getMousePosition = function (evt, isdragscroll) {\n        /* tslint:disable no-any */\n        var dragEle = evt.srcElement !== undefined ? evt.srcElement : evt.target;\n        var intCoord = this.getCoordinates(evt);\n        var pageX;\n        var pageY;\n        var isOffsetParent = isNullOrUndefined(dragEle.offsetParent);\n        /* istanbul ignore next */\n        if (isdragscroll) {\n            pageX = this.clone ? intCoord.pageX :\n                (intCoord.pageX + (isOffsetParent ? 0 : dragEle.offsetParent.scrollLeft)) - this.relativeXPosition;\n            pageY = this.clone ? intCoord.pageY :\n                (intCoord.pageY + (isOffsetParent ? 0 : dragEle.offsetParent.scrollTop)) - this.relativeYPosition;\n        }\n        else {\n            pageX = this.clone ? intCoord.pageX : (intCoord.pageX + window.pageXOffset) - this.relativeXPosition;\n            pageY = this.clone ? intCoord.pageY : (intCoord.pageY + window.pageYOffset) - this.relativeYPosition;\n        }\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    var Draggable_1;\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"isDragScroll\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"isReplaceDragEle\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"isPreventSelect\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTapHold\", void 0);\n    __decorate([\n        Property(750)\n    ], Draggable.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableScrollHandler\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    // eslint-disable-next-line\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            var drag = this.dragData[this.scope];\n            this.trigger('over', { event: event, target: element, dragData: drag });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n        this.mouseOver = false;\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     *\n     * @param {HTMLElement} element ?\n     * @param {KeyboardEventsModel} options ?\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         *\n         * @param {KeyboardEventArgs} e ?\n         * @returns {void} ?\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     *\n     * @returns {void} ?\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     *\n     * @param {KeyboardEventsModel} newProp ?\n     * @param {KeyboardEventsModel} oldProp ?\n     * @returns {void} ?\n     * @private\n     */\n    // eslint-disable-next-line\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     *\n     * @returns {string} ?\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     *\n     * @returns {void} ?\n     * @private\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     *\n     * @returns {void} ?\n     * @private\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     *\n     * @param {string} config - configuration data\n     * @returns {KeyData} ?\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string\n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    var KeyboardEvents_1;\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n}(Base));\nexport { KeyboardEvents };\n","import { extend, isNullOrUndefined } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vérifié'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     *\n     * @param {string} controlName ?\n     * @param {Object} localeStrings ?\n     * @param {string} locale ?\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     *\n     * @param {string} locale ?\n     * @returns {void} ?\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     *\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     * @returns {void} ?\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     *\n     * @param {string} prop - specifies the property for which localize text to be returned.\n     * @returns {string} ?\n     */\n    L10n.prototype.getConstant = function (prop) {\n        // Removed conditional operator because this method does not return correct value when passing 0 as value in localization\n        if (!isNullOrUndefined(this.currentLocale[prop])) {\n            return this.currentLocale[prop];\n        }\n        else {\n            return this.localeStrings[prop] || '';\n        }\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     *\n     * @param {Object} curObject ?\n     * @param {string} locale ?\n     * @returns {Object} ?\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if ((curObject)[locale]) {\n            return (curObject)[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = _this.updateChangeTouches(evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n                EventHandler.add(_this.element, Browser.touchCancelEvent, _this.cancelEvent, _this);\n            }\n        };\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.moveEvent = function (evt) {\n            var point = _this.updateChangeTouches(evt);\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.cancelEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            _this.tapCount = 0;\n            _this.swipeFn(evt);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.endEvent = function (evt) {\n            _this.swipeFn(evt);\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            _this.modeclear();\n        };\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.swipeFn = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = _this.updateChangeTouches(evt);\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (_this.isTouchMoved) {\n                var eSwipeArgs = void 0;\n                var tDistance = _this.swipeSettings.swipeThresholdDistance;\n                // eslint-disable-next-line\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.modeclear = function () {\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 20));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed\n    /**\n     *\n     * @private\n     * @param {TouchModel} newProp ?\n     * @param {TouchModel} oldProp ?\n     * @returns {void} ?\n     */\n    // eslint-disable-next-line\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     *\n     * @returns {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     *\n     * @returns {string} ?\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     *\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean} ?\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     *\n     * @param {MouseEventArgs | TouchEventArgs} evt ?\n     * @returns {void} ?\n     */\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        // eslint-disable-next-line\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n        EventHandler.remove(this.element, Browser.touchCancelEvent, this.cancelEvent);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = this.updateChangeTouches(evt);\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = this.updateChangeTouches(evt);\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // eslint-disable-next-line\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    Touch.prototype.updateChangeTouches = function (evt) {\n        var point = evt.changedTouches && evt.changedTouches.length !== 0 ? evt.changedTouches[0] : evt;\n        return point;\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSEIF_STMT = new RegExp('else if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(/if|/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar WORDIF = new RegExp('[\\\\w\"\\'@#$.\\\\s-+]+', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\nvar ARR_OBJ = /^\\..*/gm;\nvar SINGLE_SLASH = /\\\\/gi;\nvar DOUBLE_SLASH = /\\\\\\\\/gi;\nvar WORDFUNC = new RegExp('[\\\\w\"\\'@#$.\\\\s+]+', 'g');\nvar WINDOWFUNC = /\\window\\./gm;\n/**\n * The function to set regular expression for template expression string.\n *\n * @param {RegExp} value - Value expression.\n * @returns {RegExp} ?\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n *\n * @param {string} template - The template string which is going to convert.\n * @param {Object} helper - Helper functions as an object.\n * @param {boolean} ignorePrefix ?\n * @returns {string} ?\n * @private\n */\nexport function compile(template, helper, ignorePrefix) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper, ignorePrefix);\n    var condtion = \"var valueRegEx = (/value=\\\\'([A-Za-z0-9 _]*)((.)([\\\\w)(!-;?-\\u25A0\\\\s]+)['])/g);\\n    var hrefRegex = (/(?:href)([\\\\s='\\\"./]+)([\\\\w-./?=&\\\\\\\\#\\\"]+)((.)([\\\\w)(!-;/?-\\u25A0\\\\s]+)['])/g);\\n    if((str.match(valueRegEx)) && (str.match('svg') === null)){\\n        var check = str.match(valueRegEx);\\n        var str1 = str;\\n        for (var i=0; i < check.length; i++) {\\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\\\"') : check1;\\n            change =change.match(/.$/)[0] === '\\\\'' ? change.replace(/.$/,'\\\"') : change;\\n            str1 = str1.replace(check1, change);\\n        }\\n        str = str.replace(str, str1);\\n    }\\n    else if (str.match(/(?:href='')/) === null) {\\n        if((str.match(hrefRegex)) && (str.match('svg') === null)) {\\n            var check = str.match(hrefRegex);\\n            var str1 = str;\\n            for (var i=0; i < check.length; i++) {\\n                var check1 = str.match(hrefRegex)[i].split('href=')[1];\\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\\\"') : check1;\\n                change =change.match(/.$/)[0] === '\\\\'' ? change.replace(/.$/,'\\\"') : change;\\n                str1 = str1.replace(check1, change);\\n            }\\n            str = str.replace(str, str1);\\n        }\\n    }\\n    \";\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\";\" + condtion + \" return str;\";\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n/** function used to evaluate the function expression\n *\n * @param {string} str ?\n * @param {string} nameSpace ?\n * @param {Object} helper ?\n * @param {boolean} ignorePrefix ?\n * @returns {string} ?\n */\nfunction evalExp(str, nameSpace, helper, ignorePrefix) {\n    var varCOunt = 0;\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    var isClass = str.match(/class=\"([^\"]+|)\\s{2}/g);\n    var singleSpace = '';\n    if (isClass) {\n        isClass.forEach(function (value) {\n            singleSpace = value.replace(/\\s\\s+/g, ' ');\n            str = str.replace(value, singleSpace);\n        });\n    }\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, \n    // eslint-disable-next-line\n    function (match, cnt, offset, matchStr) {\n        var SPECIAL_CHAR = /@|#|\\$/gm;\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (ELSEIF_STMT.test(cnt)) {\n                //handling else-if condition\n                cnt = '\";} ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys, ignorePrefix);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORDIF, function (strs) {\n                    return HandleSpecialCharArrObj(strs, nameSpace, localKeys, ignorePrefix);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                // eslint-disable-next-line\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    varCOunt = varCOunt + 1;\n                    // tslint:disable-next-line\n                    return 'var i' + varCOunt + '=0; i' + varCOunt + ' < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys, ignorePrefix) + '.length; i' + varCOunt + '++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys, ignorePrefix)\n                    + '[i' + varCOunt + ']; \\n var ' + rlStr_1[0] + 'Index=i' + varCOunt + '; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                // eslint-disable-next-line\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                var ftArray = matches[1].split(',');\n                if (matches[1].length !== 0 && !(/data/).test(ftArray[0]) && !(/window./).test(ftArray[0])) {\n                    matches[1] = (fNameSpace === 'global' ? nameSpace + '.' + matches[1] : matches[1]);\n                }\n                var splRegexp = /@|\\$|#/gm;\n                var arrObj = /\\]\\./gm;\n                if (WINDOWFUNC.test(cnt) && arrObj.test(cnt) || splRegexp.test(cnt)) {\n                    var splArrRegexp = /@|\\$|#|\\]\\./gm;\n                    if (splArrRegexp.test(cnt)) {\n                        // tslint:disable-next-line\n                        cnt = '\"+ ' + (fNameSpace === 'global' ? '' : fNameSpace) + cnt.replace(matches[1], rlStr.replace(WORDFUNC, function (strs) {\n                            return HandleSpecialCharArrObj(strs, nameSpace, localKeys, ignorePrefix);\n                        })) + '+ \"';\n                    }\n                }\n                else {\n                    cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                        cnt.replace(rlStr, addNameSpace(matches[1].replace(/,( |)data.|,/gi, ',' + nameSpace + '.').replace(/,( |)data.window/gi, ',window'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys, ignorePrefix)) +\n                        '+\"';\n                }\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            // handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n            // eslint-disable-next-line\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition\n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else if (SPECIAL_CHAR.test(cnt)) {\n            // template string with double slash with special character\n            if (cnt.match(SINGLE_SLASH)) {\n                cnt = SlashReplace(cnt);\n            }\n            cnt = '\"+' + NameSpaceForspecialChar(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '\"]+\"';\n        }\n        else {\n            // template string with double slash\n            if (cnt.match(SINGLE_SLASH)) {\n                cnt = SlashReplace(cnt);\n                cnt = '\"+' + NameSpaceForspecialChar(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '\"]+\"';\n            }\n            else {\n                // evaluate normal expression\n                cnt = '\"+' + addNameSpace(cnt.replace(/,/gi, '+' + nameSpace + '.'), (localKeys.indexOf(cnt) === -1), nameSpace, localKeys, ignorePrefix) + '+\"';\n            }\n        }\n        return cnt;\n    });\n}\n/**\n *\n * @param {string} str ?\n * @param {boolean} addNS ?\n * @param {string} nameSpace ?\n * @param {string[]} ignoreList ?\n * @param {boolean} ignorePrefix ?\n * @returns {string} ?\n */\nfunction addNameSpace(str, addNS, nameSpace, ignoreList, ignorePrefix) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1 && !ignorePrefix) ? nameSpace + '.' + str : str);\n}\n/**\n *\n * @param {string} str ?\n * @param {boolean} addNS ?\n * @param {string} nameSpace ?\n * @param {string[]} ignoreList ?\n * @returns {string} ?\n */\nfunction NameSpaceArrObj(str, addNS, nameSpace, ignoreList) {\n    var arrObjReg = /^\\..*/gm;\n    return ((addNS && !(NOT_NUMBER.test(str)) &&\n        ignoreList.indexOf(str.split('.')[0]) === -1 && !(arrObjReg.test(str))) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n/**\n *\n * @param {string} str ?\n * @param {boolean} addNS ?\n * @param {string} nameSpace ?\n * @param {string[]} ignoreList ?\n * @returns {string} ?\n */\nfunction NameSpaceForspecialChar(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '[\"' + str : str);\n}\n// eslint-disable-next-line\nfunction SlashReplace(tempStr) {\n    var double = '\\\\\\\\';\n    if (tempStr.match(DOUBLE_SLASH)) {\n        // eslint-disable-next-line\n        tempStr = tempStr;\n    }\n    else {\n        tempStr = tempStr.replace(SINGLE_SLASH, double);\n    }\n    return tempStr;\n}\n/**\n *\n * @param {string} str ?\n * @param {string} nameSpaceNew ?\n * @param {string[]} keys ?\n * @param {boolean} ignorePrefix ?\n * @returns {string} ?\n */\nfunction HandleSpecialCharArrObj(str, nameSpaceNew, keys, ignorePrefix) {\n    str = str.trim();\n    var windowFunc = /\\window\\./gm;\n    if (!windowFunc.test(str)) {\n        var quotes = /'|\"/gm;\n        var splRegexp = /@|\\$|#/gm;\n        if (splRegexp.test(str)) {\n            str = NameSpaceForspecialChar(str, (keys.indexOf(str) === -1), nameSpaceNew, keys) + '\"]';\n        }\n        if (ARR_OBJ.test(str)) {\n            return NameSpaceArrObj(str, !(quotes.test(str)) && (keys.indexOf(str) === -1), nameSpaceNew, keys);\n        }\n        else {\n            return addNameSpace(str, !(quotes.test(str)) && (keys.indexOf(str) === -1), nameSpaceNew, keys, ignorePrefix);\n        }\n    }\n    else {\n        return str;\n    }\n}\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nimport { isNullOrUndefined, isBlazor } from './util';\nvar HAS_ROW = /^[\\n\\r.]+<tr|^<tr/;\nvar HAS_SVG = /^[\\n\\r.]+<svg|^<path|^<g/;\nexport var blazorTemplates = {};\n/**\n *\n * @returns {string} ?\n */\nexport function getRandomId() {\n    return '-' + Math.random().toString(36).substr(2, 5);\n}\n/**\n * Compile the template string into template function.\n *\n * @param {string} templateString - The template string which is going to convert.\n * @param {Object} helper - Helper functions as an object.\n * @param {boolean} ignorePrefix ?\n * @returns {NodeList} ?\n * @private\n */\n// eslint-disable-next-line\nexport function compile(templateString, helper, ignorePrefix) {\n    var compiler = engineObj.compile(templateString, helper, ignorePrefix);\n    // eslint-disable-next-line\n    return function (data, component, propName, templateId, isStringTemplate, index, element) {\n        var result = compiler(data, component, propName, element);\n        var blazorTemplateId = 'BlazorTemplateId';\n        if (isBlazor() && !isStringTemplate) {\n            var randomId = getRandomId();\n            var blazorId = templateId + randomId;\n            if (!blazorTemplates[templateId]) {\n                blazorTemplates[templateId] = [];\n            }\n            if (!isNullOrUndefined(index)) {\n                var keys = Object.keys(blazorTemplates[templateId][index]);\n                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                    var key = keys_1[_i];\n                    if (key !== blazorTemplateId && data[key]) {\n                        blazorTemplates[templateId][index][key] = data[key];\n                    }\n                    if (key === blazorTemplateId) {\n                        blazorId = blazorTemplates[templateId][index][key];\n                    }\n                }\n            }\n            else {\n                data[blazorTemplateId] = blazorId;\n                blazorTemplates[templateId].push(data);\n            }\n            // eslint-disable-next-line\n            return propName === 'rowTemplate' ? [createElement('tr', { id: blazorId, className: 'e-blazor-template' })] :\n                // eslint-disable-next-line\n                [createElement('div', { id: blazorId, className: 'e-blazor-template' })];\n        }\n        if (typeof result === 'string') {\n            if (HAS_SVG.test(result)) {\n                var ele = createElement('svg', { innerHTML: result });\n                return ele.childNodes;\n            }\n            else {\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n                return ele.childNodes;\n            }\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n *\n * @param {string} templateId ?\n * @param {string} templateName ?\n * @param {string} comp ?\n * @param {boolean} isEmpty ?\n * @param {Function} callBack ?\n * @returns {void} ?\n */\nexport function updateBlazorTemplate(templateId, templateName, comp, isEmpty, callBack) {\n    if (isBlazor()) {\n        var ejsIntrop = 'sfBlazor';\n        window[ejsIntrop].updateTemplate(templateName, blazorTemplates[templateId], templateId, comp, callBack);\n        if (isEmpty !== false) {\n            blazorTemplates[templateId] = [];\n        }\n    }\n}\n/**\n *\n * @param {string} templateId ?\n * @param {string} templateName ?\n * @param {number} index ?\n * @returns {void} ?\n */\nexport function resetBlazorTemplate(templateId, templateName, index) {\n    var templateDiv = document.getElementById(templateId);\n    if (templateDiv) {\n        // eslint-disable-next-line\n        var innerTemplates = templateDiv.getElementsByClassName('blazor-inner-template');\n        for (var i = 0; i < innerTemplates.length; i++) {\n            var tempId = ' ';\n            if (!isNullOrUndefined(index)) {\n                tempId = innerTemplates[index].getAttribute('data-templateId');\n            }\n            else {\n                tempId = innerTemplates[i].getAttribute('data-templateId');\n            }\n            var tempElement = document.getElementById(tempId);\n            if (tempElement) {\n                var length_1 = tempElement.childNodes.length;\n                for (var j = 0; j < length_1; j++) {\n                    if (!isNullOrUndefined(index)) {\n                        innerTemplates[index].appendChild(tempElement.childNodes[0]);\n                        i = innerTemplates.length;\n                    }\n                    else {\n                        innerTemplates[i].appendChild(tempElement.childNodes[0]);\n                    }\n                }\n            }\n        }\n    }\n}\n/**\n * Set your custom template engine for template rendering.\n *\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @returns {void} ?\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering\n *\n * @returns {string} ?\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    // eslint-disable-next-line\n    Engine.prototype.compile = function (templateString, helper, ignorePrefix) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","/**\n * SanitizeHtmlHelper for sanitize the value.\n */\nimport { detach } from './dom';\nvar removeTags = [\n    'script',\n    'style',\n    'iframe[src]',\n    'link[href*=\"javascript:\"]',\n    'object[type=\"text/x-scriptlet\"]',\n    'object[data^=\"data:text/html;base64\"]',\n    'img[src^=\"data:text/html;base64\"]',\n    '[src^=\"javascript:\"]',\n    '[dynsrc^=\"javascript:\"]',\n    '[lowsrc^=\"javascript:\"]',\n    '[type^=\"application/x-shockwave-flash\"]'\n];\nvar removeAttrs = [\n    { attribute: 'href', selector: '[href*=\"javascript:\"]' },\n    { attribute: 'background', selector: '[background^=\"javascript:\"]' },\n    { attribute: 'style', selector: '[style*=\"javascript:\"]' },\n    { attribute: 'style', selector: '[style*=\"expression(\"]' },\n    { attribute: 'href', selector: 'a[href^=\"data:text/html;base64\"]' }\n];\nvar jsEvents = ['onchange',\n    'onclick',\n    'onmouseover',\n    'onmouseout',\n    'onkeydown',\n    'onload',\n    'onerror',\n    'onblur',\n    'onfocus',\n    'onbeforeload',\n    'onbeforeunload',\n    'onkeyup',\n    'onsubmit',\n    'onafterprint',\n    'onbeforeonload',\n    'onbeforeprint',\n    'onblur',\n    'oncanplay',\n    'oncanplaythrough',\n    'onchange',\n    'onclick',\n    'oncontextmenu',\n    'ondblclick',\n    'ondrag',\n    'ondragend',\n    'ondragenter',\n    'ondragleave',\n    'ondragover',\n    'ondragstart',\n    'ondrop',\n    'ondurationchange',\n    'onemptied',\n    'onended',\n    'onerror',\n    'onerror',\n    'onfocus',\n    'onformchange',\n    'onforminput',\n    'onhaschange',\n    'oninput',\n    'oninvalid',\n    'onkeydown',\n    'onkeypress',\n    'onkeyup',\n    'onload',\n    'onloadeddata',\n    'onloadedmetadata',\n    'onloadstart',\n    'onmessage',\n    'onmousedown',\n    'onmousemove',\n    'onmouseout',\n    'onmouseover',\n    'onmouseup',\n    'onmousewheel',\n    'onoffline',\n    'onoine',\n    'ononline',\n    'onpagehide',\n    'onpageshow',\n    'onpause',\n    'onplay',\n    'onplaying',\n    'onpopstate',\n    'onprogress',\n    'onratechange',\n    'onreadystatechange',\n    'onredo',\n    'onresize',\n    'onscroll',\n    'onseeked',\n    'onseeking',\n    'onselect',\n    'onstalled',\n    'onstorage',\n    'onsubmit',\n    'onsuspend',\n    'ontimeupdate',\n    'onundo',\n    'onunload',\n    'onvolumechange',\n    'onwaiting',\n    'onmouseenter',\n    'onmouseleave',\n    'onmousewheel',\n    'onstart',\n    'onpropertychange'\n];\nvar SanitizeHtmlHelper = /** @class */ (function () {\n    function SanitizeHtmlHelper() {\n    }\n    SanitizeHtmlHelper.beforeSanitize = function () {\n        return {\n            selectors: {\n                tags: removeTags,\n                attributes: removeAttrs\n            }\n        };\n    };\n    SanitizeHtmlHelper.sanitize = function (value) {\n        var item = this.beforeSanitize();\n        var output = this.serializeValue(item, value);\n        return output;\n    };\n    SanitizeHtmlHelper.serializeValue = function (item, value) {\n        this.removeAttrs = item.selectors.attributes;\n        this.removeTags = item.selectors.tags;\n        this.wrapElement = document.createElement('div');\n        this.wrapElement.innerHTML = value;\n        this.removeXssTags();\n        this.removeJsEvents();\n        this.removeXssAttrs();\n        var tempEleValue = this.wrapElement.innerHTML;\n        this.removeElement();\n        return tempEleValue;\n    };\n    SanitizeHtmlHelper.removeElement = function () {\n        // Removes an element's attibute to avoid html tag validation\n        var nodes = this.wrapElement.children;\n        for (var j = 0; j < nodes.length; j++) {\n            var attribute = nodes[j].attributes;\n            for (var i = 0; i < attribute.length; i++) {\n                this.wrapElement.children[j].removeAttribute(attribute[i].localName);\n            }\n        }\n    };\n    SanitizeHtmlHelper.removeXssTags = function () {\n        var elements = this.wrapElement.querySelectorAll(this.removeTags.join(','));\n        if (elements.length > 0) {\n            elements.forEach(function (element) {\n                detach(element);\n            });\n        }\n        else {\n            return;\n        }\n    };\n    SanitizeHtmlHelper.removeJsEvents = function () {\n        var elements = this.wrapElement.querySelectorAll('[' + jsEvents.join('],[') + ']');\n        if (elements.length > 0) {\n            elements.forEach(function (element) {\n                jsEvents.forEach(function (attr) {\n                    if (element.hasAttribute(attr)) {\n                        element.removeAttribute(attr);\n                    }\n                });\n            });\n        }\n        else {\n            return;\n        }\n    };\n    SanitizeHtmlHelper.removeXssAttrs = function () {\n        var _this = this;\n        // eslint-disable-next-line\n        this.removeAttrs.forEach(function (item, index) {\n            var elements = _this.wrapElement.querySelectorAll(item.selector);\n            if (elements.length > 0) {\n                elements.forEach(function (element) {\n                    element.removeAttribute(item.attribute);\n                });\n            }\n        });\n    };\n    return SanitizeHtmlHelper;\n}());\nexport { SanitizeHtmlHelper };\n","/**\n * @hidden\n\n */\nexport var created = 'create';\n/**\n * @hidden\n\n */\nexport var destroyed = 'destroy';\n/**\n * @hidden\n\n */\nexport var load = 'load';\n/**\n * Specifies Rich Text Editor internal events\n */\n/**\n * @hidden\n\n */\nexport var initialLoad = 'initial-load';\n/**\n * @hidden\n\n */\nexport var contentChanged = 'content-changed';\n/**\n * @hidden\n\n */\nexport var initialEnd = 'initial-end';\n/**\n * @hidden\n\n */\nexport var iframeMouseDown = 'iframe-click';\n/**\n * @hidden\n\n */\nexport var destroy = 'destroy';\n/**\n * @hidden\n\n */\nexport var toolbarClick = 'toolbarClick';\n/**\n * @hidden\n\n */\nexport var toolbarRefresh = 'toolbar-refresh';\n/**\n * @hidden\n\n */\nexport var refreshBegin = 'refresh-begin';\n/**\n * @hidden\n\n */\nexport var toolbarUpdated = 'toolbar-updated';\n/**\n * @hidden\n\n */\nexport var bindOnEnd = 'bind-on-end';\n/**\n * @hidden\n\n */\nexport var renderColorPicker = 'render-color-picker';\n/**\n * @hidden\n\n */\nexport var htmlToolbarClick = 'html-toolbar-click';\n/**\n * @hidden\n\n */\nexport var markdownToolbarClick = 'markdown-toolbar-click';\n/**\n * @hidden\n\n */\nexport var destroyColorPicker = 'destroy-color-picker';\n/**\n * @hidden\n\n */\nexport var modelChanged = 'model-changed';\n/**\n * @hidden\n\n */\nexport var keyUp = 'keyUp';\n/**\n * @hidden\n\n */\nexport var keyDown = 'keyDown';\n/**\n * @hidden\n\n */\nexport var mouseUp = 'mouseUp';\n/**\n * @hidden\n\n */\nexport var toolbarCreated = 'toolbarCreated';\n/**\n * @hidden\n\n */\nexport var toolbarRenderComplete = 'toolbarRenderComplete';\n/**\n * @hidden\n\n */\nexport var enableFullScreen = 'enableFullScreen';\n/**\n * @hidden\n\n */\nexport var disableFullScreen = 'disableFullScreen';\n/**\n * @hidden\n\n */\nexport var dropDownSelect = 'dropDownSelect';\n/**\n * @hidden\n\n */\nexport var beforeDropDownItemRender = 'beforeDropDownItemRender';\n/**\n * @hidden\n\n */\nexport var execCommandCallBack = 'execCommandCallBack';\n/**\n * @hidden\n\n */\nexport var imageToolbarAction = 'image-toolbar-action';\n/**\n * @hidden\n\n */\nexport var linkToolbarAction = 'link-toolbar-action';\n/**\n * @hidden\n\n */\nexport var windowResize = 'resize';\n/**\n * @hidden\n\n */\nexport var resizeStart = 'resizeStart';\n/**\n * @hidden\n\n */\nexport var onResize = 'resizing';\n/**\n * @hidden\n\n */\nexport var resizeStop = 'resizeStop';\n/**\n * @hidden\n\n */\nexport var undo = 'undo';\n/**\n * @hidden\n\n */\nexport var redo = 'redo';\n/**\n * @hidden\n\n */\nexport var insertLink = 'insertLink';\n/**\n * @hidden\n\n */\nexport var unLink = 'unLink';\n/**\n * @hidden\n\n */\nexport var editLink = 'editLink';\n/**\n * @hidden\n\n */\nexport var openLink = 'openLink';\n/**\n * @hidden\n\n */\nexport var actionBegin = 'actionBegin';\n/**\n * @hidden\n\n */\nexport var actionComplete = 'actionComplete';\n/**\n * @hidden\n\n */\nexport var updatedToolbarStatus = 'updatedToolbarStatus';\n/**\n * @hidden\n\n */\nexport var actionSuccess = 'actionSuccess';\n/**\n * @hidden\n\n */\nexport var updateToolbarItem = 'updateToolbarItem';\n/**\n * @hidden\n\n */\nexport var insertImage = 'insertImage';\n/**\n * @hidden\n\n */\nexport var insertCompleted = 'insertCompleted';\n/**\n * @hidden\n\n */\nexport var imageLeft = 'justifyLeft';\n/**\n * @hidden\n\n */\nexport var imageRight = 'justifyRight';\n/**\n * @hidden\n\n */\nexport var imageCenter = 'justifyCenter';\n/**\n * @hidden\n\n */\nexport var imageBreak = 'break';\n/**\n * @hidden\n\n */\nexport var imageInline = 'inline';\n/**\n * @hidden\n\n */\nexport var imageLink = 'insertImgLink';\n/**\n * @hidden\n\n */\nexport var imageAlt = 'imgAltText';\n/**\n * @hidden\n\n */\nexport var imageDelete = 'delete';\n/**\n * @hidden\n\n */\nexport var imageCaption = 'caption';\n/**\n * @hidden\n\n */\nexport var imageSize = 'imageSize';\n/**\n * @hidden\n\n */\nexport var sourceCode = 'sourceCode';\n/**\n * @hidden\n\n */\nexport var updateSource = 'updateSource';\n/**\n * @hidden\n\n */\nexport var toolbarOpen = 'toolbarOpen';\n/**\n * @hidden\n\n */\nexport var beforeDropDownOpen = 'beforeDropDownOpen';\n/**\n * @hidden\n\n */\nexport var selectionSave = 'selection-save';\n/**\n * @hidden\n\n */\nexport var selectionRestore = 'selection-restore';\n/**\n * @hidden\n\n */\nexport var expandPopupClick = 'expandPopupClick';\n/**\n * @hidden\n\n */\nexport var count = 'count';\n/**\n * @hidden\n\n */\nexport var contentFocus = 'contentFocus';\n/**\n * @hidden\n\n */\nexport var contentBlur = 'contentBlur';\n/**\n * @hidden\n\n */\nexport var mouseDown = 'mouseDown';\n/**\n * @hidden\n\n */\nexport var sourceCodeMouseDown = 'sourceCodeMouseDown';\n/**\n * @hidden\n\n */\nexport var editAreaClick = 'editAreaClick';\n/**\n * @hidden\n\n */\nexport var scroll = 'scroll';\n/**\n * @hidden\n\n */\nexport var contentscroll = 'contentscroll';\n/**\n * @hidden\n\n */\nexport var colorPickerChanged = 'colorPickerChanged';\n/**\n * @hidden\n\n */\nexport var tableColorPickerChanged = 'tableColorPickerChanged';\n/**\n * @hidden\n\n */\nexport var focusChange = 'focusChange';\n/**\n * @hidden\n\n */\nexport var selectAll = 'selectAll';\n/**\n * @hidden\n\n */\nexport var selectRange = 'selectRange';\n/**\n * @hidden\n\n */\nexport var getSelectedHtml = 'getSelectedHtml';\n/**\n * @hidden\n\n */\nexport var renderInlineToolbar = 'renderInlineToolbar';\n/**\n * @hidden\n\n */\nexport var paste = 'paste-content';\n/**\n * @hidden\n\n */\nexport var imgModule = 'imageModule';\n/**\n * @hidden\n\n */\nexport var rtlMode = 'rtl-mode';\n/**\n * @hidden\n\n */\nexport var createTable = 'createTable';\n/**\n * @hidden\n\n */\nexport var docClick = 'docClick';\n/**\n * @hidden\n\n */\nexport var tableToolbarAction = 'table-toolbar-action';\n/**\n * @hidden\n\n */\nexport var checkUndo = 'checkUndoStack';\n/**\n * @hidden\n\n */\nexport var readOnlyMode = 'readOnlyMode';\n/**\n * @hidden\n\n */\nexport var pasteClean = 'pasteClean';\n/**\n * @hidden\n\n */\nexport var enterHandler = 'enterHandler';\n/**\n * @hidden\n\n */\nexport var beforeDialogOpen = 'beforeDialogOpen';\n/**\n * @hidden\n\n */\nexport var clearDialogObj = 'clearDialogObj';\n/**\n * @hidden\n\n */\nexport var dialogOpen = 'dialogOpen';\n/**\n * @hidden\n\n */\nexport var beforeDialogClose = 'beforeDialogClose';\n/**\n * @hidden\n\n */\nexport var dialogClose = 'dialogClose';\n/**\n * @hidden\n\n */\nexport var beforeQuickToolbarOpen = 'beforeQuickToolbarOpen';\n/**\n * @hidden\n\n */\nexport var quickToolbarOpen = 'quickToolbarOpen';\n/**\n * @hidden\n\n */\nexport var quickToolbarClose = 'quickToolbarClose';\n/**\n * @hidden\n\n */\nexport var popupHide = 'popupHide';\n/**\n * @hidden\n\n */\nexport var imageSelected = 'imageSelected';\n/**\n * @hidden\n\n */\nexport var imageUploading = 'imageUploading';\n/**\n * @hidden\n\n */\nexport var imageUploadSuccess = 'imageUploadSuccess';\n/**\n * @hidden\n\n */\nexport var imageUploadFailed = 'imageUploadFailed';\n/**\n * @hidden\n\n */\nexport var imageRemoving = 'imageRemoving';\n/**\n * @hidden\n\n */\nexport var afterImageDelete = 'afterImageDelete';\n/**\n * @hidden\n\n */\nexport var drop = 'drop';\n/**\n * @hidden\n\n */\nexport var xhtmlValidation = 'xhtmlValidation';\n/**\n * @hidden\n\n */\nexport var beforeImageUpload = 'beforeImageUpload';\n/**\n * @hidden\n\n */\nexport var resizeInitialized = 'resizeInitialized';\n/**\n * @hidden\n\n */\nexport var renderFileManager = 'renderFileManager';\n/**\n * @hidden\n\n */\nexport var beforeImageDrop = 'beforeImageDrop';\n/**\n * @hidden\n\n */\nexport var dynamicModule = 'dynamicModule';\n/**\n * @hidden\n\n */\nexport var beforePasteCleanup = 'beforePasteCleanup';\n/**\n * @hidden\n\n */\nexport var afterPasteCleanup = 'afterPasteCleanup';\n/**\n * @hidden\n\n */\nexport var updateTbItemsStatus = 'updateTbItemsStatus';\n/**\n * @hidden\n\n */\nexport var showLinkDialog = 'showLinkDialog';\n/**\n * @hidden\n\n */\nexport var closeLinkDialog = 'closeLinkDialog';\n/**\n * @hidden\n\n */\nexport var showImageDialog = 'showImageDialog';\n/**\n * @hidden\n\n */\nexport var closeImageDialog = 'closeImageDialog';\n/**\n * @hidden\n\n */\nexport var showTableDialog = 'showTableDialog';\n/**\n * @hidden\n\n */\nexport var closeTableDialog = 'closeTableDialog';\n","/**\n * Rich Text Editor classes defined here.\n */\n/**\n * @hidden\n\n */\nexport var CLS_RTE = 'e-richtexteditor';\n/**\n * @hidden\n\n */\nexport var CLS_RTL = 'e-rtl';\n/**\n * @hidden\n\n */\nexport var CLS_CONTENT = 'e-content';\n/**\n * @hidden\n\n */\nexport var CLS_DISABLED = 'e-disabled';\n/**\n * @hidden\n\n */\nexport var CLS_SCRIPT_SHEET = 'rte-iframe-script-sheet';\n/**\n * @hidden\n\n */\nexport var CLS_STYLE_SHEET = 'rte-iframe-style-sheet';\n/**\n * @hidden\n\n */\nexport var CLS_TOOLBAR = 'e-rte-toolbar';\n/**\n * @hidden\n\n */\nexport var CLS_TB_FIXED = 'e-rte-tb-fixed';\n/**\n * @hidden\n\n */\nexport var CLS_TB_FLOAT = 'e-rte-tb-float';\n/**\n * @hidden\n\n */\nexport var CLS_TB_ABS_FLOAT = 'e-rte-tb-abs-float';\n/**\n * @hidden\n\n */\nexport var CLS_INLINE = 'e-rte-inline';\n/**\n * @hidden\n\n */\nexport var CLS_TB_INLINE = 'e-rte-tb-inline';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_EXPAND_TB = 'e-rte-tb-expand';\n/**\n * @hidden\n\n */\nexport var CLS_FULL_SCREEN = 'e-rte-full-screen';\n/**\n * @hidden\n\n */\nexport var CLS_QUICK_TB = 'e-rte-quick-toolbar';\n/**\n * @hidden\n\n */\nexport var CLS_POP = 'e-rte-pop';\n/**\n * @hidden\n\n */\nexport var CLS_TB_STATIC = 'e-tb-static';\n/**\n * @hidden\n\n */\nexport var CLS_QUICK_POP = 'e-rte-quick-popup';\n/**\n * @hidden\n\n */\nexport var CLS_QUICK_DROPDOWN = 'e-quick-dropdown';\n/**\n * @hidden\n\n */\nexport var CLS_IMAGE_POP = 'e-rte-image-popup';\n/**\n * @hidden\n\n */\nexport var CLS_INLINE_POP = 'e-rte-inline-popup';\n/**\n * @hidden\n\n */\nexport var CLS_INLINE_DROPDOWN = 'e-rte-inline-dropdown';\n/**\n * @hidden\n\n */\nexport var CLS_DROPDOWN_POPUP = 'e-rte-dropdown-popup';\n/**\n * @hidden\n\n */\nexport var CLS_DROPDOWN_ICONS = 'e-rte-dropdown-icons';\n/**\n * @hidden\n\n */\nexport var CLS_DROPDOWN_ITEMS = 'e-rte-dropdown-items';\n/**\n * @hidden\n\n */\nexport var CLS_DROPDOWN_BTN = 'e-rte-dropdown-btn';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_CONTENT = 'e-rte-content';\n/**\n * @hidden\n\n */\nexport var CLS_TB_ITEM = 'e-toolbar-item';\n/**\n * @hidden\n\n */\nexport var CLS_TB_EXTENDED = 'e-toolbar-extended';\n/**\n * @hidden\n\n */\nexport var CLS_TB_WRAP = 'e-toolbar-wrapper';\n/**\n * @hidden\n\n */\nexport var CLS_POPUP = 'e-popup';\n/**\n * @hidden\n\n */\nexport var CLS_SEPARATOR = 'e-separator';\n/**\n * @hidden\n\n */\nexport var CLS_MINIMIZE = 'e-minimize';\n/**\n * @hidden\n\n */\nexport var CLS_MAXIMIZE = 'e-maximize';\n/**\n * @hidden\n\n */\nexport var CLS_BACK = 'e-back';\n/**\n * @hidden\n\n */\nexport var CLS_SHOW = 'e-show';\n/**\n * @hidden\n\n */\nexport var CLS_HIDE = 'e-hide';\n/**\n * @hidden\n\n */\nexport var CLS_VISIBLE = 'e-visible';\n/**\n * @hidden\n\n */\nexport var CLS_FOCUS = 'e-focused';\n/**\n * @hidden\n\n */\nexport var CLS_RM_WHITE_SPACE = 'e-remove-white-space';\n/**\n * @hidden\n\n */\nexport var CLS_IMGRIGHT = 'e-imgright';\n/**\n * @hidden\n\n */\nexport var CLS_IMGLEFT = 'e-imgleft';\n/**\n * @hidden\n\n */\nexport var CLS_IMGCENTER = 'e-imgcenter';\n/**\n * @hidden\n\n */\nexport var CLS_IMGBREAK = 'e-imgbreak';\n/**\n * @hidden\n\n */\nexport var CLS_CAPTION = 'e-img-caption';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_CAPTION = 'e-rte-img-caption';\n/**\n * @hidden\n\n */\nexport var CLS_CAPINLINE = 'e-caption-inline';\n/**\n * @hidden\n\n */\nexport var CLS_IMGINLINE = 'e-imginline';\n/**\n * @hidden\n\n */\nexport var CLS_COUNT = 'e-rte-character-count';\n/**\n * @hidden\n\n */\nexport var CLS_WARNING = 'e-warning';\n/**\n * @hidden\n\n */\nexport var CLS_ERROR = 'e-error';\n/**\n * @hidden\n\n */\nexport var CLS_ICONS = 'e-icons';\n/**\n * @hidden\n\n */\nexport var CLS_ACTIVE = 'e-active';\n/**\n * @hidden\n\n */\nexport var CLS_EXPAND_OPEN = 'e-expand-open';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_ELEMENTS = 'e-rte-elements';\n/**\n * @hidden\n\n */\nexport var CLS_TB_BTN = 'e-tbar-btn';\n/**\n * @hidden\n\n */\nexport var CLS_HR_SEPARATOR = 'e-rte-horizontal-separator';\n/**\n * @hidden\n\n */\nexport var CLS_TB_IOS_FIX = 'e-tbar-ios-fixed';\n/**\n * @hidden\n\n */\nexport var CLS_LIST_PRIMARY_CONTENT = 'e-rte-list-primary-content';\n/**\n * @hidden\n\n */\nexport var CLS_NUMBERFORMATLIST_TB_BTN = 'e-rte-numberformatlist-dropdown';\n/**\n * @hidden\n\n */\nexport var CLS_BULLETFORMATLIST_TB_BTN = 'e-rte-bulletformatlist-dropdown';\n/**\n * @hidden\n\n */\nexport var CLS_FORMATS_TB_BTN = 'e-formats-tbar-btn';\n/**\n * @hidden\n\n */\nexport var CLS_FONT_NAME_TB_BTN = 'e-font-name-tbar-btn';\n/**\n * @hidden\n\n */\nexport var CLS_FONT_SIZE_TB_BTN = 'e-font-size-tbar-btn';\n/**\n * @hidden\n\n */\nexport var CLS_FONT_COLOR_TARGET = 'e-rte-fontcolor-element';\n/**\n * @hidden\n\n */\nexport var CLS_BACKGROUND_COLOR_TARGET = 'e-rte-backgroundcolor-element';\n/**\n * @hidden\n\n */\nexport var CLS_COLOR_CONTENT = 'e-rte-color-content';\n/**\n * @hidden\n\n */\nexport var CLS_FONT_COLOR_DROPDOWN = 'e-rte-fontcolor-dropdown';\n/**\n * @hidden\n\n */\nexport var CLS_BACKGROUND_COLOR_DROPDOWN = 'e-rte-backgroundcolor-dropdown';\n/**\n * @hidden\n\n */\nexport var CLS_COLOR_PALETTE = 'e-rte-square-palette';\n/**\n * @hidden\n\n */\nexport var CLS_FONT_COLOR_PICKER = 'e-rte-fontcolor-colorpicker';\n/**\n * @hidden\n\n */\nexport var CLS_BACKGROUND_COLOR_PICKER = 'e-rte-backgroundcolor-colorpicker';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_READONLY = 'e-rte-readonly';\n/**\n * @hidden\n\n */\nexport var CLS_TABLE_SEL = 'e-cell-select';\n/**\n * @hidden\n\n */\nexport var CLS_TB_DASH_BOR = 'e-dashed-border';\n/**\n * @hidden\n\n */\nexport var CLS_TB_ALT_BOR = 'e-alternate-border';\n/**\n * @hidden\n\n */\nexport var CLS_TB_COL_RES = 'e-column-resize';\n/**\n * @hidden\n\n */\nexport var CLS_TB_ROW_RES = 'e-row-resize';\n/**\n * @hidden\n\n */\nexport var CLS_TB_BOX_RES = 'e-table-box';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_HIDDEN = 'e-rte-hidden';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_PASTE_KEEP_FORMAT = 'e-rte-keepformat';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_PASTE_REMOVE_FORMAT = 'e-rte-removeformat';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_PASTE_PLAIN_FORMAT = 'e-rte-plainformat';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_PASTE_OK = 'e-rte-pasteok';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_PASTE_CANCEL = 'e-rte-pastecancel';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_DIALOG_MIN_HEIGHT = 'e-rte-dialog-minheight';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_RES_HANDLE = 'e-resize-handle';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_RES_EAST = 'e-south-east';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_IMAGE = 'e-rte-image';\n/**\n * @hidden\n\n */\nexport var CLS_RESIZE = 'e-resize';\n/**\n * @hidden\n\n */\nexport var CLS_IMG_FOCUS = 'e-img-focus';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_DRAG_IMAGE = 'e-rte-drag-image';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_UPLOAD_POPUP = 'e-rte-upload-popup';\n/**\n * @hidden\n\n */\nexport var CLS_POPUP_OPEN = 'e-popup-open';\n/**\n * @hidden\n\n */\nexport var CLS_IMG_RESIZE = 'e-img-resize';\n/**\n * @hidden\n\n */\nexport var CLS_DROPAREA = 'e-droparea';\n/**\n * @hidden\n\n */\nexport var CLS_IMG_INNER = 'e-img-inner';\n/**\n * @hidden\n\n */\nexport var CLS_UPLOAD_FILES = 'e-upload-files';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_DIALOG_UPLOAD = 'e-rte-dialog-upload';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_RES_CNT = 'e-rte-resize';\n/**\n * @hidden\n\n */\nexport var CLS_CUSTOM_TILE = 'e-custom-tile';\n/**\n * @hidden\n\n */\nexport var CLS_NOCOLOR_ITEM = 'e-nocolor-item';\n/**\n * @hidden\n\n */\nexport var CLS_TABLE = 'e-rte-table';\n/**\n * @hidden\n\n */\nexport var CLS_TABLE_BORDER = 'e-rte-table-border';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_TABLE_RESIZE = 'e-rte-table-resize';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_FIXED_TB_EXPAND = 'e-rte-fixed-tb-expand';\n/**\n * @hidden\n\n */\nexport var CLS_RTE_TB_ENABLED = 'e-rte-toolbar-enabled';\n","/**\n * Defines util methods used by Rich Text Editor.\n */\nimport { isNullOrUndefined as isNOU, addClass, removeClass, selectAll, createElement } from '@syncfusion/ej2-base';\nimport { Browser, detach, SanitizeHtmlHelper, extend } from '@syncfusion/ej2-base';\nimport * as classes from '../base/classes';\nimport * as model from '../models/items';\nimport { toolsLocale, fontNameLocale, formatsLocale, numberFormatListLocale, bulletFormatListLocale } from '../models/default-locale';\nvar undoRedoItems = ['Undo', 'Redo'];\nvar inlineNode = ['a', 'abbr', 'acronym', 'audio', 'b', 'bdi', 'bdo', 'big', 'br', 'button',\n    'canvas', 'cite', 'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'font', 'i', 'iframe', 'img', 'input',\n    'ins', 'kbd', 'label', 'map', 'mark', 'meter', 'noscript', 'object', 'output', 'picture', 'progress',\n    'q', 'ruby', 's', 'samp', 'script', 'select', 'slot', 'small', 'span', 'strong', 'strike', 'sub', 'sup', 'svg',\n    'template', 'textarea', 'time', 'u', 'tt', 'var', 'video', 'wbr'];\n/**\n * @param {string} val - specifies the string value\n * @param {string} items - specifies the value\n * @returns {number} - returns the number value\n * @hidden\n */\nexport function getIndex(val, items) {\n    var index = -1;\n    items.some(function (item, i) {\n        if (typeof item === 'string' && val === item.toLocaleLowerCase()) {\n            index = i;\n            return true;\n        }\n        return false;\n    });\n    return index;\n}\n/**\n * @param {Element} element - specifies the element\n * @param {string} className - specifies the string value\n * @returns {boolean} - returns the boolean value\n * @hidden\n */\nexport function hasClass(element, className) {\n    var hasClass = false;\n    if (element.classList.contains(className)) {\n        hasClass = true;\n    }\n    return hasClass;\n}\n/**\n * @param {IDropDownItemModel} items - specifies the item model\n * @param {string} value - specifies the string value\n * @param {string} type - specifies the string value\n * @param {string} returnType - specifies the return type\n * @returns {string} - returns the string value\n * @hidden\n */\nexport function getDropDownValue(items, value, type, returnType) {\n    var data;\n    var result;\n    for (var k = 0; k < items.length; k++) {\n        if (type === 'value' && items[k].value.toLocaleLowerCase() === value.toLocaleLowerCase()) {\n            data = items[k];\n            break;\n        }\n        else if (type === 'text' && items[k].text.toLocaleLowerCase() === value.toLocaleLowerCase()) {\n            data = items[k];\n            break;\n        }\n        else if (type === 'subCommand' && items[k].subCommand.toLocaleLowerCase() === value.toLocaleLowerCase()) {\n            data = items[k];\n            break;\n        }\n    }\n    if (!isNOU(data)) {\n        switch (returnType) {\n            case 'text':\n                result = data.text;\n                break;\n            case 'value':\n                result = data.value;\n                break;\n            case 'iconCss':\n                result = data.iconCss;\n                break;\n        }\n    }\n    return result;\n}\n/**\n * @returns {boolean} - returns the boolean value\n * @hidden\n */\nexport function isIDevice() {\n    var result = false;\n    if (Browser.isDevice && Browser.isIos) {\n        result = true;\n    }\n    return result;\n}\n/**\n * @param {string} value - specifies the value\n * @returns {string} - returns the string value\n * @hidden\n */\nexport function getFormattedFontSize(value) {\n    if (isNOU(value)) {\n        return '';\n    }\n    return value;\n}\n/**\n * @param {MouseEvent} e - specifies the mouse event\n * @param {HTMLElement} parentElement - specifies the parent element\n * @param {boolean} isIFrame - specifies the boolean value\n * @returns {number} - returns the number\n * @hidden\n */\nexport function pageYOffset(e, parentElement, isIFrame) {\n    var y = 0;\n    if (isIFrame) {\n        y = window.pageYOffset + parentElement.getBoundingClientRect().top + e.clientY;\n    }\n    else {\n        y = e.pageY;\n    }\n    return y;\n}\n/**\n * @param {string} item - specifies the string\n * @param {ServiceLocator} serviceLocator - specifies the service locator\n * @returns {string} - returns the string\n * @hidden\n */\nexport function getTooltipText(item, serviceLocator) {\n    var i10n = serviceLocator.getService('rteLocale');\n    var itemLocale = toolsLocale[item];\n    var tooltipText = i10n.getConstant(itemLocale);\n    return tooltipText;\n}\n/**\n * @param {ISetToolbarStatusArgs} e - specifies the e element\n * @param {boolean} isPopToolbar - specifies the boolean value\n * @param {IRichTextEditor} self - specifies the parent element\n * @returns {void}\n * @hidden\n */\nexport function setToolbarStatus(e, isPopToolbar, self) {\n    updateDropDownFontFormatLocale(self);\n    var dropDown = e.dropDownModule;\n    var data = e.args;\n    var keys = Object.keys(e.args);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        for (var j = 0; j < e.tbItems.length; j++) {\n            var item = e.tbItems[j].subCommand;\n            var itemStr = item && item.toLocaleLowerCase();\n            if (item && (itemStr === key) || (item === 'UL' && key === 'unorderedlist') || (item === 'OL' && key === 'orderedlist') ||\n                (itemStr === 'pre' && key === 'insertcode')) {\n                if (typeof data[key] === 'boolean') {\n                    if (data[key] === true) {\n                        addClass([e.tbElements[j]], [classes.CLS_ACTIVE]);\n                    }\n                    else {\n                        removeClass([e.tbElements[j]], [classes.CLS_ACTIVE]);\n                    }\n                }\n                else if ((typeof data[key] === 'string' || data[key] === null) &&\n                    getIndex(key, e.parent.toolbarSettings.items) > -1) {\n                    var value = ((data[key]) ? data[key] : '');\n                    var result = '';\n                    switch (key) {\n                        case 'formats': {\n                            if (isNOU(dropDown.formatDropDown) || isPopToolbar ||\n                                (!isNOU(dropDown.formatDropDown) && dropDown.formatDropDown.isDestroyed)) {\n                                break;\n                            }\n                            var formatItems = e.parent.format.types;\n                            var formatContent = isNOU(e.parent.format.default) ? formatItems[0].text :\n                                e.parent.format.default;\n                            result = getDropDownValue(formatItems, value, 'subCommand', 'text');\n                            dropDown.formatDropDown.content = ('<span style=\"display: inline-flex;' +\n                                'width:' + e.parent.format.width + '\" >' +\n                                '<span class=\"e-rte-dropdown-btn-text\">'\n                                + (isNOU(result) ? formatContent : result) +\n                                '</span></span>');\n                            dropDown.formatDropDown.dataBind();\n                            break;\n                        }\n                        case 'alignments': {\n                            if (isNOU(dropDown.alignDropDown) ||\n                                (!isNOU(dropDown.alignDropDown) && dropDown.alignDropDown.isDestroyed)) {\n                                break;\n                            }\n                            var alignItems = model.alignmentItems;\n                            result = getDropDownValue(alignItems, value, 'subCommand', 'iconCss');\n                            dropDown.alignDropDown.iconCss = isNOU(result) ? 'e-icons e-justify-left' : result;\n                            dropDown.alignDropDown.dataBind();\n                            break;\n                        }\n                        case 'fontname': {\n                            if (isNOU(dropDown.fontNameDropDown) || isPopToolbar ||\n                                (!isNOU(dropDown.fontNameDropDown) && dropDown.fontNameDropDown.isDestroyed)) {\n                                break;\n                            }\n                            var fontNameItems = e.parent.fontFamily.items;\n                            result = getDropDownValue(fontNameItems, value, 'value', 'text');\n                            var fontNameContent = isNOU(e.parent.fontFamily.default) ? fontNameItems[0].text :\n                                e.parent.fontFamily.default;\n                            var name_1 = (isNOU(result) ? fontNameContent : result);\n                            e.tbElements[j].title = name_1;\n                            dropDown.fontNameDropDown.content = ('<span style=\"display: inline-flex;' +\n                                'width:' + e.parent.fontFamily.width + '\" >' +\n                                '<span class=\"e-rte-dropdown-btn-text\">'\n                                + name_1 + '</span></span>');\n                            dropDown.fontNameDropDown.dataBind();\n                            break;\n                        }\n                        case 'fontsize': {\n                            if (isNOU(dropDown.fontSizeDropDown) ||\n                                (!isNOU(dropDown.fontSizeDropDown) && dropDown.fontSizeDropDown.isDestroyed)) {\n                                break;\n                            }\n                            var fontSizeItems = e.parent.fontSize.items;\n                            var fontSizeContent = isNOU(e.parent.fontSize.default) ? fontSizeItems[1].text :\n                                e.parent.fontSize.default;\n                            result = getDropDownValue(fontSizeItems, (value === '' ? fontSizeContent.replace(/\\s/g, '') : value), 'value', 'text');\n                            dropDown.fontSizeDropDown.content = ('<span style=\"display: inline-flex;' +\n                                'width:' + e.parent.fontSize.width + '\" >' +\n                                '<span class=\"e-rte-dropdown-btn-text\">'\n                                + getFormattedFontSize(result) + '</span></span>');\n                            dropDown.fontSizeDropDown.dataBind();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n/**\n * @param {string} items - specifies the string value\n * @returns {string[]} - returns the array value\n * @hidden\n */\nexport function getCollection(items) {\n    if (typeof items === 'object') {\n        return items;\n    }\n    else {\n        return [items];\n    }\n}\n/**\n * @param {string[]} items - specifies the array of string value\n * @param {IToolbarItemModel} toolbarItems - specifies the tool bar model\n * @returns {number} - returns the number\n * @hidden\n */\nexport function getTBarItemsIndex(items, toolbarItems) {\n    var itemsIndex = [];\n    for (var i = 0; i < items.length; i++) {\n        for (var j = 0; j < toolbarItems.length; j++) {\n            if (toolbarItems[j].type === 'Separator') {\n                continue;\n            }\n            else {\n                if (items[i] === 'OrderedList' && toolbarItems[j].subCommand === 'OL') {\n                    itemsIndex.push(j);\n                    break;\n                }\n                else if (items[i] === 'UnorderedList' && toolbarItems[j].subCommand === 'UL') {\n                    itemsIndex.push(j);\n                    break;\n                }\n                else if (items[i] === 'InsertCode' && toolbarItems[j].subCommand === 'Pre') {\n                    itemsIndex.push(j);\n                    break;\n                }\n                else if (items[i] === 'FileManager' && toolbarItems[j].subCommand === 'File') {\n                    itemsIndex.push(j);\n                    break;\n                }\n                else if (typeof (items[i]) === 'object' && items[i].command === 'Custom') {\n                    itemsIndex.push(i);\n                    break;\n                }\n                else if (items[i] === toolbarItems[j].subCommand) {\n                    itemsIndex.push(j);\n                    break;\n                }\n            }\n        }\n    }\n    return itemsIndex;\n}\n/**\n * @param {BaseToolbar} baseToolbar - specifies the base\n * @param {boolean} undoRedoStatus - specifies the boolean value\n * @returns {void}\n * @hidden\n */\nexport function updateUndoRedoStatus(baseToolbar, undoRedoStatus) {\n    var i = 0;\n    var trgItems = getTBarItemsIndex(getCollection(undoRedoItems), baseToolbar.toolbarObj.items);\n    var tbItems = selectAll('.' + classes.CLS_TB_ITEM, baseToolbar.toolbarObj.element);\n    var keys = Object.keys(undoRedoStatus);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        var target = tbItems[trgItems[i]];\n        if (target) {\n            baseToolbar.toolbarObj.enableItems(target, undoRedoStatus[key]);\n        }\n        i++;\n    }\n}\n/**\n * To dispatch the event manually\n *\n * @param {Element} element - specifies the element.\n * @param {string} type - specifies the string type.\n * @returns {void}\n * @hidden\n\n */\nexport function dispatchEvent(element, type) {\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    element.dispatchEvent(evt);\n}\n/**\n * To parse the HTML\n *\n * @param {string} value - specifies the string value\n * @returns {DocumentFragment} - returns the document\n * @hidden\n */\nexport function parseHtml(value) {\n    var tempNode = createElement('template');\n    tempNode.innerHTML = value;\n    if (tempNode.content instanceof DocumentFragment) {\n        return tempNode.content;\n    }\n    else {\n        return document.createRange().createContextualFragment(value);\n    }\n}\n/**\n * @param {Document} docElement - specifies the document element\n * @param {Element} node - specifies the node\n * @returns {Node[]} - returns the node array\n * @hidden\n */\nexport function getTextNodesUnder(docElement, node) {\n    var nodes = [];\n    for (node = node.firstChild; node; node = node.nextSibling) {\n        if (node.nodeType === 3) {\n            nodes.push(node);\n        }\n        else {\n            nodes = nodes.concat(getTextNodesUnder(docElement, node));\n        }\n    }\n    return nodes;\n}\n/**\n * @param {IToolsItemConfigs} obj - specifies the configuration\n * @returns {void}\n * @hidden\n */\nexport function toObjectLowerCase(obj) {\n    var convertedValue = {};\n    var keys = Object.keys(obj);\n    for (var i = 0; i < Object.keys(obj).length; i++) {\n        convertedValue[keys[i].toLocaleLowerCase()] = obj[keys[i]];\n    }\n    return convertedValue;\n}\n/**\n * @param {string} value - specifies the string value\n * @param {IRichTextEditor} rteObj - specifies the rte object\n * @returns {string} - returns the string\n * @hidden\n */\nexport function getEditValue(value, rteObj) {\n    var val;\n    if (value !== null && value !== '') {\n        val = rteObj.enableHtmlEncode ? updateTextNode(decode(value), rteObj) : updateTextNode(value, rteObj);\n        rteObj.setProperties({ value: val }, true);\n    }\n    else {\n        if (rteObj.enterKey === 'DIV') {\n            val = rteObj.enableHtmlEncode ? '&lt;div&gt;&lt;br/&gt;&lt;/div&gt;' : '<div><br/></div>';\n        }\n        else if (rteObj.enterKey === 'BR') {\n            val = rteObj.enableHtmlEncode ? '&lt;br/&gt;' : '<br/>';\n        }\n        else {\n            val = rteObj.enableHtmlEncode ? '&lt;p&gt;&lt;br/&gt;&lt;/p&gt;' : '<p><br/></p>';\n        }\n    }\n    return val;\n}\n/**\n * @param {string} value - specifies the value\n * @param {IRichTextEditor} rteObj - specifies the rich text editor instance.\n * @returns {string} - returns the string\n * @hidden\n */\nexport function updateTextNode(value, rteObj) {\n    var tempNode = document.createElement('div');\n    var resultElm = document.createElement('div');\n    var childNodes = tempNode.childNodes;\n    tempNode.innerHTML = value;\n    tempNode.setAttribute('class', 'tempDiv');\n    if (childNodes.length > 0) {\n        var isPreviousInlineElem = void 0;\n        var previousParent = void 0;\n        var insertElem = void 0;\n        while (tempNode.firstChild) {\n            if (rteObj.enterKey !== 'BR' && ((tempNode.firstChild.nodeName === '#text' &&\n                (tempNode.firstChild.textContent.indexOf('\\n') < 0 || tempNode.firstChild.textContent.trim() !== '')) ||\n                inlineNode.indexOf(tempNode.firstChild.nodeName.toLocaleLowerCase()) >= 0)) {\n                if (!isPreviousInlineElem) {\n                    if (rteObj.enterKey === 'DIV') {\n                        insertElem = createElement('div');\n                    }\n                    else {\n                        insertElem = createElement('p');\n                    }\n                    resultElm.appendChild(insertElem);\n                    insertElem.appendChild(tempNode.firstChild);\n                }\n                else {\n                    previousParent.appendChild(tempNode.firstChild);\n                }\n                previousParent = insertElem;\n                isPreviousInlineElem = true;\n            }\n            else if (tempNode.firstChild.nodeName === '#text' && (tempNode.firstChild.textContent === '\\n' ||\n                (tempNode.firstChild.textContent.indexOf('\\n') >= 0 && tempNode.firstChild.textContent.trim() === ''))) {\n                detach(tempNode.firstChild);\n            }\n            else {\n                resultElm.appendChild(tempNode.firstChild);\n                isPreviousInlineElem = false;\n            }\n        }\n        var imageElm = resultElm.querySelectorAll('img');\n        for (var i = 0; i < imageElm.length; i++) {\n            if (!imageElm[i].classList.contains(classes.CLS_RTE_IMAGE)) {\n                imageElm[i].classList.add(classes.CLS_RTE_IMAGE);\n            }\n            if (!(imageElm[i].classList.contains(classes.CLS_IMGINLINE) ||\n                imageElm[i].classList.contains(classes.CLS_IMGBREAK))) {\n                imageElm[i].classList.add(classes.CLS_IMGINLINE);\n            }\n        }\n    }\n    return resultElm.innerHTML;\n}\n/**\n * @param {IRichTextEditor} rteObj - specifies the rte object\n * @returns {string} - returns the value based on enter configuration.\n * @hidden\n */\nexport function getDefaultValue(rteObj) {\n    var currentVal;\n    if (rteObj.enterKey === 'DIV') {\n        currentVal = rteObj.enableHtmlEncode ? '&lt;div&gt;&lt;br/&gt;&lt;/div&gt;' : '<div><br/></div>';\n    }\n    else if (rteObj.enterKey === 'BR') {\n        currentVal = rteObj.enableHtmlEncode ? '&lt;br/&gt;' : '<br/>';\n    }\n    else {\n        currentVal = rteObj.enableHtmlEncode ? '&lt;p&gt;&lt;br/&gt;&lt;/p&gt;' : '<p><br/></p>';\n    }\n    return currentVal;\n}\n/**\n * @param {string} value - specifies the value\n * @returns {boolean} - returns the boolean value\n * @hidden\n */\nexport function isEditableValueEmpty(value) {\n    return (value === '<p><br></p>' || value === '&lt;p&gt;&lt;br&gt;&lt;/p&gt;'\n        || value === '<div><br></div>' || value === '&lt;div&gt;&lt;br&gt;&lt;/div&gt;'\n        || value === '<br>' || value === '&lt;br&gt;'\n        || value === '') ? true : false;\n}\n/**\n * @param {string} value - specifies the string value\n * @returns {string} - returns the string\n * @hidden\n */\nexport function decode(value) {\n    return value.replace(/&amp;/g, '&').replace(/&amp;lt;/g, '<')\n        .replace(/&lt;/g, '<').replace(/&amp;gt;/g, '>')\n        .replace(/&gt;/g, '>').replace(/&nbsp;/g, ' ')\n        .replace(/&amp;nbsp;/g, ' ').replace(/&quot;/g, '');\n}\n/**\n * @param {string} value - specifies the string value\n * @param {IRichTextEditor} parent - specifies the rte\n * @returns {string} - returns the string value\n * @hidden\n */\nexport function sanitizeHelper(value, parent) {\n    if (parent.enableHtmlSanitizer) {\n        var item = SanitizeHtmlHelper.beforeSanitize();\n        var beforeEvent = {\n            cancel: false,\n            helper: null\n        };\n        extend(item, item, beforeEvent);\n        parent.trigger('beforeSanitizeHtml', item);\n        if (item.cancel && !isNOU(item.helper)) {\n            value = item.helper(value);\n        }\n        else if (!item.cancel) {\n            value = SanitizeHtmlHelper.serializeValue(item, value);\n        }\n    }\n    return value;\n}\n/**\n * @param {string} dataUrl - specifies the string value\n * @returns {BaseToolbar} - returns the value\n * @hidden\n */\n//Converting the base64 url to blob\nexport function convertToBlob(dataUrl) {\n    var arr = dataUrl.split(',');\n    var mime = arr[0].match(/:(.*?);/)[1];\n    var bstr = atob(arr[1]);\n    var n = bstr.length;\n    var u8arr = new Uint8Array(n);\n    while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new Blob([u8arr], { type: mime });\n}\n/**\n * @param {IRichTextEditor} self - specifies the rte\n * @param {string} localeItems - specifies the locale items\n * @param {IDropDownItemModel} item - specifies the dropdown item\n * @returns {string} - returns the value\n * @hidden\n */\nexport function getLocaleFontFormat(self, localeItems, item) {\n    for (var i = 0; localeItems.length > i; i++) {\n        if (localeItems[i].value === item.value || localeItems[i].value === item.subCommand) {\n            return self.localeObj.getConstant(localeItems[i].locale);\n        }\n    }\n    return item.text;\n}\n/**\n * @param {IRichTextEditor} self - specifies the rte\n * @returns {void}\n * @hidden\n */\nexport function updateDropDownFontFormatLocale(self) {\n    model.fontFamily.forEach(function (item, i) {\n        model.fontFamily[i].text = getLocaleFontFormat(self, fontNameLocale, model.fontFamily[i]);\n    });\n    model.formatItems.forEach(function (item, i) {\n        model.formatItems[i].text = getLocaleFontFormat(self, formatsLocale, model.formatItems[i]);\n    });\n    model.numberFormatList.forEach(function (item, i) {\n        model.numberFormatList[i].text = getLocaleFontFormat(self, numberFormatListLocale, model.numberFormatList[i]);\n    });\n    model.bulletFormatList.forEach(function (item, i) {\n        model.bulletFormatList[i].text = getLocaleFontFormat(self, bulletFormatListLocale, model.bulletFormatList[i]);\n    });\n}\n","/**\n * Defines types of Render\n *\n * @hidden\n\n */\nexport var RenderType;\n(function (RenderType) {\n    /* eslint-disable */\n    /** Defines RenderType as Toolbar */\n    RenderType[RenderType[\"Toolbar\"] = 0] = \"Toolbar\";\n    /** Defines RenderType as Content */\n    RenderType[RenderType[\"Content\"] = 1] = \"Content\";\n    /** Defines RenderType as Popup */\n    RenderType[RenderType[\"Popup\"] = 2] = \"Popup\";\n    /** Defines RenderType as LinkToolbar */\n    RenderType[RenderType[\"LinkToolbar\"] = 3] = \"LinkToolbar\";\n    /** Defines RenderType as TextToolbar */\n    RenderType[RenderType[\"TextToolbar\"] = 4] = \"TextToolbar\";\n    /** Defines RenderType as ImageToolbar */\n    RenderType[RenderType[\"ImageToolbar\"] = 5] = \"ImageToolbar\";\n    /** Defines RenderType as InlineToolbar */\n    RenderType[RenderType[\"InlineToolbar\"] = 6] = \"InlineToolbar\";\n    /** Defines RenderType as TableToolbar */\n    RenderType[RenderType[\"TableToolbar\"] = 7] = \"TableToolbar\";\n    /* eslint-enable */\n})(RenderType || (RenderType = {}));\n/**\n * Defines types to be used as Toolbar.\n */\nexport var ToolbarType;\n(function (ToolbarType) {\n    /* eslint-disable */\n    /** Defines ToolbarType as Standard */\n    ToolbarType[\"Expand\"] = \"Expand\";\n    /** Defines ToolbarType as MultiRow */\n    ToolbarType[\"MultiRow\"] = \"MultiRow\";\n    /** Defines ToolbarType as Scrollable */\n    ToolbarType[\"Scrollable\"] = \"Scrollable\";\n    /* eslint-enable */\n})(ToolbarType || (ToolbarType = {}));\n/**\n * Defines the type of dialog, which open or close in the Rich Text Editor.\n */\nexport var DialogType;\n(function (DialogType) {\n    /* eslint-disable */\n    /** Defines ToolbarType as Standard */\n    DialogType[\"InsertLink\"] = \"InsertLink\";\n    /** Defines ToolbarType as MultiRow */\n    DialogType[\"InsertImage\"] = \"InsertImage\";\n    /** Defines ToolbarType as Scrollable */\n    DialogType[\"InsertTable\"] = \"InsertTable\";\n    /* eslint-enable */\n})(DialogType || (DialogType = {}));\n","/**\n * Defines common util methods used by Rich Text Editor.\n */\nimport { isNullOrUndefined, Browser, createElement, detach } from '@syncfusion/ej2-base';\nimport * as classes from '../rich-text-editor/base/classes';\nvar inlineNode = ['a', 'abbr', 'acronym', 'audio', 'b', 'bdi', 'bdo', 'big', 'br', 'button',\n    'canvas', 'cite', 'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'font', 'i', 'iframe', 'img', 'input',\n    'ins', 'kbd', 'label', 'map', 'mark', 'meter', 'noscript', 'object', 'output', 'picture', 'progress',\n    'q', 'ruby', 's', 'samp', 'script', 'select', 'slot', 'small', 'span', 'strong', 'strike', 'sub', 'sup', 'svg',\n    'template', 'textarea', 'time', 'u', 'tt', 'var', 'video', 'wbr'];\n/**\n * @returns {void}\n * @hidden\n */\nexport function isIDevice() {\n    var result = false;\n    if (Browser.isDevice && Browser.isIos) {\n        result = true;\n    }\n    return result;\n}\n/**\n * @param {Element} editableElement - specifies the editable element.\n * @param {string} selector - specifies the string values.\n * @returns {void}\n * @hidden\n */\nexport function setEditFrameFocus(editableElement, selector) {\n    if (editableElement.nodeName === 'BODY' && !isNullOrUndefined(selector)) {\n        var iframe = top.window.document.querySelector(selector);\n        if (!isNullOrUndefined(iframe)) {\n            iframe.contentWindow.focus();\n        }\n    }\n}\n/**\n * @param {string} value - specifies the string value\n * @returns {void}\n * @hidden\n */\nexport function updateTextNode(value) {\n    var tempNode = document.createElement('div');\n    tempNode.innerHTML = value;\n    tempNode.setAttribute('class', 'tempDiv');\n    var resultElm = document.createElement('div');\n    var childNodes = tempNode.childNodes;\n    if (childNodes.length > 0) {\n        var isPreviousInlineElem = void 0;\n        var previousParent = void 0;\n        var paraElm = void 0;\n        while (tempNode.firstChild) {\n            if ((tempNode.firstChild.nodeName === '#text' &&\n                (tempNode.firstChild.textContent.indexOf('\\n') < 0 || tempNode.firstChild.textContent.trim() !== '')) ||\n                inlineNode.indexOf(tempNode.firstChild.nodeName.toLocaleLowerCase()) >= 0) {\n                if (!isPreviousInlineElem) {\n                    paraElm = createElement('p');\n                    resultElm.appendChild(paraElm);\n                    paraElm.appendChild(tempNode.firstChild);\n                }\n                else {\n                    previousParent.appendChild(tempNode.firstChild);\n                }\n                previousParent = paraElm;\n                isPreviousInlineElem = true;\n            }\n            else if (tempNode.firstChild.nodeName === '#text' && (tempNode.firstChild.textContent === '\\n' ||\n                (tempNode.firstChild.textContent.indexOf('\\n') >= 0 && tempNode.firstChild.textContent.trim() === ''))) {\n                detach(tempNode.firstChild);\n            }\n            else {\n                resultElm.appendChild(tempNode.firstChild);\n                isPreviousInlineElem = false;\n            }\n        }\n        var tableElm = resultElm.querySelectorAll('table');\n        for (var i = 0; i < tableElm.length; i++) {\n            if (tableElm[i].getAttribute('border') === '0') {\n                tableElm[i].removeAttribute('border');\n            }\n            var tdElm = tableElm[i].querySelectorAll('td');\n            for (var j = 0; j < tdElm.length; j++) {\n                if (tdElm[j].style.borderLeft === 'none') {\n                    tdElm[j].style.removeProperty('border-left');\n                }\n                if (tdElm[j].style.borderRight === 'none') {\n                    tdElm[j].style.removeProperty('border-right');\n                }\n                if (tdElm[j].style.borderBottom === 'none') {\n                    tdElm[j].style.removeProperty('border-bottom');\n                }\n                if (tdElm[j].style.borderTop === 'none') {\n                    tdElm[j].style.removeProperty('border-top');\n                }\n                if (tdElm[j].style.border === 'none') {\n                    tdElm[j].style.removeProperty('border');\n                }\n            }\n            if (!tableElm[i].classList.contains(classes.CLS_TABLE)) {\n                tableElm[i].classList.add(classes.CLS_TABLE);\n            }\n        }\n        var imageElm = resultElm.querySelectorAll('img');\n        for (var i = 0; i < imageElm.length; i++) {\n            if (!imageElm[i].classList.contains(classes.CLS_RTE_IMAGE)) {\n                imageElm[i].classList.add(classes.CLS_RTE_IMAGE);\n            }\n            if (!(imageElm[i].classList.contains(classes.CLS_IMGINLINE) ||\n                imageElm[i].classList.contains(classes.CLS_IMGBREAK))) {\n                imageElm[i].classList.add(classes.CLS_IMGINLINE);\n            }\n        }\n    }\n    return resultElm.innerHTML;\n}\n/**\n * @param {Node} startChildNodes - specifies the node\n * @returns {void}\n * @hidden\n */\nexport function getLastTextNode(startChildNodes) {\n    var finalNode = startChildNodes;\n    do {\n        if (finalNode.childNodes.length > 0) {\n            finalNode = finalNode.childNodes[0];\n        }\n    } while (finalNode.childNodes.length > 0);\n    return finalNode;\n}\n/**\n * @returns {void}\n * @hidden\n */\nexport function getDefaultHtmlTbStatus() {\n    return {\n        bold: false,\n        italic: false,\n        subscript: false,\n        superscript: false,\n        strikethrough: false,\n        orderedlist: false,\n        unorderedlist: false,\n        underline: false,\n        alignments: null,\n        backgroundcolor: null,\n        fontcolor: null,\n        fontname: null,\n        fontsize: null,\n        formats: null,\n        createlink: false,\n        insertcode: false\n    };\n}\n/**\n * @returns {void}\n * @hidden\n */\nexport function getDefaultMDTbStatus() {\n    return {\n        bold: false,\n        italic: false,\n        subscript: false,\n        superscript: false,\n        strikethrough: false,\n        orderedlist: false,\n        uppercase: false,\n        lowercase: false,\n        inlinecode: false,\n        unorderedlist: false,\n        formats: null\n    };\n}\n","/**\n * Constant values for Common\n */\n/**\n * Keydown event trigger\n *\n * @hidden\n */\nexport var KEY_DOWN = 'keydown';\n/**\n * Undo and Redo action HTML plugin events\n *\n * @hidden\n */\nexport var ACTION = 'action';\n/**\n * Formats plugin events\n *\n * @hidden\n */\nexport var FORMAT_TYPE = 'format-type';\n/**\n * Keydown handler event trigger\n *\n * @hidden\n */\nexport var KEY_DOWN_HANDLER = 'keydown-handler';\n/**\n * List plugin events\n *\n * @hidden\n */\nexport var LIST_TYPE = 'list-type';\n/**\n * Keyup handler event trigger\n *\n * @hidden\n */\nexport var KEY_UP_HANDLER = 'keyup-handler';\n/**\n * Keyup event trigger\n *\n * @hidden\n */\nexport var KEY_UP = 'keyup';\n/**\n * Model changed plugin event trigger\n *\n * @hidden\n */\nexport var MODEL_CHANGED_PLUGIN = 'model_changed_plugin';\n/**\n * Model changed event trigger\n *\n * @hidden\n */\nexport var MODEL_CHANGED = 'model_changed';\n/**\n * PasteCleanup plugin for MSWord content\n *\n * @hidden\n */\nexport var MS_WORD_CLEANUP_PLUGIN = 'ms_word_cleanup_plugin';\n/**\n * PasteCleanup for MSWord content\n *\n * @hidden\n */\nexport var MS_WORD_CLEANUP = 'ms_word_cleanup';\n/**\n * ActionBegin event callback\n *\n * @hidden\n */\nexport var ON_BEGIN = 'onBegin';\n/**\n * Callback for spacelist action\n *\n * @hidden\n */\nexport var SPACE_ACTION = 'actionBegin';\n","/* eslint-disable */\n/**\n * Export items model\n */\nexport var templateItems = ['alignments', 'formats', 'fontname', 'fontsize', 'fontcolor', 'backgroundcolor', 'align', 'display', 'tablerows', 'tablecolumns', 'tablecell', 'tablecellhorizontalalign', 'tablecellverticalalign', 'styles', 'numberformatlist', 'bulletformatlist'];\nexport var tools = {\n    'alignments': {\n        'id': 'Alignments',\n        'icon': 'e-alignments',\n        'tooltip': 'Alignments',\n        'command': 'Alignments',\n        'subCommand': 'Alignments'\n    },\n    'justifyleft': {\n        'id': 'JustifyLeft',\n        'icon': 'e-justify-left',\n        'tooltip': 'JustifyLeft',\n        'command': 'Alignments',\n        'subCommand': 'JustifyLeft'\n    },\n    'justifycenter': {\n        'id': 'JustifyCenter',\n        'icon': 'e-justify-center',\n        'tooltip': 'JustifyCenter',\n        'command': 'Alignments',\n        'subCommand': 'JustifyCenter'\n    },\n    'justifyright': {\n        'id': 'JustifyRight',\n        'icon': 'e-justify-right',\n        'tooltip': 'JustifyRight',\n        'command': 'Alignments',\n        'subCommand': 'JustifyRight'\n    },\n    'justifyfull': {\n        'id': 'JustifyFull',\n        'icon': 'e-justify-full',\n        'tooltip': 'JustifyFull',\n        'command': 'Alignments',\n        'subCommand': 'JustifyFull'\n    },\n    'fontname': {\n        'id': 'FontName',\n        'icon': 'e-font-name',\n        'tooltip': 'Font Name',\n        'command': 'Font',\n        'subCommand': 'FontName'\n    },\n    'fontsize': {\n        'id': 'FontSize',\n        'icon': 'e-font-size',\n        'tooltip': 'Font Size',\n        'command': 'Font',\n        'subCommand': 'FontSize'\n    },\n    'fontcolor': {\n        'id': 'FontColor',\n        'icon': 'e-font-color',\n        'tooltip': 'Font Color',\n        'command': 'Font',\n        'subCommand': 'FontColor',\n        'value': '#ff0000ff'\n    },\n    'backgroundcolor': {\n        'id': 'BackgroundColor',\n        'icon': 'e-background-color',\n        'tooltip': 'Background Color',\n        'command': 'Font',\n        'subCommand': 'BackgroundColor',\n        'value': '#ffff00ff'\n    },\n    'bold': {\n        'id': 'Bold',\n        'icon': 'e-bold',\n        'tooltip': 'Bold',\n        'command': 'Style',\n        'subCommand': 'Bold'\n    },\n    'italic': {\n        'id': 'Italic',\n        'icon': 'e-italic',\n        'tooltip': 'Italic',\n        'command': 'Style',\n        'subCommand': 'Italic'\n    },\n    'underline': {\n        'id': 'Underline',\n        'icon': 'e-underline',\n        'tooltip': 'Underline',\n        'command': 'Style',\n        'subCommand': 'Underline'\n    },\n    'strikethrough': {\n        'id': 'StrikeThrough',\n        'icon': 'e-strike-through',\n        'tooltip': 'StrikeThrough',\n        'command': 'Style',\n        'subCommand': 'StrikeThrough'\n    },\n    'clearformat': {\n        'id': 'ClearFormat',\n        'icon': 'e-clear-format',\n        'tooltip': 'Clear Format',\n        'command': 'Clear',\n        'subCommand': 'ClearFormat'\n    },\n    'clearall': {\n        'id': 'ClearAll',\n        'icon': 'e-clear-all',\n        'tooltip': 'Clear All',\n        'command': 'Clear',\n        'subCommand': 'ClearAll'\n    },\n    'cut': {\n        'id': 'Cut',\n        'icon': 'e-cut',\n        'tooltip': 'Cut',\n        'command': 'ClipBoard',\n        'subCommand': 'Cut'\n    },\n    'copy': {\n        'id': 'Copy',\n        'icon': 'e-copy',\n        'tooltip': 'Copy',\n        'command': 'ClipBoard',\n        'subCommand': 'Copy'\n    },\n    'paste': {\n        'id': 'Paste',\n        'icon': 'e-paste',\n        'tooltip': 'Paste',\n        'command': 'ClipBoard',\n        'subCommand': 'Paste'\n    },\n    'unorderedlist': {\n        'id': 'UnorderedList',\n        'icon': 'e-unorder-list',\n        'tooltip': 'Bulleted List',\n        'command': 'Lists',\n        'subCommand': 'UL'\n    },\n    'orderedlist': {\n        'id': 'OrderedList',\n        'icon': 'e-order-list',\n        'tooltip': 'Numbered List',\n        'command': 'Lists',\n        'subCommand': 'OL'\n    },\n    'numberformatlist': {\n        'id': 'NumberFormatList',\n        'icon': 'e-order-list',\n        'tooltip': 'Number Format List',\n        'command': 'NumberFormatList',\n        'subCommand': 'NumberFormatList'\n    },\n    'bulletformatlist': {\n        'id': 'BulletFormatList',\n        'icon': 'e-unorder-list',\n        'tooltip': 'Bullet Format List',\n        'command': 'BulletFormatList',\n        'subCommand': 'BulletFormatList'\n    },\n    'indent': {\n        'id': 'Indent',\n        'icon': 'e-indent',\n        'tooltip': 'Increase Indent',\n        'command': 'Indents',\n        'subCommand': 'Indent'\n    },\n    'outdent': {\n        'id': 'Outdent',\n        'icon': 'e-outdent',\n        'tooltip': 'Decrease Indent',\n        'command': 'Indents',\n        'subCommand': 'Outdent'\n    },\n    'undo': {\n        'id': 'Undo',\n        'icon': 'e-undo',\n        'tooltip': 'Undo',\n        'command': 'Actions',\n        'subCommand': 'Undo'\n    },\n    'redo': {\n        'id': 'Redo',\n        'icon': 'e-redo',\n        'tooltip': 'Redo',\n        'command': 'Actions',\n        'subCommand': 'Redo'\n    },\n    'superscript': {\n        'id': 'SuperScript',\n        'icon': 'e-super-script',\n        'tooltip': 'Superscript',\n        'command': 'Effects',\n        'subCommand': 'SuperScript'\n    },\n    'subscript': {\n        'id': 'SubScript',\n        'icon': 'e-sub-script',\n        'tooltip': 'Subscript',\n        'command': 'Effects',\n        'subCommand': 'SubScript'\n    },\n    'createlink': {\n        'id': 'CreateLink',\n        'icon': 'e-create-link',\n        'tooltip': 'Insert Hyperlink',\n        'command': 'Links',\n        'subCommand': 'CreateLink'\n    },\n    'openlink': {\n        'id': 'OpenLink',\n        'icon': 'e-open-link',\n        'tooltip': 'Open Link',\n        'command': 'Links',\n        'subCommand': 'OpenLink'\n    },\n    'editlink': {\n        'id': 'EditLink',\n        'icon': 'e-edit-link',\n        'tooltip': 'Edit Link',\n        'command': 'Links',\n        'subCommand': 'EditLink'\n    },\n    'removelink': {\n        'id': 'RemoveLink',\n        'icon': 'e-remove-link',\n        'tooltip': 'Remove Link',\n        'command': 'Links',\n        'subCommand': 'RemoveLink'\n    },\n    'image': {\n        'id': 'Image',\n        'icon': 'e-image',\n        'tooltip': 'Insert Image',\n        'command': 'Images',\n        'subCommand': 'Image'\n    },\n    'filemanager': {\n        'id': 'FileManager',\n        'icon': 'e-rte-file-manager',\n        'tooltip': 'File Manager',\n        'command': 'Files',\n        'subCommand': 'File'\n    },\n    'createtable': {\n        'id': 'CreateTable',\n        'icon': 'e-create-table',\n        'tooltip': 'Create Table',\n        'command': 'Table',\n        'subCommand': 'CreateTable'\n    },\n    'removetable': {\n        'id': 'removeTable',\n        'icon': 'e-remove-table',\n        'tooltip': 'Remove Table',\n        'command': 'removeTable',\n        'subCommand': 'removeTable'\n    },\n    'replace': {\n        'id': 'Replace',\n        'icon': 'e-replace',\n        'tooltip': 'Replace',\n        'command': 'Images',\n        'subCommand': 'Replace'\n    },\n    'align': {\n        'id': 'Align',\n        'icon': 'e-align',\n        'tooltip': 'Align',\n        'command': 'Images',\n        'subCommand': 'Align'\n    },\n    'caption': {\n        'id': 'Caption',\n        'icon': 'e-caption',\n        'tooltip': 'Image Caption',\n        'command': 'Images',\n        'subCommand': 'Caption'\n    },\n    'remove': {\n        'id': 'Remove',\n        'icon': 'e-remove',\n        'tooltip': 'Remove',\n        'command': 'Images',\n        'subCommand': 'Remove'\n    },\n    'openimagelink': {\n        'id': 'OpenImageLink',\n        'icon': 'e-open-link',\n        'tooltip': 'Open Link',\n        'command': 'Images',\n        'subCommand': 'OpenImageLink'\n    },\n    'editimagelink': {\n        'id': 'EditImageLink',\n        'icon': 'e-edit-link',\n        'tooltip': 'Edit Link',\n        'command': 'Images',\n        'subCommand': 'EditImageLink'\n    },\n    'removeimagelink': {\n        'id': 'RemoveImageLink',\n        'icon': 'e-remove-link',\n        'tooltip': 'Remove Link',\n        'command': 'Images',\n        'subCommand': 'RemoveImageLink'\n    },\n    'insertlink': {\n        'id': 'InsertLink',\n        'icon': 'e-insert-link',\n        'tooltip': 'Insert Link',\n        'command': 'Images',\n        'subCommand': 'InsertLink'\n    },\n    'display': {\n        'id': 'Display',\n        'icon': 'e-display',\n        'tooltip': 'Display',\n        'command': 'Images',\n        'subCommand': 'Display'\n    },\n    'alttext': {\n        'id': 'AltText',\n        'icon': 'e-alt-text',\n        'tooltip': 'Alternative Text',\n        'command': 'Images',\n        'subCommand': 'AltText'\n    },\n    'dimension': {\n        'id': 'Dimension',\n        'icon': 'e-img-dimension',\n        'tooltip': 'Change Size',\n        'command': 'Images',\n        'subCommand': 'Dimension'\n    },\n    'fullscreen': {\n        'id': 'Maximize',\n        'icon': 'e-maximize',\n        'tooltip': 'Maximize',\n        'command': 'View',\n        'subCommand': 'Maximize'\n    },\n    'maximize': {\n        'id': 'Maximize',\n        'icon': 'e-maximize',\n        'tooltip': 'Maximize',\n        'command': 'FullScreen',\n        'subCommand': 'Maximize'\n    },\n    'minimize': {\n        'id': 'Minimize',\n        'icon': 'e-minimize',\n        'tooltip': 'Minimize',\n        'command': 'FullScreen',\n        'subCommand': 'Minimize'\n    },\n    'lowercase': {\n        'id': 'LowerCase',\n        'icon': 'e-lower-case',\n        'tooltip': 'Lower Case',\n        'command': 'Casing',\n        'subCommand': 'LowerCase'\n    },\n    'uppercase': {\n        'id': 'UpperCase',\n        'icon': 'e-upper-case',\n        'tooltip': 'Upper Case',\n        'command': 'Casing',\n        'subCommand': 'UpperCase'\n    },\n    'print': {\n        'id': 'Print',\n        'icon': 'e-print',\n        'tooltip': 'Print',\n        'command': 'Print',\n        'subCommand': 'Print'\n    },\n    'formats': {\n        'id': 'Formats',\n        'icon': 'e-formats',\n        'tooltip': 'Formats',\n        'command': 'Formats',\n        'subCommand': 'Formats'\n    },\n    'sourcecode': {\n        'id': 'SourceCode',\n        'icon': 'e-source-code',\n        'tooltip': 'Source Code',\n        'command': 'SourceCode',\n        'subCommand': 'SourceCode'\n    },\n    'preview': {\n        'id': 'Preview',\n        'icon': 'e-preview',\n        'tooltip': 'Preview',\n        'command': 'Preview',\n        'subCommand': 'Preview'\n    },\n    'viewside': {\n        'id': 'ViewSide',\n        'icon': 'e-view-side',\n        'tooltip': 'ViewSide',\n        'command': 'ViewSide',\n        'subCommand': 'ViewSide'\n    },\n    'insertcode': {\n        'id': 'InsertCode',\n        'icon': 'e-insert-code',\n        'tooltip': 'Insert Code',\n        'command': 'Formats',\n        'subCommand': 'Pre'\n    },\n    'tableheader': {\n        'id': 'TableHeader',\n        'icon': 'e-table-header',\n        'tooltip': 'Table Header',\n        'command': 'Table',\n        'subCommand': 'TableHeader'\n    },\n    'tableremove': {\n        'id': 'TableRemove',\n        'icon': 'e-table-remove',\n        'tooltip': 'Table Remove',\n        'command': 'Table',\n        'subCommand': 'TableRemove'\n    },\n    'tablerows': {\n        'id': 'TableRows',\n        'icon': 'e-table-rows',\n        'tooltip': 'Table Rows',\n        'command': 'Table',\n        'subCommand': 'TableRows'\n    },\n    'tablecolumns': {\n        'id': 'TableColumns',\n        'icon': 'e-table-columns',\n        'tooltip': 'Table Columns',\n        'command': 'Table',\n        'subCommand': 'TableColumns'\n    },\n    'tablecell': {\n        'id': 'TableCell',\n        'icon': 'e-table-cell',\n        'tooltip': 'Table Cell',\n        'command': 'Table',\n        'subCommand': 'TableCell'\n    },\n    'tablecellbackground': {\n        'id': 'TableCellBackground',\n        'icon': 'e-table-cell-background',\n        'tooltip': 'Table Cell Background',\n        'command': 'Table',\n        'subCommand': 'TableCellBackground'\n    },\n    'tablecellhorizontalalign': {\n        'id': 'TableCellHorizontalAlign',\n        'icon': 'e-table-cell-horizontalAlign',\n        'tooltip': 'Table Cell HorizontalAlign',\n        'command': 'Table',\n        'subCommand': 'TableCellHorizontalAlign'\n    },\n    'tablecellverticalalign': {\n        'id': 'TableCellVerticalAlign',\n        'icon': 'e-table-cell-verticalAlign',\n        'tooltip': 'Table Cell VerticalAlign',\n        'command': 'Table',\n        'subCommand': 'TableCellVerticalAlign'\n    },\n    'tableeditproperties': {\n        'id': 'TableEditProperties',\n        'icon': 'e-table-edit-properties',\n        'tooltip': 'Table Edit Properties',\n        'command': 'Table',\n        'subCommand': 'TableEditProperties'\n    },\n    'styles': {\n        'id': 'Styles',\n        'icon': 'e-table-styles',\n        'tooltip': 'Styles',\n        'command': 'Table',\n        'subCommand': 'Styles'\n    }\n};\nvar alignmentLocale = [\n    { locale: 'alignmentsDropDownLeft', value: 'JustifyLeft' },\n    { locale: 'alignmentsDropDownCenter', value: 'JustifyCenter' },\n    { locale: 'alignmentsDropDownRight', value: 'JustifyRight' },\n    { locale: 'alignmentsDropDownJustify', value: 'JustifyFull' }\n];\nexport var alignmentItems = [\n    { iconCss: 'e-icons e-justify-left', text: 'Align Left', command: 'Alignments', subCommand: 'JustifyLeft' },\n    { iconCss: 'e-icons e-justify-center', text: 'Align Center', command: 'Alignments', subCommand: 'JustifyCenter' },\n    { iconCss: 'e-icons e-justify-right', text: 'Align Right', command: 'Alignments', subCommand: 'JustifyRight' },\n    { iconCss: 'e-icons e-justify-full', text: 'Align Justify', command: 'Alignments', subCommand: 'JustifyFull' }\n];\nexport var imageAlignItems = [\n    { iconCss: 'e-icons e-justify-left', command: 'Images', subCommand: 'JustifyLeft' },\n    { iconCss: 'e-icons e-justify-center', command: 'Images', subCommand: 'JustifyCenter' },\n    { iconCss: 'e-icons e-justify-right', command: 'Images', subCommand: 'JustifyRight' },\n];\nvar displayLocale = [\n    { locale: 'imageDisplayDropDownInline', value: 'Inline' },\n    { locale: 'imageDisplayDropDownBreak', value: 'Break' }\n];\nexport var imageDisplayItems = [\n    { text: 'Inline', cssClass: 'e-inline', command: 'Images', subCommand: 'Inline' },\n    { text: 'Break', cssClass: 'e-break', command: 'Images', subCommand: 'Break' },\n];\nexport var tableCellItems = [\n    { iconCss: 'e-icons e-cell-merge', text: 'Merge cells', command: 'Table', subCommand: 'Merge' },\n    { iconCss: 'e-icons e-cell-horizontal-split', text: 'Horizontal split', command: 'Table', subCommand: 'HorizontalSplit' },\n    { iconCss: 'e-icons e-cell-vertical-split', text: 'Vertical split', command: 'Table', subCommand: 'VerticalSplit' },\n];\nvar tableRowLocale = [\n    { locale: 'tableInsertRowDropDownBefore', value: 'InsertRowBefore' },\n    { locale: 'tableInsertRowDropDownAfter', value: 'InsertRowAfter' },\n    { locale: 'tableInsertRowDropDownDelete', value: 'DeleteRow' }\n];\nexport var tableRowsItems = [\n    { iconCss: 'e-icons e-insert-row-before', text: 'Insert row before', command: 'Table', subCommand: 'InsertRowBefore' },\n    { iconCss: 'e-icons e-insert-row-after', text: 'Insert row after', command: 'Table', subCommand: 'InsertRowAfter' },\n    { iconCss: 'e-icons e-delete-row', text: 'Delete row', command: 'Table', subCommand: 'DeleteRow' },\n];\nvar tableColumnLocale = [\n    { locale: 'tableInsertColumnDropDownLeft', value: 'InsertColumnLeft' },\n    { locale: 'tableInsertColumnDropDownRight', value: 'InsertColumnRight' },\n    { locale: 'tableInsertColumnDropDownDelete', value: 'DeleteColumn' }\n];\nexport var tableColumnsItems = [\n    { iconCss: 'e-icons e-insert-column-left', text: 'Insert column left', command: 'Table', subCommand: 'InsertColumnLeft' },\n    { iconCss: 'e-icons e-insert-column-right', text: 'Insert column right', command: 'Table', subCommand: 'InsertColumnRight' },\n    { iconCss: 'e-icons e-delete-column', text: 'Delete column', command: 'Table', subCommand: 'DeleteColumn' },\n];\nvar tableVerticalLocale = [\n    { locale: 'tableVerticalAlignDropDownTop', value: 'AlignTop' },\n    { locale: 'tableVerticalAlignDropDownMiddle', value: 'AlignMiddle' },\n    { locale: 'tableVerticalAlignDropDownBottom', value: 'AlignBottom' }\n];\nexport var TableCellVerticalAlignItems = [\n    { iconCss: 'e-icons e-align-top', text: 'Align Top', command: 'Table', subCommand: 'AlignTop' },\n    { iconCss: 'e-icons e-align-middle', text: 'Align Middle', command: 'Table', subCommand: 'AlignMiddle' },\n    { iconCss: 'e-icons e-align-bottom', text: 'Align Bottom', command: 'Table', subCommand: 'AlignBottom' },\n];\nvar tableStyleLocale = [\n    { locale: 'tableStylesDropDownDashedBorder', value: 'Dashed' },\n    { locale: 'tableStylesDropDownAlternateRows', value: 'Alternate' }\n];\nexport var TableStyleItems = [\n    { text: 'Dashed Borders', cssClass: 'e-dashed-borders', command: 'Table', subCommand: 'Dashed' },\n    { text: 'Alternate Rows', cssClass: 'e-alternate-rows', command: 'Table', subCommand: 'Alternate' }\n];\nexport var predefinedItems = ['Bold', 'Italic', 'Underline', '|', 'Formats', 'Alignments',\n    'OrderedList', 'UnorderedList', '|', 'CreateLink', 'Image', '|', 'SourceCode', 'Undo', 'Redo'];\nexport var fontFamily = [\n    { cssClass: 'e-segoe-ui', text: 'Segoe UI', command: 'Font', subCommand: 'FontName', value: 'Segoe UI' },\n    { cssClass: 'e-arial', text: 'Arial', command: 'Font', subCommand: 'FontName', value: 'Arial,Helvetica,sans-serif' },\n    { cssClass: 'e-georgia', text: 'Georgia', command: 'Font', subCommand: 'FontName', value: 'Georgia,serif' },\n    { cssClass: 'e-impact', text: 'Impact', command: 'Font', subCommand: 'FontName', value: 'Impact,Charcoal,sans-serif' },\n    { cssClass: 'e-tahoma', text: 'Tahoma', command: 'Font', subCommand: 'FontName', value: 'Tahoma,Geneva,sans-serif' },\n    { cssClass: 'e-times-new-roman', text: 'Times New Roman', command: 'Font', subCommand: 'FontName', value: 'Times New Roman,Times,serif' },\n    { cssClass: 'e-verdana', text: 'Verdana', command: 'Font', subCommand: 'FontName', value: 'Verdana,Geneva,sans-serif' }\n];\nexport var fontSize = [\n    { text: '8 pt', value: '8pt' },\n    { text: '10 pt', value: '10pt' },\n    { text: '12 pt', value: '12pt' },\n    { text: '14 pt', value: '14pt' },\n    { text: '18 pt', value: '18pt' },\n    { text: '24 pt', value: '24pt' },\n    { text: '36 pt', value: '36pt' }\n];\nexport var formatItems = [\n    { cssClass: 'e-paragraph', text: 'Paragraph', command: 'Formats', subCommand: 'P', value: 'P' },\n    { cssClass: 'e-code', text: 'Code', command: 'Formats', subCommand: 'Pre', value: 'Pre' },\n    { cssClass: 'e-quote', text: 'Quotation', command: 'Formats', subCommand: 'BlockQuote', value: 'BlockQuote' },\n    { cssClass: 'e-h1', text: 'Heading 1', command: 'Formats', subCommand: 'H1', value: 'H1' },\n    { cssClass: 'e-h2', text: 'Heading 2', command: 'Formats', subCommand: 'H2', value: 'H2' },\n    { cssClass: 'e-h3', text: 'Heading 3', command: 'Formats', subCommand: 'H3', value: 'H3' },\n    { cssClass: 'e-h4', text: 'Heading 4', command: 'Formats', subCommand: 'H4', value: 'H4' }\n];\nexport var fontColor = {\n    'Custom': [\n        '', '#000000', '#e7e6e6', '#44546a', '#4472c4', '#ed7d31', '#a5a5a5', '#ffc000', '#70ad47', '#ff0000',\n        '#f2f2f2', '#808080', '#cfcdcd', '#d5dce4', '#d9e2f3', '#fbe4d5', '#ededed', '#fff2cc', '#e2efd9', '#ffcccc',\n        '#d9d9d9', '#595959', '#aeaaaa', '#acb9ca', '#b4c6e7', '#f7caac', '#dbdbdb', '#ffe599', '#c5e0b3', '#ff8080',\n        '#bfbfbf', '#404040', '#747070', '#8496b0', '#8eaadb', '#f4b083', '#c9c9c9', '#ffd966', '#a8d08d', '#ff3333',\n        '#a6a6a6', '#262626', '#3b3838', '#323e4f', '#2f5496', '#c45911', '#7b7b7b', '#bf8f00', '#538135', '#b30000',\n        '#7f7f7f', '#0d0d0d', '#161616', '#212934', '#1f3763', '#823b0b', '#525252', '#7f5f00', '#375623', '#660000'\n    ]\n};\nexport var backgroundColor = {\n    'Custom': [\n        '', '#000000', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#ff0000', '#000080', '#800080', '#996633',\n        '#f2f2f2', '#808080', '#ffffcc', '#b3ffb3', '#ccffff', '#ccccff', '#ffcccc', '#ccccff', '#ff80ff', '#f2e6d9',\n        '#d9d9d9', '#595959', '#ffff80', '#80ff80', '#b3ffff', '#8080ff', '#ff8080', '#8080ff', '#ff00ff', '#dfbf9f',\n        '#bfbfbf', '#404040', '#ffff33', '#33ff33', '#33ffff', '#3333ff', '#ff3333', '#0000b3', '#b300b3', '#c68c53',\n        '#a6a6a6', '#262626', '#e6e600', '#00b300', '#009999', '#000099', '#b30000', '#000066', '#660066', '#86592d',\n        '#7f7f7f', '#0d0d0d', '#999900', '#006600', '#006666', '#000066', '#660000', '#00004d', '#4d004d', '#734d26'\n    ]\n};\nexport var numberFormatList = [\n    { text: 'None', command: 'Lists', subCommand: 'NumberFormatList', value: 'none' },\n    { text: 'Number', command: 'Lists', subCommand: 'NumberFormatList', value: 'decimal' },\n    { text: 'Lower Greek', command: 'Lists', subCommand: 'NumberFormatList', value: 'lowerGreek' },\n    { text: 'Lower Roman', command: 'Lists', subCommand: 'NumberFormatList', value: 'lowerRoman' },\n    { text: 'Upper Alpha', command: 'Lists', subCommand: 'NumberFormatList', value: 'upperAlpha' },\n    { text: 'Lower Alpha', command: 'Lists', subCommand: 'NumberFormatList', value: 'lowerAlpha' },\n    { text: 'Upper Roman', command: 'Lists', subCommand: 'NumberFormatList', value: 'upperRoman' },\n];\nexport var bulletFormatList = [\n    { text: 'None', command: 'Lists', subCommand: 'BulletFormatList', value: 'none' },\n    { text: 'Disc', command: 'Lists', subCommand: 'BulletFormatList', value: 'disc' },\n    { text: 'Circle', command: 'Lists', subCommand: 'BulletFormatList', value: 'circle' },\n    { text: 'Square', command: 'Lists', subCommand: 'BulletFormatList', value: 'square' },\n];\nfunction getLocale(self, localeItems, item) {\n    for (var i = 0; localeItems.length > i; i++) {\n        if (localeItems[i].value === item.subCommand) {\n            return self.localeObj.getConstant(localeItems[i].locale);\n        }\n    }\n    return item.text;\n}\nexport function updateDropDownLocale(self) {\n    alignmentItems.forEach(function (item, i) {\n        alignmentItems[i].text = getLocale(self, alignmentLocale, alignmentItems[i]);\n    });\n    imageDisplayItems.forEach(function (item, i) {\n        imageDisplayItems[i].text = getLocale(self, displayLocale, imageDisplayItems[i]);\n    });\n    tableRowsItems.forEach(function (item, i) {\n        tableRowsItems[i].text = getLocale(self, tableRowLocale, tableRowsItems[i]);\n    });\n    tableColumnsItems.forEach(function (item, i) {\n        tableColumnsItems[i].text = getLocale(self, tableColumnLocale, tableColumnsItems[i]);\n    });\n    TableCellVerticalAlignItems.forEach(function (item, i) {\n        TableCellVerticalAlignItems[i].text = getLocale(self, tableVerticalLocale, TableCellVerticalAlignItems[i]);\n    });\n    TableStyleItems.forEach(function (item, i) {\n        TableStyleItems[i].text = getLocale(self, tableStyleLocale, TableStyleItems[i]);\n    });\n}\n","import { ICSSInJSStyle } from '@fluentui/styles';\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport { UIComponentProps, commonPropTypes, rtlTextContainer, createShorthandFactory } from '../../utils';\nimport { FluentComponentStaticProps } from '../../types';\nimport {\n  ComponentWithAs,\n  useStyles,\n  getElementType,\n  useFluentContext,\n  useUnhandledProps,\n  useAccessibility,\n  useTelemetry,\n} from '@fluentui/react-bindings';\n\nexport interface LayoutSlotClassNames {\n  start: string;\n  main: string;\n  end: string;\n  gap: string;\n  reducedStart: string;\n  reducedMain: string;\n  reducedEnd: string;\n}\n\nexport interface LayoutProps extends UIComponentProps {\n  debug?: boolean;\n  renderStartArea?: (params: LayoutProps & { classes: Record<string, string> }) => React.ReactNode;\n  renderMainArea?: (params: LayoutProps & { classes: Record<string, string> }) => React.ReactNode;\n  renderEndArea?: (params: LayoutProps & { classes: Record<string, string> }) => React.ReactNode;\n  renderGap?: (params: LayoutProps & { classes: Record<string, string> }) => React.ReactNode;\n  /** Styled applied to the root element of the rendered component. */\n  rootCSS?: ICSSInJSStyle;\n  start?: any;\n  startCSS?: ICSSInJSStyle;\n  startSize?: string;\n  main?: any;\n  mainCSS?: ICSSInJSStyle;\n  mainSize?: string;\n  end?: any;\n  endCSS?: ICSSInJSStyle;\n  endSize?: string;\n  /** How to align items on-axis within the layout (i.e. vertical or not). */\n  justifyItems?: React.CSSProperties['justifyItems'];\n  /** How to align cross-axis items within the layout (i.e. vertical or not). */\n  alignItems?: React.CSSProperties['alignItems'];\n  /** A layout can have gaps of whitespace between areas. */\n  gap?: string;\n  /** A layout can reduce to the minimum required areas. */\n  reducing?: boolean;\n  /** A layout can render its content directly if only one piece of content exists. */\n  disappearing?: boolean;\n  vertical?: boolean;\n}\n\nexport const layoutClassName = 'ui-layout';\nexport const layoutSlotClassNames: LayoutSlotClassNames = {\n  start: `${layoutClassName}__start`,\n  main: `${layoutClassName}__main`,\n  end: `${layoutClassName}__end`,\n  gap: `${layoutClassName}__gap`,\n  reducedStart: `${layoutClassName}--reduced__start`,\n  reducedMain: `${layoutClassName}--reduced__main`,\n  reducedEnd: `${layoutClassName}--reduced__end`,\n};\n\nexport type LayoutStylesProps = Required<\n  Pick<LayoutProps, 'alignItems' | 'debug' | 'gap' | 'justifyItems' | 'mainSize' | 'endSize' | 'startSize' | 'vertical'>\n> & { hasStart: boolean; hasMain: boolean; hasEnd: boolean };\n\n/**\n * (DEPRECATED) A layout is a utility for arranging the content of a component.\n */\nexport const Layout: ComponentWithAs<'div', LayoutProps> & FluentComponentStaticProps<LayoutProps> = props => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Layout.displayName, context.telemetry);\n  setStart();\n  const {\n    reducing,\n    disappearing,\n    renderStartArea,\n    renderMainArea,\n    renderEndArea,\n    renderGap,\n    alignItems,\n    debug,\n    gap,\n    justifyItems,\n    main,\n    mainSize,\n    end,\n    endSize,\n    start,\n    startSize,\n    vertical,\n    className,\n    design,\n    styles,\n    variables,\n  } = props;\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Layout.handledProps, props);\n\n  const getA11yProps = useAccessibility<never>(props.accessibility, {\n    debugName: Layout.displayName,\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<LayoutStylesProps>(Layout.displayName, {\n    className: layoutClassName,\n    mapPropsToStyles: () => ({\n      alignItems,\n      debug,\n      gap,\n      justifyItems,\n      hasMain: !!main,\n      mainSize,\n      hasEnd: !!end,\n      endSize,\n      hasStart: !!start,\n      startSize,\n      vertical,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const startArea = renderStartArea({ ...props, classes });\n  const mainArea = renderMainArea({ ...props, classes });\n  const endArea = renderEndArea({ ...props, classes });\n\n  if (!startArea && !mainArea && !endArea) {\n    setEnd();\n    return (\n      <ElementType\n        {...getA11yProps('root', {\n          className: classes.root,\n          ...unhandledProps,\n        })}\n      />\n    );\n  }\n\n  const activeAreas = [startArea, mainArea, endArea].filter(Boolean);\n  const isSingleArea = activeAreas.length === 1;\n\n  // disappear: render the content directly without wrapping layout or area elements\n  if (disappearing && isSingleArea) {\n    setEnd();\n    return start || main || end;\n  }\n\n  if (reducing && isSingleArea) {\n    const composedClasses = cx(\n      classes.root,\n      startArea && layoutSlotClassNames.reducedStart,\n      mainArea && layoutSlotClassNames.reducedMain,\n      endArea && layoutSlotClassNames.reducedEnd,\n    );\n    setEnd();\n    return (\n      <ElementType\n        {...getA11yProps('root', {\n          className: composedClasses,\n          ...unhandledProps,\n        })}\n      >\n        {start || main || end}\n      </ElementType>\n    );\n  }\n  setEnd();\n  return (\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        ...unhandledProps,\n      })}\n    >\n      {startArea}\n      {startArea && mainArea && renderGap({ ...props, classes })}\n      {mainArea}\n      {(startArea || mainArea) && endArea && renderGap({ ...props, classes })}\n      {endArea}\n    </ElementType>\n  );\n};\n\nLayout.displayName = 'Layout';\n\nLayout.propTypes = {\n  ...commonPropTypes.createCommon({\n    accessibility: false,\n    children: false,\n    content: false,\n  }),\n  debug: PropTypes.bool,\n\n  renderStartArea: PropTypes.func,\n  renderMainArea: PropTypes.func,\n  renderEndArea: PropTypes.func,\n  renderGap: PropTypes.func,\n\n  rootCSS: PropTypes.object,\n\n  start: PropTypes.any,\n  startCSS: PropTypes.object,\n  startSize: PropTypes.string,\n\n  main: PropTypes.any,\n  mainCSS: PropTypes.object,\n  mainSize: PropTypes.string,\n\n  end: PropTypes.any,\n  endCSS: PropTypes.object,\n  endSize: PropTypes.string,\n\n  justifyItems: PropTypes.any,\n\n  alignItems: PropTypes.any,\n\n  gap: PropTypes.string,\n  reducing: PropTypes.bool,\n  disappearing: PropTypes.bool,\n\n  vertical: PropTypes.bool,\n};\n\nLayout.defaultProps = {\n  startSize: 'auto',\n  mainSize: '1fr',\n  endSize: 'auto',\n\n  // TODO: when an area is another Layout, do not wrap them in an extra div\n  // TODO: option 1) higher value layouts could use start={Layout.create(start)} to ensure Areas are layout root\n  renderStartArea({ start, classes }) {\n    return (\n      start && (\n        <div\n          className={cx(layoutSlotClassNames.start, classes.start)}\n          {...rtlTextContainer.getAttributes({ forElements: [start] })}\n        >\n          {start}\n        </div>\n      )\n    );\n  },\n\n  renderMainArea({ main, classes }) {\n    return (\n      main && (\n        <div\n          className={cx(layoutSlotClassNames.main, classes.main)}\n          {...rtlTextContainer.getAttributes({ forElements: [main] })}\n        >\n          {main}\n        </div>\n      )\n    );\n  },\n\n  renderEndArea({ end, classes }) {\n    return (\n      end && (\n        <div\n          className={cx(layoutSlotClassNames.end, classes.end)}\n          {...rtlTextContainer.getAttributes({ forElements: [end] })}\n        >\n          {end}\n        </div>\n      )\n    );\n  },\n\n  // Heads up!\n  // IE11 Doesn't support grid-gap, insert virtual columns instead\n  renderGap({ gap, classes }) {\n    return gap && <span className={cx(layoutSlotClassNames.gap, classes.gap)} />;\n  },\n};\n\nLayout.handledProps = Object.keys(Layout.propTypes) as any;\n\nLayout.create = createShorthandFactory({\n  Component: Layout,\n});\n","/**\n * Position library\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\n/**\n *\n * @param {HTMLElement} anchor - specifies the element\n * @param {HTMLElement} element - specifies the element\n * @returns {OffsetPosition} - returns the value\n */\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\n/**\n *\n * @param {Element} currentElement - specifies the element\n * @param {string} positionX - specifies the position\n * @param {string} positionY - specifies the position\n * @param {boolean} parentElement - specifies the boolean\n * @param {ClientRect} targetValues - specifies the client\n * @returns {OffsetPosition} - returns the position\n */\nexport function calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    //eslint-disable-next-line\n    popupRect = undefined;\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\n/**\n *\n * @param {string} posX - specifies the position\n * @param {string} posY - specifies the position\n * @param {OffsetPosition} pos - specifies the position\n * @returns {OffsetPosition} - returns the postion\n */\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementRight() {\n    var popupWidth = (element && element.classList.contains('e-date-range-wrapper')) ? (popupRect ? popupRect.width : 0) :\n        (popupRect && (elementRect.width >= popupRect.width) ? popupRect.width : 0);\n    return elementRect.right + getBodyScrollLeft() - popupWidth;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * ServiceLocator\n *\n * @hidden\n\n */\nvar ServiceLocator = /** @class */ (function () {\n    function ServiceLocator() {\n        this.services = {};\n    }\n    /* eslint-disable */\n    /**\n     * register method\n     *\n     * @param {string} name - specifies the name.\n     * @param {T} type - specifies the type.\n     * @returns {void}\n     * @hidden\n\n     */\n    /* eslint-enable */\n    ServiceLocator.prototype.register = function (name, type) {\n        if (isNullOrUndefined(this.services[name])) {\n            this.services[name] = type;\n        }\n    };\n    /**\n     * getService method\n     *\n     * @param {string} name - specifies the name.\n     * @returns {void}\n     * @hidden\n\n     */\n    ServiceLocator.prototype.getService = function (name) {\n        if (isNullOrUndefined(this.services[name])) {\n            // eslint-disable-next-line\n            throw \"The service \" + name + \" is not registered\";\n        }\n        return this.services[name];\n    };\n    return ServiceLocator;\n}());\nexport { ServiceLocator };\n","/* eslint-disable */\n/**\n * Export default locale\n */\nexport var defaultLocale = {\n    'alignments': 'Alignments',\n    'justifyLeft': 'Align Left',\n    'justifyCenter': 'Align Center',\n    'justifyRight': 'Align Right',\n    'justifyFull': 'Align Justify',\n    'fontName': 'Font Name',\n    'fontSize': 'Font Size',\n    'fontColor': 'Font Color',\n    'backgroundColor': 'Background Color',\n    'bold': 'Bold',\n    'italic': 'Italic',\n    'underline': 'Underline',\n    'strikethrough': 'Strikethrough',\n    'clearFormat': 'Clear Format',\n    'clearAll': 'Clear All',\n    'cut': 'Cut',\n    'copy': 'Copy',\n    'paste': 'Paste',\n    'unorderedList': 'Bulleted List',\n    'orderedList': 'Numbered List',\n    'indent': 'Increase Indent',\n    'outdent': 'Decrease Indent',\n    'undo': 'Undo',\n    'redo': 'Redo',\n    'superscript': 'Superscript',\n    'subscript': 'Subscript',\n    'createLink': 'Insert Link',\n    'openLink': 'Open Link',\n    'editLink': 'Edit Link',\n    'removeLink': 'Remove Link',\n    'image': 'Insert Image',\n    'replace': 'Replace',\n    'align': 'Align',\n    'caption': 'Image Caption',\n    'remove': 'Remove',\n    'insertLink': 'Insert Link',\n    'display': 'Display',\n    'altText': 'Alternative Text',\n    'dimension': 'Change Size',\n    'fullscreen': 'Maximize',\n    'maximize': 'Maximize',\n    'minimize': 'Minimize',\n    'lowerCase': 'Lower Case',\n    'upperCase': 'Upper Case',\n    'print': 'Print',\n    'formats': 'Formats',\n    'sourcecode': 'Code View',\n    'preview': 'Preview',\n    'viewside': 'ViewSide',\n    'insertCode': 'Insert Code',\n    'linkText': 'Display Text',\n    'linkTooltipLabel': 'Title',\n    'linkWebUrl': 'Web Address',\n    'linkTitle': 'Enter a title',\n    'linkurl': 'http://example.com',\n    'linkOpenInNewWindow': 'Open Link in New Window',\n    'linkHeader': 'Insert Link',\n    'dialogInsert': 'Insert',\n    'dialogCancel': 'Cancel',\n    'dialogUpdate': 'Update',\n    'imageHeader': 'Insert Image',\n    'imageLinkHeader': 'You can also provide a link from the web',\n    'mdimageLink': 'Please provide a URL for your image',\n    'imageUploadMessage': 'Drop image here or browse to upload',\n    'imageDeviceUploadMessage': 'Click here to upload',\n    'imageAlternateText': 'Alternate Text',\n    'alternateHeader': 'Alternative Text',\n    'browse': 'Browse',\n    'imageUrl': 'http://example.com/image.png',\n    'imageCaption': 'Caption',\n    'imageSizeHeader': 'Image Size',\n    'imageHeight': 'Height',\n    'imageWidth': 'Width',\n    'textPlaceholder': 'Enter Text',\n    'inserttablebtn': 'Insert Table',\n    'tabledialogHeader': 'Insert Table',\n    'tableWidth': 'Width',\n    'cellpadding': 'Cell Padding',\n    'cellspacing': 'Cell Spacing',\n    'columns': 'Number of columns',\n    'rows': 'Number of rows',\n    'tableRows': 'Table Rows',\n    'tableColumns': 'Table Columns',\n    'tableCellHorizontalAlign': 'Table Cell Horizontal Align',\n    'tableCellVerticalAlign': 'Table Cell Vertical Align',\n    'createTable': 'Create Table',\n    'removeTable': 'Remove Table',\n    'tableHeader': 'Table Header',\n    'tableRemove': 'Table Remove',\n    'tableCellBackground': 'Table Cell Background',\n    'tableEditProperties': 'Table Edit Properties',\n    'styles': 'Styles',\n    'insertColumnLeft': 'Insert Column Left',\n    'insertColumnRight': 'Insert Column Right',\n    'deleteColumn': 'Delete Column',\n    'insertRowBefore': 'Insert Row Before',\n    'insertRowAfter': 'Insert Row After',\n    'deleteRow': 'Delete Row',\n    'tableEditHeader': 'Edit Table',\n    'TableHeadingText': 'Heading',\n    'TableColText': 'Col',\n    'imageInsertLinkHeader': 'Insert Link',\n    'editImageHeader': 'Edit Image',\n    \"alignmentsDropDownLeft\": 'Align Left',\n    \"alignmentsDropDownCenter\": 'Align Center',\n    \"alignmentsDropDownRight\": 'Align Right',\n    \"alignmentsDropDownJustify\": 'Align Justify',\n    \"imageDisplayDropDownInline\": 'Inline',\n    \"imageDisplayDropDownBreak\": 'Break',\n    \"tableInsertRowDropDownBefore\": 'Insert row before',\n    \"tableInsertRowDropDownAfter\": 'Insert row after',\n    \"tableInsertRowDropDownDelete\": 'Delete row',\n    \"tableInsertColumnDropDownLeft\": 'Insert column left',\n    \"tableInsertColumnDropDownRight\": 'Insert column right',\n    \"tableInsertColumnDropDownDelete\": 'Delete column',\n    \"tableVerticalAlignDropDownTop\": 'Align Top',\n    \"tableVerticalAlignDropDownMiddle\": 'Align Middle',\n    \"tableVerticalAlignDropDownBottom\": 'Align Bottom',\n    \"tableStylesDropDownDashedBorder\": 'Dashed Borders',\n    \"tableStylesDropDownAlternateRows\": 'Alternate Rows',\n    'pasteFormat': 'Paste Format',\n    'pasteFormatContent': 'Choose the formatting action',\n    'plainText': 'Plain Text',\n    'cleanFormat': 'Clean',\n    'keepFormat': 'Keep',\n    'pasteDialogOk': 'OK',\n    'pasteDialogCancel': 'Cancel',\n    'fileManager': 'File Manager',\n    'fileDialogHeader': 'File Browser',\n    \"formatsDropDownParagraph\": 'Paragraph',\n    'formatsDropDownCode': 'Code',\n    'formatsDropDownQuotation': 'Quotation',\n    'formatsDropDownHeading1': 'Heading 1',\n    'formatsDropDownHeading2': 'Heading 2',\n    'formatsDropDownHeading3': 'Heading 3',\n    'formatsDropDownHeading4': 'Heading 4',\n    'fontNameSegoeUI': 'Segoe UI',\n    'fontNameArial': 'Arial',\n    'fontNameGeorgia': 'Georgia',\n    'fontNameImpact': 'Impact',\n    'fontNameTahoma': 'Tahoma',\n    'fontNameTimesNewRoman': 'Times New Roman',\n    'fontNameVerdana': 'Verdana',\n    'numberFormatListNumber': 'Number',\n    'numberFormatListLowerAlpha': 'LowerAlpha',\n    'numberFormatListUpperAlpha': 'UpperAlpha',\n    'numberFormatListLowerRoman': 'LowerRoman',\n    'numberFormatListUpperRoman': 'UpperRoman',\n    'numberFormatListLowerGreek': 'LowerGreek',\n    'bulletFormatListDisc': 'Disc',\n    'bulletFormatListCircle': 'Circle',\n    'bulletFormatListSquare': 'Square',\n    'numberFormatListNone': 'None',\n    'bulletFormatListNone': 'None'\n};\nexport var toolsLocale = {\n    'alignments': 'alignments',\n    'justifyleft': 'justifyLeft',\n    'justifycenter': 'justifyCenter',\n    'justifyright': 'justifyRight',\n    'justifyfull': 'justifyFull',\n    'fontname': 'fontName',\n    'fontsize': 'fontSize',\n    'fontcolor': 'fontColor',\n    'backgroundcolor': 'backgroundColor',\n    'bold': 'bold',\n    'italic': 'italic',\n    'underline': 'underline',\n    'strikethrough': 'strikethrough',\n    'clearformat': 'clearFormat',\n    'clearall': 'clearAll',\n    'cut': 'cut',\n    'copy': 'copy',\n    'paste': 'paste',\n    'unorderedlist': 'unorderedList',\n    'orderedlist': 'orderedList',\n    'indent': 'indent',\n    'outdent': 'outdent',\n    'undo': 'undo',\n    'redo': 'redo',\n    'superscript': 'superscript',\n    'subscript': 'subscript',\n    'createlink': 'createLink',\n    'openlink': 'openLink',\n    'editlink': 'editLink',\n    'removelink': 'removeLink',\n    'openimagelink': 'openLink',\n    'editimagelink': 'editLink',\n    'removeimagelink': 'removeLink',\n    'image': 'image',\n    'replace': 'replace',\n    'align': 'align',\n    'caption': 'caption',\n    'remove': 'remove',\n    'insertlink': 'insertLink',\n    'display': 'display',\n    'alttext': 'altText',\n    'dimension': 'dimension',\n    'fullscreen': 'fullscreen',\n    'maximize': 'maximize',\n    'minimize': 'minimize',\n    'lowercase': 'lowerCase',\n    'uppercase': 'upperCase',\n    'print': 'print',\n    'formats': 'formats',\n    'sourcecode': 'sourcecode',\n    'preview': 'preview',\n    'viewside': 'viewside',\n    'insertcode': 'insertCode',\n    'tablerows': 'tableRows',\n    'tablecolumns': 'tableColumns',\n    'tablecellhorizontalalign': 'tableCellHorizontalAlign',\n    'tablecellverticalalign': 'tableCellVerticalAlign',\n    'createtable': 'createTable',\n    'removetable': 'removeTable',\n    'tableheader': 'tableHeader',\n    'tableremove': 'tableRemove',\n    'tablecellbackground': 'tableCellBackground',\n    'tableeditproperties': 'tableEditProperties',\n    'styles': 'styles',\n    'insertcolumnleft': 'insertColumnLeft',\n    'insertcolumnright': 'insertColumnRight',\n    'deletecolumn': 'deleteColumn',\n    'aligntop': 'AlignTop',\n    'alignmiddle': 'AlignMiddle',\n    'alignbottom': 'AlignBottom',\n    'insertrowbefore': 'insertRowBefore',\n    'insertrowafter': 'insertRowAfter',\n    'deleterow': 'deleteRow'\n};\nexport var fontNameLocale = [\n    { locale: 'fontNameSegoeUI', value: 'Segoe UI' },\n    { locale: 'fontNameArial', value: 'Arial,Helvetica,sans-serif' },\n    { locale: 'fontNameGeorgia', value: 'Georgia,serif' },\n    { locale: 'fontNameImpact', value: 'Impact,Charcoal,sans-serif' },\n    { locale: 'fontNameTahoma', value: 'Tahoma,Geneva,sans-serif' },\n    { locale: 'fontNameTimesNewRoman', value: 'Times New Roman,Times,serif' },\n    { locale: 'fontNameVerdana', value: 'Verdana,Geneva,sans-serif' }\n];\nexport var formatsLocale = [\n    { locale: 'formatsDropDownParagraph', value: 'P' },\n    { locale: 'formatsDropDownCode', value: 'Pre' },\n    { locale: 'formatsDropDownQuotation', value: 'BlockQuote' },\n    { locale: 'formatsDropDownHeading1', value: 'H1' },\n    { locale: 'formatsDropDownHeading2', value: 'H2' },\n    { locale: 'formatsDropDownHeading3', value: 'H3' },\n    { locale: 'formatsDropDownHeading4', value: 'H4' }\n];\nexport var numberFormatListLocale = [\n    { locale: 'numberFormatListNone', value: 'none' },\n    { locale: 'numberFormatListNumber', value: 'decimal' },\n    { locale: 'numberFormatListLowerAlpha', value: 'lower-alpha' },\n    { locale: 'numberFormatListUpperAlpha', value: 'upper-alpha' },\n    { locale: 'numberFormatListLowerRoman', value: 'lower-roman' },\n    { locale: 'numberFormatListUpperRoman', value: 'upper-roman' },\n    { locale: 'numberFormatListLowerGreek', value: 'lower-greek' }\n];\nexport var bulletFormatListLocale = [\n    { locale: 'bulletFormatListNone', value: 'none' },\n    { locale: 'bulletFormatListDisc', value: 'disc' },\n    { locale: 'bulletFormatListCircle', value: 'circle' },\n    { locale: 'bulletFormatListSquare', value: 'square' },\n];\n","import { isNullOrUndefined, getEnumValue } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\n/**\n * RendererFactory\n *\n * @hidden\n\n */\nvar RendererFactory = /** @class */ (function () {\n    function RendererFactory() {\n        this.rendererMap = {};\n    }\n    /**\n     * addRenderer method\n     *\n     * @param {RenderType} name - specifies the render type\n     * @param {IRenderer} type - specifies the renderer.\n     * @returns {void}\n     * @hidden\n\n     */\n    RendererFactory.prototype.addRenderer = function (name, type) {\n        var rName = getEnumValue(RenderType, name);\n        if (isNullOrUndefined(this.rendererMap[rName])) {\n            this.rendererMap[rName] = type;\n        }\n    };\n    /**\n     * getRenderer method\n     *\n     * @param {RenderType} name - specifies the render type\n     * @returns {void}\n     * @hidden\n\n     */\n    RendererFactory.prototype.getRenderer = function (name) {\n        var rName = getEnumValue(RenderType, name);\n        if (isNullOrUndefined(this.rendererMap[rName])) {\n            // eslint-disable-next-line\n            throw \"The renderer \" + rName + \" is not found\";\n        }\n        else {\n            return this.rendererMap[rName];\n        }\n    };\n    return RendererFactory;\n}());\nexport { RendererFactory };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PopupModel} newProp - specifies the new property\n     * @param {PopupModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    // eslint-disable-next-line\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    // eslint-disable-next-line\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * To resolve if any collision occurs.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.resolveCollision = function () {\n        this.checkCollision();\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     *\n     * @param {HTMLElement} relateToElement - specifies the element\n     * @param {HTMLElement} scrollElement - specifies the scroll element\n     * @returns {boolean} - retruns the boolean\n     */\n    // eslint-disable-next-line\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        // eslint-disable-next-line\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                var relateToElem = this.getRelateToElement();\n                // eslint-disable-next-line\n                var props = this.content.props;\n                if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n                    this.element.appendChild(this.content);\n                }\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    // eslint-disable-next-line\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var position;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n            (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n            var parentDisplay = void 0;\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            if (this.element.classList.contains('e-dlg-modal')) {\n                parentDisplay = this.element.parentElement.style.display;\n                this.element.parentElement.style.display = 'block';\n            }\n            position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            if (typeof this.position.X === 'string') {\n                pos = { left: position.left, top: this.position.Y };\n            }\n            else {\n                pos = { left: this.position.X, top: position.top };\n            }\n            this.element.style.display = display;\n            if (this.element.classList.contains('e-dlg-modal')) {\n                this.element.parentElement.style.display = parentDisplay;\n            }\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            if ((ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY')) {\n                ele = ele.parentElement;\n            }\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth / 2 - eleRect.width / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth - eleRect.width);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight / 2 - eleRect.height / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight - eleRect.height);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                if (param.X) {\n                    this.element.style.left = data.left + 'px';\n                }\n                if (param.Y) {\n                    this.element.style.top = data.top + 'px';\n                }\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     *\n     * @returns {void}\n     * @param {AnimationModel} animationOptions - specifies the model\n     * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        this.wireEvents();\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     *\n     * @param {AnimationModel} animationOptions - To give the animation options.\n     * @returns {void}\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n        this.unwireEvents();\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     *\n     * @returns {void}\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.top = window.scrollY > parseInt(this.element.style.top) ? formatUnit(window.scrollY - parseInt(this.element.style.top))\n                    : formatUnit(parseInt(this.element.style.top) - window.scrollY);\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            if (!element.isEqualNode(childNodes[i])) {\n                var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    siblingsZindex.push(index);\n                }\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar parentDocument;\nvar targetContainer;\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision coordinates\n * @param {OffsetPosition} position - specifies the position\n * @returns {void}\n */\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the html element\n * @param {HTMLElement} viewPortElement - specifies the html element\n * @param {number} x - specifies the number\n * @param {number} y - specifies the number\n * @returns {string[]} - returns the string value\n */\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    // eslint-disable-next-line\n    var topData = '', leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} target - specifies the element\n * @param {number} offsetX - specifies the number\n * @param {number} offsetY - specifies the number\n * @param {string} positionX - specifies the string value\n * @param {string} positionY - specifies the string value\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision axis\n * @param {boolean} fixedParent - specifies the boolean\n * @returns {void}\n */\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, \n/* eslint-disable */\naxis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    // eslint-disable-next-line\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    }, eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n        /* eslint-enable */\n    };\n    var elementRect;\n    if (window.getComputedStyle(element).display === 'none') {\n        var oldVisibility = element.style.visibility;\n        element.style.visibility = 'hidden';\n        element.style.display = 'block';\n        elementRect = element.getBoundingClientRect();\n        element.style.removeProperty('display');\n        element.style.visibility = oldVisibility;\n    }\n    else {\n        elementRect = element.getBoundingClientRect();\n    }\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction setPopup(element, pos, elementRect) {\n    //eslint-disable-next-line\n    var left = 0, top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {PositionLocation} pos - specifies theloaction\n * @param {boolean} fixedParent - specifies the boolean\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\n/**\n *\n * @param {EdgeOffset} eStatus - specifies the status\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client\n * @returns {void}\n */\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\n/**\n *\n * @param {number} left - specifies the  number\n * @param {number} right - specifies the number\n * @returns {LeftCorners} - returns the value\n */\nfunction leftCollideCheck(left, right) {\n    //eslint-disable-next-line\n    var leftSide = false, rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifes the element\n * @param {EdgeOffset} tEdge - specifies the edge offset\n * @param {PositionLocation} pos - specifes the location\n * @param {ClientRect} elementRect - specifies the client\n * @param {boolean} deepCheck - specifies the boolean value\n * @returns {void}\n */\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left > ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {EdgeOffset} tEdge - specifies the offset\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @param {boolean} deepCheck - specifies the boolean\n * @returns {void}\n */\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom() && target.getBoundingClientRect().bottom < window.innerHeight) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {number} top - specifies the number\n * @param {number} bottom - specifies the number\n * @returns {TopCorners} - retyrns the value\n */\nfunction topCollideCheck(top, bottom) {\n    //eslint-disable-next-line\n    var topSide = false, bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\n//eslint-disable-next-line\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\n//eslint-disable-next-line\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortWidth() {\n    var windowWidth = window.innerWidth;\n    var documentReact = document.documentElement.getBoundingClientRect();\n    var offsetWidth = (isNullOrUndefined(document.documentElement)) ? 0 : documentReact.width;\n    return windowWidth - (windowWidth - offsetWidth);\n}\n","import { detach, getUniqueID, rippleEffect, setValue, attributes } from '@syncfusion/ej2-base';\nimport { getValue, addClass, deleteObject } from '@syncfusion/ej2-base';\n/**\n * Initialize wrapper element for angular.\n *\n * @private\n *\n * @param {CreateElementArgs} createElement - Specifies created element args\n * @param {string} tag - Specifies tag name\n * @param {string} type - Specifies type name\n * @param {HTMLInputElement} element - Specifies input element\n * @param {string} WRAPPER - Specifies wrapper element\n * @param {string} role - Specifies role\n * @returns {HTMLInputElement} - Input Element\n */\nexport function wrapperInitialize(createElement, tag, type, element, WRAPPER, role) {\n    var input = element;\n    if (element.tagName === tag) {\n        var ejInstance = getValue('ej2_instances', element);\n        input = createElement('input', { attrs: { 'type': type } });\n        var props = ['change', 'cssClass', 'label', 'labelPosition', 'id'];\n        for (var index = 0, len = element.attributes.length; index < len; index++) {\n            if (props.indexOf(element.attributes[index].nodeName) === -1) {\n                input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n            }\n        }\n        attributes(element, { 'class': WRAPPER, 'role': role, 'aria-checked': 'false' });\n        element.appendChild(input);\n        setValue('ej2_instances', ejInstance, input);\n        deleteObject(element, 'ej2_instances');\n    }\n    return input;\n}\n/**\n * Get the text node.\n *\n * @param {HTMLElement} element - Specifies html element\n * @private\n * @returns {Node} - Text node.\n */\nexport function getTextNode(element) {\n    var node;\n    var childnode = element.childNodes;\n    for (var i = 0; i < childnode.length; i++) {\n        node = childnode[i];\n        if (node.nodeType === 3) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Destroy the button components.\n *\n * @private\n * @param {Switch | CheckBox} ejInst - Specifies eJ2 Instance\n * @param {Element} wrapper - Specifies wrapper element\n * @param {string} tagName - Specifies tag name\n * @returns {void}\n */\nexport function destroy(ejInst, wrapper, tagName) {\n    if (tagName === 'INPUT') {\n        wrapper.parentNode.insertBefore(ejInst.element, wrapper);\n        detach(wrapper);\n        ejInst.element.checked = false;\n        ['name', 'value', 'disabled'].forEach(function (key) {\n            ejInst.element.removeAttribute(key);\n        });\n    }\n    else {\n        ['role', 'aria-checked', 'class'].forEach(function (key) {\n            wrapper.removeAttribute(key);\n        });\n        wrapper.innerHTML = '';\n    }\n}\n/**\n * Initialize control pre rendering.\n *\n * @private\n * @param {Switch | CheckBox} proxy - Specifies proxy\n * @param {string} control - Specifies control\n * @param {string} wrapper - Specifies wrapper element\n * @param {HTMLInputElement} element - Specifies input element\n * @param {string} moduleName - Specifies module name\n * @returns {void}\n */\nexport function preRender(proxy, control, wrapper, element, moduleName) {\n    element = wrapperInitialize(proxy.createElement, control, 'checkbox', element, wrapper, moduleName);\n    proxy.element = element;\n    if (proxy.element.getAttribute('type') !== 'checkbox') {\n        proxy.element.setAttribute('type', 'checkbox');\n    }\n    if (!proxy.element.id) {\n        proxy.element.id = getUniqueID('e-' + moduleName);\n    }\n}\n/**\n * Creates CheckBox component UI with theming and ripple support.\n *\n * @private\n * @param {CreateElementArgs} createElement - Specifies Created Element args\n * @param {boolean} enableRipple - Specifies ripple effect\n * @param {CheckBoxUtilModel} options - Specifies Checkbox util Model\n * @returns {Element} - Checkbox Element\n */\nexport function createCheckBox(createElement, enableRipple, options) {\n    if (enableRipple === void 0) { enableRipple = false; }\n    if (options === void 0) { options = {}; }\n    var wrapper = createElement('div', { className: 'e-checkbox-wrapper e-css' });\n    if (options.cssClass) {\n        addClass([wrapper], options.cssClass.split(' '));\n    }\n    if (options.enableRtl) {\n        wrapper.classList.add('e-rtl');\n    }\n    if (enableRipple) {\n        var rippleSpan = createElement('span', { className: 'e-ripple-container' });\n        rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n        wrapper.appendChild(rippleSpan);\n    }\n    var frameSpan = createElement('span', { className: 'e-frame e-icons' });\n    if (options.checked) {\n        frameSpan.classList.add('e-check');\n    }\n    wrapper.appendChild(frameSpan);\n    if (options.label) {\n        var labelSpan = createElement('span', { className: 'e-label' });\n        if (options.disableHtmlEncode) {\n            labelSpan.textContent = options.label;\n        }\n        else {\n            labelSpan.innerHTML = options.label;\n        }\n        wrapper.appendChild(labelSpan);\n    }\n    return wrapper;\n}\n/**\n * Handles ripple mouse.\n *\n * @private\n * @param {MouseEvent} e - Specifies mouse event\n * @param {Element} rippleSpan - Specifies Ripple span element\n * @returns {void}\n */\nexport function rippleMouseHandler(e, rippleSpan) {\n    if (rippleSpan) {\n        var event_1 = document.createEvent('MouseEvents');\n        event_1.initEvent(e.type, false, true);\n        rippleSpan.dispatchEvent(event_1);\n    }\n}\n/**\n * Append hidden input to given element\n *\n * @private\n * @param {Switch | CheckBox} proxy - Specifies Proxy\n * @param {Element} wrap - Specifies Wrapper ELement\n * @returns {void}\n */\nexport function setHiddenInput(proxy, wrap) {\n    if (proxy.element.getAttribute('ejs-for')) {\n        wrap.appendChild(proxy.createElement('input', {\n            attrs: { 'name': proxy.name || proxy.element.name, 'value': 'false', 'type': 'hidden' }\n        }));\n    }\n}\n","/* eslint-disable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\nimport { createElement, attributes, addClass, removeClass, detach, classList } from '@syncfusion/ej2-base';\nimport { closest, formatUnit, isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    TEXTAREA: 'e-multi-line-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    var floatType;\n    var isBindClearAction = true;\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     *\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        floatType = args.floatLabelType;\n        isBindClearAction = args.bindClearAction;\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        bindInitialEvent(args);\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) &&\n            args.properties.showClearButton && args.element.tagName !== 'TEXTAREA') {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            inputObject.clearButton.setAttribute('role', 'button');\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons) && args.element.tagName !== 'TEXTAREA') {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        if (!isNullOrUndefined(args.element) && args.element.tagName === 'TEXTAREA') {\n            addClass([inputObject.container], CLASSNAMES.TEXTAREA);\n        }\n        validateInputType(inputObject.container, args.element);\n        inputObject = setPropertyValue(args, inputObject);\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function bindInitialEvent(args) {\n        checkInputValue(args.floatLabelType, args.element);\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        args.element.addEventListener('input', function () {\n            checkInputValue(floatType, args.element);\n        });\n    }\n    Input.bindInitialEvent = bindInitialEvent;\n    function checkInputValue(floatLabelType, inputElement) {\n        var inputValue = inputElement.value;\n        if (inputValue !== '' && !isNullOrUndefined(inputValue) && inputElement.parentElement) {\n            inputElement.parentElement.classList.add('e-valid-input');\n        }\n        else if (floatLabelType !== 'Always' && inputElement.parentElement) {\n            inputElement.parentElement.classList.remove('e-valid-input');\n        }\n    }\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(label)) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if ((parent.getElementsByTagName('textarea')[0]) ? parent.getElementsByTagName('textarea')[0].value === '' :\n            parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (!isNullOrUndefined(label)) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    Input.wireFloatingEvents = wireFloatingEvents;\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            if (args.element.parentNode) {\n                args.element.parentNode.insertBefore(inputObject.container, args.element);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        var floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        var floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.element.placeholder);\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.properties.placeholder);\n        }\n        if (!floatLabelElement.innerText) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        if (inputObject.container.classList.contains('e-float-icon-left')) {\n            var inputWrap = inputObject.container.querySelector('.e-input-in-wrap');\n            inputWrap.appendChild(args.element);\n            inputWrap.appendChild(floatLinelement);\n            inputWrap.appendChild(floatLabelElement);\n        }\n        else {\n            inputObject.container.appendChild(args.element);\n            inputObject.container.appendChild(floatLinelement);\n            inputObject.container.appendChild(floatLabelElement);\n        }\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement, args.element);\n            });\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n        if (!isNullOrUndefined(args.element.getAttribute('id'))) {\n            floatLabelElement.setAttribute('for', args.element.getAttribute('id'));\n        }\n    }\n    function checkFloatLabelType(type, container) {\n        if (type === 'Always' && container.classList.contains('e-outline')) {\n            container.classList.add('e-valid-input');\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        checkFloatLabelType(args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element, args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button) {\n        if (value) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label, element) {\n        if (element === void 0) { element = null; }\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            var isNotFocused = element != null ? element !== document.activeElement : true;\n            if (isNotFocused) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = isNullOrUndefined(element.parentNode) ? element\n            : element.parentNode;\n        if (parentNode && parentNode.classList.contains('e-input-in-wrap')) {\n            parentNode = parentNode.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        button.setAttribute('aria-label', 'close');\n        return button;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function wireClearBtnEvents(element, button, container) {\n        if (isBindClearAction == undefined || isBindClearAction) {\n            button.addEventListener('click', function (event) {\n                if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                    event.preventDefault();\n                    if (element !== document.activeElement) {\n                        element.focus();\n                    }\n                    element.value = '';\n                    addClass([button], CLASSNAMES.CLEARICONHIDE);\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button);\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () {\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }, 200);\n        });\n    }\n    Input.wireClearBtnEvents = wireClearBtnEvents;\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label, element);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    function encodePlaceHolder(placeholder) {\n        var result = '';\n        if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n            var spanEle = document.createElement('span');\n            spanEle.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n            var hiddenInput = (spanEle.children[0]);\n            result = hiddenInput.placeholder;\n        }\n        return result;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     *\n     * @param {string} value - Specify the value of the input element.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the specified value is updated.\n     * @param {string} floatLabelType - Specify the float label type of the input element.\n     * @param {boolean} clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            if (!isNullOrUndefined(parentElement)) {\n                var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n                if (!isNullOrUndefined(button)) {\n                    if (element.value && parentElement.classList.contains('e-input-focus')) {\n                        removeClass([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                    else {\n                        addClass([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                }\n            }\n        }\n        checkInputValue(floatLabelType, element);\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     *\n     * @param {string} cssClass - Css class names which are needed to add.\n     * @param {Element[] | NodeList} elements - The elements which are needed to add / remove classes.\n     * @param {string} oldClass\n     * - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the width to the wrapper of input element.\n     * ```\n     * E.g : Input.setWidth('200px', container);\n     * ```\n     *\n     * @param {number | string} width - Width value which is need to add.\n     * @param {HTMLElement} container - The element on which the width is need to add.\n     */\n    function setWidth(width, container) {\n        if (typeof width === 'number') {\n            container.style.width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n        }\n    }\n    Input.setWidth = setWidth;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     *\n     * @param {string} placeholder - Placeholder value which is need to add.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        placeholder = encodePlaceHolder(placeholder);\n        var parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n                element.removeAttribute('placeholder');\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     *\n     * @param {boolean} isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     *\n     * @param {boolean} isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param {Element[] | NodeList} elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     *\n     * @param {boolean} isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType, inputContainer) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        var considerWrapper = isNullOrUndefined(inputContainer) ? false : true;\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                removeClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                addClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            remove(inputObject.clearButton);\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which are need to removed from the element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which is added to element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('textarea') ? container.querySelector('textarea') :\n                container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton && inputEle.tagName === 'INPUT') {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        floatType = type;\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type,\n                customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            var isPrependIcon = container.classList.contains('e-float-icon-left');\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    var inputWrap = container.querySelector('.e-input-in-wrap');\n                    iconEle = inputWrap.querySelector('.e-input-group-icon');\n                }\n                else {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n            }\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n                if (isNullOrUndefined(iconEle)) {\n                    container.classList.remove(CLASSNAMES.INPUTGROUP);\n                }\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                var wrapper = isPrependIcon ? container.querySelector('.e-input-in-wrap') : container;\n                wrapper.insertBefore(input, iconEle);\n                wrapper.insertBefore(floatLine, iconEle);\n                wrapper.insertBefore(floatText, iconEle);\n            }\n        }\n        checkFloatLabelType(type, input.parentElement);\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     *\n     * @param {boolean} isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param {InputObject[]} inputObj\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var ele = this;\n        setTimeout(function () {\n            ele.classList.remove('e-input-btn-ripple');\n        }, 500);\n    }\n    function createIconEle(iconClass, makeElement) {\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        return button;\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.addIcon('append', 'e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} position - Specify the icon placement on the input.Possible values are append and prepend.\n     * @param {string | string[]} icons - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} input - The inputElement on which created span element is going to prepend.\n     */\n    /* eslint-disable @typescript-eslint/indent */\n    function addIcon(position, icons, container, input, internalCreate) {\n        /* eslint-enable @typescript-eslint/indent */\n        var result = typeof (icons) === 'string' ? icons.split(',')\n            : icons;\n        if (position.toLowerCase() === 'append') {\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                var icon = result_1[_i];\n                appendSpan(icon, container, internalCreate);\n            }\n        }\n        else {\n            for (var _a = 0, result_2 = result; _a < result_2.length; _a++) {\n                var icon = result_2[_a];\n                prependSpan(icon, container, input, internalCreate);\n            }\n        }\n    }\n    Input.addIcon = addIcon;\n    /**\n     * Creates a new span element with the given icons added and prepend it in input element.\n     * ```\n     * E.g : Input.prependSpan('e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} inputElement - The inputElement on which created span element is going to prepend.\n     */\n    /* eslint-disable @typescript-eslint/indent */\n    function prependSpan(iconClass, container, inputElement, internalCreateElement) {\n        /* eslint-enable @typescript-eslint/indent */\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        container.classList.add('e-float-icon-left');\n        var innerWrapper = container.querySelector('.e-input-in-wrap');\n        if (isNullOrUndefined(innerWrapper)) {\n            innerWrapper = makeElement('span', { className: 'e-input-in-wrap' });\n            inputElement.parentNode.insertBefore(innerWrapper, inputElement);\n            var result = container.querySelectorAll(inputElement.tagName + ' ~ *');\n            innerWrapper.appendChild(inputElement);\n            for (var i = 0; i < result.length; i++) {\n                innerWrapper.appendChild(result[i]);\n            }\n        }\n        innerWrapper.parentNode.insertBefore(button, innerWrapper);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.prependSpan = prependSpan;\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        var wrap = (container.classList.contains('e-float-icon-left')) ? container.querySelector('.e-input-in-wrap') :\n            container;\n        wrap.appendChild(button);\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n    function validateInputType(containerElement, input) {\n        if (input.type === 'hidden') {\n            containerElement.classList.add('e-hidden');\n        }\n        else if (containerElement.classList.contains('e-hidden')) {\n            containerElement.classList.remove('e-hidden');\n        }\n    }\n    Input.validateInputType = validateInputType;\n})(Input || (Input = {}));\n/* eslint-enable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\n","import { RenderType } from '../base/enum';\nimport { CLS_HR_SEPARATOR } from '../base/classes';\nimport * as events from '../base/constant';\nimport { getTooltipText, toObjectLowerCase } from '../base/util';\nimport { tools, templateItems } from '../models/items';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar BaseToolbar = /** @class */ (function () {\n    function BaseToolbar(parent, serviceLocator) {\n        this.tools = {};\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = tools;\n        }\n    }\n    BaseToolbar.prototype.addEventListener = function () {\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    BaseToolbar.prototype.removeEventListener = function () {\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    BaseToolbar.prototype.setRtl = function (args) {\n        if (!isNullOrUndefined(this.toolbarObj)) {\n            this.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    BaseToolbar.prototype.getClass = function (item) {\n        var classes;\n        switch (item) {\n            case 'fontsize':\n                classes = 'e-rte-inline-size-template';\n                break;\n            case 'fontcolor':\n            case 'backgroundcolor':\n                classes = 'e-rte-inline-color-template';\n                break;\n            default:\n                classes = 'e-rte-inline-template';\n                break;\n        }\n        return classes;\n    };\n    BaseToolbar.prototype.getTemplateObject = function (itemStr, container) {\n        var tagName;\n        switch (itemStr) {\n            case 'fontcolor':\n            case 'backgroundcolor':\n            case 'numberformatlist':\n            case 'bulletformatlist':\n                tagName = 'span';\n                break;\n            default:\n                tagName = 'button';\n                break;\n        }\n        return {\n            command: this.tools[itemStr.toLocaleLowerCase()].command,\n            subCommand: this.tools[itemStr.toLocaleLowerCase()].subCommand,\n            template: this.parent.createElement(tagName, {\n                id: this.parent.getID() + '_' + container\n                    + '_' + this.tools[itemStr.toLocaleLowerCase()].id\n            }).outerHTML,\n            cssClass: this.parent.inlineMode.enable ? this.getClass(itemStr) : '',\n            tooltipText: getTooltipText(itemStr, this.locator)\n        };\n    };\n    /**\n     * getObject method\n     *\n     * @param {string} item - specifies the string value\n     * @param {string} container - specifies the value of string\n     * @returns {IToolbarItemModel} - returns the model element\n     * @hidden\n\n     */\n    BaseToolbar.prototype.getObject = function (item, container) {\n        var itemStr = item.toLowerCase();\n        if (templateItems.indexOf(itemStr) !== -1) {\n            return this.getTemplateObject(itemStr, container);\n        }\n        else {\n            switch (itemStr) {\n                case '|':\n                    return { type: 'Separator' };\n                case '-':\n                    return { type: 'Separator', cssClass: CLS_HR_SEPARATOR };\n                default:\n                    return {\n                        id: this.parent.getID() + '_' + container + '_' + this.tools[itemStr.toLocaleLowerCase()].id,\n                        prefixIcon: this.tools[itemStr.toLocaleLowerCase()].icon,\n                        tooltipText: getTooltipText(itemStr, this.locator),\n                        command: this.tools[itemStr.toLocaleLowerCase()].command,\n                        subCommand: this.tools[itemStr.toLocaleLowerCase()].subCommand\n                    };\n            }\n        }\n    };\n    /**\n     * @param {string} tbItems - specifies the string value\n     * @param {string} container - specifies the container value\n     * @returns {ItemModel} - retunrs the model element\n     * @hidden\n\n     */\n    BaseToolbar.prototype.getItems = function (tbItems, container) {\n        var _this = this;\n        if (this.parent.toolbarSettings.items.length < 1) {\n            return [];\n        }\n        var items = [];\n        var _loop_1 = function (item) {\n            switch (typeof item) {\n                case 'string':\n                    items.push(this_1.getObject(item, container));\n                    break;\n                default:\n                    if (!isNullOrUndefined(item.click)) {\n                        var proxy_1 = item;\n                        var callback_1 = proxy_1.click;\n                        proxy_1.click = function () {\n                            if (proxy_1.undo && _this.parent.formatter.getUndoRedoStack().length === 0) {\n                                _this.parent.formatter.saveData();\n                            }\n                            callback_1.call(_this);\n                            if ((_this.parent.formatter.getUndoRedoStack()[_this.parent.formatter.getUndoRedoStack().length - 1].text.trim()\n                                === _this.parent.inputElement.innerHTML.trim())) {\n                                return;\n                            }\n                            if (proxy_1.undo) {\n                                _this.parent.formatter.saveData();\n                            }\n                        };\n                    }\n                    items.push(item);\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, tbItems_1 = tbItems; _i < tbItems_1.length; _i++) {\n            var item = tbItems_1[_i];\n            _loop_1(item);\n        }\n        return items;\n    };\n    BaseToolbar.prototype.getToolbarOptions = function (args) {\n        return {\n            target: args.target,\n            rteToolbarObj: this,\n            items: this.getItems(args.items, args.container),\n            overflowMode: args.mode,\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl\n        };\n    };\n    /**\n     * render method\n     *\n     * @param {IToolbarRenderOptions} args - specifies the toolbar options\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseToolbar.prototype.render = function (args) {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n        this.toolbarRenderer.renderToolbar(this.getToolbarOptions(args));\n    };\n    return BaseToolbar;\n}());\nexport { BaseToolbar };\n","import { addClass, isNullOrUndefined, removeClass, select, closest } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport { getIndex } from '../base/util';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { getDropDownValue, getFormattedFontSize, getTooltipText } from '../base/util';\nimport * as model from '../models/items';\nimport { dispatchEvent } from '../base/util';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar DropDownButtons = /** @class */ (function () {\n    function DropDownButtons(parent, serviceLocator) {\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    DropDownButtons.prototype.initializeInstance = function () {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n    };\n    DropDownButtons.prototype.beforeRender = function (args) {\n        var item = args.item;\n        if (item.cssClass) {\n            addClass([args.element], item.cssClass);\n        }\n        if (item.command === 'Alignments' || item.subCommand === 'JustifyLeft'\n            || item.subCommand === 'JustifyRight' || item.subCommand === 'JustifyCenter') {\n            args.element.setAttribute('title', getTooltipText(item.subCommand.toLocaleLowerCase(), this.locator));\n        }\n    };\n    DropDownButtons.prototype.dropdownContent = function (width, type, content) {\n        return ('<span style=\"display: inline-flex;' + 'width:' + ((type === 'quick') ? 'auto' : width) + '\" >' +\n            '<span class=\"e-rte-dropdown-btn-text\">' + content + '</span></span>');\n    };\n    /**\n     * renderDropDowns method\n     *\n     * @param {IDropDownRenderArgs} args - specifies the arguments\n     * @returns {void}\n     * @hidden\n\n     */\n    DropDownButtons.prototype.renderDropDowns = function (args) {\n        var _this = this;\n        this.initializeInstance();\n        var type = args.containerType;\n        var tbElement = args.container;\n        model.templateItems.forEach(function (item) {\n            var targetElement = undefined;\n            if (getIndex(item, args.items) !== -1) {\n                switch (item) {\n                    case 'numberformatlist': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_NumberFormatList', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var formatOLItem = _this.parent.numberFormatList.types.slice();\n                        formatOLItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Lists', enumerable: true }, subCommand: { value: 'NumberFormatList', enumerable: true }\n                            });\n                        });\n                        _this.numberFormatListDropDown = _this.toolbarRenderer.renderListDropDown({\n                            cssClass: 'e-order-list' + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS,\n                            itemName: 'NumberFormatList', items: formatOLItem, element: targetElement\n                        });\n                        break;\n                    }\n                    case 'bulletformatlist': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_BulletFormatList', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var formatULItem = _this.parent.bulletFormatList.types.slice();\n                        formatULItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Lists', enumerable: true }, subCommand: { value: 'BulletFormatList', enumerable: true }\n                            });\n                        });\n                        _this.bulletFormatListDropDown = _this.toolbarRenderer.renderListDropDown({\n                            cssClass: 'e-unorder-list' + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS,\n                            itemName: 'BulletFormatList', items: formatULItem, element: targetElement\n                        });\n                        break;\n                    }\n                    case 'formats': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_Formats', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var formatItem = _this.parent.format.types.slice();\n                        formatItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Formats', enumerable: true }, subCommand: { value: item.value, enumerable: true }\n                            });\n                        });\n                        var formatContent = isNullOrUndefined(_this.parent.format.default) ? formatItem[0].text :\n                            _this.parent.format.default;\n                        _this.formatDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: ((type === 'quick') ? 'e-formats e-icons' : ''),\n                            content: _this.dropdownContent(_this.parent.format.width, type, ((type === 'quick') ? '' : getDropDownValue(formatItem, formatContent, 'text', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FORMATS_TB_BTN,\n                            itemName: 'Formats', items: formatItem, element: targetElement\n                        });\n                        break;\n                    }\n                    case 'fontname': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_FontName', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var fontItem = _this.parent.fontFamily.items.slice();\n                        fontItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Font', enumerable: true }, subCommand: { value: 'FontName', enumerable: true }\n                            });\n                        });\n                        var fontNameContent = isNullOrUndefined(_this.parent.fontFamily.default) ? fontItem[0].text :\n                            _this.parent.fontFamily.default;\n                        _this.fontNameDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: ((type === 'quick') ? 'e-font-name e-icons' : ''),\n                            content: _this.dropdownContent(_this.parent.fontFamily.width, type, ((type === 'quick') ? '' : getDropDownValue(fontItem, fontNameContent, 'text', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FONT_NAME_TB_BTN,\n                            itemName: 'FontName', items: fontItem, element: targetElement\n                        });\n                        if (!isNullOrUndefined(_this.parent.fontFamily.default)) {\n                            _this.getEditNode().style.fontFamily = _this.parent.fontFamily.default;\n                        }\n                        break;\n                    }\n                    case 'fontsize': {\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_FontSize', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var fontsize = _this.parent.fontSize.items.slice();\n                        fontsize.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Font', enumerable: true }, subCommand: { value: 'FontSize', enumerable: true }\n                            });\n                        });\n                        var fontSizeContent = isNullOrUndefined(_this.parent.fontSize.default) ? fontsize[1].text :\n                            _this.parent.fontSize.default;\n                        _this.fontSizeDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            content: _this.dropdownContent(_this.parent.fontSize.width, type, getFormattedFontSize(getDropDownValue(fontsize, fontSizeContent.replace(/\\s/g, ''), 'value', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FONT_SIZE_TB_BTN,\n                            itemName: 'FontSize', items: fontsize, element: targetElement\n                        });\n                        if (!isNullOrUndefined(_this.parent.fontSize.default)) {\n                            _this.getEditNode().style.fontSize = _this.parent.fontSize.default;\n                        }\n                        break;\n                    }\n                    case 'alignments':\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_Alignments', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        _this.alignDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: 'e-justify-left e-icons',\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS,\n                            itemName: 'Alignments', items: model.alignmentItems, element: targetElement\n                        });\n                        break;\n                    case 'align':\n                        _this.imageAlignmentDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'display':\n                        _this.imageDisplayDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablerows':\n                        _this.rowDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablecolumns':\n                        _this.columnDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablecell':\n                        _this.cellDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablecellverticalalign':\n                        _this.verticalAlignDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'styles':\n                        _this.tableStylesDropDown(type, tbElement, targetElement);\n                        break;\n                }\n            }\n        });\n    };\n    DropDownButtons.prototype.getUpdateItems = function (items, value) {\n        var dropDownItems = items.slice();\n        dropDownItems.forEach(function (item) {\n            Object.defineProperties(item, {\n                command: { value: (value === 'Format' ? 'Formats' : 'Font'), enumerable: true },\n                subCommand: { value: (value === 'Format' ? item.value : value), enumerable: true }\n            });\n        });\n        return dropDownItems;\n    };\n    DropDownButtons.prototype.onPropertyChanged = function (model) {\n        var newProp = model.newProp;\n        var type;\n        var content;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'fontFamily':\n                    if (this.fontNameDropDown) {\n                        for (var _b = 0, _c = Object.keys(newProp.fontFamily); _b < _c.length; _b++) {\n                            var fontFamily = _c[_b];\n                            switch (fontFamily) {\n                                case 'default':\n                                case 'width': {\n                                    var fontItems = this.fontNameDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.fontNameDropDown.element, '.' + classes.CLS_QUICK_TB)) ?\n                                        'quick' : 'toolbar';\n                                    var fontNameContent = isNullOrUndefined(this.parent.fontFamily.default) ? fontItems[0].text :\n                                        this.parent.fontFamily.default;\n                                    content = this.dropdownContent(this.parent.fontFamily.width, type, ((type === 'quick') ? '' : getDropDownValue(fontItems, fontNameContent, 'text', 'text')));\n                                    this.fontNameDropDown.setProperties({ content: content });\n                                    if (!isNullOrUndefined(this.parent.fontFamily.default)) {\n                                        this.getEditNode().style.fontFamily = this.parent.fontFamily.default;\n                                    }\n                                    else {\n                                        this.getEditNode().style.removeProperty('font-family');\n                                    }\n                                    break;\n                                }\n                                case 'items':\n                                    this.fontNameDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.fontFamily.items, 'FontName')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'fontSize':\n                    if (this.fontSizeDropDown) {\n                        for (var _d = 0, _e = Object.keys(newProp.fontSize); _d < _e.length; _d++) {\n                            var fontSize = _e[_d];\n                            switch (fontSize) {\n                                case 'default':\n                                case 'width': {\n                                    var fontsize = this.fontSizeDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.fontSizeDropDown.element, '.' + classes.CLS_QUICK_TB)) ? 'quick' : 'toolbar';\n                                    var fontSizeContent = isNullOrUndefined(this.parent.fontSize.default) ? fontsize[1].text :\n                                        this.parent.fontSize.default;\n                                    content = this.dropdownContent(this.parent.fontSize.width, type, getFormattedFontSize(getDropDownValue(fontsize, fontSizeContent.replace(/\\s/g, ''), 'value', 'text')));\n                                    this.fontSizeDropDown.setProperties({ content: content });\n                                    if (!isNullOrUndefined(this.parent.fontSize.default)) {\n                                        this.getEditNode().style.fontSize = this.parent.fontSize.default;\n                                    }\n                                    else {\n                                        this.getEditNode().style.removeProperty('font-size');\n                                    }\n                                    break;\n                                }\n                                case 'items':\n                                    this.fontSizeDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.fontSize.items, 'FontSize')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'format':\n                    if (this.formatDropDown) {\n                        for (var _f = 0, _g = Object.keys(newProp.format); _f < _g.length; _f++) {\n                            var format = _g[_f];\n                            switch (format) {\n                                case 'default':\n                                case 'width': {\n                                    var formatItems = this.formatDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.formatDropDown.element, '.' + classes.CLS_QUICK_TB)) ? 'quick' : 'toolbar';\n                                    var formatContent = isNullOrUndefined(this.parent.format.default) ? formatItems[0].text :\n                                        this.parent.format.default;\n                                    content = this.dropdownContent(this.parent.format.width, type, ((type === 'quick') ? '' : getDropDownValue(formatItems, formatContent, 'text', 'text')));\n                                    this.formatDropDown.setProperties({ content: content });\n                                    break;\n                                }\n                                case 'types':\n                                    this.formatDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.format.types, 'Format')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownButtons.prototype.getEditNode = function () {\n        return this.parent.contentModule.getEditPanel();\n    };\n    DropDownButtons.prototype.rowDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableRows', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableRowsDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-rows e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableRows',\n            items: model.tableRowsItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.columnDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableColumns', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableColumnsDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-columns e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableColumns',\n            items: model.tableColumnsItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.cellDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableCell', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableRowsDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-cell e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableCell',\n            items: model.tableCellItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.verticalAlignDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableCellVerticalAlign', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableCellVerticalAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-cell-ver-align e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableCellVerticalAlign',\n            items: model.TableCellVerticalAlignItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.imageDisplayDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Display', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.displayDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-display e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Display',\n            items: model.imageDisplayItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.imageAlignmentDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Align', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.imageAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-justify-left e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ICONS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Align',\n            items: model.imageAlignItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.tableStylesDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Styles', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.imageAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-style e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ICONS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Styles',\n            items: this.parent.tableSettings.styles,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.removeDropDownClasses = function (target) {\n        removeClass([target], [\n            classes.CLS_DROPDOWN_BTN,\n            classes.CLS_DROPDOWN_POPUP,\n            classes.CLS_DROPDOWN_ICONS,\n            classes.CLS_DROPDOWN_ITEMS\n        ]);\n    };\n    /**\n     * destroyDropDowns method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    DropDownButtons.prototype.destroyDropDowns = function () {\n        if (this.formatDropDown) {\n            this.removeDropDownClasses(this.formatDropDown.element);\n            this.formatDropDown.destroy();\n        }\n        if (this.fontNameDropDown) {\n            this.removeDropDownClasses(this.fontNameDropDown.element);\n            this.fontNameDropDown.destroy();\n        }\n        if (this.fontSizeDropDown) {\n            this.removeDropDownClasses(this.fontSizeDropDown.element);\n            this.fontSizeDropDown.destroy();\n        }\n        if (this.alignDropDown) {\n            this.removeDropDownClasses(this.alignDropDown.element);\n            this.alignDropDown.destroy();\n        }\n        if (this.imageAlignDropDown) {\n            this.removeDropDownClasses(this.imageAlignDropDown.element);\n            this.imageAlignDropDown.destroy();\n        }\n        if (this.displayDropDown) {\n            this.removeDropDownClasses(this.displayDropDown.element);\n            this.displayDropDown.destroy();\n        }\n        if (this.tableRowsDropDown) {\n            this.removeDropDownClasses(this.tableRowsDropDown.element);\n            this.tableRowsDropDown.destroy();\n        }\n        if (this.tableColumnsDropDown) {\n            this.removeDropDownClasses(this.tableColumnsDropDown.element);\n            this.tableColumnsDropDown.destroy();\n        }\n        if (this.tableCellVerticalAlignDropDown) {\n            this.removeDropDownClasses(this.tableCellVerticalAlignDropDown.element);\n            this.tableCellVerticalAlignDropDown.destroy();\n        }\n        if (this.numberFormatListDropDown) {\n            this.removeDropDownClasses(this.numberFormatListDropDown.element);\n            this.numberFormatListDropDown.destroy();\n        }\n        if (this.bulletFormatListDropDown) {\n            this.removeDropDownClasses(this.bulletFormatListDropDown.element);\n            this.bulletFormatListDropDown.destroy();\n        }\n    };\n    DropDownButtons.prototype.setRtl = function (args) {\n        if (this.formatDropDown) {\n            this.formatDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.fontNameDropDown) {\n            this.fontNameDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.fontSizeDropDown) {\n            this.fontSizeDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.alignDropDown) {\n            this.alignDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.imageAlignDropDown) {\n            this.imageAlignDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.displayDropDown) {\n            this.displayDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.numberFormatListDropDown) {\n            this.numberFormatListDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.bulletFormatListDropDown) {\n            this.bulletFormatListDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    DropDownButtons.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.beforeDropDownItemRender, this.beforeRender, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    };\n    DropDownButtons.prototype.onIframeMouseDown = function () {\n        dispatchEvent(document, 'mousedown');\n    };\n    DropDownButtons.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.beforeDropDownItemRender, this.beforeRender);\n        this.parent.off(events.destroy, this.removeEventListener);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n    };\n    return DropDownButtons;\n}());\nexport { DropDownButtons };\n","import { select, detach, extend } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { getIndex, toObjectLowerCase } from '../base/util';\nimport { templateItems, tools } from '../models/items';\n/**\n * `Color Picker` module is used to handle ColorPicker actions.\n */\nvar ColorPickerInput = /** @class */ (function () {\n    function ColorPickerInput(parent, serviceLocator) {\n        this.tools = {};\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = tools;\n        }\n    }\n    ColorPickerInput.prototype.initializeInstance = function () {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n    };\n    /**\n     * renderColorPickerInput method\n     *\n     * @param {IColorPickerRenderArgs} args - specify the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    ColorPickerInput.prototype.renderColorPickerInput = function (args) {\n        var _this = this;\n        this.initializeInstance();\n        var suffixID = args.containerType;\n        var tbElement = args.container;\n        var targetID;\n        var options;\n        templateItems.forEach(function (item) {\n            if (getIndex(item, args.items) !== -1) {\n                switch (item) {\n                    case 'fontcolor': {\n                        targetID = _this.parent.getID() + '_' + suffixID + '_FontColor_Target';\n                        var fontNode = _this.parent.createElement('input');\n                        fontNode.id = targetID;\n                        fontNode.classList.add(classes.CLS_FONT_COLOR_TARGET);\n                        document.body.appendChild(fontNode);\n                        options = {\n                            cssClass: _this.tools[item.toLocaleLowerCase()].icon\n                                + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS,\n                            value: _this.tools[item.toLocaleLowerCase()].value,\n                            command: _this.tools[item.toLocaleLowerCase()].command,\n                            subCommand: _this.tools[item.toLocaleLowerCase()].subCommand,\n                            element: select('#' + _this.parent.getID() + '_' + suffixID + '_FontColor', tbElement),\n                            target: (targetID)\n                        };\n                        _this.fontColorPicker = _this.toolbarRenderer.renderColorPicker(options, 'fontcolor');\n                        _this.fontColorDropDown = _this.toolbarRenderer.renderColorPickerDropDown(options, 'fontcolor', _this.fontColorPicker);\n                        break;\n                    }\n                    case 'backgroundcolor': {\n                        targetID = _this.parent.getID() + '_' + suffixID + '_BackgroundColor_Target';\n                        var backNode = _this.parent.createElement('input');\n                        backNode.id = targetID;\n                        backNode.classList.add(classes.CLS_BACKGROUND_COLOR_TARGET);\n                        document.body.appendChild(backNode);\n                        options = {\n                            cssClass: _this.tools[item.toLocaleLowerCase()].icon\n                                + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS,\n                            value: _this.tools[item.toLocaleLowerCase()].value,\n                            command: _this.tools[item.toLocaleLowerCase()].command,\n                            subCommand: _this.tools[item.toLocaleLowerCase()].subCommand,\n                            element: select('#' + _this.parent.getID() + '_' + suffixID + '_BackgroundColor', tbElement),\n                            target: (targetID)\n                        };\n                        _this.backgroundColorPicker = _this.toolbarRenderer.renderColorPicker(options, 'backgroundcolor');\n                        _this.backgroundColorDropDown = _this.toolbarRenderer.renderColorPickerDropDown(options, 'backgroundcolor', _this.backgroundColorPicker, _this.defaultColorPicker);\n                        break;\n                    }\n                }\n            }\n        });\n    };\n    ColorPickerInput.prototype.destroy = function () {\n        this.removeEventListener();\n        this.destroyColorPicker();\n    };\n    /**\n     * destroyColorPicker method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ColorPickerInput.prototype.destroyColorPicker = function () {\n        if (this.fontColorPicker && !this.fontColorPicker.isDestroyed) {\n            this.fontColorPicker.destroy();\n        }\n        if (this.backgroundColorPicker && !this.backgroundColorPicker.isDestroyed) {\n            this.backgroundColorPicker.destroy();\n        }\n        if (this.fontColorDropDown && !this.fontColorDropDown.isDestroyed) {\n            var innerEle = this.fontColorDropDown.element.querySelector('.e-rte-color-content');\n            if (innerEle) {\n                detach(innerEle);\n            }\n            this.fontColorDropDown.destroy();\n        }\n        if (this.backgroundColorDropDown && !this.backgroundColorDropDown.isDestroyed) {\n            var innerEle = this.backgroundColorDropDown.element.querySelector('.e-rte-color-content');\n            if (innerEle) {\n                this.defaultColorPicker = innerEle.children[0].style.borderBottomColor;\n                detach(innerEle);\n            }\n            this.backgroundColorDropDown.destroy();\n        }\n    };\n    ColorPickerInput.prototype.setRtl = function (args) {\n        if (this.fontColorPicker) {\n            this.fontColorPicker.setProperties({ enableRtl: args.enableRtl });\n            this.fontColorDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.backgroundColorPicker) {\n            this.backgroundColorPicker.setProperties({ enableRtl: args.enableRtl });\n            this.backgroundColorDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    ColorPickerInput.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarRenderComplete, this.renderColorPickerInput, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.destroyColorPicker, this.destroyColorPicker, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    };\n    ColorPickerInput.prototype.onPropertyChanged = function (model) {\n        var newProp = model.newProp;\n        var element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'fontColor':\n                    if (this.fontColorPicker) {\n                        for (var _b = 0, _c = Object.keys(newProp.fontColor); _b < _c.length; _b++) {\n                            var font = _c[_b];\n                            switch (font) {\n                                case 'default': {\n                                    this.fontColorPicker.setProperties({ value: newProp.fontColor.default });\n                                    element = this.fontColorDropDown.element;\n                                    var fontBorder = element.querySelector('.' + this.tools['fontcolor'].icon);\n                                    fontBorder.style.borderBottomColor = newProp.fontColor.default;\n                                    break;\n                                }\n                                case 'mode':\n                                    this.fontColorPicker.setProperties({ mode: newProp.fontColor.mode });\n                                    break;\n                                case 'columns':\n                                    this.fontColorPicker.setProperties({ columns: newProp.fontColor.columns });\n                                    break;\n                                case 'colorCode':\n                                    this.fontColorPicker.setProperties({ presetColors: newProp.fontColor.colorCode });\n                                    break;\n                                case 'modeSwitcher':\n                                    this.fontColorPicker.setProperties({ modeSwitcher: newProp.fontColor.modeSwitcher });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'backgroundColor':\n                    if (this.backgroundColorPicker) {\n                        for (var _d = 0, _e = Object.keys(newProp.backgroundColor); _d < _e.length; _d++) {\n                            var background = _e[_d];\n                            switch (background) {\n                                case 'default': {\n                                    this.backgroundColorPicker.setProperties({ value: newProp.backgroundColor.default });\n                                    element = this.backgroundColorDropDown.element;\n                                    var backgroundBorder = element.querySelector('.' + this.tools['backgroundcolor'].icon);\n                                    backgroundBorder.style.borderBottomColor = newProp.backgroundColor.default;\n                                    break;\n                                }\n                                case 'mode':\n                                    this.backgroundColorPicker.setProperties({ mode: newProp.backgroundColor.mode });\n                                    break;\n                                case 'columns':\n                                    this.backgroundColorPicker.setProperties({ columns: newProp.backgroundColor.columns });\n                                    break;\n                                case 'colorCode':\n                                    this.backgroundColorPicker.setProperties({ presetColors: newProp.backgroundColor.colorCode });\n                                    break;\n                                case 'modeSwitcher':\n                                    this.backgroundColorPicker.setProperties({ modeSwitcher: newProp.backgroundColor.modeSwitcher });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    ColorPickerInput.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarRenderComplete, this.renderColorPickerInput);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.destroyColorPicker, this.destroyColorPicker);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n    };\n    return ColorPickerInput;\n}());\nexport { ColorPickerInput };\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","if (!Array.prototype.find) {\n    Array.prototype.find = function(predicate) {\n        if (this === null) {\n            throw new TypeError('Array.prototype.find called on null or undefined')\n        }\n        if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function')\n        }\n        var list = Object(this)\n        var length = list.length >>> 0\n        var thisArg = arguments[1]\n        var value\n\n        for (var i = 0; i < length; i++) {\n            value = list[i]\n            if (predicate.call(thisArg, value, i, list)) {\n                return value\n            }\n        }\n        return undefined\n    }\n}\n\nif (window && typeof window.CustomEvent !== \"function\") {\n  function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    }\n    var evt = document.createEvent('CustomEvent')\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail)\n    return evt\n  }\n\n if (typeof window.Event !== 'undefined') {\n   CustomEvent.prototype = window.Event.prototype\n }\n\n  window.CustomEvent = CustomEvent\n}","class TributeEvents {\n  constructor(tribute) {\n    this.tribute = tribute;\n    this.tribute.events = this;\n  }\n\n  static keys() {\n    return [\n      {\n        key: 9,\n        value: \"TAB\"\n      },\n      {\n        key: 8,\n        value: \"DELETE\"\n      },\n      {\n        key: 13,\n        value: \"ENTER\"\n      },\n      {\n        key: 27,\n        value: \"ESCAPE\"\n      },\n      {\n        key: 32,\n        value: \"SPACE\"\n      },\n      {\n        key: 38,\n        value: \"UP\"\n      },\n      {\n        key: 40,\n        value: \"DOWN\"\n      }\n    ];\n  }\n\n  bind(element) {\n    element.boundKeydown = this.keydown.bind(element, this);\n    element.boundKeyup = this.keyup.bind(element, this);\n    element.boundInput = this.input.bind(element, this);\n\n    element.addEventListener(\"keydown\", element.boundKeydown, false);\n    element.addEventListener(\"keyup\", element.boundKeyup, false);\n    element.addEventListener(\"input\", element.boundInput, false);\n  }\n\n  unbind(element) {\n    element.removeEventListener(\"keydown\", element.boundKeydown, false);\n    element.removeEventListener(\"keyup\", element.boundKeyup, false);\n    element.removeEventListener(\"input\", element.boundInput, false);\n\n    delete element.boundKeydown;\n    delete element.boundKeyup;\n    delete element.boundInput;\n  }\n\n  keydown(instance, event) {\n    if (instance.shouldDeactivate(event)) {\n      instance.tribute.isActive = false;\n      instance.tribute.hideMenu();\n    }\n\n    let element = this;\n    instance.commandEvent = false;\n\n    TributeEvents.keys().forEach(o => {\n      if (o.key === event.keyCode) {\n        instance.commandEvent = true;\n        instance.callbacks()[o.value.toLowerCase()](event, element);\n      }\n    });\n  }\n\n  input(instance, event) {\n    instance.inputEvent = true;\n    instance.keyup.call(this, instance, event);\n  }\n\n  click(instance, event) {\n    let tribute = instance.tribute;\n    if (tribute.menu && tribute.menu.contains(event.target)) {\n      let li = event.target;\n      event.preventDefault();\n      event.stopPropagation();\n      while (li.nodeName.toLowerCase() !== \"li\") {\n        li = li.parentNode;\n        if (!li || li === tribute.menu) {\n          throw new Error(\"cannot find the <li> container for the click\");\n        }\n      }\n      tribute.selectItemAtIndex(li.getAttribute(\"data-index\"), event);\n      tribute.hideMenu();\n\n      // TODO: should fire with externalTrigger and target is outside of menu\n    } else if (tribute.current.element && !tribute.current.externalTrigger) {\n      tribute.current.externalTrigger = false;\n      setTimeout(() => tribute.hideMenu());\n    }\n  }\n\n  keyup(instance, event) {\n    if (instance.inputEvent) {\n      instance.inputEvent = false;\n    }\n    instance.updateSelection(this);\n\n    if (event.keyCode === 27) return;\n\n    if (!instance.tribute.allowSpaces && instance.tribute.hasTrailingSpace) {\n      instance.tribute.hasTrailingSpace = false;\n      instance.commandEvent = true;\n      instance.callbacks()[\"space\"](event, this);\n      return;\n    }\n\n    if (!instance.tribute.isActive) {\n      if (instance.tribute.autocompleteMode) {\n        instance.callbacks().triggerChar(event, this, \"\");\n      } else {\n        let keyCode = instance.getKeyCode(instance, this, event);\n\n        if (isNaN(keyCode) || !keyCode) return;\n\n        let trigger = instance.tribute.triggers().find(trigger => {\n          return trigger.charCodeAt(0) === keyCode;\n        });\n\n        if (typeof trigger !== \"undefined\") {\n          instance.callbacks().triggerChar(event, this, trigger);\n        }\n      }\n    }\n\n    if (\n      instance.tribute.current.mentionText.length <\n      instance.tribute.current.collection.menuShowMinLength\n    ) {\n      return;\n    }\n\n    if (\n      ((instance.tribute.current.trigger ||\n        instance.tribute.autocompleteMode) &&\n        instance.commandEvent === false) ||\n      (instance.tribute.isActive && event.keyCode === 8)\n    ) {\n      instance.tribute.showMenuFor(this, true);\n    }\n  }\n\n  shouldDeactivate(event) {\n    if (!this.tribute.isActive) return false;\n\n    if (this.tribute.current.mentionText.length === 0) {\n      let eventKeyPressed = false;\n      TributeEvents.keys().forEach(o => {\n        if (event.keyCode === o.key) eventKeyPressed = true;\n      });\n\n      return !eventKeyPressed;\n    }\n\n    return false;\n  }\n\n  getKeyCode(instance, el, event) {\n    let char;\n    let tribute = instance.tribute;\n    let info = tribute.range.getTriggerInfo(\n      false,\n      tribute.hasTrailingSpace,\n      true,\n      tribute.allowSpaces,\n      tribute.autocompleteMode\n    );\n\n    if (info) {\n      return info.mentionTriggerChar.charCodeAt(0);\n    } else {\n      return false;\n    }\n  }\n\n  updateSelection(el) {\n    this.tribute.current.element = el;\n    let info = this.tribute.range.getTriggerInfo(\n      false,\n      this.tribute.hasTrailingSpace,\n      true,\n      this.tribute.allowSpaces,\n      this.tribute.autocompleteMode\n    );\n\n    if (info) {\n      this.tribute.current.selectedPath = info.mentionSelectedPath;\n      this.tribute.current.mentionText = info.mentionText;\n      this.tribute.current.selectedOffset = info.mentionSelectedOffset;\n    }\n  }\n\n  callbacks() {\n    return {\n      triggerChar: (e, el, trigger) => {\n        let tribute = this.tribute;\n        tribute.current.trigger = trigger;\n\n        let collectionItem = tribute.collection.find(item => {\n          return item.trigger === trigger;\n        });\n\n        tribute.current.collection = collectionItem;\n\n        if (\n          tribute.current.mentionText.length >=\n            tribute.current.collection.menuShowMinLength &&\n          tribute.inputEvent\n        ) {\n          tribute.showMenuFor(el, true);\n        }\n      },\n      enter: (e, el) => {\n        // choose selection\n        if (this.tribute.isActive && this.tribute.current.filteredItems) {\n          e.preventDefault();\n          e.stopPropagation();\n          setTimeout(() => {\n            this.tribute.selectItemAtIndex(this.tribute.menuSelected, e);\n            this.tribute.hideMenu();\n          }, 0);\n        }\n      },\n      escape: (e, el) => {\n        if (this.tribute.isActive) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.tribute.isActive = false;\n          this.tribute.hideMenu();\n        }\n      },\n      tab: (e, el) => {\n        // choose first match\n        this.callbacks().enter(e, el);\n      },\n      space: (e, el) => {\n        if (this.tribute.isActive) {\n          if (this.tribute.spaceSelectsMatch) {\n            this.callbacks().enter(e, el);\n          } else if (!this.tribute.allowSpaces) {\n            e.stopPropagation();\n            setTimeout(() => {\n              this.tribute.hideMenu();\n              this.tribute.isActive = false;\n            }, 0);\n          }\n        }\n      },\n      up: (e, el) => {\n        // navigate up ul\n        if (this.tribute.isActive && this.tribute.current.filteredItems) {\n          e.preventDefault();\n          e.stopPropagation();\n          let count = this.tribute.current.filteredItems.length,\n            selected = this.tribute.menuSelected;\n\n          if (count > selected && selected > 0) {\n            this.tribute.menuSelected--;\n            this.setActiveLi();\n          } else if (selected === 0) {\n            this.tribute.menuSelected = count - 1;\n            this.setActiveLi();\n            this.tribute.menu.scrollTop = this.tribute.menu.scrollHeight;\n          }\n        }\n      },\n      down: (e, el) => {\n        // navigate down ul\n        if (this.tribute.isActive && this.tribute.current.filteredItems) {\n          e.preventDefault();\n          e.stopPropagation();\n          let count = this.tribute.current.filteredItems.length - 1,\n            selected = this.tribute.menuSelected;\n\n          if (count > selected) {\n            this.tribute.menuSelected++;\n            this.setActiveLi();\n          } else if (count === selected) {\n            this.tribute.menuSelected = 0;\n            this.setActiveLi();\n            this.tribute.menu.scrollTop = 0;\n          }\n        }\n      },\n      delete: (e, el) => {\n        if (\n          this.tribute.isActive &&\n          this.tribute.current.mentionText.length < 1\n        ) {\n          this.tribute.hideMenu();\n        } else if (this.tribute.isActive) {\n          this.tribute.showMenuFor(el);\n        }\n      }\n    };\n  }\n\n  setActiveLi(index) {\n    let lis = this.tribute.menu.querySelectorAll(\"li\"),\n      length = lis.length >>> 0;\n\n    if (index) this.tribute.menuSelected = parseInt(index);\n\n    for (let i = 0; i < length; i++) {\n      let li = lis[i];\n      if (i === this.tribute.menuSelected) {\n        li.classList.add(this.tribute.current.collection.selectClass);\n\n        let liClientRect = li.getBoundingClientRect();\n        let menuClientRect = this.tribute.menu.getBoundingClientRect();\n\n        if (liClientRect.bottom > menuClientRect.bottom) {\n          let scrollDistance = liClientRect.bottom - menuClientRect.bottom;\n          this.tribute.menu.scrollTop += scrollDistance;\n        } else if (liClientRect.top < menuClientRect.top) {\n          let scrollDistance = menuClientRect.top - liClientRect.top;\n          this.tribute.menu.scrollTop -= scrollDistance;\n        }\n      } else {\n        li.classList.remove(this.tribute.current.collection.selectClass);\n      }\n    }\n  }\n\n  getFullHeight(elem, includeMargin) {\n    let height = elem.getBoundingClientRect().height;\n\n    if (includeMargin) {\n      let style = elem.currentStyle || window.getComputedStyle(elem);\n      return (\n        height + parseFloat(style.marginTop) + parseFloat(style.marginBottom)\n      );\n    }\n\n    return height;\n  }\n}\n\nexport default TributeEvents;\n","class TributeMenuEvents {\n  constructor(tribute) {\n    this.tribute = tribute;\n    this.tribute.menuEvents = this;\n    this.menu = this.tribute.menu;\n  }\n\n  bind(menu) {\n    this.menuClickEvent = this.tribute.events.click.bind(null, this);\n    this.menuContainerScrollEvent = this.debounce(\n      () => {\n        if (this.tribute.isActive) {\n          this.tribute.showMenuFor(this.tribute.current.element, false);\n        }\n      },\n      300,\n      false\n    );\n    this.windowResizeEvent = this.debounce(\n      () => {\n        if (this.tribute.isActive) {\n          this.tribute.range.positionMenuAtCaret(true);\n        }\n      },\n      300,\n      false\n    );\n\n    // fixes IE11 issues with mousedown\n    this.tribute.range\n      .getDocument()\n      .addEventListener(\"MSPointerDown\", this.menuClickEvent, false);\n    this.tribute.range\n      .getDocument()\n      .addEventListener(\"mousedown\", this.menuClickEvent, false);\n    window.addEventListener(\"resize\", this.windowResizeEvent);\n\n    if (this.menuContainer) {\n      this.menuContainer.addEventListener(\n        \"scroll\",\n        this.menuContainerScrollEvent,\n        false\n      );\n    } else {\n      window.addEventListener(\"scroll\", this.menuContainerScrollEvent);\n    }\n  }\n\n  unbind(menu) {\n    this.tribute.range\n      .getDocument()\n      .removeEventListener(\"mousedown\", this.menuClickEvent, false);\n    this.tribute.range\n      .getDocument()\n      .removeEventListener(\"MSPointerDown\", this.menuClickEvent, false);\n    window.removeEventListener(\"resize\", this.windowResizeEvent);\n\n    if (this.menuContainer) {\n      this.menuContainer.removeEventListener(\n        \"scroll\",\n        this.menuContainerScrollEvent,\n        false\n      );\n    } else {\n      window.removeEventListener(\"scroll\", this.menuContainerScrollEvent);\n    }\n  }\n\n  debounce(func, wait, immediate) {\n    var timeout;\n    return () => {\n      var context = this,\n        args = arguments;\n      var later = () => {\n        timeout = null;\n        if (!immediate) func.apply(context, args);\n      };\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) func.apply(context, args);\n    };\n  }\n}\n\nexport default TributeMenuEvents;\n","// Thanks to https://github.com/jeff-collins/ment.io\nimport \"./utils\";\n\nclass TributeRange {\n    constructor(tribute) {\n        this.tribute = tribute\n        this.tribute.range = this\n    }\n\n    getDocument() {\n        let iframe\n        if (this.tribute.current.collection) {\n            iframe = this.tribute.current.collection.iframe\n        }\n\n        if (!iframe) {\n            return document\n        }\n\n        return iframe.contentWindow.document\n    }\n\n    positionMenuAtCaret(scrollTo) {\n        let context = this.tribute.current,\n            coordinates\n\n        let info = this.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode)\n\n        if (typeof info !== 'undefined') {\n\n            if(!this.tribute.positionMenu){\n                this.tribute.menu.style.cssText = `display: block;`\n                return\n            }\n\n            if (!this.isContentEditable(context.element)) {\n                coordinates = this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,\n                    info.mentionPosition)\n            }\n            else {\n                coordinates = this.getContentEditableCaretPosition(info.mentionPosition)\n            }\n\n            this.tribute.menu.style.cssText = `top: ${coordinates.top}px;\n                                     left: ${coordinates.left}px;\n                                     right: ${coordinates.right}px;\n                                     bottom: ${coordinates.bottom}px;\n                                     position: absolute;\n                                     display: block;`\n\n            if (coordinates.left === 'auto') {\n                this.tribute.menu.style.left = 'auto'\n            }\n\n            if (coordinates.top === 'auto') {\n                this.tribute.menu.style.top = 'auto'\n            }\n\n            if (scrollTo) this.scrollIntoView()\n\n            window.setTimeout(() => {\n                let menuDimensions = {\n                   width: this.tribute.menu.offsetWidth,\n                   height: this.tribute.menu.offsetHeight\n                }\n                let menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n\n                let menuIsOffScreenHorizontally = window.innerWidth > menuDimensions.width && (menuIsOffScreen.left || menuIsOffScreen.right)\n                let menuIsOffScreenVertically = window.innerHeight > menuDimensions.height && (menuIsOffScreen.top || menuIsOffScreen.bottom)\n                if (menuIsOffScreenHorizontally || menuIsOffScreenVertically) {\n                    this.tribute.menu.style.cssText = 'display: none'\n                    this.positionMenuAtCaret(scrollTo)\n                }\n            }, 0)\n\n        } else {\n            this.tribute.menu.style.cssText = 'display: none'\n        }\n    }\n\n    get menuContainerIsBody() {\n        return this.tribute.menuContainer === document.body || !this.tribute.menuContainer;\n    }\n\n\n    selectElement(targetElement, path, offset) {\n        let range\n        let elem = targetElement\n\n        if (path) {\n            for (var i = 0; i < path.length; i++) {\n                elem = elem.childNodes[path[i]]\n                if (elem === undefined) {\n                    return\n                }\n                while (elem.length < offset) {\n                    offset -= elem.length\n                    elem = elem.nextSibling\n                }\n                if (elem.childNodes.length === 0 && !elem.length) {\n                    elem = elem.previousSibling\n                }\n            }\n        }\n        let sel = this.getWindowSelection()\n\n        range = this.getDocument().createRange()\n        range.setStart(elem, offset)\n        range.setEnd(elem, offset)\n        range.collapse(true)\n\n        try {\n            sel.removeAllRanges()\n        } catch (error) {}\n\n        sel.addRange(range)\n        targetElement.focus()\n    }\n\n    replaceTriggerText(text, requireLeadingSpace, hasTrailingSpace, originalEvent, item) {\n        let info = this.getTriggerInfo(true, hasTrailingSpace, requireLeadingSpace, this.tribute.allowSpaces, this.tribute.autocompleteMode)\n\n        if (info !== undefined) {\n            let context = this.tribute.current\n            let replaceEvent = new CustomEvent('tribute-replaced', {\n                detail: {\n                    item: item,\n                    instance: context,\n                    context: info,\n                    event: originalEvent,\n                }\n            })\n\n            if (!this.isContentEditable(context.element)) {\n                let myField = this.tribute.current.element\n                let textSuffix = typeof this.tribute.replaceTextSuffix == 'string'\n                    ? this.tribute.replaceTextSuffix\n                    : ' '\n                text += textSuffix\n                let startPos = info.mentionPosition\n                let endPos = info.mentionPosition + info.mentionText.length + textSuffix.length\n                if (!this.tribute.autocompleteMode) {\n                    endPos += info.mentionTriggerChar.length - 1\n                }\n                myField.value = myField.value.substring(0, startPos) + text +\n                    myField.value.substring(endPos, myField.value.length)\n                myField.selectionStart = startPos + text.length\n                myField.selectionEnd = startPos + text.length\n            } else {\n                // add a space to the end of the pasted text\n                let textSuffix = typeof this.tribute.replaceTextSuffix == 'string'\n                    ? this.tribute.replaceTextSuffix\n                    : '\\xA0'\n                text += textSuffix\n                let endPos = info.mentionPosition + info.mentionText.length\n                if (!this.tribute.autocompleteMode) {\n                    endPos += info.mentionTriggerChar.length\n                }\n                this.pasteHtml(text, info.mentionPosition, endPos)\n            }\n\n            context.element.dispatchEvent(new CustomEvent('input', { bubbles: true }))\n            context.element.dispatchEvent(replaceEvent)\n        }\n    }\n\n    pasteHtml(html, startPos, endPos) {\n        let range, sel\n        sel = this.getWindowSelection()\n        range = this.getDocument().createRange()\n        range.setStart(sel.anchorNode, startPos)\n        range.setEnd(sel.anchorNode, endPos)\n        range.deleteContents()\n\n        let el = this.getDocument().createElement('div')\n        el.innerHTML = html\n        let frag = this.getDocument().createDocumentFragment(),\n            node, lastNode\n        while ((node = el.firstChild)) {\n            lastNode = frag.appendChild(node)\n        }\n        range.insertNode(frag)\n\n        // Preserve the selection\n        if (lastNode) {\n            range = range.cloneRange()\n            range.setStartAfter(lastNode)\n            range.collapse(true)\n            sel.removeAllRanges()\n            sel.addRange(range)\n        }\n    }\n\n    getWindowSelection() {\n        if (this.tribute.collection.iframe) {\n            return this.tribute.collection.iframe.contentWindow.getSelection()\n        }\n\n        return window.getSelection()\n    }\n\n    getNodePositionInParent(element) {\n        if (element.parentNode === null) {\n            return 0\n        }\n\n        for (var i = 0; i < element.parentNode.childNodes.length; i++) {\n            let node = element.parentNode.childNodes[i]\n\n            if (node === element) {\n                return i\n            }\n        }\n    }\n\n    getContentEditableSelectedPath(ctx) {\n        let sel = this.getWindowSelection()\n        let selected = sel.anchorNode\n        let path = []\n        let offset\n\n        if (selected != null) {\n            let i\n            let ce = selected.contentEditable\n            while (selected !== null && ce !== 'true') {\n                i = this.getNodePositionInParent(selected)\n                path.push(i)\n                selected = selected.parentNode\n                if (selected !== null) {\n                    ce = selected.contentEditable\n                }\n            }\n            path.reverse()\n\n            // getRangeAt may not exist, need alternative\n            offset = sel.getRangeAt(0).startOffset\n\n            return {\n                selected: selected,\n                path: path,\n                offset: offset\n            }\n        }\n    }\n\n    getTextPrecedingCurrentSelection() {\n        let context = this.tribute.current,\n            text = ''\n\n        if (!this.isContentEditable(context.element)) {\n            let textComponent = this.tribute.current.element;\n            if (textComponent) {\n                let startPos = textComponent.selectionStart\n                if (textComponent.value && startPos >= 0) {\n                    text = textComponent.value.substring(0, startPos)\n                }\n            }\n\n        } else {\n            let selectedElem = this.getWindowSelection().anchorNode\n\n            if (selectedElem != null) {\n                let workingNodeContent = selectedElem.textContent\n                let selectStartOffset = this.getWindowSelection().getRangeAt(0).startOffset\n\n                if (workingNodeContent && selectStartOffset >= 0) {\n                    text = workingNodeContent.substring(0, selectStartOffset)\n                }\n            }\n        }\n\n        return text\n    }\n\n    getLastWordInText(text) {\n        text = text.replace(/\\u00A0/g, ' '); // https://stackoverflow.com/questions/29850407/how-do-i-replace-unicode-character-u00a0-with-a-space-in-javascript\n        let wordsArray = text.split(/\\s+/);\n        let worldsCount = wordsArray.length - 1\n        return wordsArray[worldsCount].trim()\n    }\n\n    getTriggerInfo(menuAlreadyActive, hasTrailingSpace, requireLeadingSpace, allowSpaces, isAutocomplete) {\n        let ctx = this.tribute.current\n        let selected, path, offset\n\n        if (!this.isContentEditable(ctx.element)) {\n            selected = this.tribute.current.element\n        } else {\n            let selectionInfo = this.getContentEditableSelectedPath(ctx)\n\n            if (selectionInfo) {\n                selected = selectionInfo.selected\n                path = selectionInfo.path\n                offset = selectionInfo.offset\n            }\n        }\n\n        let effectiveRange = this.getTextPrecedingCurrentSelection()\n        let lastWordOfEffectiveRange = this.getLastWordInText(effectiveRange)\n\n        if (isAutocomplete) {\n            return {\n                mentionPosition: effectiveRange.length - lastWordOfEffectiveRange.length,\n                mentionText: lastWordOfEffectiveRange,\n                mentionSelectedElement: selected,\n                mentionSelectedPath: path,\n                mentionSelectedOffset: offset\n            }\n        }\n\n        if (effectiveRange !== undefined && effectiveRange !== null) {\n            let mostRecentTriggerCharPos = -1\n            let triggerChar\n\n            this.tribute.collection.forEach(config => {\n                let c = config.trigger\n                let idx = config.requireLeadingSpace ?\n                    this.lastIndexWithLeadingSpace(effectiveRange, c) :\n                    effectiveRange.lastIndexOf(c)\n\n                if (idx > mostRecentTriggerCharPos) {\n                    mostRecentTriggerCharPos = idx\n                    triggerChar = c\n                    requireLeadingSpace = config.requireLeadingSpace\n                }\n            })\n\n            if (mostRecentTriggerCharPos >= 0 &&\n                (\n                    mostRecentTriggerCharPos === 0 ||\n                    !requireLeadingSpace ||\n                    /[\\xA0\\s]/g.test(\n                        effectiveRange.substring(\n                            mostRecentTriggerCharPos - 1,\n                            mostRecentTriggerCharPos)\n                    )\n                )\n            ) {\n                let currentTriggerSnippet = effectiveRange.substring(mostRecentTriggerCharPos + triggerChar.length,\n                    effectiveRange.length)\n\n                triggerChar = effectiveRange.substring(mostRecentTriggerCharPos, mostRecentTriggerCharPos + triggerChar.length)\n                let firstSnippetChar = currentTriggerSnippet.substring(0, 1)\n                let leadingSpace = currentTriggerSnippet.length > 0 &&\n                    (\n                        firstSnippetChar === ' ' ||\n                        firstSnippetChar === '\\xA0'\n                    )\n                if (hasTrailingSpace) {\n                    currentTriggerSnippet = currentTriggerSnippet.trim()\n                }\n\n                let regex = allowSpaces ? /[^\\S ]/g : /[\\xA0\\s]/g;\n\n                this.tribute.hasTrailingSpace = regex.test(currentTriggerSnippet);\n\n                if (!leadingSpace && (menuAlreadyActive || !(regex.test(currentTriggerSnippet)))) {\n                    return {\n                        mentionPosition: mostRecentTriggerCharPos,\n                        mentionText: currentTriggerSnippet,\n                        mentionSelectedElement: selected,\n                        mentionSelectedPath: path,\n                        mentionSelectedOffset: offset,\n                        mentionTriggerChar: triggerChar\n                    }\n                }\n            }\n        }\n    }\n\n    lastIndexWithLeadingSpace (str, trigger) {\n        let reversedStr = str.split('').reverse().join('')\n        let index = -1\n\n        for (let cidx = 0, len = str.length; cidx < len; cidx++) {\n            let firstChar = cidx === str.length - 1\n            let leadingSpace = /\\s/.test(reversedStr[cidx + 1])\n\n            let match = true\n            for (let triggerIdx = trigger.length - 1; triggerIdx >= 0; triggerIdx--) {\n              if (trigger[triggerIdx] !== reversedStr[cidx-triggerIdx]) {\n                match = false\n                break\n              }\n            }\n\n            if (match && (firstChar || leadingSpace)) {\n                index = str.length - 1 - cidx\n                break\n            }\n        }\n\n        return index\n    }\n\n    isContentEditable(element) {\n        return element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA'\n    }\n\n    isMenuOffScreen(coordinates, menuDimensions) {\n        let windowWidth = window.innerWidth\n        let windowHeight = window.innerHeight\n        let doc = document.documentElement\n        let windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n        let windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n\n        let menuTop = typeof coordinates.top === 'number' ? coordinates.top : windowTop + windowHeight - coordinates.bottom - menuDimensions.height\n        let menuRight = typeof coordinates.right === 'number' ? coordinates.right : coordinates.left + menuDimensions.width\n        let menuBottom = typeof coordinates.bottom === 'number' ? coordinates.bottom : coordinates.top + menuDimensions.height\n        let menuLeft = typeof coordinates.left === 'number' ? coordinates.left : windowLeft + windowWidth - coordinates.right - menuDimensions.width\n\n        return {\n            top: menuTop < Math.floor(windowTop),\n            right: menuRight > Math.ceil(windowLeft + windowWidth),\n            bottom: menuBottom > Math.ceil(windowTop + windowHeight),\n            left: menuLeft < Math.floor(windowLeft)\n        }\n    }\n\n    getMenuDimensions() {\n        // Width of the menu depends of its contents and position\n        // We must check what its width would be without any obstruction\n        // This way, we can achieve good positioning for flipping the menu\n        let dimensions = {\n            width: null,\n            height: null\n        }\n\n        this.tribute.menu.style.cssText = `top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;`\n       dimensions.width = this.tribute.menu.offsetWidth\n       dimensions.height = this.tribute.menu.offsetHeight\n\n       this.tribute.menu.style.cssText = `display: none;`\n\n       return dimensions\n    }\n\n    getTextAreaOrInputUnderlinePosition(element, position, flipped) {\n        let properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX',\n            'overflowY', 'borderTopWidth', 'borderRightWidth',\n            'borderBottomWidth', 'borderLeftWidth', 'paddingTop',\n            'paddingRight', 'paddingBottom', 'paddingLeft',\n            'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch',\n            'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily',\n            'textAlign', 'textTransform', 'textIndent',\n            'textDecoration', 'letterSpacing', 'wordSpacing'\n        ]\n\n        let isFirefox = (window.mozInnerScreenX !== null)\n\n        let div = this.getDocument().createElement('div')\n        div.id = 'input-textarea-caret-position-mirror-div'\n        this.getDocument().body.appendChild(div)\n\n        let style = div.style\n        let computed = window.getComputedStyle ? getComputedStyle(element) : element.currentStyle\n\n        style.whiteSpace = 'pre-wrap'\n        if (element.nodeName !== 'INPUT') {\n            style.wordWrap = 'break-word'\n        }\n\n        // position off-screen\n        style.position = 'absolute'\n        style.visibility = 'hidden'\n\n        // transfer the element's properties to the div\n        properties.forEach(prop => {\n            style[prop] = computed[prop]\n        })\n\n        if (isFirefox) {\n            style.width = `${(parseInt(computed.width) - 2)}px`\n            if (element.scrollHeight > parseInt(computed.height))\n                style.overflowY = 'scroll'\n        } else {\n            style.overflow = 'hidden'\n        }\n\n        div.textContent = element.value.substring(0, position)\n\n        if (element.nodeName === 'INPUT') {\n            div.textContent = div.textContent.replace(/\\s/g, ' ')\n        }\n\n        let span = this.getDocument().createElement('span')\n        span.textContent = element.value.substring(position) || '.'\n        div.appendChild(span)\n\n        let rect = element.getBoundingClientRect()\n        let doc = document.documentElement\n        let windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n        let windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n\n        let top = 0;\n        let left = 0;\n        if (this.menuContainerIsBody) {\n          top = rect.top;\n          left = rect.left;\n        }\n\n        let coordinates = {\n            top: top + windowTop + span.offsetTop + parseInt(computed.borderTopWidth) + parseInt(computed.fontSize) - element.scrollTop,\n            left: left + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth)\n        }\n\n        let windowWidth = window.innerWidth\n        let windowHeight = window.innerHeight\n\n        let menuDimensions = this.getMenuDimensions()\n        let menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n\n        if (menuIsOffScreen.right) {\n            coordinates.right = windowWidth - coordinates.left\n            coordinates.left = 'auto'\n        }\n\n        let parentHeight = this.tribute.menuContainer\n            ? this.tribute.menuContainer.offsetHeight\n            : this.getDocument().body.offsetHeight\n\n        if (menuIsOffScreen.bottom) {\n            let parentRect = this.tribute.menuContainer\n                ? this.tribute.menuContainer.getBoundingClientRect()\n                : this.getDocument().body.getBoundingClientRect()\n            let scrollStillAvailable = parentHeight - (windowHeight - parentRect.top)\n\n            coordinates.bottom = scrollStillAvailable + (windowHeight - rect.top - span.offsetTop)\n            coordinates.top = 'auto'\n        }\n\n        menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n        if (menuIsOffScreen.left) {\n            coordinates.left = windowWidth > menuDimensions.width\n                ? windowLeft + windowWidth - menuDimensions.width\n                : windowLeft\n            delete coordinates.right\n        }\n        if (menuIsOffScreen.top) {\n            coordinates.top = windowHeight > menuDimensions.height\n                ? windowTop + windowHeight - menuDimensions.height\n                : windowTop\n            delete coordinates.bottom\n        }\n\n        this.getDocument().body.removeChild(div)\n        return coordinates\n    }\n\n    getContentEditableCaretPosition(selectedNodePosition) {\n        let range\n        let sel = this.getWindowSelection()\n\n        range = this.getDocument().createRange()\n        range.setStart(sel.anchorNode, selectedNodePosition)\n        range.setEnd(sel.anchorNode, selectedNodePosition)\n\n        range.collapse(false)\n\n        let rect = range.getBoundingClientRect()\n        let doc = document.documentElement\n        let windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n        let windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n\n        let left = rect.left\n        let top = rect.top\n\n        let coordinates = {\n            left: left + windowLeft,\n            top: top + rect.height + windowTop\n        }\n        let windowWidth = window.innerWidth\n        let windowHeight = window.innerHeight\n\n        let menuDimensions = this.getMenuDimensions()\n        let menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n\n        if (menuIsOffScreen.right) {\n            coordinates.left = 'auto'\n            coordinates.right = windowWidth - rect.left - windowLeft\n        }\n\n        let parentHeight = this.tribute.menuContainer\n            ? this.tribute.menuContainer.offsetHeight\n            : this.getDocument().body.offsetHeight\n\n        if (menuIsOffScreen.bottom) {\n            let parentRect = this.tribute.menuContainer\n                ? this.tribute.menuContainer.getBoundingClientRect()\n                : this.getDocument().body.getBoundingClientRect()\n            let scrollStillAvailable = parentHeight - (windowHeight - parentRect.top)\n\n            coordinates.top = 'auto'\n            coordinates.bottom = scrollStillAvailable + (windowHeight - rect.top)\n        }\n\n        menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n        if (menuIsOffScreen.left) {\n            coordinates.left = windowWidth > menuDimensions.width\n                ? windowLeft + windowWidth - menuDimensions.width\n                : windowLeft\n            delete coordinates.right\n        }\n        if (menuIsOffScreen.top) {\n            coordinates.top = windowHeight > menuDimensions.height\n                ? windowTop + windowHeight - menuDimensions.height\n                : windowTop\n            delete coordinates.bottom\n        }\n\n        if (!this.menuContainerIsBody) {\n            coordinates.left = coordinates.left ? coordinates.left - this.tribute.menuContainer.offsetLeft : coordinates.left\n            coordinates.top = coordinates.top ? coordinates.top - this.tribute.menuContainer.offsetTop : coordinates.top\n        }\n\n        return coordinates\n    }\n\n    scrollIntoView(elem) {\n        let reasonableBuffer = 20,\n            clientRect\n        let maxScrollDisplacement = 100\n        let e = this.menu\n\n        if (typeof e === 'undefined') return;\n\n        while (clientRect === undefined || clientRect.height === 0) {\n            clientRect = e.getBoundingClientRect()\n\n            if (clientRect.height === 0) {\n                e = e.childNodes[0]\n                if (e === undefined || !e.getBoundingClientRect) {\n                    return\n                }\n            }\n        }\n\n        let elemTop = clientRect.top\n        let elemBottom = elemTop + clientRect.height\n\n        if (elemTop < 0) {\n            window.scrollTo(0, window.pageYOffset + clientRect.top - reasonableBuffer)\n        } else if (elemBottom > window.innerHeight) {\n            let maxY = window.pageYOffset + clientRect.top - reasonableBuffer\n\n            if (maxY - window.pageYOffset > maxScrollDisplacement) {\n                maxY = window.pageYOffset + maxScrollDisplacement\n            }\n\n            let targetY = window.pageYOffset - (window.innerHeight - elemBottom)\n\n            if (targetY > maxY) {\n                targetY = maxY\n            }\n\n            window.scrollTo(0, targetY)\n        }\n    }\n}\n\n\nexport default TributeRange;\n","// Thanks to https://github.com/mattyork/fuzzy\nclass TributeSearch {\n    constructor(tribute) {\n        this.tribute = tribute\n        this.tribute.search = this\n    }\n\n    simpleFilter(pattern, array) {\n        return array.filter(string => {\n            return this.test(pattern, string)\n        })\n    }\n\n    test(pattern, string) {\n        return this.match(pattern, string) !== null\n    }\n\n    match(pattern, string, opts) {\n        opts = opts || {}\n        let patternIdx = 0,\n            result = [],\n            len = string.length,\n            totalScore = 0,\n            currScore = 0,\n            pre = opts.pre || '',\n            post = opts.post || '',\n            compareString = opts.caseSensitive && string || string.toLowerCase(),\n            ch, compareChar\n\n        if (opts.skip) {\n            return {rendered: string, score: 0}\n        }\n\n        pattern = opts.caseSensitive && pattern || pattern.toLowerCase()\n\n        let patternCache = this.traverse(compareString, pattern, 0, 0, [])\n        if (!patternCache) {\n            return null\n        }\n        return {\n            rendered: this.render(string, patternCache.cache, pre, post),\n            score: patternCache.score\n        }\n    }\n\n    traverse(string, pattern, stringIndex, patternIndex, patternCache) {\n        // if the pattern search at end\n        if (pattern.length === patternIndex) {\n\n            // calculate score and copy the cache containing the indices where it's found\n            return {\n                score: this.calculateScore(patternCache),\n                cache: patternCache.slice()\n            }\n        }\n\n        // if string at end or remaining pattern > remaining string\n        if (string.length === stringIndex || pattern.length - patternIndex > string.length - stringIndex) {\n            return undefined\n        }\n\n        let c = pattern[patternIndex]\n        let index = string.indexOf(c, stringIndex)\n        let best, temp\n\n        while (index > -1) {\n            patternCache.push(index)\n            temp = this.traverse(string, pattern, index + 1, patternIndex + 1, patternCache)\n            patternCache.pop()\n\n            // if downstream traversal failed, return best answer so far\n            if (!temp) {\n                return best\n            }\n\n            if (!best || best.score < temp.score) {\n                best = temp\n            }\n\n            index = string.indexOf(c, index + 1)\n        }\n\n        return best\n    }\n\n    calculateScore(patternCache) {\n        let score = 0\n        let temp = 1\n\n        patternCache.forEach((index, i) => {\n            if (i > 0) {\n                if (patternCache[i - 1] + 1 === index) {\n                    temp += temp + 1\n                }\n                else {\n                    temp = 1\n                }\n            }\n\n            score += temp\n        })\n\n        return score\n    }\n\n    render(string, indices, pre, post) {\n        var rendered = string.substring(0, indices[0])\n\n        indices.forEach((index, i) => {\n            rendered += pre + string[index] + post +\n                string.substring(index + 1, (indices[i + 1]) ? indices[i + 1] : string.length)\n        })\n\n        return rendered\n    }\n\n    filter(pattern, arr, opts) {\n        opts = opts || {}\n        return arr\n            .reduce((prev, element, idx, arr) => {\n                let str = element\n\n                if (opts.extract) {\n                    str = opts.extract(element)\n\n                    if (!str) { // take care of undefineds / nulls / etc.\n                        str = ''\n                    }\n                }\n\n                let rendered = this.match(pattern, str, opts)\n\n                if (rendered != null) {\n                    prev[prev.length] = {\n                        string: rendered.rendered,\n                        score: rendered.score,\n                        index: idx,\n                        original: element\n                    }\n                }\n\n                return prev\n            }, [])\n\n        .sort((a, b) => {\n            let compare = b.score - a.score\n            if (compare) return compare\n            return a.index - b.index\n        })\n    }\n}\n\nexport default TributeSearch;\n","import \"./utils\";\nimport TributeEvents from \"./TributeEvents\";\nimport TributeMenuEvents from \"./TributeMenuEvents\";\nimport TributeRange from \"./TributeRange\";\nimport TributeSearch from \"./TributeSearch\";\n\nclass Tribute {\n  constructor({\n    values = null,\n    iframe = null,\n    selectClass = \"highlight\",\n    containerClass = \"tribute-container\",\n    itemClass = \"\",\n    trigger = \"@\",\n    autocompleteMode = false,\n    selectTemplate = null,\n    menuItemTemplate = null,\n    lookup = \"key\",\n    fillAttr = \"value\",\n    collection = null,\n    menuContainer = null,\n    noMatchTemplate = null,\n    requireLeadingSpace = true,\n    allowSpaces = false,\n    replaceTextSuffix = null,\n    positionMenu = true,\n    spaceSelectsMatch = false,\n    searchOpts = {},\n    menuItemLimit = null,\n    menuShowMinLength = 0\n  }) {\n    this.autocompleteMode = autocompleteMode;\n    this.menuSelected = 0;\n    this.current = {};\n    this.inputEvent = false;\n    this.isActive = false;\n    this.menuContainer = menuContainer;\n    this.allowSpaces = allowSpaces;\n    this.replaceTextSuffix = replaceTextSuffix;\n    this.positionMenu = positionMenu;\n    this.hasTrailingSpace = false;\n    this.spaceSelectsMatch = spaceSelectsMatch;\n\n    if (this.autocompleteMode) {\n      trigger = \"\";\n      allowSpaces = false;\n    }\n\n    if (values) {\n      this.collection = [\n        {\n          // symbol that starts the lookup\n          trigger: trigger,\n\n          // is it wrapped in an iframe\n          iframe: iframe,\n\n          // class applied to selected item\n          selectClass: selectClass,\n\n          // class applied to the Container\n          containerClass: containerClass,\n\n          // class applied to each item\n          itemClass: itemClass,\n\n          // function called on select that retuns the content to insert\n          selectTemplate: (\n            selectTemplate || Tribute.defaultSelectTemplate\n          ).bind(this),\n\n          // function called that returns content for an item\n          menuItemTemplate: (\n            menuItemTemplate || Tribute.defaultMenuItemTemplate\n          ).bind(this),\n\n          // function called when menu is empty, disables hiding of menu.\n          noMatchTemplate: (t => {\n            if (typeof t === \"string\") {\n              if (t.trim() === \"\") return null;\n              return t;\n            }\n            if (typeof t === \"function\") {\n              return t.bind(this);\n            }\n\n            return (\n              noMatchTemplate ||\n              function() {\n                return \"<li>No Match Found!</li>\";\n              }.bind(this)\n            );\n          })(noMatchTemplate),\n\n          // column to search against in the object\n          lookup: lookup,\n\n          // column that contains the content to insert by default\n          fillAttr: fillAttr,\n\n          // array of objects or a function returning an array of objects\n          values: values,\n\n          requireLeadingSpace: requireLeadingSpace,\n\n          searchOpts: searchOpts,\n\n          menuItemLimit: menuItemLimit,\n\n          menuShowMinLength: menuShowMinLength\n        }\n      ];\n    } else if (collection) {\n      if (this.autocompleteMode)\n        console.warn(\n          \"Tribute in autocomplete mode does not work for collections\"\n        );\n      this.collection = collection.map(item => {\n        return {\n          trigger: item.trigger || trigger,\n          iframe: item.iframe || iframe,\n          selectClass: item.selectClass || selectClass,\n          containerClass: item.containerClass || containerClass,\n          itemClass: item.itemClass || itemClass,\n          selectTemplate: (\n            item.selectTemplate || Tribute.defaultSelectTemplate\n          ).bind(this),\n          menuItemTemplate: (\n            item.menuItemTemplate || Tribute.defaultMenuItemTemplate\n          ).bind(this),\n          // function called when menu is empty, disables hiding of menu.\n          noMatchTemplate: (t => {\n            if (typeof t === \"string\") {\n              if (t.trim() === \"\") return null;\n              return t;\n            }\n            if (typeof t === \"function\") {\n              return t.bind(this);\n            }\n\n            return (\n              noMatchTemplate ||\n              function() {\n                return \"<li>No Match Found!</li>\";\n              }.bind(this)\n            );\n          })(noMatchTemplate),\n          lookup: item.lookup || lookup,\n          fillAttr: item.fillAttr || fillAttr,\n          values: item.values,\n          requireLeadingSpace: item.requireLeadingSpace,\n          searchOpts: item.searchOpts || searchOpts,\n          menuItemLimit: item.menuItemLimit || menuItemLimit,\n          menuShowMinLength: item.menuShowMinLength || menuShowMinLength\n        };\n      });\n    } else {\n      throw new Error(\"[Tribute] No collection specified.\");\n    }\n\n    new TributeRange(this);\n    new TributeEvents(this);\n    new TributeMenuEvents(this);\n    new TributeSearch(this);\n  }\n\n  get isActive() {\n    return this._isActive;\n  }\n\n  set isActive(val) {\n    if (this._isActive != val) {\n      this._isActive = val;\n      if (this.current.element) {\n        let noMatchEvent = new CustomEvent(`tribute-active-${val}`);\n        this.current.element.dispatchEvent(noMatchEvent);\n      }\n    }\n  }\n\n  static defaultSelectTemplate(item) {\n    if (typeof item === \"undefined\")\n      return `${this.current.collection.trigger}${this.current.mentionText}`;\n    if (this.range.isContentEditable(this.current.element)) {\n      return (\n        '<span class=\"tribute-mention\">' +\n        (this.current.collection.trigger +\n          item.original[this.current.collection.fillAttr]) +\n        \"</span>\"\n      );\n    }\n\n    return (\n      this.current.collection.trigger +\n      item.original[this.current.collection.fillAttr]\n    );\n  }\n\n  static defaultMenuItemTemplate(matchItem) {\n    return matchItem.string;\n  }\n\n  static inputTypes() {\n    return [\"TEXTAREA\", \"INPUT\"];\n  }\n\n  triggers() {\n    return this.collection.map(config => {\n      return config.trigger;\n    });\n  }\n\n  attach(el) {\n    if (!el) {\n      throw new Error(\"[Tribute] Must pass in a DOM node or NodeList.\");\n    }\n\n    // Check if it is a jQuery collection\n    if (typeof jQuery !== \"undefined\" && el instanceof jQuery) {\n      el = el.get();\n    }\n\n    // Is el an Array/Array-like object?\n    if (\n      el.constructor === NodeList ||\n      el.constructor === HTMLCollection ||\n      el.constructor === Array\n    ) {\n      let length = el.length;\n      for (var i = 0; i < length; ++i) {\n        this._attach(el[i]);\n      }\n    } else {\n      this._attach(el);\n    }\n  }\n\n  _attach(el) {\n    if (el.hasAttribute(\"data-tribute\")) {\n      console.warn(\"Tribute was already bound to \" + el.nodeName);\n    }\n\n    this.ensureEditable(el);\n    this.events.bind(el);\n    el.setAttribute(\"data-tribute\", true);\n  }\n\n  ensureEditable(element) {\n    if (Tribute.inputTypes().indexOf(element.nodeName) === -1) {\n      if (element.contentEditable) {\n        element.contentEditable = true;\n      } else {\n        throw new Error(\"[Tribute] Cannot bind to \" + element.nodeName);\n      }\n    }\n  }\n\n  createMenu(containerClass) {\n    let wrapper = this.range.getDocument().createElement(\"div\"),\n      ul = this.range.getDocument().createElement(\"ul\");\n    wrapper.className = containerClass;\n    wrapper.appendChild(ul);\n\n    if (this.menuContainer) {\n      return this.menuContainer.appendChild(wrapper);\n    }\n\n    return this.range.getDocument().body.appendChild(wrapper);\n  }\n\n  showMenuFor(element, scrollTo) {\n    // Only proceed if menu isn't already shown for the current element & mentionText\n    if (\n      this.isActive &&\n      this.current.element === element &&\n      this.current.mentionText === this.currentMentionTextSnapshot\n    ) {\n      return;\n    }\n    this.currentMentionTextSnapshot = this.current.mentionText;\n\n    // create the menu if it doesn't exist.\n    if (!this.menu) {\n      this.menu = this.createMenu(this.current.collection.containerClass);\n      element.tributeMenu = this.menu;\n      this.menuEvents.bind(this.menu);\n    }\n\n    this.isActive = true;\n    this.menuSelected = 0;\n\n    if (!this.current.mentionText) {\n      this.current.mentionText = \"\";\n    }\n\n    const processValues = values => {\n      // Tribute may not be active any more by the time the value callback returns\n      if (!this.isActive) {\n        return;\n      }\n\n      let items = this.search.filter(this.current.mentionText, values, {\n        pre: this.current.collection.searchOpts.pre || \"<span>\",\n        post: this.current.collection.searchOpts.post || \"</span>\",\n        skip: this.current.collection.searchOpts.skip,\n        extract: el => {\n          if (typeof this.current.collection.lookup === \"string\") {\n            return el[this.current.collection.lookup];\n          } else if (typeof this.current.collection.lookup === \"function\") {\n            return this.current.collection.lookup(el, this.current.mentionText);\n          } else {\n            throw new Error(\n              \"Invalid lookup attribute, lookup must be string or function.\"\n            );\n          }\n        }\n      });\n\n      if (this.current.collection.menuItemLimit) {\n        items = items.slice(0, this.current.collection.menuItemLimit);\n      }\n\n      this.current.filteredItems = items;\n\n      let ul = this.menu.querySelector(\"ul\");\n\n      this.range.positionMenuAtCaret(scrollTo);\n\n      if (!items.length) {\n        let noMatchEvent = new CustomEvent(\"tribute-no-match\", {\n          detail: this.menu\n        });\n        this.current.element.dispatchEvent(noMatchEvent);\n        if (\n          (typeof this.current.collection.noMatchTemplate === \"function\" &&\n            !this.current.collection.noMatchTemplate()) ||\n          !this.current.collection.noMatchTemplate\n        ) {\n          this.hideMenu();\n        } else {\n          typeof this.current.collection.noMatchTemplate === \"function\"\n            ? (ul.innerHTML = this.current.collection.noMatchTemplate())\n            : (ul.innerHTML = this.current.collection.noMatchTemplate);\n        }\n\n        return;\n      }\n\n      ul.innerHTML = \"\";\n      let fragment = this.range.getDocument().createDocumentFragment();\n\n      items.forEach((item, index) => {\n        let li = this.range.getDocument().createElement(\"li\");\n        li.setAttribute(\"data-index\", index);\n        li.className = this.current.collection.itemClass;\n        li.addEventListener(\"mousemove\", e => {\n          let [li, index] = this._findLiTarget(e.target);\n          if (e.movementY !== 0) {\n            this.events.setActiveLi(index);\n          }\n        });\n        if (this.menuSelected === index) {\n          li.classList.add(this.current.collection.selectClass);\n        }\n        li.innerHTML = this.current.collection.menuItemTemplate(item);\n        fragment.appendChild(li);\n      });\n      ul.appendChild(fragment);\n    };\n\n    if (typeof this.current.collection.values === \"function\") {\n      this.current.collection.values(this.current.mentionText, processValues);\n    } else {\n      processValues(this.current.collection.values);\n    }\n  }\n\n  _findLiTarget(el) {\n    if (!el) return [];\n    const index = el.getAttribute(\"data-index\");\n    return !index ? this._findLiTarget(el.parentNode) : [el, index];\n  }\n\n  showMenuForCollection(element, collectionIndex) {\n    if (element !== document.activeElement) {\n      this.placeCaretAtEnd(element);\n    }\n\n    this.current.collection = this.collection[collectionIndex || 0];\n    this.current.externalTrigger = true;\n    this.current.element = element;\n\n    if (element.isContentEditable)\n      this.insertTextAtCursor(this.current.collection.trigger);\n    else this.insertAtCaret(element, this.current.collection.trigger);\n\n    this.showMenuFor(element);\n  }\n\n  // TODO: make sure this works for inputs/textareas\n  placeCaretAtEnd(el) {\n    el.focus();\n    if (\n      typeof window.getSelection != \"undefined\" &&\n      typeof document.createRange != \"undefined\"\n    ) {\n      var range = document.createRange();\n      range.selectNodeContents(el);\n      range.collapse(false);\n      var sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(range);\n    } else if (typeof document.body.createTextRange != \"undefined\") {\n      var textRange = document.body.createTextRange();\n      textRange.moveToElementText(el);\n      textRange.collapse(false);\n      textRange.select();\n    }\n  }\n\n  // for contenteditable\n  insertTextAtCursor(text) {\n    var sel, range, html;\n    sel = window.getSelection();\n    range = sel.getRangeAt(0);\n    range.deleteContents();\n    var textNode = document.createTextNode(text);\n    range.insertNode(textNode);\n    range.selectNodeContents(textNode);\n    range.collapse(false);\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  // for regular inputs\n  insertAtCaret(textarea, text) {\n    var scrollPos = textarea.scrollTop;\n    var caretPos = textarea.selectionStart;\n\n    var front = textarea.value.substring(0, caretPos);\n    var back = textarea.value.substring(\n      textarea.selectionEnd,\n      textarea.value.length\n    );\n    textarea.value = front + text + back;\n    caretPos = caretPos + text.length;\n    textarea.selectionStart = caretPos;\n    textarea.selectionEnd = caretPos;\n    textarea.focus();\n    textarea.scrollTop = scrollPos;\n  }\n\n  hideMenu() {\n    if (this.menu) {\n      this.menu.style.cssText = \"display: none;\";\n      this.isActive = false;\n      this.menuSelected = 0;\n      this.current = {};\n    }\n  }\n\n  selectItemAtIndex(index, originalEvent) {\n    index = parseInt(index);\n    if (typeof index !== \"number\" || isNaN(index)) return;\n    let item = this.current.filteredItems[index];\n    let content = this.current.collection.selectTemplate(item);\n    if (content !== null) this.replaceText(content, originalEvent, item);\n  }\n\n  replaceText(content, originalEvent, item) {\n    this.range.replaceTriggerText(content, true, true, originalEvent, item);\n  }\n\n  _append(collection, newValues, replace) {\n    if (typeof collection.values === \"function\") {\n      throw new Error(\"Unable to append to values, as it is a function.\");\n    } else if (!replace) {\n      collection.values = collection.values.concat(newValues);\n    } else {\n      collection.values = newValues;\n    }\n  }\n\n  append(collectionIndex, newValues, replace) {\n    let index = parseInt(collectionIndex);\n    if (typeof index !== \"number\")\n      throw new Error(\"please provide an index for the collection to update.\");\n\n    let collection = this.collection[index];\n\n    this._append(collection, newValues, replace);\n  }\n\n  appendCurrent(newValues, replace) {\n    if (this.isActive) {\n      this._append(this.current.collection, newValues, replace);\n    } else {\n      throw new Error(\n        \"No active state. Please use append instead and pass an index.\"\n      );\n    }\n  }\n\n  detach(el) {\n    if (!el) {\n      throw new Error(\"[Tribute] Must pass in a DOM node or NodeList.\");\n    }\n\n    // Check if it is a jQuery collection\n    if (typeof jQuery !== \"undefined\" && el instanceof jQuery) {\n      el = el.get();\n    }\n\n    // Is el an Array/Array-like object?\n    if (\n      el.constructor === NodeList ||\n      el.constructor === HTMLCollection ||\n      el.constructor === Array\n    ) {\n      let length = el.length;\n      for (var i = 0; i < length; ++i) {\n        this._detach(el[i]);\n      }\n    } else {\n      this._detach(el);\n    }\n  }\n\n  _detach(el) {\n    this.events.unbind(el);\n    if (el.tributeMenu) {\n      this.menuEvents.unbind(el.tributeMenu);\n    }\n\n    setTimeout(() => {\n      el.removeAttribute(\"data-tribute\");\n      this.isActive = false;\n      if (el.tributeMenu) {\n        el.tributeMenu.remove();\n      }\n    });\n  }\n}\n\nexport default Tribute;\n","module.exports = require('./forEach');\n","import {\n  ComponentWithAs,\n  ComponentSlotClasses,\n  useStyles,\n  useFluentContext,\n  useTelemetry,\n  useUnhandledProps,\n} from '@fluentui/react-bindings';\nimport { ICSSInJSStyle } from '@fluentui/styles';\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport {\n  createShorthandFactory,\n  pxToRem,\n  UIComponentProps,\n  commonPropTypes,\n  ContentComponentProps,\n  rtlTextContainer,\n} from '../../utils';\nimport { Layout } from '../Layout/Layout';\nimport { FluentComponentStaticProps } from '../../types';\n\nexport interface ItemLayoutSlotClassNames {\n  header: string;\n  headerMedia: string;\n  main: string;\n  content: string;\n  contentMedia: string;\n  media: string;\n  endMedia: string;\n}\n\nexport interface ItemLayoutProps extends UIComponentProps, ContentComponentProps<any> {\n  contentMedia?: any;\n  /** Toggle debug mode */\n  debug?: boolean;\n  header?: any;\n  endMedia?: any;\n  headerMedia?: any;\n  media?: any;\n  renderContentArea?: (props: ItemLayoutProps, classes: ComponentSlotClasses) => React.ReactNode;\n  renderHeaderArea?: (props: ItemLayoutProps, classes: ComponentSlotClasses) => React.ReactNode;\n  renderMainArea?: (props: ItemLayoutProps, classes: ComponentSlotClasses) => React.ReactNode;\n  /** Styled applied to the root element of the rendered component. */\n  rootCSS?: ICSSInJSStyle;\n  /** Styled applied to the media element of the rendered component. */\n  mediaCSS?: React.CSSProperties;\n  /** Styled applied to the header element of the rendered component. */\n  headerCSS?: ICSSInJSStyle;\n  /** Styled applied to the header media element of the rendered component. */\n  headerMediaCSS?: React.CSSProperties;\n  /** Styled applied to the content element of the rendered component. */\n  contentCSS?: ICSSInJSStyle;\n  /** Styled applied to the content element of the rendered component. */\n  contentMediaCSS?: React.CSSProperties;\n  /** Styled applied to the end media element of the rendered component. */\n  endMediaCSS?: React.CSSProperties;\n}\n\nexport const itemLayoutClassName = 'ui-itemlayout';\nexport const itemLayoutSlotClassNames: ItemLayoutSlotClassNames = {\n  header: `${itemLayoutClassName}__header`,\n  headerMedia: `${itemLayoutClassName}__headerMedia`,\n  main: `${itemLayoutClassName}__main`,\n  content: `${itemLayoutClassName}__content`,\n  contentMedia: `${itemLayoutClassName}__contentMedia`,\n  media: `${itemLayoutClassName}__media`,\n  endMedia: `${itemLayoutClassName}__endMedia`,\n};\n\nexport type ItemLayoutStylesProps = never;\n\n/**\n * (DEPRECATED) The Item Layout handles layout styles for menu items, list items and other similar item templates.\n */\nexport const ItemLayout: ComponentWithAs<'div', ItemLayoutProps> &\n  FluentComponentStaticProps<ItemLayoutProps> = props => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(ItemLayout.displayName, context.telemetry);\n  setStart();\n  const {\n    as,\n    debug,\n    endMedia,\n    media,\n    renderMainArea,\n    rootCSS,\n    mediaCSS,\n    endMediaCSS,\n    className,\n    design,\n    styles,\n    variables,\n  } = props;\n\n  const unhandledProps = useUnhandledProps(ItemLayout.handledProps, props);\n\n  const { classes, styles: resolvedStyles } = useStyles<ItemLayoutStylesProps>(ItemLayout.displayName, {\n    className: itemLayoutClassName,\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const startArea = media;\n  const mainArea = renderMainArea(props, classes);\n  const endArea = endMedia;\n\n  const mergedMediaClasses = cx(itemLayoutSlotClassNames.media, classes.media);\n  const mergedEndMediaClasses = cx(itemLayoutSlotClassNames.endMedia, classes.endMedia);\n\n  const element = (\n    <Layout\n      as={as as React.ElementType}\n      className={classes.root}\n      styles={resolvedStyles.root}\n      rootCSS={rootCSS}\n      alignItems=\"center\"\n      gap={pxToRem(8)}\n      debug={debug}\n      reducing\n      start={\n        startArea && (\n          <span style={mediaCSS} className={mergedMediaClasses}>\n            {rtlTextContainer.createFor({ element: startArea })}\n          </span>\n        )\n      }\n      main={mainArea}\n      end={\n        endArea && (\n          <span style={endMediaCSS} className={mergedEndMediaClasses}>\n            {rtlTextContainer.createFor({ element: endArea })}\n          </span>\n        )\n      }\n      {...unhandledProps}\n    />\n  );\n  setEnd();\n  return element;\n};\n\nItemLayout.displayName = 'ItemLayout';\n\nItemLayout.propTypes = {\n  ...commonPropTypes.createCommon({\n    accessibility: false,\n    children: false,\n    content: false,\n  }),\n  contentMedia: PropTypes.any,\n  content: PropTypes.any,\n  debug: PropTypes.bool,\n  header: PropTypes.any,\n  endMedia: PropTypes.any,\n  headerMedia: PropTypes.any,\n  media: PropTypes.any,\n  renderContentArea: PropTypes.func,\n  renderHeaderArea: PropTypes.func,\n  renderMainArea: PropTypes.func,\n  rootCSS: PropTypes.object,\n  mediaCSS: PropTypes.object,\n  headerCSS: PropTypes.object,\n  headerMediaCSS: PropTypes.object,\n  contentCSS: PropTypes.object,\n  contentMediaCSS: PropTypes.object,\n  endMediaCSS: PropTypes.object,\n};\n\nItemLayout.defaultProps = {\n  renderMainArea: (props, classes) => {\n    const { renderHeaderArea, renderContentArea } = props;\n\n    const headerArea = renderHeaderArea(props, classes);\n    const contentArea = renderContentArea(props, classes);\n\n    return (\n      <div\n        className={itemLayoutSlotClassNames.main}\n        style={{\n          gridTemplateRows: '1fr 1fr',\n        }}\n      >\n        {headerArea}\n        {contentArea}\n      </div>\n    );\n  },\n\n  renderHeaderArea: (props, classes) => {\n    const { debug, header, headerMedia, headerCSS, headerMediaCSS } = props;\n\n    const mergedClasses = cx(itemLayoutSlotClassNames.header, classes.header);\n    const mediaClasses = cx(itemLayoutSlotClassNames.headerMedia, classes.headerMedia);\n\n    return !header && !headerMedia ? null : (\n      <Layout\n        className={mergedClasses}\n        alignItems=\"end\"\n        gap={pxToRem(8)}\n        debug={debug}\n        main={rtlTextContainer.createFor({ element: header })}\n        rootCSS={headerCSS}\n        end={\n          headerMedia && (\n            <span style={headerMediaCSS} className={mediaClasses}>\n              {rtlTextContainer.createFor({ element: headerMedia })}\n            </span>\n          )\n        }\n      />\n    );\n  },\n\n  renderContentArea: (props, classes) => {\n    const { debug, content, contentMedia, contentCSS, contentMediaCSS } = props;\n\n    const mergedClasses = cx(itemLayoutSlotClassNames.content, classes.content);\n    const mediaClasses = cx(itemLayoutSlotClassNames.contentMedia, classes.contentMedia);\n\n    return !content && !contentMedia ? null : (\n      <Layout\n        className={mergedClasses}\n        alignItems=\"start\"\n        gap={pxToRem(8)}\n        debug={debug}\n        rootCSS={contentCSS}\n        main={rtlTextContainer.createFor({ element: content })}\n        end={\n          contentMedia && (\n            <span style={contentMediaCSS} className={mediaClasses}>\n              {rtlTextContainer.createFor({ element: contentMedia })}\n            </span>\n          )\n        }\n      />\n    );\n  },\n};\n\nItemLayout.handledProps = Object.keys(ItemLayout.propTypes) as any;\n\nItemLayout.create = createShorthandFactory({ Component: ItemLayout, mappedProp: 'content' });\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * React Component Base\n */\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { extend, isNullOrUndefined, setValue, getValue, isObject } from '@syncfusion/ej2-base';\nvar defaulthtmlkeys = ['alt', 'className', 'disabled', 'form', 'id',\n    'readOnly', 'style', 'tabIndex', 'title', 'type', 'name',\n    'onClick', 'onFocus', 'onBlur'];\nvar delayUpdate = ['accordion', 'tab', 'splitter'];\nvar reactUid = 0;\nvar isColEName = new RegExp('\\]');\n// tslint:disable\nvar ComponentBase = /** @class */ (function (_super) {\n    __extends(ComponentBase, _super);\n    function ComponentBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.attrKeys = [];\n        _this.cachedTimeOut = 0;\n        _this.isAppendCalled = false;\n        _this.initRenderCalled = false;\n        _this.isReactForeceUpdate = false;\n        _this.isReact = true;\n        _this.isshouldComponentUpdateCalled = false;\n        return _this;\n    }\n    // Lifecycle methods are changed by React team and so we can deprecate this method and use\n    // Reference link:https://reactjs.org/docs/react-component.html#unsafe_componentWillMount\n    // tslint:disable-next-line:no-any\n    ComponentBase.prototype.componentDidMount = function () {\n        this.refreshChild(true);\n        this.canDelayUpdate = delayUpdate.indexOf(this.getModuleName()) !== -1;\n        // Used timeout to resolve template binding\n        // Reference link: https://github.com/facebook/react/issues/10309#issuecomment-318433235\n        // tslint:disable-next-line:no-any\n        this.renderReactComponent();\n        if (this.portals && this.portals.length) {\n            this.renderReactTemplates();\n        }\n    };\n    ComponentBase.prototype.componentDidUpdate = function (prev) {\n        if (!this.isshouldComponentUpdateCalled && this.initRenderCalled && !this.isReactForeceUpdate) {\n            this.isshouldComponentUpdateCalled = true;\n            if (prev !== this.props) {\n                this.refreshProperties(this.props, true);\n            }\n        }\n    };\n    ComponentBase.prototype.renderReactComponent = function () {\n        var ele = this.reactElement;\n        if (ele) {\n            this.isAppendCalled = true;\n            this.appendTo(ele);\n        }\n    };\n    // Lifecycle methods are changed by React team and so we can deprecate this method and use\n    // Reference link:https://reactjs.org/docs/react-component.html#unsafe_componentwillreceiveprops\n    // tslint:disable-next-line:no-any\n    /**\n     * @private\n     */\n    ComponentBase.prototype.shouldComponentUpdate = function (nextProps) {\n        this.isshouldComponentUpdateCalled = true;\n        if (!this.initRenderCalled) {\n            this.updateProperties(nextProps, true);\n            return true;\n        }\n        if (!this.isAppendCalled) {\n            clearTimeout(this.cachedTimeOut);\n            this.isAppendCalled = true;\n            this.appendTo(this.reactElement);\n        }\n        this.updateProperties(nextProps);\n        return true;\n    };\n    /**\n     * @private\n     */\n    ComponentBase.prototype.updateProperties = function (nextProps, silent) {\n        var _this = this;\n        var dProps = extend({}, nextProps);\n        var keys = Object.keys(nextProps);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var propkey = keys_1[_i];\n            var isClassName = propkey === 'className';\n            if (propkey === 'children') {\n                continue;\n            }\n            if (!isClassName && !isNullOrUndefined(this.htmlattributes[propkey]) &&\n                this.htmlattributes[propkey] !== dProps[propkey]) {\n                this.htmlattributes[propkey] = dProps[propkey];\n            }\n            if (this.compareValues(this.props[propkey], nextProps[propkey])) {\n                delete dProps[propkey];\n            }\n            else if (this.attrKeys.indexOf(propkey) !== -1) {\n                if (isClassName) {\n                    this.clsName = true;\n                    var propsClsName = this.props[propkey].split(' ');\n                    for (var i = 0; i < propsClsName.length; i++) {\n                        this.element.classList.remove(propsClsName[i]);\n                    }\n                    var dpropsClsName = dProps[propkey].split(' ');\n                    for (var j = 0; j < dpropsClsName.length; j++) {\n                        this.element.classList.add(dpropsClsName[j]);\n                    }\n                }\n                else if (propkey !== 'disabled') {\n                    delete dProps[propkey];\n                }\n            }\n            else if (propkey === 'value' && nextProps[propkey] === this[propkey]) {\n                delete dProps[propkey];\n            }\n            else if ((propkey === 'valueTemplate' || propkey === 'itemTemplate' || propkey === 'headerTemplate') && nextProps[propkey].toString() === this[propkey].toString()) {\n                delete dProps[propkey];\n            }\n        }\n        if (dProps['children']) {\n            delete dProps['children'];\n        }\n        // tslint:disable-next-line:no-any\n        if (this.initRenderCalled && (this.canDelayUpdate || this.props.delayUpdate)) {\n            setTimeout(function () {\n                _this.refreshProperties(dProps, nextProps, silent);\n            });\n        }\n        else {\n            this.refreshProperties(dProps, nextProps, silent);\n        }\n    };\n    ComponentBase.prototype.refreshProperties = function (dProps, nextProps, silent) {\n        if (Object.keys(dProps).length) {\n            if (!silent) {\n                // tslint:disable-next-line:no-any\n                this.processComplexTemplate(dProps, this);\n            }\n            this.setProperties(dProps, silent);\n        }\n        this.refreshChild(silent, nextProps);\n    };\n    ComponentBase.prototype.processComplexTemplate = function (curObject, context) {\n        var compTemplate = context.complexTemplate;\n        if (compTemplate) {\n            for (var prop in compTemplate) {\n                var PropVal = compTemplate[prop];\n                if (curObject[prop]) {\n                    setValue(PropVal, getValue(prop, curObject), curObject);\n                }\n            }\n        }\n    };\n    ComponentBase.prototype.getDefaultAttributes = function () {\n        var _this = this;\n        this.isReact = true;\n        var propKeys = Object.keys(this.props);\n        var stringValue = [\"autocomplete\", \"dropdownlist\", \"combobox\"];\n        // if ((stringValue.indexOf(this.getModuleName()) !== -1) && (!isNullOrUndefined(this.props[\"value\"]))) {\n        //     this.value = (<{ [key: string]: Object }>this.props)[\"value\"];\n        // }\n        if (!this.htmlattributes) {\n            this.htmlattributes = {};\n        }\n        this.attrKeys = defaulthtmlkeys.concat(this.controlAttributes || []);\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var prop = propKeys_1[_i];\n            if (prop.indexOf('data-') !== -1 || prop.indexOf('aria-') !== -1 || this.attrKeys.indexOf(prop) !== -1) {\n                if (this.htmlattributes[prop] !== this.props[prop]) {\n                    this.htmlattributes[prop] = this.props[prop];\n                }\n            }\n        }\n        if (!this.htmlattributes.ref) {\n            /* tslint:disable:no-any */\n            this.htmlattributes.ref = function (ele) {\n                _this.reactElement = ele;\n            };\n            var keycompoentns = ['autocomplete', 'combobox', 'dropdownlist', 'dropdowntree', 'multiselect',\n                'listbox', 'colorpicker', 'numerictextbox', 'textbox',\n                'uploader', 'maskedtextbox', 'slider', 'datepicker', 'datetimepicker', 'daterangepicker', 'timepicker', 'checkbox', 'switch', 'radio'];\n            if (keycompoentns.indexOf(this.getModuleName()) !== -1) {\n                this.htmlattributes.key = '' + ComponentBase.reactUid;\n                ComponentBase.reactUid++;\n            }\n        }\n        if (this.clsName) {\n            var clsList = this.element.classList;\n            var className = this.htmlattributes['className'];\n            for (var i = 0; i < clsList.length; i++) {\n                if ((className.indexOf(clsList[i]) == -1)) {\n                    this.htmlattributes['className'] = this.htmlattributes['className'] + ' ' + clsList[i];\n                }\n            }\n            this.clsName = false;\n        }\n        return this.htmlattributes;\n    };\n    /* tslint:disable:no-any */\n    ComponentBase.prototype.trigger = function (eventName, eventProp, successHandler) {\n        var _this = this;\n        if (this.isDestroyed !== true && this.modelObserver) {\n            if (isColEName.test(eventName)) {\n                var handler = getValue(eventName, this);\n                if (handler) {\n                    handler.call(this, eventProp);\n                    if (successHandler) {\n                        successHandler.call(this, eventProp);\n                    }\n                }\n                else if (successHandler) {\n                    successHandler.call(this, eventProp);\n                }\n            }\n            if ((eventName === 'change' || eventName === 'input')) {\n                if (this.props.onChange && eventProp.event) {\n                    this.props.onChange.call(undefined, {\n                        syntheticEvent: eventProp.event,\n                        nativeEvent: { text: eventProp.value },\n                        value: eventProp.value,\n                        target: this\n                    });\n                }\n            }\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            if (eventName === 'created') {\n                setTimeout(function () {\n                    if (!_this.isDestroyed) {\n                        _this.modelObserver.notify(eventName, eventProp, successHandler);\n                    }\n                });\n            }\n            else {\n                this.modelObserver.notify(eventName, eventProp, successHandler);\n            }\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ComponentBase.prototype.compareValues = function (value1, value2) {\n        var typeVal = typeof value1;\n        var typeVal2 = typeof value2;\n        if (typeVal === typeVal2) {\n            if (value1 === value2) {\n                return true;\n            }\n            if ((!isNullOrUndefined(value1) && value1.constructor) !== (!isNullOrUndefined(value2) && value2.constructor)) {\n                return false;\n            }\n            if (value1 instanceof Date ||\n                value1 instanceof RegExp ||\n                value1 instanceof String ||\n                value1 instanceof Number) {\n                return value1.toString() === value2.toString();\n            }\n            if (isObject(value1) || Array.isArray(value1)) {\n                var tempVal = value1;\n                var tempVal2 = value2;\n                if (isObject(tempVal)) {\n                    tempVal = [value1];\n                    tempVal2 = [value2];\n                }\n                return this.compareObjects(tempVal, tempVal2).status;\n            }\n        }\n        return false;\n    };\n    ComponentBase.prototype.compareObjects = function (oldProps, newProps, propName) {\n        var status = true;\n        var lenSimilarity = (oldProps.length === newProps.length);\n        var diffArray = [];\n        if (lenSimilarity) {\n            for (var i = 0, len = newProps.length; i < len; i++) {\n                var curObj = {};\n                var oldProp = oldProps[i];\n                var newProp = newProps[i];\n                var keys = Object.keys(newProp);\n                if (keys.length !== 0) {\n                    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                        var key = keys_2[_i];\n                        var oldValue = oldProp[key];\n                        var newValue = newProp[key];\n                        if (key === 'items') {\n                            for (var _j = 0; _j < newValue.length; _j++) {\n                                if (this.getModuleName() === 'richtexteditor' && typeof (newValue[_j]) === 'object') {\n                                    return { status: true };\n                                }\n                            }\n                        }\n                        if (this.getModuleName() === 'grid' && key === 'field') {\n                            curObj[key] = newValue;\n                        }\n                        if (!oldProp.hasOwnProperty(key) || !this.compareValues(oldValue, newValue)) {\n                            if (!propName) {\n                                return { status: false };\n                            }\n                            status = false;\n                            curObj[key] = newValue;\n                        }\n                    }\n                }\n                else {\n                    if (!propName) {\n                        return { status: false };\n                    }\n                    status = false;\n                }\n                if (Object.keys(curObj).length) {\n                    diffArray.push({ index: i, value: curObj, key: propName });\n                }\n            }\n        }\n        else {\n            status = false;\n        }\n        return { status: status, changedProperties: diffArray };\n    };\n    ComponentBase.prototype.refreshChild = function (silent, props) {\n        if (this.checkInjectedModules) {\n            var prevModule = this.getInjectedModules() || [];\n            var curModule = this.getInjectedServices() || [];\n            for (var _i = 0, curModule_1 = curModule; _i < curModule_1.length; _i++) {\n                var mod = curModule_1[_i];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.injectedModules = prevModule;\n        }\n        if (this.directivekeys) {\n            var changedProps = [];\n            var directiveValue = this.validateChildren({}, this.directivekeys, (props || this.props));\n            if (directiveValue && Object.keys(directiveValue).length) {\n                if (!silent && this.skipRefresh) {\n                    for (var _a = 0, _b = this.skipRefresh; _a < _b.length; _a++) {\n                        var fields = _b[_a];\n                        delete directiveValue[fields];\n                    }\n                }\n                if (this.prevProperties) {\n                    var dKeys = Object.keys(this.prevProperties);\n                    for (var i = 0; i < dKeys.length; i++) {\n                        var key = dKeys[i];\n                        if (!directiveValue.hasOwnProperty(key)) {\n                            continue;\n                        }\n                        var compareOutput = this.compareObjects(this.prevProperties[key], directiveValue[key], key);\n                        if (compareOutput.status) {\n                            delete directiveValue[key];\n                        }\n                        else {\n                            if (compareOutput.changedProperties.length) {\n                                changedProps = changedProps.concat(compareOutput.changedProperties);\n                            }\n                            var obj = {};\n                            obj[key] = directiveValue[key];\n                            this.prevProperties = extend(this.prevProperties, obj);\n                        }\n                    }\n                }\n                else {\n                    this.prevProperties = extend({}, directiveValue, {}, true);\n                }\n                if (changedProps.length) {\n                    if (this.getModuleName() === 'grid' && key === 'columns') {\n                        for (var _c1 = 0, allColumns = this.columns; _c1 < allColumns.length; _c1++) {\n                            var compareField1 = getValue('field', allColumns[_c1]);\n                            var compareField2 = getValue(_c1 + '.value.field', changedProps);\n                            if (compareField1 === compareField2) {\n                                var propInstance = getValue(changedProps[_c1].key + '.' + changedProps[_c1].index, this);\n                                if (propInstance && propInstance.setProperties) {\n                                    propInstance.setProperties(changedProps[_c1].value);\n                                }\n                                else {\n                                    extend(propInstance, changedProps[_c1].value);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        for (var _c = 0, changedProps_1 = changedProps; _c < changedProps_1.length; _c++) {\n                            var changes = changedProps_1[_c];\n                            var propInstance_1 = getValue(changes.key + '.' + changes.index, this);\n                            if (propInstance_1 && propInstance_1.setProperties) {\n                                propInstance_1.setProperties(changes.value);\n                            }\n                            else {\n                                extend(propInstance_1, changes.value);\n                            }\n                        }\n                    }\n                }\n                else {\n                    this.setProperties(directiveValue, silent);\n                }\n            }\n        }\n    };\n    ComponentBase.prototype.componentWillUnmount = function () {\n        clearTimeout(this.cachedTimeOut);\n        var modulesName = ['dropdowntree', 'checkbox'];\n        // tslint:disable-next-line:no-any\n        if (this.initRenderCalled && this.isAppendCalled && this.element && (!modulesName.indexOf(this.getModuleName())) ? document.body.contains(this.element) : true && !this.isDestroyed) {\n            this.destroy();\n        }\n    };\n    // tslint:disable:no-any\n    ComponentBase.prototype.appendReactElement = function (element, container) {\n        ReactDOM.render(ReactDOM.createPortal(element, container), container);\n    };\n    ;\n    // tslint:disable:no-any \n    ComponentBase.prototype.renderReactTemplates = function (callback) {\n        this.isReactForeceUpdate = true;\n        if (callback) {\n            this.forceUpdate(callback);\n        }\n        else {\n            this.forceUpdate();\n        }\n        this.isReactForeceUpdate = false;\n    };\n    ;\n    // tslint:disable:no-any \n    ComponentBase.prototype.clearTemplate = function (templateNames, index, callback) {\n        var _this = this;\n        var tempPortal = [];\n        if (templateNames && templateNames.length) {\n            Array.prototype.forEach.call(templateNames, function (propName) {\n                var indexCount = 0;\n                var propIndexCount = 0;\n                _this.portals.forEach(function (portal) {\n                    if (portal.propName === propName) {\n                        tempPortal.push(propIndexCount);\n                        propIndexCount++;\n                    }\n                });\n                if (index && _this.portals[tempPortal[index[indexCount]]].propName == propName) {\n                    _this.portals.splice(index, 1);\n                    indexCount++;\n                }\n                else {\n                    for (var i = 0; i < _this.portals.length; i++) {\n                        if (_this.portals[i].propName == propName) {\n                            _this.portals.splice(i, 1);\n                            i--;\n                        }\n                    }\n                }\n            });\n        }\n        else {\n            this.portals = [];\n        }\n        this.renderReactTemplates(callback);\n    };\n    ;\n    /* tslint:disable:no-any */\n    ComponentBase.prototype.validateChildren = function (childCache, mapper, props) {\n        var flag = false;\n        var childs = React.Children.toArray(props.children);\n        for (var _i = 0, childs_1 = childs; _i < childs_1.length; _i++) {\n            var child = childs_1[_i];\n            var ifield = this.getChildType(child);\n            var key = mapper[ifield];\n            if (ifield && mapper) {\n                // tslint:disable\n                var childProps = this.getChildProps(React.Children.toArray(child.props.children), key);\n                if (childProps.length) {\n                    flag = true;\n                    // tslint:disable\n                    childCache[child.type.propertyName || ifield] = childProps;\n                }\n            }\n        }\n        if (flag) {\n            return childCache;\n        }\n        return null;\n    };\n    // tslint:disable:no-any\n    ComponentBase.prototype.getChildType = function (child) {\n        if (child.type && child.type.isDirective) {\n            return child.type.moduleName || '';\n        }\n        return '';\n    };\n    ComponentBase.prototype.getChildProps = function (subChild, matcher) {\n        var ret = [];\n        for (var _i = 0, subChild_1 = subChild; _i < subChild_1.length; _i++) {\n            var child = subChild_1[_i];\n            var accessProp = false;\n            var key = void 0;\n            if (typeof matcher === 'string') {\n                accessProp = true;\n                key = matcher;\n            }\n            else {\n                key = Object.keys(matcher)[0];\n            }\n            var prop = child.props;\n            // tslint:disable-next-line:no-any\n            var field = this.getChildType(child);\n            if (field === key) {\n                if (accessProp || !prop.children) {\n                    // tslint:disable\n                    var cacheVal = extend({}, prop, {}, true);\n                    // tslint:disable\n                    this.processComplexTemplate(cacheVal, child.type);\n                    ret.push(cacheVal);\n                }\n                else {\n                    var cachedValue = this.validateChildren(extend({}, prop), matcher[key], prop) || prop;\n                    if (cachedValue['children']) {\n                        delete cachedValue['children'];\n                    }\n                    // tslint:disable\n                    this.processComplexTemplate(cachedValue, child.type);\n                    ret.push(cachedValue);\n                }\n            }\n        }\n        return ret;\n    };\n    // tslint:disable:no-any\n    ComponentBase.prototype.getInjectedServices = function () {\n        var childs = React.Children.toArray(this.props.children);\n        for (var _i = 0, childs_2 = childs; _i < childs_2.length; _i++) {\n            var child = childs_2[_i];\n            /* tslint:disable:no-any */\n            if (child.type.isService) {\n                return child.props.services;\n            }\n        }\n        return [];\n    };\n    /**\n     * @private\n     */\n    ComponentBase.reactUid = 1;\n    return ComponentBase;\n}(React.Component));\nexport { ComponentBase };\n/* tslint:enable:no-any */\n","// tslint:disable-next-line:no-any\nexport function applyMixins(derivedClass, baseClass) {\n    // tslint:disable:typedef\n    baseClass.forEach(function (baseClass) {\n        Object.getOwnPropertyNames(baseClass.prototype).forEach(function (name) {\n            if (name !== 'isMounted' && name !== 'replaceState') {\n                derivedClass.prototype[name] = baseClass.prototype[name];\n            }\n        });\n    });\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\n/**\n * Directory base\n */\nvar ComplexBase = /** @class */ (function (_super) {\n    __extends(ComplexBase, _super);\n    function ComplexBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ComplexBase.prototype.render = function () {\n        return null;\n    };\n    ComplexBase.isDirective = true;\n    return ComplexBase;\n}(React.PureComponent));\nexport { ComplexBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Dependency injection\n */\nimport * as React from 'react';\nvar Inject = /** @class */ (function (_super) {\n    __extends(Inject, _super);\n    function Inject() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // tslint:disable-next-line:no-any\n    Inject.prototype.render = function () {\n        return null;\n    };\n    Inject.isService = true;\n    return Inject;\n}(React.PureComponent));\nexport { Inject };\n","/**\n * Template compiler for react\n */\nimport { setTemplateEngine, getTemplateEngine, detach, extend } from '@syncfusion/ej2-base';\nimport * as ReactDOM from 'react-dom';\nimport * as React from 'react';\n// tslint:disable:no-any\nvar stringCompiler = getTemplateEngine();\nexport function compile(templateElement, helper) {\n    if (typeof templateElement === 'string') {\n        return stringCompiler(templateElement, helper);\n    }\n    else {\n        return function (data, component, prop, element) {\n            var actTemplate = templateElement;\n            var actData = data;\n            if (typeof actTemplate === 'object') {\n                actTemplate = templateElement.template;\n                actData = extend({}, data, templateElement.data || {});\n            }\n            var cEle;\n            if (element) {\n                cEle = element;\n            }\n            else {\n                cEle = document.createElement('div');\n            }\n            if (component && component.isLegacyTemplate) {\n                ReactDOM.render(actTemplate(actData), cEle);\n                if (!element) {\n                    detach(cEle);\n                }\n            }\n            else {\n                var rele = React.createElement(actTemplate, actData);\n                var portal = ReactDOM.createPortal(rele, cEle);\n                portal.propName = prop;\n                if (!component.portals) {\n                    component.portals = [portal];\n                }\n                else {\n                    component.portals.push(portal);\n                }\n            }\n            if (!element) {\n                return [cEle];\n            }\n        };\n    }\n}\nsetTemplateEngine({ compile: compile });\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport {\n  childrenExist,\n  UIComponentProps,\n  ContentComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n  ColorComponentProps,\n  createShorthandFactory,\n} from '../../utils';\nimport { Accessibility } from '@fluentui/accessibility';\n\nimport { ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport { Box, BoxProps } from '../Box/Box';\nimport {\n  useTelemetry,\n  getElementType,\n  useAccessibility,\n  useFluentContext,\n  useUnhandledProps,\n  useStyles,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface SegmentProps\n  extends UIComponentProps<SegmentProps>,\n    ChildrenComponentProps,\n    ColorComponentProps,\n    ContentComponentProps<ShorthandValue<BoxProps>> {\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<never>;\n\n  /** An segment can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n\n  /** A segment can have its colors inverted for contrast. */\n  inverted?: boolean;\n}\n\nexport type SegmentStylesProps = Required<Pick<SegmentProps, 'color' | 'inverted' | 'disabled'>>;\n\nexport const segmentClassName = 'ui-segment';\n\n/**\n * A Segment visually groups related content.\n */\nexport const Segment = (React.forwardRef<HTMLDivElement, SegmentProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Segment.displayName, context.telemetry);\n  setStart();\n  const { children, content, color, inverted, disabled, className, design, styles, variables } = props;\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Segment.handledProps, props);\n\n  const getA11yProps = useAccessibility<never>(props.accessibility, {\n    debugName: Segment.displayName,\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<SegmentStylesProps>(Segment.displayName, {\n    className: segmentClassName,\n    mapPropsToStyles: () => ({\n      color,\n      inverted,\n      disabled,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        ref,\n        ...rtlTextContainer.getAttributes({ forElements: [children] }),\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children) ? children : Box.create(content)}\n    </ElementType>,\n  );\n\n  setEnd();\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, SegmentProps> & FluentComponentStaticProps<SegmentProps>;\n\nSegment.displayName = 'Segment';\n\nSegment.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: 'shorthand',\n    color: true,\n  }),\n  disabled: PropTypes.bool,\n  inverted: PropTypes.bool,\n};\nSegment.handledProps = Object.keys(Segment.propTypes) as any;\n\nSegment.create = createShorthandFactory({\n  Component: Segment,\n});\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Component, isBlazor, isRippleEnabled } from '@syncfusion/ej2-base';\nimport { addClass, Event, detach, removeClass } from '@syncfusion/ej2-base';\nimport { rippleEffect, EventHandler, Observer, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { getTextNode } from '../common/common';\nexport var buttonObserver = new Observer();\nvar cssClassName = {\n    RTL: 'e-rtl',\n    BUTTON: 'e-btn',\n    PRIMARY: 'e-primary',\n    ICONBTN: 'e-icon-btn'\n};\n/**\n * The Button is a graphical user interface element that triggers an event on its click action. It can contain a text, an image, or both.\n * ```html\n * <button id=\"button\">Button</button>\n * ```\n * ```typescript\n * <script>\n * var btnObj = new Button();\n * btnObj.appendTo(\"#button\");\n * </script>\n * ```\n */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {ButtonModel} options - Specifies the button model\n     * @param  {string|HTMLButtonElement} element - Specifies the target element\n     */\n    function Button(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Button.prototype.preRender = function () {\n        // pre render code snippets\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Button.prototype.render = function () {\n        this.initialize();\n        this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n        this.renderComplete();\n    };\n    Button.prototype.initialize = function () {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.isPrimary) {\n            this.element.classList.add(cssClassName.PRIMARY);\n        }\n        if (!isBlazor() || (isBlazor() && this.getModuleName() !== 'progress-btn')) {\n            if (this.content) {\n                var tempContent = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(this.content) : this.content;\n                this.element.innerHTML = tempContent;\n            }\n            this.setIconCss();\n        }\n        if (this.enableRtl) {\n            this.element.classList.add(cssClassName.RTL);\n        }\n        if (this.disabled) {\n            this.controlStatus(this.disabled);\n        }\n        else {\n            this.wireEvents();\n        }\n    };\n    Button.prototype.controlStatus = function (disabled) {\n        this.element.disabled = disabled;\n    };\n    Button.prototype.setIconCss = function () {\n        if (this.iconCss) {\n            var span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add(cssClassName.ICONBTN);\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n                if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n                    this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n                }\n            }\n            var node = this.element.childNodes[0];\n            if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n                this.element.insertBefore(span, node);\n            }\n            else {\n                this.element.appendChild(span);\n            }\n        }\n    };\n    Button.prototype.wireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n        }\n    };\n    Button.prototype.unWireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.remove(this.element, 'click', this.btnClickHandler);\n        }\n    };\n    Button.prototype.btnClickHandler = function () {\n        if (this.element.classList.contains('e-active')) {\n            this.element.classList.remove('e-active');\n        }\n        else {\n            this.element.classList.add('e-active');\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Button.prototype.destroy = function () {\n        var classList = [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success', 'e-info', 'e-danger',\n            'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round',\n            'e-top-icon-btn', 'e-bottom-icon-btn'];\n        if (this.cssClass) {\n            classList = classList.concat(this.cssClass.split(' '));\n        }\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], classList);\n        if (!this.element.getAttribute('class')) {\n            this.element.removeAttribute('class');\n        }\n        if (this.disabled) {\n            this.element.removeAttribute('disabled');\n        }\n        if (this.content) {\n            this.element.innerHTML = this.element.innerHTML.replace(this.content, '');\n        }\n        var span = this.element.querySelector('span.e-btn-icon');\n        if (span) {\n            detach(span);\n        }\n        this.unWireEvents();\n        if (isRippleEnabled) {\n            this.removeRippleEffect();\n        }\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module name\n     * @private\n     */\n    Button.prototype.getModuleName = function () {\n        return 'btn';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist Data\n     * @private\n     */\n    Button.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Dynamically injects the required modules to the component.\n     *\n     * @private\n     * @returns {void}\n     */\n    Button.Inject = function () {\n        // Inject code snippets\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {ButtonModel} newProp - Specifies new properties\n     * @param  {ButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var span = this.element.querySelector('span.e-btn-icon');\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isPrimary':\n                    if (newProp.isPrimary) {\n                        this.element.classList.add(cssClassName.PRIMARY);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.PRIMARY);\n                    }\n                    break;\n                case 'disabled':\n                    this.controlStatus(newProp.disabled);\n                    break;\n                case 'iconCss': {\n                    if (span) {\n                        if (newProp.iconCss) {\n                            span.className = 'e-btn-icon ' + newProp.iconCss;\n                            if (this.element.textContent.trim()) {\n                                if (this.iconPosition === 'Left') {\n                                    span.classList.add('e-icon-left');\n                                }\n                                else {\n                                    span.classList.add('e-icon-right');\n                                }\n                            }\n                        }\n                        else {\n                            detach(span);\n                        }\n                    }\n                    else {\n                        this.setIconCss();\n                    }\n                    break;\n                }\n                case 'iconPosition':\n                    removeClass([this.element], ['e-top-icon-btn', 'e-bottom-icon-btn']);\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        detach(span);\n                    }\n                    this.setIconCss();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(cssClassName.RTL);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.RTL);\n                    }\n                    break;\n                case 'content': {\n                    var node = getTextNode(this.element);\n                    if (!node) {\n                        this.element.classList.remove(cssClassName.ICONBTN);\n                    }\n                    if (!isBlazor() || (isBlazor() && !this.isServerRendered && this.getModuleName() !== 'progress-btn')) {\n                        if (this.enableHtmlSanitizer) {\n                            newProp.content = SanitizeHtmlHelper.sanitize(newProp.content);\n                        }\n                        this.element.innerHTML = newProp.content;\n                        this.setIconCss();\n                    }\n                    break;\n                }\n                case 'isToggle':\n                    if (newProp.isToggle) {\n                        EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n                    }\n                    else {\n                        EventHandler.remove(this.element, 'click', this.btnClickHandler);\n                        removeClass([this.element], ['e-active']);\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Click the button element\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    Button.prototype.click = function () {\n        this.element.click();\n    };\n    /**\n     * Sets the focus to Button\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    Button.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property('Left')\n    ], Button.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property()\n    ], Button.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Button.prototype, \"created\", void 0);\n    Button = __decorate([\n        NotifyPropertyChanges\n    ], Button);\n    return Button;\n}(Component));\nexport { Button };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { addClass, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect, closest } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler, setHiddenInput } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\nvar containerAttr = ['title', 'class', 'style', 'disabled', 'readonly', 'name', 'value'];\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @private\n     * @param {CheckBoxModel} options - Specifies checkbox model\n     * @param {string | HTMLInputElement} element - Specifies target element\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFocused = false;\n        _this.isMouseClick = false;\n        _this.clickTriggered = false;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n        this.getWrapper().setAttribute('aria-checked', ariaState);\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        if (event.target.tagName === 'INPUT' && this.clickTriggered) {\n            this.clickTriggered = false;\n            return;\n        }\n        if (event.target.tagName === 'SPAN' || event.target.tagName === 'LABEL') {\n            this.clickTriggered = true;\n        }\n        if (this.isMouseClick) {\n            this.focusOutHandler();\n            this.isMouseClick = false;\n        }\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.updateVueArrayModel(false), event: event };\n        this.trigger('change', changeEventArgs);\n        event.stopPropagation();\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        if (this.wrapper) {\n            wrapper = this.wrapper;\n            if (!this.disabled) {\n                this.unWireEvents();\n            }\n            if (this.tagName === 'INPUT') {\n                if (this.getWrapper() && wrapper.parentNode) {\n                    wrapper.parentNode.insertBefore(this.element, wrapper);\n                }\n                detach(wrapper);\n                this.element.checked = false;\n                if (this.indeterminate) {\n                    this.element.indeterminate = false;\n                }\n                ['name', 'value', 'disabled'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n            }\n            else {\n                ['role', 'aria-checked', 'class'].forEach(function (key) {\n                    wrapper.removeAttribute(key);\n                });\n                wrapper.innerHTML = '';\n            }\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        this.isFocused = true;\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            wrapper.classList.remove('e-focus');\n        }\n        this.isFocused = false;\n    };\n    /**\n     * Gets the module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     *\n     * @private\n     * @returns {string} - Persist Data\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        if (this.element && this.element.parentElement) {\n            return this.element.parentElement.parentElement;\n        }\n        else {\n            return null;\n        }\n    };\n    CheckBox.prototype.initialize = function () {\n        if (isNullOrUndefined(this.initialCheckedValue)) {\n            this.initialCheckedValue = this.checked;\n        }\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n            if (this.isVue && typeof this.value === 'boolean' && this.value === true) {\n                this.setProperties({ 'checked': true }, true);\n            }\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = this.createElement('span', { className: 'e-icons ' + FRAME });\n        wrapper.classList.add('e-wrapper');\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        setHiddenInput(this, label);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'Before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyUpHandler = function () {\n        if (this.isFocused) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.labelMouseDownHandler = function (e) {\n        this.isMouseClick = true;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    CheckBox.prototype.labelMouseUpHandler = function (e) {\n        this.isMouseClick = true;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (rippleSpan) {\n            var rippleElem = rippleSpan.querySelectorAll('.e-ripple-element');\n            for (var i = 0; i < rippleElem.length - 1; i++) {\n                rippleSpan.removeChild(rippleSpan.childNodes[i]);\n            }\n            rippleMouseHandler(e, rippleSpan);\n        }\n    };\n    /**\n     * Called internally if any of the property value changes.\n     *\n     * @private\n     * @param {CheckBoxModel} newProp - Specifies new Properties\n     * @param {CheckBoxModel} oldProp - Specifies old Properties\n     *\n     * @returns {void}\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.wrapper = this.getWrapper();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition': {\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'After') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                }\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    if (this.isVue && typeof newProp.value === 'object') {\n                        break;\n                    }\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToWrapper();\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     *\n     * @private\n     * @returns {void}\n     */\n    CheckBox.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-CHECKBOX', 'checkbox', element, WRAPPER, 'checkbox');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    CheckBox.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.updateHtmlAttributeToWrapper();\n        this.updateVueArrayModel(true);\n        this.renderComplete();\n        this.wrapper = this.getWrapper();\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            return;\n        }\n        var label = wrapper.getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            text = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(text) : text;\n            label = this.createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = wrapper.getElementsByTagName('label')[0];\n            if (this.labelPosition === 'Before') {\n                labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.changeHandler = function (e) {\n        e.stopPropagation();\n    };\n    CheckBox.prototype.formResetHandler = function () {\n        this.checked = this.initialCheckedValue;\n        this.element.checked = this.initialCheckedValue;\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.wrapper;\n        EventHandler.remove(wrapper, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseDownHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseUpHandler);\n        var formElem = closest(this.element, 'form');\n        if (formElem) {\n            EventHandler.remove(formElem, 'reset', this.formResetHandler);\n        }\n        if (this.tagName === 'EJS-CHECKBOX') {\n            EventHandler.remove(this.element, 'change', this.changeHandler);\n        }\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(wrapper, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseDownHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseUpHandler, this);\n        var formElem = closest(this.element, 'form');\n        if (formElem) {\n            EventHandler.add(formElem, 'reset', this.formResetHandler, this);\n        }\n        if (this.tagName === 'EJS-CHECKBOX') {\n            EventHandler.add(this.element, 'change', this.changeHandler, this);\n        }\n    };\n    CheckBox.prototype.updateVueArrayModel = function (init) {\n        if (this.isVue && typeof this.value === 'object') {\n            var value = this.element.value;\n            if (value && this.value) {\n                if (init) {\n                    for (var i = 0; i < this.value.length; i++) {\n                        if (value === this.value[i]) {\n                            this.changeState('check');\n                            this.setProperties({ 'checked': true }, true);\n                        }\n                    }\n                }\n                else {\n                    var index = this.value.indexOf(value);\n                    if (this.checked) {\n                        if (index < 0) {\n                            this.value.push(value);\n                        }\n                    }\n                    else {\n                        if (index > -1) {\n                            this.value.splice(index, 1);\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    return this.value;\n                }\n            }\n        }\n        return this.element.checked;\n    };\n    CheckBox.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) > -1) {\n                    var wrapper = this.getWrapper();\n                    if (key === 'class') {\n                        addClass([wrapper], this.htmlAttributes[key].split(' '));\n                    }\n                    else if (key === 'title') {\n                        wrapper.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else if (key === 'style') {\n                        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n                        frameSpan.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else {\n                        this.element.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Click the CheckBox element\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    CheckBox.prototype.click = function () {\n        this.element.click();\n    };\n    /**\n     * Sets the focus to CheckBox\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    CheckBox.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property({})\n    ], CheckBox.prototype, \"htmlAttributes\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","import { EventHandler, detach, isNullOrUndefined, select, extend, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { closest, addClass, removeClass, Browser } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { CLS_RTE_ELEMENTS } from '../base/classes';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { RenderType } from '../base/enum';\nimport { dispatchEvent, parseHtml } from '../base/util';\nimport { isIDevice } from '../../common/util';\n/**\n * `Link` module is used to handle undo actions.\n */\nvar Link = /** @class */ (function () {\n    function Link(parent, serviceLocator) {\n        this.parent = parent;\n        this.rteID = parent.element.id;\n        this.i10n = serviceLocator.getService('rteLocale');\n        this.addEventListener();\n        this.serviceLocator = serviceLocator;\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n    }\n    Link.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.insertLink, this.linkDialog, this);\n        this.parent.on(events.showLinkDialog, this.showDialog, this);\n        this.parent.on(events.closeLinkDialog, this.closeDialog, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.insertCompleted, this.showLinkQuickToolbar, this);\n        this.parent.on(events.clearDialogObj, this.clearDialogObj, this);\n        this.parent.on(events.linkToolbarAction, this.onToolbarAction, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.unLink, this.removeLink, this);\n        this.parent.on(events.editLink, this.editLink, this);\n        this.parent.on(events.openLink, this.openLink, this);\n        this.parent.on(events.editAreaClick, this.editAreaClickHandler, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    Link.prototype.onToolbarAction = function (args) {\n        var item = args.args.item;\n        switch (item.subCommand) {\n            case 'OpenLink':\n                this.parent.notify(events.openLink, args);\n                break;\n            case 'EditLink':\n                this.parent.notify(events.editLink, args);\n                break;\n            case 'RemoveLink':\n                this.parent.notify(events.unLink, args);\n                break;\n        }\n    };\n    Link.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.insertLink, this.linkDialog);\n        this.parent.off(events.showLinkDialog, this.showDialog);\n        this.parent.off(events.closeLinkDialog, this.closeDialog);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.insertCompleted, this.showLinkQuickToolbar);\n        this.parent.off(events.clearDialogObj, this.clearDialogObj);\n        this.parent.off(events.linkToolbarAction, this.onToolbarAction);\n        this.parent.off(events.unLink, this.removeLink);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.editLink, this.editLink);\n        this.parent.off(events.openLink, this.openLink);\n        this.parent.off(events.editAreaClick, this.editAreaClickHandler);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    Link.prototype.onIframeMouseDown = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Link.prototype.showLinkQuickToolbar = function (e) {\n        if (!isNullOrUndefined(e.args) && e.args.action !== 'enter' &&\n            e.args.action !== 'space') {\n            var pageX = void 0;\n            var pageY = void 0;\n            if (e.type !== 'Links' || isNullOrUndefined(this.parent.quickToolbarModule) ||\n                isNullOrUndefined(this.parent.quickToolbarModule.linkQTBar)) {\n                return;\n            }\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var parentTop = this.parent.element.getBoundingClientRect().top;\n            var parentLeft = this.parent.element.getBoundingClientRect().left;\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var target_1;\n            [].forEach.call(e.elements, function (element, index) {\n                if (index === 0) {\n                    target_1 = ((element.nodeName === '#text') ? (element.parentNode) : element);\n                }\n            });\n            if (e.isNotify) {\n                var tbElement = this.parent.toolbarModule.getToolbarElement();\n                var linkTop = target_1.getBoundingClientRect().top;\n                var linkLeft = target_1.getBoundingClientRect().left;\n                var linkPos = linkTop - parentTop;\n                var tbHeight = (tbElement) ? (tbElement.offsetHeight + this.parent.toolbarModule.getExpandTBarPopHeight()) : 0;\n                pageX = (this.parent.iframeSettings.enable) ? parentLeft + linkLeft : target_1.getBoundingClientRect().left;\n                pageY = window.pageYOffset + ((this.parent.iframeSettings.enable) ?\n                    (parentTop + tbHeight + linkTop) : (parentTop + linkPos));\n            }\n            else {\n                var args = void 0;\n                args = e.args.touches ? e.args.changedTouches[0] : args = e.args;\n                pageX = (this.parent.iframeSettings.enable) ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n                pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset + parentTop + args.clientY : args.pageY;\n            }\n            if (this.quickToolObj.linkQTBar) {\n                this.quickToolObj.linkQTBar.showPopup(pageX, pageY, range.endContainer);\n            }\n        }\n    };\n    Link.prototype.hideLinkQuickToolbar = function () {\n        if (this.quickToolObj && this.quickToolObj.linkQTBar && document.body.contains(this.quickToolObj.linkQTBar.element)) {\n            this.quickToolObj.linkQTBar.hidePopup();\n        }\n    };\n    Link.prototype.editAreaClickHandler = function (e) {\n        if (this.parent.readonly) {\n            this.hideLinkQuickToolbar();\n            return;\n        }\n        var args = e.args;\n        var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n        if (args.which === 2 || (showOnRightClick && args.which === 1) || (!showOnRightClick && args.which === 3)) {\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.linkQTBar) {\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var target = args.target;\n            target = this.getAnchorNode(target);\n            this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n            var isPopupOpen = this.quickToolObj.linkQTBar.element.classList.contains('e-rte-pop');\n            if (target.nodeName === 'A' && (target.childNodes.length > 0 && target.childNodes[0].nodeName !== 'IMG') &&\n                e.args.target.nodeName !== 'IMG' &&\n                !isNOU(closest(this.parent.getRange().startContainer.parentElement, 'A')) && !isNOU(closest(this.parent.getRange().endContainer.parentElement, 'A'))) {\n                if (isPopupOpen) {\n                    return;\n                }\n                this.showLinkQuickToolbar({\n                    args: args,\n                    isNotify: false,\n                    type: 'Links',\n                    elements: [args.target]\n                });\n            }\n            else {\n                this.hideLinkQuickToolbar();\n            }\n        }\n    };\n    Link.prototype.onKeyDown = function (event) {\n        var originalEvent = event.args;\n        switch (originalEvent.action) {\n            case 'escape':\n                if (!isNullOrUndefined(this.dialogObj)) {\n                    this.dialogObj.close();\n                }\n                break;\n            case 'insert-link':\n                this.openDialog(true, event);\n                originalEvent.preventDefault();\n                break;\n        }\n    };\n    Link.prototype.openDialog = function (isInternal, event) {\n        if (!isInternal) {\n            this.parent.contentModule.getEditPanel().focus();\n        }\n        if (this.parent.editorMode === 'HTML') {\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            var selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            var selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            var eventArgs = {\n                args: event ? event.args : {\n                    item: { command: 'Links', subCommand: 'CreateLink' },\n                    originalEvent: undefined\n                },\n                selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n            };\n            this.linkDialog(eventArgs);\n        }\n        else {\n            var textArea = this.parent.contentModule.getEditPanel();\n            this.parent.formatter.editorManager.markdownSelection.save(textArea.selectionStart, textArea.selectionEnd);\n            this.linkDialog({\n                args: {\n                    item: { command: 'Links', subCommand: 'Link' },\n                    originalEvent: event && event.args\n                },\n                member: 'link',\n                text: this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),\n                module: 'Markdown',\n                name: 'insertLink'\n            });\n        }\n    };\n    Link.prototype.showDialog = function () {\n        this.openDialog(false);\n    };\n    Link.prototype.closeDialog = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Link.prototype.clearDialogObj = function () {\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            detach(this.dialogObj.element);\n            this.dialogObj = null;\n        }\n    };\n    Link.prototype.linkDialog = function (e, inputDetails) {\n        var _this = this;\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && (e.selectParent.length > 0 &&\n            !isNullOrUndefined(e.selectParent[0].classList) &&\n            e.selectParent[0].classList.contains('e-rte-anchor')) && isNullOrUndefined(inputDetails)) {\n            this.editLink(e);\n            return;\n        }\n        var linkWebAddress = this.i10n.getConstant('linkWebUrl');\n        var linkDisplayText = this.i10n.getConstant('linkText');\n        var linkTooltip = this.i10n.getConstant('linkTooltipLabel');\n        var urlPlace = this.i10n.getConstant('linkurl');\n        var textPlace = this.i10n.getConstant('textPlaceholder');\n        var title = this.i10n.getConstant('linkTitle');\n        var linkDialogEle = this.parent.createElement('div', {\n            className: 'e-rte-link-dialog', id: this.rteID + '_rtelink'\n        });\n        this.parent.element.appendChild(linkDialogEle);\n        var linkContent = this.parent.createElement('div', {\n            className: 'e-rte-linkcontent', id: this.rteID + '_linkContent'\n        });\n        var htmlTextbox = (this.parent.editorMode === 'HTML') ? '<label>' + linkTooltip +\n            '</label></div><div class=\"e-rte-field\">' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" placeholder = \"' + title + '\" class=\"e-input e-rte-linkTitle\"></div>' +\n            '<div class=\"e-rte-label\"></div>' + '<div class=\"e-rte-field\">' +\n            '<input type=\"checkbox\" class=\"e-rte-linkTarget\"  data-role =\"none\"></div>' : '';\n        var content = '<div class=\"e-rte-label\"><label>' + linkWebAddress + '</label></div>' + '<div class=\"e-rte-field\">' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" placeholder=\"' + urlPlace + '\" class=\"e-input e-rte-linkurl\"/></div>' +\n            '<div class=\"e-rte-label\">' + '<label>' + linkDisplayText + '</label></div><div class=\"e-rte-field\"> ' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" class=\"e-input e-rte-linkText\" placeholder=\"' + textPlace + '\">' +\n            '</div><div class=\"e-rte-label\">' + htmlTextbox;\n        var contentElem = parseHtml(content);\n        linkContent.appendChild(contentElem);\n        var linkTarget = linkContent.querySelector('.e-rte-linkTarget');\n        var linkUrl = linkContent.querySelector('.e-rte-linkurl');\n        var linkText = linkContent.querySelector('.e-rte-linkText');\n        var linkTitle = linkContent.querySelector('.e-rte-linkTitle');\n        var linkOpenLabel = this.i10n.getConstant('linkOpenInNewWindow');\n        this.checkBoxObj = new CheckBox({ label: linkOpenLabel, checked: true, enableRtl: this.parent.enableRtl });\n        this.checkBoxObj.isStringTemplate = true;\n        this.checkBoxObj.createElement = this.parent.createElement;\n        this.checkBoxObj.appendTo(linkTarget);\n        var selectText = (this.parent.editorMode === 'HTML') ?\n            e.selection.getRange(this.parent.contentModule.getDocument()).toString() : e.text;\n        var linkInsert = this.i10n.getConstant('dialogInsert');\n        var linkCancel = this.i10n.getConstant('dialogCancel');\n        var selection = e.selection;\n        var selectObj = { selfLink: this, selection: e.selection, selectParent: e.selectParent, args: e.args };\n        var dialogModel = {\n            header: this.i10n.getConstant('linkHeader'),\n            content: linkContent,\n            cssClass: CLS_RTE_ELEMENTS,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            showCloseIcon: true, closeOnEscape: true, width: (Browser.isDevice) ? '290px' : '310px', height: 'inherit',\n            isModal: Browser.isDevice,\n            buttons: [{\n                    click: this.insertlink.bind(selectObj),\n                    buttonModel: { content: linkInsert, cssClass: 'e-flat e-insertLink', isPrimary: true }\n                },\n                { click: this.cancelDialog.bind(selectObj), buttonModel: { cssClass: 'e-flat', content: linkCancel } }],\n            target: (Browser.isDevice) ? document.body : this.parent.element,\n            animationSettings: { effect: 'None' },\n            close: function (event) {\n                _this.parent.isBlur = false;\n                if (event && event.event.returnValue) {\n                    if (_this.parent.editorMode === 'HTML') {\n                        selection.restore();\n                    }\n                    else {\n                        _this.parent.formatter.editorManager.markdownSelection.restore(_this.parent.contentModule.getEditPanel());\n                    }\n                }\n                _this.dialogObj.destroy();\n                detach(_this.dialogObj.element);\n                var args = _this.dialogObj;\n                _this.dialogRenderObj.close(args);\n                _this.dialogObj = null;\n            }\n        };\n        // eslint-disable-next-line\n        this.dialogObj = this.dialogRenderObj.render(dialogModel);\n        this.dialogObj.createElement = this.parent.createElement;\n        this.dialogObj.appendTo(linkDialogEle);\n        linkDialogEle.style.maxHeight = 'inherit';\n        if (isNullOrUndefined(this.dialogObj)) {\n            return;\n        }\n        if (!isNullOrUndefined(inputDetails)) {\n            linkUrl.value = inputDetails.url;\n            linkText.value = inputDetails.text;\n            linkTitle.value = inputDetails.title;\n            // eslint-disable-next-line\n            (inputDetails.target) ? this.checkBoxObj.checked = true : this.checkBoxObj.checked = false;\n            this.dialogObj.header = inputDetails.header;\n            this.dialogObj.element.querySelector('.e-insertLink').textContent = inputDetails.btnText;\n        }\n        this.checkUrl(false);\n        if ((this.parent.editorMode === 'HTML' && isNullOrUndefined(inputDetails) && ((!isNullOrUndefined(selectText)\n            && selectText !== '') && (e.selection.range.startOffset === 0) || e.selection.range.startOffset !==\n            e.selection.range.endOffset)) || e.module === 'Markdown') {\n            linkText.value = selectText;\n        }\n        EventHandler.add(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick, this);\n        if (this.quickToolObj) {\n            this.hideLinkQuickToolbar();\n            if (this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n                this.quickToolObj.inlineQTBar.hidePopup();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Link.prototype.insertlink = function (e) {\n        var linkEle = this.selfLink.dialogObj.element;\n        var linkUrl = linkEle.querySelector('.e-rte-linkurl').value;\n        var linkText = linkEle.querySelector('.e-rte-linkText').value;\n        var linkTitle;\n        if (this.selfLink.parent.editorMode === 'HTML') {\n            linkTitle = linkEle.querySelector('.e-rte-linkTitle').value;\n        }\n        var target = (this.selfLink.checkBoxObj.checked) ? '_blank' : null;\n        if (linkUrl === '') {\n            this.selfLink.checkUrl(true);\n            return;\n        }\n        if (!this.selfLink.isUrl(linkUrl)) {\n            linkText = (linkText === '') ? linkUrl : linkText;\n            if (!this.selfLink.parent.enableAutoUrl) {\n                linkUrl = linkUrl.indexOf('http') > -1 ? linkUrl : 'http://' + linkUrl;\n            }\n            else {\n                // eslint-disable-next-line\n                linkUrl = linkUrl;\n            }\n        }\n        else {\n            this.selfLink.checkUrl(false);\n        }\n        var proxy = this.selfLink;\n        if (proxy.parent.editorMode === 'HTML' && isNullOrUndefined(closest(this.selection.range.startContainer.parentNode, '[id='\n            // eslint-disable-next-line\n            + \"'\" + proxy.parent.contentModule.getPanel().id + \"'\" + ']'))) {\n            proxy.parent.contentModule.getEditPanel().focus();\n            if (Browser.isIE && proxy.parent.iframeSettings.enable) {\n                this.selection.restore();\n            }\n            var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n            this.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.parent.contentModule.getDocument());\n            this.selectParent = proxy.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        var value = {\n            url: linkUrl, text: linkText, title: linkTitle, target: target,\n            selection: this.selection, selectParent: this.selectParent\n        };\n        if (document.body.contains(proxy.dialogObj.element)) {\n            this.selfLink.dialogObj.hide({ returnValue: false });\n        }\n        if (isIDevice() && proxy.parent.iframeSettings.enable) {\n            select('iframe', proxy.parent.element).contentWindow.focus();\n        }\n        if (proxy.parent.editorMode === 'HTML') {\n            this.selection.restore();\n        }\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        var argsValue;\n        if (!isNullOrUndefined(this.args) &&\n            this.args.code === 'KeyK') {\n            var originalEvent = this.args;\n            extend(this.args, { item: { command: 'Links', subCommand: 'CreateLink' }, originalEvent: originalEvent }, true);\n            var argsVal = {\n                item: { command: 'Links', subCommand: 'CreateLink' }, originalEvent: originalEvent\n            };\n            argsValue = argsVal;\n        }\n        else {\n            argsValue = this.args;\n        }\n        this.selfLink.parent.formatter.process(this.selfLink.parent, argsValue, (!isNullOrUndefined(this.args) &&\n            this.args.originalEvent), value);\n        this.selfLink.parent.contentModule.getEditPanel().focus();\n    };\n    Link.prototype.isUrl = function (url) {\n        // eslint-disable-next-line\n        var regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/gi;\n        return regexp.test(url);\n    };\n    Link.prototype.checkUrl = function (e) {\n        var linkEle = this.dialogObj.element;\n        var linkUrl = linkEle.querySelector('.e-rte-linkurl');\n        if (e) {\n            addClass([linkUrl], 'e-error');\n            linkUrl.setSelectionRange(0, linkUrl.value.length);\n            linkUrl.focus();\n        }\n        else {\n            removeClass([linkUrl], 'e-error');\n        }\n    };\n    Link.prototype.removeLink = function (e) {\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            selectNode: e.selectNode, selectParent: e.selectParent, selection: e.selection,\n            subCommand: e.args.item.subCommand\n        });\n        if (isIDevice() && this.parent.iframeSettings.enable) {\n            select('iframe', this.parent.element).contentWindow.focus();\n        }\n        else {\n            this.parent.contentModule.getEditPanel().focus();\n        }\n        this.hideLinkQuickToolbar();\n    };\n    Link.prototype.openLink = function (e) {\n        var selectParentEle = this.getAnchorNode(e.selectParent[0]);\n        if (selectParentEle.classList.contains('e-rte-anchor') || selectParentEle.tagName === 'A') {\n            this.parent.formatter.process(this.parent, e.args, e.args, {\n                url: selectParentEle.href,\n                target: selectParentEle.target === '' ? '_self' : '_blank', selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n        }\n    };\n    Link.prototype.getAnchorNode = function (element) {\n        var selectParent = closest(element, 'a');\n        return (selectParent ? selectParent : element);\n    };\n    Link.prototype.editLink = function (e) {\n        var selectedNode = this.getAnchorNode(e.selectNode[0]);\n        var selectParentEle = this.getAnchorNode(e.selectParent[0]);\n        selectParentEle = selectedNode.nodeName === 'A' ? selectedNode : selectParentEle;\n        if (selectParentEle.classList.contains('e-rte-anchor') || selectParentEle.tagName === 'A') {\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var inputDetails = {\n                url: selectParentEle.getAttribute('href'), text: selectParentEle.innerText,\n                title: selectParentEle.title, target: selectParentEle.target,\n                header: this.i10n.getConstant('editLink'), btnText: linkUpdate\n            };\n            this.linkDialog(e, inputDetails);\n        }\n    };\n    // eslint-disable-next-line\n    Link.prototype.cancelDialog = function (e) {\n        this.selfLink.parent.isBlur = false;\n        this.selfLink.dialogObj.hide({ returnValue: true });\n        if (isIDevice()) {\n            this.selection.restore();\n        }\n        else {\n            this.selfLink.parent.contentModule.getEditPanel().focus();\n        }\n    };\n    Link.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!isNullOrUndefined(this.dialogObj) && ((\n        // eslint-disable-next-line\n        !closest(target, '[id=' + \"'\" + this.dialogObj.element.id + \"'\" + ']') && this.parent.toolbarSettings.enable &&\n            this.parent.getToolbarElement() && !this.parent.getToolbarElement().contains(e.target)) ||\n            (((this.parent.getToolbarElement() && this.parent.getToolbarElement().contains(e.target)) ||\n                this.parent.inlineMode.enable && !closest(target, '#' + this.dialogObj.element.id)) &&\n                !closest(target, '#' + this.parent.getID() + '_toolbar_CreateLink') &&\n                !target.querySelector('#' + this.parent.getID() + '_toolbar_CreateLink')))) {\n            this.dialogObj.hide({ returnValue: true });\n            EventHandler.remove(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick);\n            this.parent.isBlur = true;\n            dispatchEvent(this.parent.element, 'focusout');\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    Link.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     */\n    Link.prototype.getModuleName = function () {\n        return 'link';\n    };\n    return Link;\n}());\nexport { Link };\n","import * as React from 'react';\nimport { createSvgIcon } from '../utils/createSvgIcon';\n\nexport const WordColorIcon = createSvgIcon({\n  svg: ({ classes }) => (\n    <svg role=\"presentation\" focusable=\"false\" viewBox=\"0 0 32 32\" className={classes.svg}>\n      <path\n        d=\"M9.5 29H28.5C28.775 29 29 28.775 29 28.5V9H24.5C23.673 9 23 8.327 23 7.5V3H9.5C9.225 3 9 3.225 9 3.5V28.5C9 28.775 9.225 29 9.5 29Z\"\n        fill=\"white\"\n      />\n      <path d=\"M28.293 8.00003L24 3.70703V7.50003C24 7.77503 24.225 8.00003 24.5 8.00003H28.293Z\" fill=\"white\" />\n      <path\n        opacity=\"0.64\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M29.56 7.854L24.146 2.439C23.8642 2.15891 23.4833 2.00117 23.086 2H9.5C8.673 2 8 2.673 8 3.5V28.5C8 29.327 8.673 30 9.5 30H28.5C29.327 30 30 29.327 30 28.5V8.914C30 8.514 29.844 8.137 29.56 7.854ZM24 3.707L28.293 8H24.5C24.2241 7.99945 24.0005 7.77591 24 7.5V3.707ZM9.5 29H28.5C28.775 29 29 28.775 29 28.5V9H24.5C23.673 9 23 8.327 23 7.5V3H9.5C9.225 3 9 3.225 9 3.5V28.5C9.00055 28.7759 9.22409 28.9995 9.5 29Z\"\n        fill=\"#605E5C\"\n      />\n      <path d=\"M25.5 22H17V23H25.5C25.7761 23 26 22.7761 26 22.5C26 22.2239 25.7761 22 25.5 22Z\" fill=\"#103F91\" />\n      <path d=\"M25.5 19H17V20H25.5C25.7761 20 26 19.7761 26 19.5C26 19.2239 25.7761 19 25.5 19Z\" fill=\"#185ABD\" />\n      <path d=\"M25.5 16H17V17H25.5C25.7761 17 26 16.7761 26 16.5C26 16.2239 25.7761 16 25.5 16Z\" fill=\"#2B7CD3\" />\n      <path d=\"M25.5 13H17V14H25.5C25.7761 14 26 13.7761 26 13.5C26 13.2239 25.7761 13 25.5 13Z\" fill=\"#41A5EE\" />\n      <path\n        d=\"M3.5 25H14.5C15.3284 25 16 24.3284 16 23.5V12.5C16 11.6716 15.3284 11 14.5 11H3.5C2.67157 11 2 11.6716 2 12.5V23.5C2 24.3284 2.67157 25 3.5 25Z\"\n        fill=\"#185ABD\"\n      />\n      <path\n        d=\"M7.215 20.73H7.237C7.246 20.615 8.37 15 8.37 15H9.676C9.676 15 10.816 20.353 10.851 20.72H10.868C10.883 20.468 11.812 15 11.812 15H13L11.538 22H10.149C10.149 22 8.996 16.47 8.987 16.372H8.969C8.959 16.485 7.886 22 7.886 22H6.476L5 15H6.21C6.21 15 7.21 20.607 7.215 20.73Z\"\n        fill=\"#F9F7F7\"\n      />\n    </svg>\n  ),\n  displayName: 'WordColorIcon',\n});\n","import * as React from 'react';\nimport { createSvgIcon } from '../utils/createSvgIcon';\n\nexport const ExcelColorIcon = createSvgIcon({\n  svg: ({ classes }) => (\n    <svg role=\"presentation\" focusable=\"false\" viewBox=\"0 0 32 32\" className={classes.svg}>\n      <path\n        d=\"M9.5 29H28.5C28.775 29 29 28.775 29 28.5V9H24.5C23.673 9 23 8.327 23 7.5V3H9.5C9.225 3 9 3.225 9 3.5V28.5C9 28.775 9.225 29 9.5 29Z\"\n        fill=\"white\"\n      />\n      <path d=\"M28.293 8.00003L24 3.70703V7.50003C24 7.77503 24.225 8.00003 24.5 8.00003H28.293Z\" fill=\"white\" />\n      <path\n        opacity=\"0.64\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M29.56 7.854L24.146 2.439C23.8642 2.15891 23.4833 2.00117 23.086 2H9.5C8.673 2 8 2.673 8 3.5V28.5C8 29.327 8.673 30 9.5 30H28.5C29.327 30 30 29.327 30 28.5V8.914C30 8.514 29.844 8.137 29.56 7.854ZM24 3.707L28.293 8H24.5C24.2241 7.99945 24.0005 7.77591 24 7.5V3.707ZM9.5 29H28.5C28.775 29 29 28.775 29 28.5V9H24.5C23.673 9 23 8.327 23 7.5V3H9.5C9.225 3 9 3.225 9 3.5V28.5C9.00055 28.7759 9.22409 28.9995 9.5 29Z\"\n        fill=\"#605E5C\"\n      />\n      <path\n        d=\"M25 23H23C22.4477 23 22 22.5523 22 22C22 21.4477 22.4477 21 23 21H25C25.5523 21 26 21.4477 26 22C26 22.5523 25.5523 23 25 23Z\"\n        fill=\"#134A2C\"\n      />\n      <path\n        d=\"M20 23H18C17.4477 23 17 22.5523 17 22C17 21.4477 17.4477 21 18 21H20C20.5523 21 21 21.4477 21 22C21 22.5523 20.5523 23 20 23Z\"\n        fill=\"#185C37\"\n      />\n      <path\n        d=\"M25 19H23C22.4477 19 22 18.5523 22 18C22 17.4477 22.4477 17 23 17H25C25.5523 17 26 17.4477 26 18C26 18.5523 25.5523 19 25 19Z\"\n        fill=\"#21A366\"\n      />\n      <path\n        d=\"M20 19H18C17.4477 19 17 18.5523 17 18C17 17.4477 17.4477 17 18 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19Z\"\n        fill=\"#107C41\"\n      />\n      <path\n        d=\"M25 15H23C22.4477 15 22 14.5523 22 14C22 13.4477 22.4477 13 23 13H25C25.5523 13 26 13.4477 26 14C26 14.5523 25.5523 15 25 15Z\"\n        fill=\"#33C481\"\n      />\n      <path\n        d=\"M20 15H18C17.4477 15 17 14.5523 17 14C17 13.4477 17.4477 13 18 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15Z\"\n        fill=\"#21A366\"\n      />\n      <path\n        d=\"M3.5 25H14.5C15.3284 25 16 24.3284 16 23.5V12.5C16 11.6716 15.3284 11 14.5 11H3.5C2.67157 11 2 11.6716 2 12.5V23.5C2 24.3284 2.67157 25 3.5 25Z\"\n        fill=\"#107C41\"\n      />\n      <path\n        d=\"M6 22L8.174 17.99L6.182 14H7.784L8.871 16.549C8.971 16.791 9.04 16.972 9.077 17.091H9.092C9.163 16.897 9.238 16.709 9.316 16.527L10.478 14H11.948L9.906 17.967L12 22H10.435L9.18 19.2C9.12023 19.0791 9.07008 18.9537 9.03 18.825H9.012C8.97608 18.9506 8.92749 19.0722 8.867 19.188L7.574 22H6Z\"\n        fill=\"#F9F7F7\"\n      />\n    </svg>\n  ),\n  displayName: 'ExcelColorIcon',\n});\n","import * as React from 'react';\nimport { createSvgIcon } from '../utils/createSvgIcon';\n\nexport const PowerPointColorIcon = createSvgIcon({\n  svg: ({ classes }) => (\n    <svg role=\"presentation\" focusable=\"false\" viewBox=\"0 0 32 32\" className={classes.svg}>\n      <path\n        d=\"M9.5 29H28.5C28.775 29 29 28.775 29 28.5V9H24.5C23.673 9 23 8.327 23 7.5V3H9.5C9.225 3 9 3.225 9 3.5V28.5C9 28.775 9.225 29 9.5 29Z\"\n        fill=\"white\"\n      />\n      <path d=\"M28.293 8.00003L24 3.70703V7.50003C24 7.77503 24.225 8.00003 24.5 8.00003H28.293Z\" fill=\"white\" />\n      <path\n        opacity=\"0.64\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M29.56 7.854L24.146 2.439C23.8642 2.15891 23.4833 2.00117 23.086 2H9.5C8.673 2 8 2.673 8 3.5V28.5C8 29.327 8.673 30 9.5 30H28.5C29.327 30 30 29.327 30 28.5V8.914C30 8.514 29.844 8.137 29.56 7.854ZM24 3.707L28.293 8H24.5C24.2241 7.99945 24.0005 7.77591 24 7.5V3.707ZM9.5 29H28.5C28.775 29 29 28.775 29 28.5V9H24.5C23.673 9 23 8.327 23 7.5V3H9.5C9.225 3 9 3.225 9 3.5V28.5C9.00055 28.7759 9.22409 28.9995 9.5 29Z\"\n        fill=\"#605E5C\"\n      />\n      <path\n        d=\"M21 18L20 17H18L17 18V20.973C17.911 22.197 19.357 23 21 23C22.3261 23 23.5979 22.4732 24.5355 21.5355C25.4732 20.5979 26 19.3261 26 18H21Z\"\n        fill=\"#ED6C47\"\n      />\n      <path d=\"M17 15.027V18H21V13C19.357 13 17.911 13.803 17 15.027Z\" fill=\"#FF8F6B\" />\n      <path d=\"M22 12C24.7614 12 27 14.2386 27 17H22V12Z\" fill=\"#FFC7B5\" />\n      <path\n        d=\"M3.5 25H14.5C15.3284 25 16 24.3284 16 23.5V12.5C16 11.6716 15.3284 11 14.5 11H3.5C2.67157 11 2 11.6716 2 12.5V23.5C2 24.3284 2.67157 25 3.5 25Z\"\n        fill=\"#C43E1C\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M11.6392 14.66C11.1492 14.234 10.4452 14.02 9.52423 14.02H6.78223V22H7.96223L7.96723 19.184H9.43423C10.0212 19.184 10.5322 19.067 10.9782 18.842C11.4242 18.618 11.7732 18.309 12.0142 17.904C12.2562 17.5 12.3722 17.034 12.3722 16.514C12.3722 15.705 12.1272 15.087 11.6392 14.66ZM9.57723 18H7.96223V15H9.62423C10.6132 15 11.1612 15.66 11.1612 16.539C11.1612 16.992 10.9782 17.411 10.7202 17.647C10.4622 17.882 10.0802 18 9.57723 18Z\"\n        fill=\"white\"\n      />\n    </svg>\n  ),\n  displayName: 'PowerPointColorIcon',\n});\n","import * as React from 'react';\nimport { createSvgIcon } from '../utils/createSvgIcon';\n\nexport const FilesPdfIcon = createSvgIcon({\n  svg: ({ classes }) => (\n    <svg role=\"presentation\" focusable=\"false\" viewBox=\"0 0 20 20\" className={classes.svg}>\n      <path d=\"M16 7H13.5C12.673 7 12 6.327 12 5.5V2H4V18H16V7Z\" fill=\"white\" />\n      <path d=\"M16 6.00003V5.70703L13 2.70703V5.50003C13 5.77503 13.225 6.00003 13.5 6.00003H16Z\" fill=\"white\" />\n      <path\n        opacity=\"0.64\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M16.707 5L13 1.293C12.8125 1.10545 12.5582 1.00006 12.293 1H4C3.44772 1 3 1.44772 3 2V18C3 18.5523 3.44772 19 4 19H16C16.5523 19 17 18.5523 17 18V5.707C16.9999 5.4418 16.8945 5.18749 16.707 5ZM16 5.707V6H13.5C13.2241 5.99945 13.0006 5.77591 13 5.5V2.707L16 5.707ZM4 2.2V17.8C4 17.9105 4.08954 18 4.2 18H15.8C15.9105 18 16 17.9105 16 17.8V7H13.5C12.6716 7 12 6.32843 12 5.5V2H4.2C4.09 2 4 2.09 4 2.2Z\"\n        fill=\"#605E5C\"\n      />\n      <path\n        d=\"M14.5 10H5.5C5.22386 10 5 9.77614 5 9.5C5 9.22386 5.22386 9 5.5 9H14.5C14.7761 9 15 9.22386 15 9.5C15 9.77614 14.7761 10 14.5 10Z\"\n        fill=\"#C8C6C4\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M6 16V12C6 11.4477 6.44772 11 7 11H13C13.5523 11 14 11.4477 14 12V16C14 16.5523 13.5523 17 13 17H7C6.44772 17 6 16.5523 6 16ZM7.2 16H12.794C12.8468 16.0016 12.898 15.9816 12.9358 15.9447C12.9735 15.9077 12.9946 15.8569 12.994 15.804C12.988 15.126 12.996 12.872 13 12.194C13 12.084 12.91 12 12.8 12H7.2C7.09 12 7 12.09 7 12.2V15.8C7 15.9105 7.08954 16 7.2 16ZM4.75 16H3C2.44772 16 2 15.5523 2 15V13C2 12.4477 2.44772 12 3 12H4.75C4.88807 12 5 12.1119 5 12.25V15.75C5 15.8881 4.88807 16 4.75 16ZM15.25 16H17C17.5523 16 18 15.5523 18 15V13C18 12.4477 17.5523 12 17 12H15.25C15.1119 12 15 12.1119 15 12.25V15.75C15 15.8881 15.1119 16 15.25 16Z\"\n        fill=\"#D65532\"\n      />\n    </svg>\n  ),\n  displayName: 'FilesPdfIcon',\n});\n","import * as React from 'react';\nimport cx from 'classnames';\nimport { createSvgIcon } from '../utils/createSvgIcon';\nimport { iconClassNames } from '../utils/iconClassNames';\n\nexport const UserFriendsIcon = createSvgIcon({\n  svg: ({ classes }) => (\n    <svg viewBox=\"2 2 16 16\" role=\"presentation\" focusable=\"false\" className={classes.svg}>\n      <path\n        className={cx(iconClassNames.outline, classes.outlinePart)}\n        d=\"M11 10C12.1046 10 13 10.8954 13 12V13.5C13 15.5544 10.912 17 7.5 17C4.08805 17 2 15.5544 2 13.5V12C2 10.8954 2.89543 10 4 10H11ZM11 11H4C3.44772 11 3 11.4477 3 12V13.5C3 14.9071 4.57862 16 7.5 16C10.4214 16 12 14.9071 12 13.5V12C12 11.4477 11.5523 11 11 11ZM16 10C17.1046 10 18 10.8954 18 12V12.5C18 14.5886 16.4317 16 13.5 16C13.3587 16 13.2206 15.9967 13.0856 15.9902C13.2938 15.7482 13.4684 15.4875 13.6076 15.209L13.705 14.996L13.7438 14.9965C15.976 14.9312 17 13.9593 17 12.5V12C17 11.4477 16.5523 11 16 11L13.829 10.9991C13.6971 10.6265 13.4937 10.2876 13.2353 9.99912L16 10ZM7.5 2C9.433 2 11 3.567 11 5.5C11 7.433 9.433 9 7.5 9C5.567 9 4 7.433 4 5.5C4 3.567 5.567 2 7.5 2ZM14.5 4C15.8807 4 17 5.11929 17 6.5C17 7.88071 15.8807 9 14.5 9C13.1193 9 12 7.88071 12 6.5C12 5.11929 13.1193 4 14.5 4ZM7.5 3C6.11929 3 5 4.11929 5 5.5C5 6.88071 6.11929 8 7.5 8C8.88071 8 10 6.88071 10 5.5C10 4.11929 8.88071 3 7.5 3ZM14.5 5C13.6716 5 13 5.67157 13 6.5C13 7.32843 13.6716 8 14.5 8C15.3284 8 16 7.32843 16 6.5C16 5.67157 15.3284 5 14.5 5Z\"\n      />\n      <path\n        className={cx(iconClassNames.filled, classes.filledPart)}\n        d=\"M11 10C12.1046 10 13 10.8954 13 12V13.5C13 15.5544 10.912 17 7.5 17C4.08805 17 2 15.5544 2 13.5V12C2 10.8954 2.89543 10 4 10H11ZM16 10C17.1046 10 18 10.8954 18 12V12.5C18 14.5886 16.4317 16 13.5 16C13.3587 16 13.2206 15.9967 13.0856 15.9902C13.625 15.3625 13.9439 14.6041 13.9932 13.7387L14 13.5V12C14 11.3081 13.7658 10.6709 13.3723 10.1634L13.2353 9.99912L16 10ZM7.5 2C9.433 2 11 3.567 11 5.5C11 7.433 9.433 9 7.5 9C5.567 9 4 7.433 4 5.5C4 3.567 5.567 2 7.5 2ZM14.5 4C15.8807 4 17 5.11929 17 6.5C17 7.88071 15.8807 9 14.5 9C13.1193 9 12 7.88071 12 6.5C12 5.11929 13.1193 4 14.5 4Z\"\n      />\n    </svg>\n  ),\n  displayName: 'UserFriendsIcon',\n});\n","import * as React from 'react';\nimport cx from 'classnames';\nimport { createSvgIcon } from '../utils/createSvgIcon';\nimport { iconClassNames } from '../utils/iconClassNames';\n\nexport const MentionIcon = createSvgIcon({\n  svg: ({ classes }) => (\n    <svg role=\"presentation\" focusable=\"false\" viewBox=\"2 2 16 16\" className={classes.svg}>\n      <path\n        className={cx(iconClassNames.outline, classes.outlinePart)}\n        d=\"M10 2C14.4183 2 18 5.58172 18 10C18 12.706 16.8584 14.5 15 14.5C13.7737 14.5 12.8595 13.7188 12.3795 12.4099C11.7837 13.3928 10.782 14 9.5 14C7.35907 14 6 12.3068 6 10C6 7.66322 7.31298 6 9.5 6C10.5517 6 11.4013 6.38463 12 7.04384L12 6.5C12 6.22386 12.2239 6 12.5 6C12.7455 6 12.9496 6.17688 12.9919 6.41012L13 6.5V10C13 12.2225 13.8129 13.5 15 13.5C16.1871 13.5 17 12.2225 17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C10.8231 17 11.6261 16.8581 12.3832 16.584C12.6429 16.49 12.9296 16.6243 13.0236 16.8839C13.1176 17.1435 12.9833 17.4302 12.7237 17.5243C11.8578 17.8377 10.9396 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM9.5 7C7.92405 7 7 8.17054 7 10C7 11.7969 7.96568 13 9.5 13C11.0343 13 12 11.7969 12 10C12 8.17054 11.076 7 9.5 7Z\"\n      />\n      <path\n        className={cx(iconClassNames.filled, classes.filledPart)}\n        d=\"M10 1.75C14.5563 1.75 18.25 5.44365 18.25 10C18.25 12.8269 17.0262 14.75 15 14.75C13.7958 14.75 12.8751 14.0708 12.3262 12.9264C11.6738 13.7512 10.7016 14.25 9.5 14.25C7.20741 14.25 5.75 12.4342 5.75 10C5.75 7.53639 7.16021 5.75 9.5 5.75C10.3964 5.75 11.1564 6.01222 11.753 6.47429C11.7643 6.07167 12.0946 5.75 12.5 5.75C12.8797 5.75 13.1935 6.03215 13.2432 6.39823L13.25 6.5V10C13.25 12.1017 13.9808 13.25 15 13.25C16.0192 13.25 16.75 12.1017 16.75 10C16.75 6.27208 13.7279 3.25 10 3.25C6.27208 3.25 3.25 6.27208 3.25 10C3.25 13.7279 6.27208 16.75 10 16.75C10.794 16.75 11.5682 16.6132 12.2981 16.3489C12.6876 16.2079 13.1176 16.4093 13.2587 16.7988C13.3997 17.1883 13.1982 17.6183 12.8088 17.7593C11.9157 18.0827 10.9688 18.25 10 18.25C5.44365 18.25 1.75 14.5563 1.75 10C1.75 5.44365 5.44365 1.75 10 1.75ZM9.5 7.25C8.07681 7.25 7.25 8.29737 7.25 10C7.25 11.6694 8.11734 12.75 9.5 12.75C10.8827 12.75 11.75 11.6694 11.75 10C11.75 8.29737 10.9232 7.25 9.5 7.25Z\"\n      />\n    </svg>\n  ),\n  displayName: 'MentionIcon',\n});\n","import * as React from 'react';\nimport cx from 'classnames';\nimport { createSvgIcon } from '../utils/createSvgIcon';\nimport { iconClassNames } from '../utils/iconClassNames';\n\nexport const ShiftActivityIcon = createSvgIcon({\n  svg: ({ classes }) => (\n    <svg role=\"presentation\" focusable=\"false\" viewBox=\"2 2 16 16\" className={classes.svg}>\n      <g className={cx(iconClassNames.outline, classes.outlinePart)}>\n        <path d=\"M10.0024 2.48352C10.0204 2.75907 9.8116 2.99706 9.53604 3.01507C5.88659 3.25361 3 6.28989 3 9.99995C3 13.8659 6.13401 17 10 17C13.7105 17 16.747 14.1127 16.985 10.4627C17.0029 10.1872 17.2409 9.97835 17.5164 9.99631C17.792 10.0143 18.0008 10.2522 17.9828 10.5278C17.7108 14.7002 14.241 18 10 18C5.58172 18 2 14.4182 2 9.99995C2 5.75946 5.29899 2.28988 9.47082 2.0172C9.74637 1.99919 9.98436 2.20796 10.0024 2.48352Z\" />\n        <path d=\"M11.0071 2.55024C11.062 2.27959 11.3258 2.10464 11.5964 2.15947C12.1561 2.27285 12.6946 2.44464 13.2053 2.66819C13.4583 2.77893 13.5736 3.07377 13.4628 3.32673C13.3521 3.5797 13.0573 3.695 12.8043 3.58426C12.3579 3.38884 11.8872 3.23868 11.3979 3.13956C11.1272 3.08473 10.9523 2.82088 11.0071 2.55024Z\" />\n        <path d=\"M17.3358 6.80347C17.2254 6.55037 16.9307 6.43471 16.6776 6.54514C16.4245 6.65557 16.3089 6.95027 16.4193 7.20337C16.6128 7.64691 16.7617 8.11436 16.8602 8.60011C16.9151 8.87074 17.179 9.04562 17.4497 8.99071C17.7203 8.93581 17.8952 8.67191 17.8403 8.40128C17.7275 7.84563 17.5572 7.31083 17.3358 6.80347Z\" />\n        <path d=\"M14.4148 3.91597C14.5916 3.70385 14.9068 3.67521 15.119 3.85202C15.5074 4.1758 15.8647 4.53571 16.1857 4.92661C16.3609 5.14003 16.33 5.45509 16.1165 5.63033C15.9031 5.80556 15.588 5.7746 15.4128 5.56118C15.1318 5.21889 14.8189 4.90371 14.4787 4.62018C14.2666 4.44338 14.238 4.12809 14.4148 3.91597Z\" />\n        <path d=\"M10 5.5C10 5.22386 9.77614 5 9.5 5C9.22386 5 9 5.22386 9 5.5V10.5C9 10.7761 9.22386 11 9.5 11H12.5C12.7761 11 13 10.7761 13 10.5C13 10.2239 12.7761 10 12.5 10H10V5.5Z\" />\n      </g>\n      <g className={cx(iconClassNames.filled, classes.filledPart)}>\n        <path d=\"M9.99925 2.70657C10.0415 3.11863 9.74166 3.48689 9.3296 3.52911C6.05282 3.86486 3.49609 6.63447 3.49609 10.0003C3.49609 13.5931 6.40865 16.5057 10.0015 16.5057C13.3669 16.5057 16.1363 13.9495 16.4725 10.6733C16.5148 10.2612 16.8831 9.96147 17.2952 10.0038C17.7072 10.046 18.007 10.4144 17.9647 10.8264C17.5507 14.8599 14.1439 18.0057 10.0015 18.0057C5.58023 18.0057 1.99609 14.4215 1.99609 10.0003C1.99609 5.85734 5.14259 2.45027 9.17671 2.03692C9.58877 1.9947 9.95703 2.29451 9.99925 2.70657Z\" />\n        <path d=\"M11.0196 2.64066C11.116 2.23782 11.5207 1.98942 11.9235 2.08584C12.3023 2.1765 12.6708 2.29373 13.0268 2.43544C13.4117 2.58861 13.5995 3.02476 13.4463 3.40961C13.2932 3.79447 12.857 3.98228 12.4722 3.82911C12.1824 3.71379 11.8826 3.61841 11.5744 3.54463C11.1715 3.44822 10.9231 3.04349 11.0196 2.64066Z\" />\n        <path d=\"M17.5656 6.97335C17.4124 6.58852 16.9762 6.40078 16.5914 6.55402C16.2066 6.70726 16.0188 7.14345 16.1721 7.52827C16.2875 7.81815 16.383 8.11811 16.4568 8.42649C16.5533 8.82932 16.958 9.07767 17.3609 8.98121C17.7637 8.88475 18.012 8.48 17.9156 8.07718C17.8248 7.69821 17.7075 7.32956 17.5656 6.97335Z\" />\n        <path d=\"M14.2919 3.92605C14.5638 3.61356 15.0375 3.58065 15.35 3.85253C15.6571 4.11977 15.9439 4.40975 16.2078 4.71988C16.4762 5.03535 16.4381 5.50869 16.1226 5.77712C15.8071 6.04554 15.3338 6.0074 15.0654 5.69193C14.8501 5.43887 14.616 5.20223 14.3654 4.98416C14.0529 4.71227 14.02 4.23854 14.2919 3.92605Z\" />\n        <path d=\"M10.0017 5.75C10.0017 5.33579 9.66592 5 9.25171 5C8.8375 5 8.50171 5.33579 8.50171 5.75V10.75C8.50171 11.1642 8.8375 11.5 9.25171 11.5H12.2517C12.6659 11.5 13.0017 11.1642 13.0017 10.75C13.0017 10.3358 12.6659 10 12.2517 10H10.0017V5.75Z\" />\n      </g>\n    </svg>\n  ),\n  displayName: 'ShiftActivityIcon',\n});\n","import { extend, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport * as CONSTANT from '../base/constant';\nimport { updateUndoRedoStatus, isIDevice } from '../base/util';\nimport { KEY_DOWN, KEY_UP } from './../../common/constant';\n/**\n * Formatter\n *\n * @hidden\n\n */\nvar Formatter = /** @class */ (function () {\n    function Formatter() {\n    }\n    /**\n     * To execute the command\n     *\n     * @param  {IRichTextEditor} self - specifies the self element.\n     * @param  {ActionBeginEventArgs} args - specifies the event arguments.\n     * @param  {MouseEvent|KeyboardEvent} event - specifies the keyboard event.\n     * @param  {IItemCollectionArgs} value - specifies the collection arguments\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.process = function (self, args, event, value) {\n        var _this = this;\n        var selection = self.contentModule.getDocument().getSelection();\n        var range = (selection.rangeCount > 0) ? selection.getRangeAt(selection.rangeCount - 1) : null;\n        var saveSelection;\n        if (self.editorMode === 'HTML') {\n            saveSelection = this.editorManager.nodeSelection.save(range, self.contentModule.getDocument());\n        }\n        if (!isNullOrUndefined(args)\n            && args.item.command\n            && args.item.command !== 'Table'\n            && args.item.command !== 'Actions'\n            && args.item.command !== 'Links'\n            && args.item.command !== 'Images'\n            && args.item.command !== 'Files'\n            && range\n            && !(self.contentModule.getEditPanel().contains(this.getAncestorNode(range.commonAncestorContainer))\n                || self.contentModule.getEditPanel() === range.commonAncestorContainer\n                || self.contentModule.getPanel() === range.commonAncestorContainer)) {\n            return;\n        }\n        if (isNullOrUndefined(args)) {\n            var action_1 = event.action;\n            if (action_1 !== 'tab' && action_1 !== 'enter' && action_1 !== 'space' && action_1 !== 'escape') {\n                args = {};\n                if (self.editorMode === 'Markdown' && action_1 === 'insert-table') {\n                    value = {\n                        'headingText': self.localeObj.getConstant('TableHeadingText'),\n                        'colText': self.localeObj.getConstant('TableColText')\n                    };\n                }\n                var items = {\n                    originalEvent: event, cancel: false,\n                    requestType: action_1 || (event.key + 'Key'),\n                    itemCollection: value\n                };\n                extend(args, args, items, true);\n                self.trigger(CONSTANT.actionBegin, args, function (actionBeginArgs) {\n                    if (actionBeginArgs.cancel) {\n                        if (action_1 === 'paste' || action_1 === 'cut' || action_1 === 'copy') {\n                            event.preventDefault();\n                        }\n                    }\n                });\n            }\n            var isTableModule = isNullOrUndefined(self.tableModule) ? true : self.tableModule ?\n                self.tableModule.ensureInsideTableList : false;\n            if ((event.which === 9 && isTableModule) || event.which !== 9) {\n                if (event.which === 13 && self.editorMode === 'HTML') {\n                    value = {\n                        'enterAction': self.enterKey\n                    };\n                }\n                this.editorManager.observer.notify((event.type === 'keydown' ? KEY_DOWN : KEY_UP), {\n                    event: event,\n                    callBack: this.onSuccess.bind(this, self),\n                    value: value,\n                    enterAction: self.enterKey\n                });\n            }\n        }\n        else if (!isNullOrUndefined(args) && args.item.command && args.item.subCommand && ((args.item.command !== args.item.subCommand\n            && args.item.command !== 'Font')\n            || ((args.item.subCommand === 'FontName' || args.item.subCommand === 'FontSize') && args.name === 'dropDownSelect')\n            || ((args.item.subCommand === 'BackgroundColor' || args.item.subCommand === 'FontColor')\n                && args.name === 'colorPickerChanged'))) {\n            extend(args, args, { requestType: args.item.subCommand, cancel: false, itemCollection: value, selectType: args.name }, true);\n            self.trigger(CONSTANT.actionBegin, args, function (actionBeginArgs) {\n                if (!actionBeginArgs.cancel) {\n                    if (_this.getUndoRedoStack().length === 0 && actionBeginArgs.item.command !== 'Links'\n                        && actionBeginArgs.item.command !== 'Images') {\n                        _this.saveData();\n                    }\n                    self.isBlur = false;\n                    self.contentModule.getEditPanel().focus();\n                    if (self.editorMode === 'HTML') {\n                        saveSelection.restore();\n                    }\n                    var command = actionBeginArgs.item.subCommand.toLocaleLowerCase();\n                    if (command === 'paste' || command === 'cut' || command === 'copy') {\n                        self.clipboardAction(command, event);\n                    }\n                    else {\n                        _this.editorManager.observer.notify(CONSTANT.checkUndo, { subCommand: actionBeginArgs.item.subCommand });\n                        _this.editorManager.execCommand(actionBeginArgs.item.command, actionBeginArgs.item.subCommand, event, _this.onSuccess.bind(_this, self), actionBeginArgs.item.value, actionBeginArgs.item.subCommand === 'Pre' && actionBeginArgs.selectType === 'dropDownSelect' ?\n                            { name: actionBeginArgs.selectType } : value, ('#' + self.getID() + ' iframe'), self.enterKey);\n                    }\n                }\n            });\n        }\n        if (isNullOrUndefined(event) || event && event.action !== 'copy') {\n            this.enableUndo(self);\n        }\n    };\n    Formatter.prototype.getAncestorNode = function (node) {\n        node = node.nodeType === 3 ? node.parentNode : node;\n        return node;\n    };\n    /**\n     * onKeyHandler method\n     *\n     * @param {IRichTextEditor} self - specifies the self element.\n     * @param {KeyboardEvent} e - specifies the keyboard event.\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.onKeyHandler = function (self, e) {\n        var _this = this;\n        this.editorManager.observer.notify(KEY_UP, {\n            event: e, callBack: function () {\n                self.notify(CONSTANT.contentChanged, {});\n                _this.enableUndo(self);\n            }\n        });\n    };\n    /**\n     * onSuccess method\n     *\n     * @param {IRichTextEditor} self - specifies the self element.\n     * @param {IMarkdownFormatterCallBack} events - specifies the event call back\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.onSuccess = function (self, events) {\n        self.notify(CONSTANT.contentChanged, {});\n        if (events && (isNullOrUndefined(events.event) || events.event.action !== 'copy')) {\n            this.enableUndo(self);\n            self.notify(CONSTANT.execCommandCallBack, events);\n        }\n        self.trigger(CONSTANT.actionComplete, events, function (callbackArgs) {\n            self.setPlaceHolder();\n            if (callbackArgs.requestType === 'Images' || callbackArgs.requestType === 'Links' && self.editorMode === 'HTML') {\n                var args = callbackArgs;\n                if (callbackArgs.requestType === 'Links' && callbackArgs.event &&\n                    callbackArgs.event.type === 'keydown' &&\n                    callbackArgs.event.keyCode === 32) {\n                    return;\n                }\n                self.notify(CONSTANT.insertCompleted, {\n                    args: args.event, type: callbackArgs.requestType, isNotify: true,\n                    elements: args.elements\n                });\n            }\n            self.autoResize();\n        });\n    };\n    /**\n     * Save the data for undo and redo action.\n     *\n     * @param {KeyboardEvent} e - specifies the keyboard event.\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.saveData = function (e) {\n        this.editorManager.undoRedoManager.saveData(e);\n    };\n    /**\n     * getUndoStatus method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.getUndoStatus = function () {\n        return this.editorManager.undoRedoManager.getUndoStatus();\n    };\n    /* eslint-disable */\n    /**\n     * getUndoRedoStack method\n     *\n     * @param {IHtmlUndoRedoData}  - specifies the redo data.\n     * @returns {void}\n     * @hidden\n\n     */\n    /* eslint-enable */\n    Formatter.prototype.getUndoRedoStack = function () {\n        return this.editorManager.undoRedoManager.undoRedoStack;\n    };\n    /**\n     * enableUndo method\n     *\n     * @param {IRichTextEditor} self - specifies the self element.\n     * @returns {void}\n     * @hidden\n\n     */\n    Formatter.prototype.enableUndo = function (self) {\n        var status = this.getUndoStatus();\n        if (self.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            updateUndoRedoStatus(self.quickToolbarModule.inlineQTBar.quickTBarObj, status);\n        }\n        else {\n            if (self.toolbarModule) {\n                updateUndoRedoStatus(self.toolbarModule.baseToolbar, status);\n            }\n        }\n    };\n    return Formatter;\n}());\nexport { Formatter };\n","/**\n * Constant values for EditorManager\n */\n/**\n * Image plugin events\n *\n * @hidden\n */\nexport var IMAGE = 'INSERT-IMAGE';\nexport var TABLE = 'INSERT-TABLE';\nexport var LINK = 'INSERT-LINK';\nexport var INSERT_ROW = 'INSERT-ROW';\nexport var INSERT_COLUMN = 'INSERT-COLUMN';\nexport var DELETEROW = 'DELETE-ROW';\nexport var DELETECOLUMN = 'DELETE-COLUMN';\nexport var REMOVETABLE = 'REMOVE-TABLE';\nexport var TABLEHEADER = 'TABLE-HEADER';\nexport var TABLE_VERTICAL_ALIGN = 'TABLE_VERTICAL_ALIGN';\nexport var TABLE_MERGE = 'TABLE_MERGE';\nexport var TABLE_VERTICAL_SPLIT = 'TABLE_VERTICAL_SPLIT';\nexport var TABLE_HORIZONTAL_SPLIT = 'TABLE_HORIZONTAL_SPLIT';\nexport var TABLE_MOVE = 'TABLE_MOVE';\n/**\n * Alignments plugin events\n *\n * @hidden\n */\nexport var ALIGNMENT_TYPE = 'alignment-type';\n/**\n * Indents plugin events\n *\n * @hidden\n */\nexport var INDENT_TYPE = 'indent-type';\n/**\n * Constant tag names\n *\n * @hidden\n */\nexport var DEFAULT_TAG = 'p';\n/**\n * @hidden\n */\nexport var BLOCK_TAGS = ['address', 'article', 'aside', 'audio', 'blockquote',\n    'canvas', 'details', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer',\n    'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'li', 'main', 'nav',\n    'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table', 'tbody', 'td', 'tfoot', 'th',\n    'thead', 'tr', 'ul', 'video', 'body'];\n/**\n * @hidden\n */\nexport var IGNORE_BLOCK_TAGS = ['td', 'th'];\n/**\n * @hidden\n */\nexport var TABLE_BLOCK_TAGS = ['table', 'tbody', 'td', 'tfoot', 'th',\n    'thead', 'tr'];\n/**\n * Selection plugin events\n *\n * @hidden\n */\nexport var SELECTION_TYPE = 'selection-type';\n/**\n * Insert HTML plugin events\n *\n * @hidden\n */\nexport var INSERTHTML_TYPE = 'inserthtml-type';\n/**\n * Insert Text plugin events\n *\n * @hidden\n */\nexport var INSERT_TEXT_TYPE = 'insert-text-type';\n/**\n * Clear Format HTML plugin events\n *\n * @hidden\n */\nexport var CLEAR_TYPE = 'clear-type';\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `Selection` module is used to handle RTE Selections.\n */\nvar NodeSelection = /** @class */ (function () {\n    function NodeSelection() {\n        this.startNodeName = [];\n        this.endNodeName = [];\n    }\n    NodeSelection.prototype.saveInstance = function (range, body) {\n        this.range = range.cloneRange();\n        this.rootNode = this.documentFromRange(range);\n        this.body = body;\n        this.startContainer = this.getNodeArray(range.startContainer, true);\n        this.endContainer = this.getNodeArray(range.endContainer, false);\n        this.startOffset = range.startOffset;\n        this.endOffset = range.endOffset;\n        this.html = this.body.innerHTML;\n        return this;\n    };\n    NodeSelection.prototype.documentFromRange = function (range) {\n        return (9 === range.startContainer.nodeType) ? range.startContainer : range.startContainer.ownerDocument;\n    };\n    NodeSelection.prototype.getRange = function (docElement) {\n        var select = this.get(docElement);\n        var range = select && select.rangeCount > 0 ? select.getRangeAt(select.rangeCount - 1) : docElement.createRange();\n        return (range.startContainer !== docElement || range.endContainer !== docElement\n            || range.startOffset || range.endOffset || (range.setStart(docElement.body, 0),\n            range.collapse(!0)),\n            range);\n    };\n    /**\n     * get method\n     *\n     * @param {Document} docElement - specifies the get function\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.get = function (docElement) {\n        return docElement.defaultView.getSelection();\n    };\n    /**\n     * save method\n     *\n     * @param {Range} range - range value.\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.save = function (range, docElement) {\n        range = (range) ? range.cloneRange() : this.getRange(docElement);\n        return this.saveInstance(range, docElement.body);\n    };\n    /**\n     * getIndex method\n     *\n     * @param {Node} node - specifies the node value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getIndex = function (node) {\n        var index;\n        var num = 0;\n        node = !node.previousSibling && node.tagName === 'BR' ? node : node.previousSibling;\n        if (node) {\n            for (var type = node.nodeType; node; null) {\n                index = node.nodeType;\n                num++;\n                //eslint-disable-next-line\n                type = index;\n                node = node.previousSibling;\n            }\n        }\n        return num;\n    };\n    NodeSelection.prototype.isChildNode = function (nodeCollection, parentNode) {\n        for (var index = 0; index < parentNode.childNodes.length; index++) {\n            if (nodeCollection.indexOf(parentNode.childNodes[index]) > -1) {\n                return true;\n            }\n        }\n        return false;\n    };\n    NodeSelection.prototype.getNode = function (startNode, endNode, nodeCollection) {\n        if (endNode === startNode &&\n            (startNode.nodeType === 3 || !startNode.firstChild || nodeCollection.indexOf(startNode.firstChild) !== -1\n                || this.isChildNode(nodeCollection, startNode))) {\n            return null;\n        }\n        if (nodeCollection.indexOf(startNode.firstChild) === -1 && startNode.firstChild && !this.isChildNode(nodeCollection, startNode)) {\n            return startNode.firstChild;\n        }\n        if (startNode.nextSibling) {\n            return startNode.nextSibling;\n        }\n        if (!startNode.parentNode) {\n            return null;\n        }\n        else {\n            return startNode.parentNode;\n        }\n    };\n    /**\n     * getNodeCollection method\n     *\n     * @param {Range} range -specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeCollection = function (range) {\n        var startNode = range.startContainer.childNodes[range.startOffset]\n            || range.startContainer;\n        var endNode = range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset]\n            || range.endContainer;\n        if ((startNode === endNode || (startNode.nodeName === 'BR' && startNode === range.endContainer.childNodes[range.endOffset])) &&\n            startNode.childNodes.length === 0) {\n            return [startNode];\n        }\n        if (range.startOffset === range.endOffset && range.startOffset !== 0 && range.startContainer.nodeName === 'PRE') {\n            return [startNode.nodeName === 'BR' || startNode.nodeName === '#text' ? startNode : startNode.childNodes[0]];\n        }\n        var nodeCollection = [];\n        do {\n            if (nodeCollection.indexOf(startNode) === -1) {\n                nodeCollection.push(startNode);\n            }\n            startNode = this.getNode(startNode, endNode, nodeCollection);\n        } while (startNode);\n        return nodeCollection;\n    };\n    /**\n     * getParentNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodeCollection = function (range) {\n        return this.getParentNodes(this.getNodeCollection(range), range);\n    };\n    /**\n     * getParentNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @param {Range} range - specifies the range values.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodes = function (nodeCollection, range) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection.indexOf(nodeCollection[index].parentNode) !== -1)\n                || (nodeCollection[index].nodeType === 3 &&\n                    range.startContainer !== range.endContainer &&\n                    range.startContainer.parentNode !== range.endContainer.parentNode)) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n            else if (nodeCollection[index].nodeType === 3) {\n                nodeCollection[index] = nodeCollection[index].parentNode;\n            }\n        }\n        return nodeCollection;\n    };\n    /**\n     * getSelectionNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollection = function (range) {\n        return this.getSelectionNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getSelectionNodeCollection along with BR node method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollectionBr = function (range) {\n        return this.getSelectionNodesBr(this.getNodeCollection(range));\n    };\n    /**\n     * getParentNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx)))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * Get selection text nodes with br method.\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodesBr = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeName !== 'BR' &&\n                (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                    (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx))))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getInsertNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodeCollection = function (range) {\n        return this.getInsertNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getInsertNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection[index].childNodes.length !== 0 &&\n                nodeCollection[index].nodeType !== 3) ||\n                (nodeCollection[index].nodeType === 3 &&\n                    nodeCollection[index].textContent === '')) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getNodeArray method\n     *\n     * @param {Node} node - specifies the node content.\n     * @param {boolean} isStart - specifies the boolean value.\n     * @param {Document} root - specifies the root document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeArray = function (node, isStart, root) {\n        var array = [];\n        // eslint-disable-next-line\n        ((isStart) ? (this.startNodeName = []) : (this.endNodeName = []));\n        for (; node !== (root ? root : this.rootNode); null) {\n            if (isNullOrUndefined(node)) {\n                break;\n            }\n            // eslint-disable-next-line\n            (isStart) ? this.startNodeName.push(node.nodeName.toLowerCase()) : this.endNodeName.push(node.nodeName.toLowerCase());\n            array.push(this.getIndex(node));\n            node = node.parentNode;\n        }\n        return array;\n    };\n    NodeSelection.prototype.setRangePoint = function (range, isvalid, num, size) {\n        var node = this.rootNode;\n        var index = num.length;\n        var constant = size;\n        for (; index--; null) {\n            node = node && node.childNodes[num[index]];\n        }\n        if (node && constant >= 0 && node.nodeName !== 'html') {\n            range[isvalid ? 'setStart' : 'setEnd'](node, constant);\n        }\n        return range;\n    };\n    /**\n     * restore method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.restore = function () {\n        var range = this.range.cloneRange();\n        range = this.setRangePoint(range, true, this.startContainer, this.startOffset);\n        range = this.setRangePoint(range, false, this.endContainer, this.endOffset);\n        this.selectRange(this.rootNode, range);\n        return range;\n    };\n    NodeSelection.prototype.selectRange = function (docElement, range) {\n        this.setRange(docElement, range);\n        this.save(range, docElement);\n    };\n    /**\n     * setRange method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Range} range - specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setRange = function (docElement, range) {\n        var selection = this.get(docElement);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    /**\n     * setSelectionText method\n     *\n     * @param {Document} docElement - specifies the documrent\n     * @param {Node} startNode - specifies the starting node.\n     * @param {Node} endNode - specifies the the end node.\n     * @param {number} startIndex - specifies the starting index.\n     * @param {number} endIndex - specifies the end index.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionText = function (docElement, startNode, endNode, startIndex, endIndex) {\n        var range = docElement.createRange();\n        range.setStart(startNode, startIndex);\n        range.setEnd(endNode, endIndex);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionContents method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} element - specifies the node.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionContents = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNode(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionNode method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} element - specifies the node.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionNode = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNodeContents(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * getSelectedNodes method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectedNodes = function (docElement) {\n        return this.getNodeCollection(this.getRange(docElement));\n    };\n    /**\n     * Clear method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.Clear = function (docElement) {\n        this.get(docElement).removeAllRanges();\n    };\n    /**\n     * insertParentNode method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} newNode - specicfies the new node.\n     * @param {Range} range - specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.insertParentNode = function (docElement, newNode, range) {\n        range.surroundContents(newNode);\n        this.selectRange(docElement, range);\n    };\n    /**\n     * setCursorPoint method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Element} element - specifies the element.\n     * @param {number} point - specifies the point.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setCursorPoint = function (docElement, element, point) {\n        var range = docElement.createRange();\n        var selection = docElement.defaultView.getSelection();\n        range.setStart(element, point);\n        range.collapse(true);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    return NodeSelection;\n}());\nexport { NodeSelection };\n","/**\n * Default Markdown formats config for adapter\n */\nexport var markdownFormatTags = {\n    'h6': '###### ',\n    'h5': '##### ',\n    'h4': '#### ',\n    'h3': '### ',\n    'h2': '## ',\n    'h1': '# ',\n    'blockquote': '> ',\n    'pre': '```\\n',\n    'p': ''\n};\n/**\n * Default selection formats config for adapter\n */\nexport var markdownSelectionTags = {\n    'Bold': '**',\n    'Italic': '*',\n    'StrikeThrough': '~~',\n    'InlineCode': '`',\n    'SubScript': '<sub>',\n    'SuperScript': '<sup>',\n    'UpperCase': 'A-Z',\n    'LowerCase': 'a-z'\n};\n/**\n * Default Markdown lists config for adapter\n */\nexport var markdownListsTags = {\n    'OL': '1. ',\n    'UL': '- '\n};\n/**\n * Default html key config for adapter\n */\nexport var htmlKeyConfig = {\n    'toolbar-focus': 'alt+f10',\n    'escape': '27',\n    'insert-link': 'ctrl+k',\n    'insert-image': 'ctrl+shift+i',\n    'insert-table': 'ctrl+shift+e',\n    'undo': 'ctrl+z',\n    'redo': 'ctrl+y',\n    'copy': 'ctrl+c',\n    'cut': 'ctrl+x',\n    'paste': 'ctrl+v',\n    'bold': 'ctrl+b',\n    'italic': 'ctrl+i',\n    'underline': 'ctrl+u',\n    'strikethrough': 'ctrl+shift+s',\n    'uppercase': 'ctrl+shift+u',\n    'lowercase': 'ctrl+shift+l',\n    'superscript': 'ctrl+shift+=',\n    'subscript': 'ctrl+=',\n    'indents': 'ctrl+]',\n    'outdents': 'ctrl+[',\n    'html-source': 'ctrl+shift+h',\n    'full-screen': 'ctrl+shift+f',\n    'decrease-fontsize': 'ctrl+shift+<',\n    'increase-fontsize': 'ctrl+shift+>',\n    'justify-center': 'ctrl+e',\n    'justify-full': 'ctrl+j',\n    'justify-left': 'ctrl+l',\n    'justify-right': 'ctrl+r',\n    'clear-format': 'ctrl+shift+r',\n    'ordered-list': 'ctrl+shift+o',\n    'unordered-list': 'ctrl+alt+o',\n    'space': '32',\n    'enter': '13',\n    'tab': 'tab',\n    'delete': '46'\n};\n/**\n * Default  markdown key config for adapter\n */\nexport var markdownKeyConfig = {\n    'toolbar-focus': 'alt+f10',\n    'escape': '27',\n    'insert-link': 'ctrl+k',\n    'insert-image': 'ctrl+shift+i',\n    'insert-table': 'ctrl+shift+e',\n    'undo': 'ctrl+z',\n    'redo': 'ctrl+y',\n    'copy': 'ctrl+c',\n    'cut': 'ctrl+x',\n    'paste': 'ctrl+v',\n    'bold': 'ctrl+b',\n    'italic': 'ctrl+i',\n    'strikethrough': 'ctrl+shift+s',\n    'uppercase': 'ctrl+shift+u',\n    'lowercase': 'ctrl+shift+l',\n    'superscript': 'ctrl+shift+=',\n    'subscript': 'ctrl+=',\n    'full-screen': 'ctrl+shift+f',\n    'ordered-list': 'ctrl+shift+o',\n    'unordered-list': 'ctrl+alt+o'\n};\n/**\n * PasteCleanup Grouping of similar functionality tags\n */\nexport var pasteCleanupGroupingTags = {\n    'b': ['strong'],\n    'strong': ['b'],\n    'i': ['emp', 'cite'],\n    'emp': ['i', 'cite'],\n    'cite': ['i', 'emp']\n};\n/**\n * PasteCleanup Grouping of similar functionality tags\n */\nexport var listConversionFilters = {\n    'first': 'MsoListParagraphCxSpFirst',\n    'middle': 'MsoListParagraphCxSpMiddle',\n    'last': 'MsoListParagraphCxSpLast'\n};\n/**\n * Dom-Node Grouping of self closing tags\n *\n * @hidden\n */\nexport var selfClosingTags = [\n    'BR',\n    'IMG'\n];\n","import * as CONSTANT from './../base/constant';\nimport { append, detach, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NodeSelection } from './../../selection/index';\nimport { selfClosingTags } from '../../common/config';\nimport { getLastTextNode } from '../../common/util';\nexport var markerClassName = {\n    startSelection: 'e-editor-select-start',\n    endSelection: 'e-editor-select-end'\n};\n/**\n * DOMNode internal plugin\n *\n * @hidden\n\n */\nvar DOMNode = /** @class */ (function () {\n    /**\n     * Constructor for creating the DOMNode plugin\n     *\n     * @param {Element} parent - specifies the parent element\n     * @param {Document} currentDocument - specifies the current document.\n     * @hidden\n\n     */\n    function DOMNode(parent, currentDocument) {\n        this.parent = parent;\n        this.nodeSelection = new NodeSelection();\n        this.currentDocument = currentDocument;\n    }\n    /**\n     * contents method\n     *\n     * @param {Element} element - specifies the element.\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.contents = function (element) {\n        return (element && 'IFRAME' !== element.tagName ? Array.prototype.slice.call(element.childNodes || []) : []);\n    };\n    /**\n     * isBlockNode method\n     *\n     * @param {Element} element - specifies the node element.\n     * @returns {boolean} - sepcifies the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isBlockNode = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && CONSTANT.BLOCK_TAGS.indexOf(element.tagName.toLowerCase()) >= 0));\n    };\n    /**\n     * isLink method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {boolean} -  specifies the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isLink = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && 'a' === element.tagName.toLowerCase()));\n    };\n    /**\n     * blockParentNode method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {Element} - returns the element value\n     * @hidden\n\n     */\n    DOMNode.prototype.blockParentNode = function (element) {\n        for (; element && element.parentNode !== this.parent && ((!element.parentNode ||\n            !this.hasClass(element.parentNode, 'e-node-inner'))); null) {\n            element = element.parentNode;\n            if (this.isBlockNode(element)) {\n                return element;\n            }\n        }\n        return element;\n    };\n    /**\n     * rawAttributes method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {string} - returns the string value\n     * @hidden\n\n     */\n    DOMNode.prototype.rawAttributes = function (element) {\n        var rawAttr = {};\n        var attributes = element.attributes;\n        if (attributes.length > 0) {\n            for (var d = 0; d < attributes.length; d++) {\n                var e = attributes[d];\n                rawAttr[e.nodeName] = e.value;\n            }\n        }\n        return rawAttr;\n    };\n    /**\n     * attributes method\n     *\n     * @param {Element} element - sepcifies the element.\n     * @returns {string} - returns the string value.\n     * @hidden\n\n     */\n    DOMNode.prototype.attributes = function (element) {\n        if (!element) {\n            return '';\n        }\n        var attr = '';\n        var rawAttr = this.rawAttributes(element);\n        var orderRawAttr = Object.keys(rawAttr).sort();\n        for (var e = 0; e < orderRawAttr.length; e++) {\n            var attrKey = orderRawAttr[e];\n            var attrValue = rawAttr[attrKey];\n            /* eslint-disable */\n            if (attrValue.indexOf(\"'\") < 0 && attrValue.indexOf('\"') >= 0) {\n                attr += ' ' + attrKey + \"='\" + attrValue + \"'\";\n            }\n            else if (attrValue.indexOf('\"') >= 0 && attrValue.indexOf(\"'\") >= 0) {\n                /* eslint-enable */\n                attrValue = attrValue.replace(/\"/g, '&quot;');\n                attr += ' ' + attrKey + '=\"' + attrValue + '\"';\n            }\n            else {\n                attr += ' ' + attrKey + '=\"' + attrValue + '\"';\n            }\n        }\n        return attr;\n    };\n    /**\n     * clearAttributes method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.clearAttributes = function (element) {\n        for (var attr = element.attributes, c = attr.length - 1; c >= 0; c--) {\n            var key = attr[c];\n            element.removeAttribute(key.nodeName);\n        }\n    };\n    /**\n     * openTagString method\n     *\n     * @param {Element} element - specifies the element.\n     * @returns {string} - returns the string\n     * @hidden\n\n     */\n    DOMNode.prototype.openTagString = function (element) {\n        return '<' + element.tagName.toLowerCase() + this.attributes(element) + '>';\n    };\n    /**\n     * closeTagString method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {string} - returns the string value\n     * @hidden\n\n     */\n    DOMNode.prototype.closeTagString = function (element) {\n        return '</' + element.tagName.toLowerCase() + '>';\n    };\n    /**\n     * createTagString method\n     *\n     * @param {string} tagName - specifies the tag name\n     * @param {Element} relativeElement - specifies the relative element\n     * @param {string} innerHTML - specifies the string value\n     * @returns {string} - returns the string value.\n     * @hidden\n\n     */\n    DOMNode.prototype.createTagString = function (tagName, relativeElement, innerHTML) {\n        return '<' + tagName.toLowerCase() + this.attributes(relativeElement) + '>' + innerHTML + '</' + tagName.toLowerCase() + '>';\n    };\n    /**\n     * isList method\n     *\n     * @param {Element} element - specifes the element.\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isList = function (element) {\n        return !!element && ['UL', 'OL'].indexOf(element.tagName) >= 0;\n    };\n    /**\n     * isElement method\n     *\n     * @param {Element} element - specifes the element.\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isElement = function (element) {\n        return element === this.parent;\n    };\n    /**\n     * isEditable method\n     *\n     * @param {Element} element - specifes the element.\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isEditable = function (element) {\n        return ((!element.getAttribute || element.getAttribute('contenteditable') === 'true')\n            && ['STYLE', 'SCRIPT'].indexOf(element.tagName) < 0);\n    };\n    /**\n     * hasClass method\n     *\n     * @param {Element} element - specifes the element.\n     * @param {string} className - specifies the class name value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.hasClass = function (element, className) {\n        return element && element.classList && element.classList.contains(className);\n    };\n    /**\n     * replaceWith method\n     *\n     * @param {Element} element - specifes the element.\n     * @param {string} value - specifies the string value\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.replaceWith = function (element, value) {\n        var parentNode = element.parentNode;\n        parentNode.insertBefore(this.parseHTMLFragment(value), element);\n        detach(element);\n    };\n    /**\n     * parseHTMLFragment method\n     *\n     * @param {string} value - specifies the string value\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.parseHTMLFragment = function (value) {\n        /* eslint-disable */\n        var temp = createElement('template');\n        temp.innerHTML = value;\n        if (temp.content instanceof DocumentFragment) {\n            return temp.content;\n        }\n        else {\n            return document.createRange().createContextualFragment(value);\n        }\n        /* eslint-enable */\n    };\n    /**\n     * wrap method\n     *\n     * @param {Element} element - specifies the element\n     * @param {Element} wrapper - specifies the element.\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.wrap = function (element, wrapper) {\n        element.parentNode.insertBefore(wrapper, element);\n        wrapper = element.previousSibling;\n        wrapper.appendChild(element);\n        return wrapper;\n    };\n    /**\n     * insertAfter method\n     *\n     * @param {Element} newNode - specifies the new node element\n     * @param {Element} referenceNode - specifies the referenece node\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.insertAfter = function (newNode, referenceNode) {\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n    /**\n     * wrapInner method\n     *\n     * @param {Element} parent - specifies the parent element.\n     * @param {Element} wrapper - specifies the wrapper element.\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.wrapInner = function (parent, wrapper) {\n        parent.appendChild(wrapper);\n        wrapper = parent.querySelector('.e-rte-wrap-inner');\n        wrapper.classList.remove('e-rte-wrap-inner');\n        if (wrapper.classList.length === 0) {\n            wrapper.removeAttribute('class');\n        }\n        while (parent.firstChild !== wrapper) {\n            wrapper.appendChild(parent.firstChild);\n        }\n        return wrapper;\n    };\n    /**\n     * unWrap method\n     *\n     * @param {Element} element - specifies the element.\n     * @returns {Element} - returns the element.\n     * @hidden\n\n     */\n    DOMNode.prototype.unWrap = function (element) {\n        var parent = element.parentNode;\n        var unWrapNode = [];\n        while (element.firstChild) {\n            unWrapNode.push(element.firstChild);\n            parent.insertBefore(element.firstChild, element);\n        }\n        unWrapNode = unWrapNode.length > 0 ? unWrapNode : [element.parentNode];\n        parent.removeChild(element);\n        return unWrapNode;\n    };\n    /**\n     * getSelectedNode method\n     *\n     * @param {Element} element - specifies the element\n     * @param {number} index - specifies the index value.\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.getSelectedNode = function (element, index) {\n        if (element.nodeType === Node.ELEMENT_NODE && element.childNodes.length > 0 &&\n            element.childNodes[index - 1] && element.childNodes[index - 1].nodeType === Node.ELEMENT_NODE &&\n            (element.childNodes[index - 1].classList.contains(markerClassName.startSelection) ||\n                element.childNodes[index - 1].classList.contains(markerClassName.endSelection))) {\n            element = element.childNodes[index - 1];\n        }\n        else if (element.nodeType === Node.ELEMENT_NODE && element.childNodes.length > 0 && element.childNodes[index]) {\n            element = element.childNodes[index];\n        }\n        if (element.nodeType === Node.TEXT_NODE) {\n            element = element.parentNode;\n        }\n        return element;\n    };\n    /**\n     * nodeFinds method\n     *\n     * @param {Element} element - specifies the element.\n     * @param {Element[]} elements - specifies the array of elements\n     * @returns {Element[]} - returnts the array elements\n     * @hidden\n\n     */\n    DOMNode.prototype.nodeFinds = function (element, elements) {\n        var existNodes = [];\n        for (var i = 0; i < elements.length; i++) {\n            if (element.contains(elements[i]) && element !== elements[i]) {\n                existNodes.push(elements[i]);\n            }\n        }\n        return existNodes;\n    };\n    /**\n     * isEditorArea method\n     *\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    DOMNode.prototype.isEditorArea = function () {\n        var range = this.getRangePoint(0);\n        var element;\n        for (element = range.commonAncestorContainer; element && !this.isElement(element); null) {\n            element = element.parentNode;\n        }\n        return !!this.isElement(element);\n    };\n    /**\n     * getRangePoint method\n     *\n     * @param {number} point - specifies the number value.\n     * @returns {Range} - returns the range.\n     * @hidden\n\n     */\n    DOMNode.prototype.getRangePoint = function (point) {\n        var selection = this.getSelection();\n        var ranges = [];\n        if (selection && selection.getRangeAt && selection.rangeCount) {\n            ranges = [];\n            for (var f = 0; f < selection.rangeCount; f++) {\n                ranges.push(selection.getRangeAt(f));\n            }\n        }\n        else {\n            ranges = [this.currentDocument.createRange()];\n        }\n        return 'undefined' !== typeof point ? ranges[point] : ranges;\n    };\n    DOMNode.prototype.getSelection = function () {\n        return this.nodeSelection.get(this.currentDocument);\n    };\n    /**\n     * getPreviousNode method\n     *\n     * @param {Element} element - specifies the element\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.getPreviousNode = function (element) {\n        element = element.previousElementSibling;\n        for (; element && element.textContent === '\\n'; null) {\n            element = element.previousElementSibling;\n        }\n        return element;\n    };\n    /**\n     * encode method\n     *\n     * @param {string} value - specifies the string value\n     * @returns {string} - specifies the string value\n     * @hidden\n\n     */\n    DOMNode.prototype.encode = function (value) {\n        var divNode = document.createElement('div');\n        divNode.innerText = value;\n        // eslint-disable-next-line\n        return divNode.innerHTML.replace(/<br\\s*[\\/]?>/gi, '\\n');\n    };\n    /**\n     * saveMarker method\n     *\n     * @param {NodeSelection} save - specifies the node selection,\n     * @param {string} action - specifies the action  value.\n     * @returns {NodeSelection} - returns the value\n     * @hidden\n\n     */\n    DOMNode.prototype.saveMarker = function (save, action) {\n        var start = this.parent.querySelector('.' + markerClassName.startSelection);\n        var end = this.parent.querySelector('.' + markerClassName.endSelection);\n        var startTextNode;\n        var endTextNode;\n        if (start.textContent === '' && isNullOrUndefined(end) && action !== 'tab') {\n            if (start.childNodes.length === 1 && start.childNodes[0].nodeName === 'BR') {\n                start.innerHTML = '&#65279;&#65279;<br>';\n            }\n            else {\n                start.innerHTML = '&#65279;&#65279;';\n            }\n        }\n        if (this.hasClass(start, markerClassName.startSelection) && start.classList.length > 1) {\n            var replace = this.createTagString(CONSTANT.DEFAULT_TAG, start, this.encode(start.textContent));\n            this.replaceWith(start, replace);\n            start = this.parent.querySelector('.' + markerClassName.startSelection);\n            start.classList.remove(markerClassName.startSelection);\n            startTextNode = start.childNodes[0];\n        }\n        else {\n            startTextNode = this.unWrap(start)[0];\n        }\n        if (this.hasClass(end, markerClassName.endSelection) && end.classList.length > 1) {\n            var replace = this.createTagString(CONSTANT.DEFAULT_TAG, end, this.encode(end.textContent));\n            this.replaceWith(end, replace);\n            end = this.parent.querySelector('.' + markerClassName.endSelection);\n            end.classList.remove(markerClassName.endSelection);\n            endTextNode = end.childNodes[0];\n        }\n        else {\n            endTextNode = end ? this.unWrap(end)[0] : startTextNode;\n        }\n        save.startContainer = save.getNodeArray(startTextNode, true);\n        save.endContainer = save.getNodeArray(endTextNode, false);\n        return save;\n    };\n    DOMNode.prototype.marker = function (className, textContent) {\n        return '<span class=\"' + className + '\">' + textContent + '</span>';\n    };\n    /**\n     * setMarker method\n     *\n     * @param {NodeSelection} save - specifies the node selection.\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.setMarker = function (save) {\n        var range = save.range;\n        var startChildNodes = range.startContainer.childNodes;\n        var isTableStart = startChildNodes.length > 1 && startChildNodes[0].nodeName === 'TABLE';\n        var start = ((isTableStart ? getLastTextNode(startChildNodes[range.startOffset + 1]) :\n            startChildNodes[(range.startOffset > 0) ? (range.startOffset - 1) : range.startOffset]) || range.startContainer);\n        var end = (range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset]\n            || range.endContainer);\n        if ((start.nodeType === Node.ELEMENT_NODE && end.nodeType === Node.ELEMENT_NODE) && (start.contains(end) || end.contains(start))) {\n            var existNode = start.contains(end) ? start : end;\n            var isElement = existNode.nodeType !== Node.TEXT_NODE;\n            if (isElement) {\n                var nodes = [];\n                var textNodes = [];\n                for (var node = existNode; existNode.contains(node); null) {\n                    if (nodes.indexOf(node) < 0 && node.childNodes && node.childNodes.length) {\n                        nodes.push(node);\n                        node = node.childNodes[0];\n                    }\n                    else if (node.nextSibling) {\n                        node = node.nextSibling;\n                    }\n                    else if (node.parentNode) {\n                        node = node.parentNode;\n                        nodes.push(node);\n                    }\n                    if (textNodes.indexOf(node) < 0 && (node.nodeType === Node.TEXT_NODE ||\n                        (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0\n                            && (node.tagName === 'BR' || node.tagName === 'IMG')))) {\n                        textNodes.push(node);\n                    }\n                }\n                if (textNodes.length) {\n                    start = start.contains(end) ? textNodes[0] : start;\n                    end = textNodes[textNodes.length - 1];\n                }\n            }\n        }\n        if (start !== end) {\n            if (start.nodeType !== Node.TEXT_NODE && ((start.tagName === 'BR' &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(start.parentNode.tagName.toLocaleLowerCase()) >= 0) ||\n                start.tagName === 'IMG')) {\n                this.replaceWith(start, this.marker(markerClassName.startSelection, this.encode(start.textContent)));\n                var markerStart = range.startContainer.querySelector('.' + markerClassName.startSelection);\n                markerStart.appendChild(start);\n            }\n            else {\n                this.replaceWith(start, this.marker(markerClassName.startSelection, this.encode(start.textContent)));\n            }\n            if (end.nodeType !== Node.TEXT_NODE && end.tagName === 'BR' &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(end.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                this.replaceWith(end, this.marker(markerClassName.endSelection, this.encode(end.textContent)));\n                var markerEnd = range.endContainer.querySelector('.' + markerClassName.endSelection);\n                markerEnd.appendChild(end);\n            }\n            else {\n                this.ensureSelfClosingTag(end, markerClassName.endSelection, range);\n            }\n        }\n        else {\n            this.ensureSelfClosingTag(start, markerClassName.startSelection, range);\n        }\n    };\n    /**\n     * ensureSelfClosingTag method\n     *\n     * @param {Element} start - specifies the element.\n     * @param {string} className - specifes the class name string value\n     * @param {Range} range - specifies the range value\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.ensureSelfClosingTag = function (start, className, range) {\n        var isTable = false;\n        if (start.nodeType === 3) {\n            this.replaceWith(start, this.marker(className, this.encode(start.textContent)));\n        }\n        else if (start.tagName === 'BR') {\n            this.replaceWith(start, this.marker(className, this.encode(start.textContent)));\n            var markerStart = range.startContainer.querySelector('.' + className);\n            markerStart.appendChild(start);\n        }\n        else {\n            if (start.tagName === 'IMG') {\n                var parNode = document.createElement('p');\n                start.parentElement.insertBefore(parNode, start);\n                parNode.appendChild(start);\n                start = parNode.children[0];\n            }\n            if (start.tagName === 'TABLE') {\n                isTable = true;\n                if (start.textContent === '') {\n                    var tdNode = start.querySelectorAll('td');\n                    start = tdNode[tdNode.length - 1];\n                    start = !isNullOrUndefined(start.childNodes[0]) ? start.childNodes[0] : start;\n                }\n                else {\n                    var lastNode = start.lastChild;\n                    while (lastNode.nodeType !== 3 && lastNode.nodeName !== '#text' &&\n                        lastNode.nodeName !== 'BR') {\n                        lastNode = lastNode.lastChild;\n                    }\n                    start = lastNode;\n                }\n            }\n            for (var i = 0; i < selfClosingTags.length; i++) {\n                start = (start.tagName === selfClosingTags[i] && !isTable) ? start.parentNode : start;\n            }\n            if (start.nodeType === 3 && start.nodeName === '#text') {\n                this.replaceWith(start, this.marker(className, this.encode(start.textContent)));\n            }\n            else if (start.nodeName === 'BR') {\n                this.replaceWith(start, this.marker(markerClassName.endSelection, this.encode(start.textContent)));\n                var markerEnd = range.endContainer.querySelector('.' + markerClassName.endSelection);\n                markerEnd.appendChild(start);\n            }\n            else {\n                var marker = this.marker(className, '');\n                append([this.parseHTMLFragment(marker)], start);\n            }\n        }\n    };\n    /**\n     * createTempNode method\n     *\n     * @param {Element} element - specifies the element.\n     * @returns {Element} - returns the element\n     * @hidden\n\n     */\n    DOMNode.prototype.createTempNode = function (element) {\n        var textContent = element.textContent;\n        if (element.tagName === 'BR') {\n            var wrapper = '<' + CONSTANT.DEFAULT_TAG + '></' + CONSTANT.DEFAULT_TAG + '>';\n            var node = element.parentNode;\n            if (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.tagName.toLocaleLowerCase()) >= 0) {\n                element = this.wrap(element, this.parseHTMLFragment(wrapper));\n            }\n        }\n        else if (((element.nodeType !== Node.TEXT_NODE &&\n            (element.classList.contains(markerClassName.startSelection) ||\n                element.classList.contains(markerClassName.endSelection))) ||\n            textContent.replace(/\\n/g, '').replace(/(^ *)|( *$)/g, '').length > 0 ||\n            textContent.length && textContent.indexOf('\\n') < 0)) {\n            var wrapper = '<' + CONSTANT.DEFAULT_TAG + '></' + CONSTANT.DEFAULT_TAG + '>';\n            var target = element;\n            element = this.wrap(element, this.parseHTMLFragment(wrapper));\n            var ignoreBr = target.nodeType === Node.ELEMENT_NODE && target.firstChild && target.firstChild.nodeName === 'BR'\n                && (target.classList.contains(markerClassName.startSelection) ||\n                    target.classList.contains(markerClassName.endSelection));\n            if (!ignoreBr && element.nextElementSibling && element.nextElementSibling.tagName === 'BR') {\n                element.appendChild(element.nextElementSibling);\n            }\n        }\n        return element;\n    };\n    /**\n     * getImageTagInSelection method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    DOMNode.prototype.getImageTagInSelection = function () {\n        var selection = this.getSelection();\n        if (this.isEditorArea() && selection.rangeCount) {\n            return selection.focusNode.querySelectorAll('img');\n        }\n        return null;\n    };\n    /**\n     * blockNodes method\n     *\n     * @returns {Node[]} - returns the node array values\n     * @hidden\n\n     */\n    DOMNode.prototype.blockNodes = function () {\n        var collectionNodes = [];\n        var selection = this.getSelection();\n        if (this.isEditorArea() && selection.rangeCount) {\n            var ranges = this.getRangePoint();\n            for (var j = 0; j < ranges.length; j++) {\n                var parentNode = void 0;\n                var range = ranges[j];\n                var startNode = this.getSelectedNode(range.startContainer, range.startOffset);\n                var endNode = this.getSelectedNode(range.endContainer, range.endOffset);\n                if (this.isBlockNode(startNode) && collectionNodes.indexOf(startNode) < 0) {\n                    collectionNodes.push(startNode);\n                }\n                parentNode = this.blockParentNode(startNode);\n                if (parentNode && collectionNodes.indexOf(parentNode) < 0) {\n                    if (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(parentNode.tagName.toLocaleLowerCase()) >= 0 && (startNode.tagName === 'BR' ||\n                        startNode.nodeType === Node.TEXT_NODE ||\n                        startNode.classList.contains(markerClassName.startSelection) ||\n                        startNode.classList.contains(markerClassName.endSelection))) {\n                        var tempNode = startNode.previousSibling &&\n                            startNode.previousSibling.nodeType === Node.TEXT_NODE ?\n                            startNode.previousSibling : startNode;\n                        if (!startNode.nextSibling && !startNode.previousSibling && startNode.tagName === 'BR') {\n                            collectionNodes.push(tempNode);\n                        }\n                        else {\n                            collectionNodes.push(this.createTempNode(tempNode));\n                        }\n                    }\n                    else {\n                        collectionNodes.push(parentNode);\n                    }\n                }\n                var nodes = [];\n                for (var node = startNode; node !== endNode && node !== this.parent; null) {\n                    if (nodes.indexOf(node) < 0 && node.childNodes && node.childNodes.length) {\n                        nodes.push(node);\n                        node = node.childNodes[0];\n                    }\n                    else if (node && node.nodeType !== 8 && (node.tagName === 'BR' || (node.nodeType === Node.TEXT_NODE &&\n                        node.textContent.trim() !== '') || (node.nodeType !== Node.TEXT_NODE &&\n                        (node.classList.contains(markerClassName.startSelection) ||\n                            node.classList.contains(markerClassName.endSelection)))) &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                        node = this.createTempNode(node);\n                    }\n                    else if (node.nextSibling && node.nextSibling.nodeType !== 8 &&\n                        (node.nextSibling.tagName === 'BR' ||\n                            node.nextSibling.nodeType === Node.TEXT_NODE ||\n                            node.nextSibling.classList.contains(markerClassName.startSelection) ||\n                            node.nextSibling.classList.contains(markerClassName.endSelection)) &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.nextSibling.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                        node = this.createTempNode(node.nextSibling);\n                    }\n                    else if (node.nextSibling) {\n                        node = node.nextSibling;\n                    }\n                    else if (node.parentNode) {\n                        node = node.parentNode;\n                        nodes.push(node);\n                    }\n                    if (collectionNodes.indexOf(node) < 0 && node.nodeType === Node.ELEMENT_NODE &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0 &&\n                        (node.classList.contains(markerClassName.startSelection) ||\n                            node.classList.contains(markerClassName.endSelection))) {\n                        collectionNodes.push(this.createTempNode(node));\n                    }\n                    if (this.isBlockNode(node) && this.ignoreTableTag(node) && nodes.indexOf(node) < 0 &&\n                        collectionNodes.indexOf(node) < 0 && (node !== endNode || range.endOffset > 0)) {\n                        collectionNodes.push(node);\n                    }\n                    if (node.nodeName === 'IMG' && node.parentElement.contentEditable === 'true') {\n                        collectionNodes.push(node);\n                    }\n                }\n                parentNode = this.blockParentNode(endNode);\n                if (parentNode && this.ignoreTableTag(parentNode) && collectionNodes.indexOf(parentNode) < 0 &&\n                    (!isNullOrUndefined(parentNode.previousElementSibling) && parentNode.previousElementSibling.tagName !== 'IMG')) {\n                    collectionNodes.push(parentNode);\n                }\n            }\n        }\n        for (var i = collectionNodes.length - 1; i > 0; i--) {\n            var nodes = this.nodeFinds(collectionNodes[i], collectionNodes);\n            if (nodes.length) {\n                var listNodes = collectionNodes[i].querySelectorAll('ul, ol');\n                if (collectionNodes[i].tagName === 'LI' && listNodes.length > 0) {\n                    continue;\n                }\n                else {\n                    collectionNodes.splice(i, 1);\n                }\n            }\n        }\n        return collectionNodes;\n    };\n    DOMNode.prototype.ignoreTableTag = function (element) {\n        return !(CONSTANT.TABLE_BLOCK_TAGS.indexOf(element.tagName.toLocaleLowerCase()) >= 0);\n    };\n    return DOMNode;\n}());\nexport { DOMNode };\n","import * as CONSTANT from './../base/constant';\nimport { createElement, detach, prepend, append, attributes } from '@syncfusion/ej2-base';\nimport { markerClassName } from './dom-node';\nimport * as EVENTS from './../../common/constant';\nimport { setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { isNullOrUndefined, isNullOrUndefined as isNOU, closest } from '@syncfusion/ej2-base';\n/**\n * Lists internal component\n *\n * @hidden\n\n */\nvar Lists = /** @class */ (function () {\n    /**\n     * Constructor for creating the Lists plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function Lists(parent) {\n        this.parent = parent;\n        this.domNode = this.parent.domNode;\n        this.addEventListener();\n    }\n    Lists.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.LIST_TYPE, this.applyListsHandler, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDownHandler, this);\n        this.parent.observer.on(EVENTS.SPACE_ACTION, this.spaceKeyAction, this);\n    };\n    Lists.prototype.testList = function (elem) {\n        var olListRegex = [/^[\\d]+[.]+$/,\n            /^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})[.]$/gi,\n            /^[a-zA-Z][.]+$/];\n        var elementStart = !isNullOrUndefined(elem) ? elem.innerText.trim().split('.')[0] + '.' : null;\n        if (!isNullOrUndefined(elementStart)) {\n            for (var i = 0; i < olListRegex.length; i++) {\n                if (olListRegex[i].test(elementStart)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Lists.prototype.testCurrentList = function (range) {\n        var olListStartRegex = [/^[1]+[.]+$/, /^[i]+[.]+$/, /^[a]+[.]+$/];\n        if (!isNullOrUndefined(range.startContainer.textContent.slice(0, range.startOffset))) {\n            var currentContent = range.startContainer.textContent.replace(/\\u200B/g, '').slice(0, range.startOffset).trim();\n            for (var i = 0; i < olListStartRegex.length; i++) {\n                if (olListStartRegex[i].test(currentContent) && currentContent.length === 2) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Lists.prototype.spaceList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n        // eslint-disable-next-line\n        var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n        var preElement = startNode.previousElementSibling;\n        var nextElement = startNode.nextElementSibling;\n        var preElemULStart = !isNullOrUndefined(preElement) ?\n            preElement.innerText.trim().substring(0, 1) : null;\n        var nextElemULStart = !isNullOrUndefined(nextElement) ?\n            nextElement.innerText.trim().substring(0, 1) : null;\n        var startElementOLTest = this.testCurrentList(range);\n        var preElementOLTest = this.testList(preElement);\n        var nextElementOLTest = this.testList(nextElement);\n        if (!preElementOLTest && !nextElementOLTest && preElemULStart !== '*' && nextElemULStart !== '*') {\n            if (startElementOLTest) {\n                range.startContainer.textContent = range.startContainer.textContent.slice(range.startOffset, range.startContainer.textContent.length);\n                this.applyListsHandler({ subCommand: 'OL', callBack: e.callBack });\n                e.event.preventDefault();\n            }\n            else if (range.startContainer.textContent.replace(/\\u200B/g, '').slice(0, range.startOffset).trim() === '*' ||\n                range.startContainer.textContent.replace(/\\u200B/g, '').slice(0, range.startOffset).trim() === '-') {\n                range.startContainer.textContent = range.startContainer.textContent.slice(range.startOffset, range.startContainer.textContent.length);\n                this.applyListsHandler({ subCommand: 'UL', callBack: e.callBack });\n                e.event.preventDefault();\n            }\n        }\n    };\n    Lists.prototype.enterList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var startNode = range.startContainer.nodeName === 'LI' ? range.startContainer :\n            range.startContainer.parentElement.closest('LI');\n        var endNode = range.endContainer.nodeName === 'LI' ? range.endContainer :\n            range.endContainer.parentElement.closest('LI');\n        if (!isNOU(startNode) && !isNOU(endNode) && startNode === endNode && startNode.tagName === 'LI' &&\n            startNode.textContent.trim() === '' && startNode.querySelectorAll('IMG').length === 0) {\n            if (startNode.textContent.charCodeAt(0) === 65279) {\n                startNode.textContent = '';\n            }\n            var startNodeParent = startNode.parentElement;\n            if (isNOU(startNodeParent.parentElement.closest('UL')) && isNOU(startNodeParent.parentElement.closest('OL'))) {\n                if (!isNOU(startNode.nextElementSibling)) {\n                    var nearBlockNode = this.parent.domNode.blockParentNode(startNode);\n                    this.parent.nodeCutter.GetSpliceNode(range, nearBlockNode);\n                }\n                var insertTag = void 0;\n                if (e.enterAction === 'DIV') {\n                    insertTag = createElement('div');\n                    insertTag.innerHTML = '<br>';\n                }\n                else if (e.enterAction === 'P') {\n                    insertTag = createElement('p');\n                    insertTag.innerHTML = '<br>';\n                }\n                else {\n                    insertTag = createElement('br');\n                }\n                this.parent.domNode.insertAfter(insertTag, startNodeParent);\n                e.event.preventDefault();\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, insertTag, 0);\n                if (startNodeParent.textContent === '') {\n                    detach(startNodeParent);\n                }\n                else {\n                    detach(startNode);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Lists.prototype.backspaceList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n        var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n        startNode = startNode.nodeName === 'BR' ? startNode.parentElement : startNode;\n        endNode = endNode.nodeName === 'BR' ? endNode.parentElement : endNode;\n        if (startNode === endNode && !isNullOrUndefined(closest(startNode, 'li')) &&\n            ((startNode.textContent.trim() === '' && startNode.textContent.charCodeAt(0) === 65279) ||\n                (startNode.textContent.length === 1 && startNode.textContent.charCodeAt(0) === 8203))) {\n            startNode.textContent = '';\n        }\n        if (startNode === endNode && startNode.textContent === '') {\n            if (startNode.parentElement.tagName === 'LI' && endNode.parentElement.tagName === 'LI') {\n                detach(startNode);\n            }\n            else if (startNode.closest('ul') || startNode.closest('ol')) {\n                var parentList = !isNOU(startNode.closest('ul')) ? startNode.closest('ul') : startNode.closest('ol');\n                if (parentList.firstElementChild === startNode && !isNOU(parentList.children[1]) &&\n                    (parentList.children[1].tagName === 'OL' || parentList.children[1].tagName === 'UL')) {\n                    if (parentList.tagName === parentList.children[1].tagName) {\n                        while (parentList.children[1].lastChild) {\n                            this.parent.domNode.insertAfter(parentList.children[1].lastChild, parentList.children[1]);\n                        }\n                        detach(parentList.children[1]);\n                    }\n                    else {\n                        parentList.parentElement.insertBefore(parentList.children[1], parentList);\n                    }\n                }\n            }\n        }\n        else if (!isNOU(startNode.firstChild) && startNode.firstChild.nodeName === 'BR' &&\n            (!isNullOrUndefined(startNode.childNodes[1]) && (startNode.childNodes[1].nodeName === 'UL' ||\n                startNode.childNodes[1].nodeName === 'OL'))) {\n            var parentList = !isNOU(startNode.closest('ul')) ? startNode.closest('ul') : startNode.closest('ol');\n            if (parentList.tagName === startNode.childNodes[1].nodeName) {\n                while (startNode.childNodes[1].lastChild) {\n                    this.parent.domNode.insertAfter(startNode.children[1].lastChild, startNode);\n                }\n                detach(startNode.childNodes[1]);\n            }\n            else {\n                parentList.parentElement.insertBefore(startNode.children[1], parentList);\n            }\n        }\n    };\n    Lists.prototype.keyDownHandler = function (e) {\n        if (e.event.which === 13) {\n            this.enterList(e);\n        }\n        if (e.event.which === 32) {\n            this.spaceList(e);\n        }\n        if (e.event.which === 8) {\n            this.backspaceList(e);\n        }\n        if (e.event.which === 46 && e.event.action === 'delete') {\n            var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n            var commonAncestor = range.commonAncestorContainer;\n            var startEle = range.startContainer;\n            var endEle = range.endContainer;\n            var startNode = startEle.nodeType === 3 ? startEle.parentElement : startEle;\n            var endNode = endEle.nodeType === 3 ? endEle.parentElement : endEle;\n            if ((commonAncestor.nodeName === 'UL' || commonAncestor.nodeName === 'OL') && startNode !== endNode\n                && (!isNullOrUndefined(closest(startNode, 'ul')) || !isNullOrUndefined(closest(startNode, 'ol')))\n                && (!isNullOrUndefined(closest(endNode, 'ul')) || !isNullOrUndefined(closest(endNode, 'ol')))\n                && (commonAncestor.lastElementChild === closest(endNode, 'li')) && !range.collapsed) {\n                detach(commonAncestor);\n            }\n        }\n        if (e.event.which === 9) {\n            var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n            if (!(e.event.action && e.event.action === 'indent')) {\n                this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n            }\n            var blockNodes = void 0;\n            var startOffset = range.startOffset;\n            var endOffset = range.endOffset;\n            var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n            var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n            if ((startNode === endNode && (startNode.nodeName === 'BR' || startNode.nodeName === '#text') &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(startNode.parentNode.tagName.toLocaleLowerCase()) >= 0)) {\n                return;\n            }\n            else {\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    this.domNode.setMarker(this.saveSelection);\n                }\n                blockNodes = this.domNode.blockNodes();\n            }\n            var nodes = [];\n            var isNested = true;\n            for (var i = 0; i < blockNodes.length; i++) {\n                if (blockNodes[i].parentNode.tagName === 'LI') {\n                    nodes.push(blockNodes[i].parentNode);\n                }\n                else if (blockNodes[i].tagName === 'LI' && blockNodes[i].childNodes[0].tagName !== 'P' &&\n                    (blockNodes[i].childNodes[0].tagName !== 'OL' &&\n                        blockNodes[i].childNodes[0].tagName !== 'UL')) {\n                    nodes.push(blockNodes[i]);\n                }\n            }\n            if (nodes.length > 1 || nodes.length && ((startOffset === 0 && endOffset === 0) || e.ignoreDefault)) {\n                e.event.preventDefault();\n                e.event.stopPropagation();\n                this.currentAction = this.getAction(nodes[0]);\n                if (e.event.shiftKey) {\n                    this.revertList(nodes);\n                    this.revertClean();\n                }\n                else {\n                    isNested = this.nestedList(nodes);\n                }\n                if (isNested) {\n                    this.cleanNode();\n                    this.parent.editableElement.focus();\n                }\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    this.saveSelection = this.domNode.saveMarker(this.saveSelection);\n                    this.saveSelection.restore();\n                    if (e.callBack) {\n                        e.callBack({\n                            requestType: this.currentAction,\n                            editorMode: 'HTML',\n                            range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                            elements: this.parent.domNode.blockNodes(),\n                            event: e.event\n                        });\n                    }\n                }\n            }\n            else {\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    if (e.event && e.event.shiftKey && e.event.key === 'Tab') {\n                        e.event.action = 'tab';\n                    }\n                    this.saveSelection = this.domNode.saveMarker(this.saveSelection, e.event.action);\n                    this.saveSelection.restore();\n                }\n            }\n        }\n        else {\n            switch (e.event.action) {\n                case 'ordered-list':\n                    this.applyListsHandler({ subCommand: 'OL', callBack: e.callBack });\n                    e.event.preventDefault();\n                    break;\n                case 'unordered-list':\n                    this.applyListsHandler({ subCommand: 'UL', callBack: e.callBack });\n                    e.event.preventDefault();\n                    break;\n            }\n        }\n    };\n    Lists.prototype.spaceKeyAction = function (e) {\n        if (e.event.which === 32) {\n            this.spaceList(e);\n        }\n    };\n    Lists.prototype.getAction = function (element) {\n        var parentNode = element.parentNode;\n        return (parentNode.nodeName === 'OL' ? 'OL' : 'UL');\n    };\n    Lists.prototype.revertClean = function () {\n        var collectionNodes = this.parent.editableElement.querySelectorAll('ul, ol');\n        for (var i = 0; i < collectionNodes.length; i++) {\n            var listNodes = collectionNodes[i].querySelectorAll('ul, ol');\n            if (listNodes.length > 0) {\n                for (var j = 0; j < listNodes.length; j++) {\n                    var prevSibling = listNodes[j].previousSibling;\n                    if (prevSibling && prevSibling.tagName === 'LI') {\n                        prevSibling.appendChild(listNodes[j]);\n                    }\n                }\n            }\n        }\n    };\n    Lists.prototype.noPreviousElement = function (elements) {\n        var firstNode;\n        var firstNodeOL;\n        var siblingListOL = elements.querySelectorAll('ol, ul');\n        var siblingListLI = elements\n            .querySelectorAll('li');\n        var siblingListLIFirst = this.domNode.contents(siblingListLI[0])[0];\n        if (siblingListLI.length > 0 && (siblingListLIFirst.nodeName === 'OL' || siblingListLIFirst.nodeName === 'UL')) {\n            firstNode = siblingListLI[0];\n        }\n        else {\n            firstNodeOL = siblingListOL[0];\n        }\n        if (firstNode) {\n            for (var h = this.domNode.contents(elements)[0]; h && !this.domNode.isList(h); null) {\n                var nextSibling = h.nextSibling;\n                prepend([h], firstNode);\n                setStyleAttribute(elements, { 'list-style-type': 'none' });\n                setStyleAttribute(firstNode, { 'list-style-type': '' });\n                h = nextSibling;\n            }\n        }\n        else if (firstNodeOL) {\n            var nestedElement = createElement('li');\n            prepend([nestedElement], firstNodeOL);\n            for (var h = this.domNode.contents(elements)[0]; h && !this.domNode.isList(h); null) {\n                var nextSibling = h.nextSibling;\n                nestedElement.appendChild(h);\n                h = nextSibling;\n            }\n            prepend([firstNodeOL], elements.parentNode);\n            detach(elements);\n            var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n            prepend([nestedElementLI], firstNodeOL.parentNode);\n            append([firstNodeOL], nestedElementLI);\n        }\n        else {\n            var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n            prepend([nestedElementLI], elements.parentNode);\n            var nestedElement = createElement(elements.parentNode.tagName);\n            prepend([nestedElement], nestedElementLI);\n            append([elements], nestedElement);\n        }\n    };\n    Lists.prototype.nestedList = function (elements) {\n        var isNested = false;\n        for (var i = 0; i < elements.length; i++) {\n            var prevSibling = this.domNode.getPreviousNode(elements[i]);\n            if (prevSibling) {\n                isNested = true;\n                var firstNode = void 0;\n                var firstNodeLI = void 0;\n                var siblingListOL = elements[i].querySelectorAll('ol, ul');\n                var siblingListLI = elements[i]\n                    .querySelectorAll('li');\n                var siblingListLIFirst = this.domNode.contents(siblingListLI[0])[0];\n                if (siblingListLI.length > 0 && (siblingListLIFirst.nodeName === 'OL' || siblingListLIFirst.nodeName === 'UL')) {\n                    firstNodeLI = siblingListLI[0];\n                }\n                else {\n                    firstNode = siblingListOL[0];\n                }\n                if (firstNode) {\n                    var nestedElement = createElement('li');\n                    prepend([nestedElement], firstNode);\n                    for (var h = this.domNode.contents(elements[i])[0]; h && !this.domNode.isList(h); null) {\n                        var nextSibling = h.nextSibling;\n                        nestedElement.appendChild(h);\n                        h = nextSibling;\n                    }\n                    append([firstNode], prevSibling);\n                    detach(elements[i]);\n                }\n                else if (firstNodeLI) {\n                    if (prevSibling.tagName === 'LI') {\n                        for (var h = this.domNode.contents(elements[i])[0]; h && !this.domNode.isList(h); null) {\n                            var nextSibling = h.nextSibling;\n                            prepend([h], firstNodeLI);\n                            setStyleAttribute(elements[i], { 'list-style-type': 'none' });\n                            setStyleAttribute(firstNodeLI, { 'list-style-type': '' });\n                            h = nextSibling;\n                        }\n                        append([firstNodeLI.parentNode], prevSibling);\n                        detach(elements[i]);\n                    }\n                }\n                else {\n                    if (prevSibling.tagName === 'LI') {\n                        var nestedElement = createElement(elements[i].parentNode.tagName);\n                        append([nestedElement], prevSibling);\n                        append([elements[i]], nestedElement);\n                    }\n                }\n            }\n            else {\n                var element = elements[i];\n                isNested = true;\n                this.noPreviousElement(element);\n            }\n        }\n        return isNested;\n    };\n    Lists.prototype.applyListsHandler = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        if (range.startContainer === range.endContainer && range.startContainer === this.parent.editableElement &&\n            range.startOffset === range.endOffset && range.startOffset === 0 &&\n            this.parent.editableElement.textContent.length === 0 && (this.parent.editableElement.childNodes[0].nodeName != 'TABLE' &&\n            this.parent.editableElement.childNodes[0].nodeName != 'IMG')) {\n            var focusNode = range.startContainer.childNodes[0];\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, focusNode, focusNode, 0, 0);\n            range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        }\n        this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.currentAction = e.subCommand;\n        this.currentAction = e.subCommand = this.currentAction === 'NumberFormatList' ? 'OL' : this.currentAction === 'BulletFormatList' ? 'UL' : this.currentAction;\n        this.domNode.setMarker(this.saveSelection);\n        var listsNodes = this.domNode.blockNodes();\n        if (e.enterAction === 'BR') {\n            this.setSelectionBRConfig();\n            var allSelectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument);\n            var selectedNodes = this.parent.nodeSelection.getSelectionNodes(allSelectedNode);\n            var currentFormatNodes = [];\n            if (selectedNodes.length === 0) {\n                selectedNodes.push(listsNodes[0]);\n            }\n            for (var i = 0; i < selectedNodes.length; i++) {\n                var currentNode = selectedNodes[i];\n                var previousCurrentNode = void 0;\n                while (!this.parent.domNode.isBlockNode(currentNode) && currentNode !== this.parent.editableElement) {\n                    previousCurrentNode = currentNode;\n                    currentNode = currentNode.parentElement;\n                }\n                if (this.parent.domNode.isBlockNode(currentNode) && currentNode === this.parent.editableElement) {\n                    currentFormatNodes.push(previousCurrentNode);\n                }\n            }\n            for (var i = 0; i < currentFormatNodes.length; i++) {\n                if (!this.parent.domNode.isBlockNode(currentFormatNodes[i])) {\n                    var currentNode = currentFormatNodes[i];\n                    var previousNode = currentNode;\n                    while (currentNode === this.parent.editableElement) {\n                        previousNode = currentNode;\n                        currentNode = currentNode.parentElement;\n                    }\n                    var tempElem = void 0;\n                    if (this.parent.domNode.isBlockNode(previousNode.parentElement) &&\n                        previousNode.parentElement === this.parent.editableElement) {\n                        tempElem = createElement('p');\n                        previousNode.parentElement.insertBefore(tempElem, previousNode);\n                        tempElem.appendChild(previousNode);\n                    }\n                    else {\n                        tempElem = previousNode;\n                    }\n                    var preNode = tempElem.previousSibling;\n                    while (!isNOU(preNode) && preNode.nodeName !== 'BR' &&\n                        !this.parent.domNode.isBlockNode(preNode)) {\n                        tempElem.firstChild.parentElement.insertBefore(preNode, tempElem.firstChild);\n                        preNode = tempElem.previousSibling;\n                    }\n                    if (!isNOU(preNode) && preNode.nodeName === 'BR') {\n                        detach(preNode);\n                    }\n                    var postNode = tempElem.nextSibling;\n                    while (!isNOU(postNode) && postNode.nodeName !== 'BR' &&\n                        !this.parent.domNode.isBlockNode(postNode)) {\n                        tempElem.appendChild(postNode);\n                        postNode = tempElem.nextSibling;\n                    }\n                    if (!isNOU(postNode) && postNode.nodeName === 'BR') {\n                        detach(postNode);\n                    }\n                }\n            }\n            this.setSelectionBRConfig();\n            listsNodes = this.parent.domNode.blockNodes();\n        }\n        for (var i = 0; i < listsNodes.length; i++) {\n            if (listsNodes[i].tagName === 'TABLE' && !range.collapsed) {\n                listsNodes.splice(i, 1);\n            }\n            if (listsNodes.length > 0 && listsNodes[i].tagName !== 'LI'\n                && 'LI' === listsNodes[i].parentNode.tagName) {\n                listsNodes[i] = listsNodes[i].parentNode;\n            }\n        }\n        this.applyLists(listsNodes, this.currentAction, e.selector, e.item);\n        if (e.callBack) {\n            e.callBack({\n                requestType: this.currentAction,\n                event: e.event,\n                editorMode: 'HTML',\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    Lists.prototype.setSelectionBRConfig = function () {\n        var startElem = this.parent.editableElement.querySelector('.' + markerClassName.startSelection);\n        var endElem = this.parent.editableElement.querySelector('.' + markerClassName.endSelection);\n        if (isNOU(endElem)) {\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, startElem, 0);\n        }\n        else {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, startElem, endElem, 0, 0);\n        }\n    };\n    Lists.prototype.applyLists = function (elements, type, selector, item) {\n        var isReverse = true;\n        if (this.isRevert(elements, type) && isNOU(item)) {\n            this.revertList(elements);\n            this.removeEmptyListElements();\n        }\n        else {\n            this.checkLists(elements, type, item);\n            for (var i = 0; i < elements.length; i++) {\n                if (!isNOU(item) && !isNOU(item.listStyle)) {\n                    if (item.listStyle === 'listImage') {\n                        setStyleAttribute(elements[i], { 'list-style-image': item.listImage });\n                    }\n                    else {\n                        setStyleAttribute(elements[i], { 'list-style-image': 'none' });\n                        setStyleAttribute(elements[i], { 'list-style-type': item.listStyle.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase() });\n                    }\n                }\n                if (elements[i].getAttribute('contenteditable') === 'true'\n                    && elements[i].childNodes.length === 1 && elements[i].childNodes[0].nodeName === 'TABLE') {\n                    var listEle = document.createElement(type);\n                    listEle.innerHTML = '<li><br/></li>';\n                    elements[i].appendChild(listEle);\n                }\n                else if ('LI' !== elements[i].tagName && isNOU(item)) {\n                    isReverse = false;\n                    var elemAtt = elements[i].tagName === 'IMG' ? '' : this.domNode.attributes(elements[i]);\n                    var openTag = '<' + type + '>';\n                    var closeTag = '</' + type + '>';\n                    var newTag = 'li' + elemAtt;\n                    var replaceHTML = (elements[i].tagName.toLowerCase() === CONSTANT.DEFAULT_TAG ? elements[i].innerHTML :\n                        elements[i].outerHTML);\n                    var innerHTML = this.domNode.createTagString(newTag, null, replaceHTML);\n                    var collectionString = openTag + innerHTML + closeTag;\n                    this.domNode.replaceWith(elements[i], collectionString);\n                }\n                else if (!isNOU(item) && 'LI' !== elements[i].tagName) {\n                    // eslint-disable-next-line\n                    isReverse = false;\n                    var elemAtt = elements[i].tagName === 'IMG' ? '' : this.domNode.attributes(elements[i]);\n                    var openTag = '<' + type + elemAtt + '>';\n                    var closeTag = '</' + type + '>';\n                    var newTag = 'li';\n                    var replaceHTML = (elements[i].tagName.toLowerCase() === CONSTANT.DEFAULT_TAG ? elements[i].innerHTML :\n                        elements[i].outerHTML);\n                    var innerHTML = this.domNode.createTagString(newTag, null, replaceHTML);\n                    var collectionString = openTag + innerHTML + closeTag;\n                    this.domNode.replaceWith(elements[i], collectionString);\n                }\n            }\n        }\n        this.cleanNode();\n        this.parent.editableElement.focus();\n        if (isIDevice()) {\n            setEditFrameFocus(this.parent.editableElement, selector);\n        }\n        this.saveSelection = this.domNode.saveMarker(this.saveSelection);\n        this.saveSelection.restore();\n    };\n    Lists.prototype.removeEmptyListElements = function () {\n        var listElem = this.parent.editableElement.querySelectorAll('ol, ul');\n        for (var i = 0; i < listElem.length; i++) {\n            if (listElem[i].textContent.trim() === '') {\n                detach(listElem[i]);\n            }\n        }\n    };\n    Lists.prototype.isRevert = function (nodes, tagName) {\n        var isRevert = true;\n        for (var i = 0; i < nodes.length; i++) {\n            if (nodes[i].tagName !== 'LI') {\n                return false;\n            }\n            if (nodes[i].parentNode.tagName !== tagName) {\n                isRevert = false;\n            }\n        }\n        return isRevert;\n    };\n    Lists.prototype.checkLists = function (nodes, tagName, item) {\n        var nodesTemp = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i].parentNode;\n            if (!isNOU(item) && 'LI' === nodes[i].tagName && !isNOU(item.listStyle)) {\n                if (item.listStyle === 'listImage') {\n                    setStyleAttribute(node, { 'list-style-image': item.listImage });\n                }\n                else {\n                    setStyleAttribute(node, { 'list-style-image': 'none' });\n                    setStyleAttribute(node, { 'list-style-type': item.listStyle.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase() });\n                }\n            }\n            if ((nodes[i].tagName === 'LI' && node.tagName !== tagName && nodesTemp.indexOf(node) < 0) ||\n                (nodes[i].tagName === 'LI' && node.tagName === tagName && nodesTemp.indexOf(node) < 0 && item !== null)) {\n                nodesTemp.push(node);\n            }\n        }\n        for (var j = nodesTemp.length - 1; j >= 0; j--) {\n            var h = nodesTemp[j];\n            var replace = '<' + tagName.toLowerCase() + ' '\n                + this.domNode.attributes(h) + '>' + h.innerHTML + '</' + tagName.toLowerCase() + '>';\n            this.domNode.replaceWith(nodesTemp[j], replace);\n        }\n    };\n    Lists.prototype.cleanNode = function () {\n        var liParents = this.parent.editableElement.querySelectorAll('ol + ol, ul + ul');\n        for (var c = 0; c < liParents.length; c++) {\n            var node = liParents[c];\n            if (this.domNode.isList(node.previousElementSibling) &&\n                this.domNode.openTagString(node) === this.domNode.openTagString(node.previousElementSibling)) {\n                var contentNodes = this.domNode.contents(node);\n                for (var f = 0; f < contentNodes.length; f++) {\n                    node.previousElementSibling.appendChild(contentNodes[f]);\n                }\n                node.parentNode.removeChild(node);\n            }\n        }\n    };\n    Lists.prototype.findUnSelected = function (temp, elements) {\n        temp = temp.slice().reverse();\n        if (temp.length > 0) {\n            var rightIndent = [];\n            var indentElements = [];\n            var lastElement = elements[elements.length - 1];\n            var lastElementChild = [];\n            var childElements = [];\n            lastElementChild = (lastElement.childNodes);\n            for (var z = 0; z < lastElementChild.length; z++) {\n                if (lastElementChild[z].tagName === 'OL' || lastElementChild[z].tagName === 'UL') {\n                    var childLI = lastElementChild[z]\n                        .querySelectorAll('li');\n                    if (childLI.length > 0) {\n                        for (var y = 0; y < childLI.length; y++) {\n                            childElements.push(childLI[y]);\n                        }\n                    }\n                }\n            }\n            for (var i = 0; i < childElements.length; i++) {\n                var count = 0;\n                for (var j = 0; j < temp.length; j++) {\n                    if (!childElements[i].contains((temp[j]))) {\n                        count = count + 1;\n                    }\n                }\n                if (count === temp.length) {\n                    indentElements.push(childElements[i]);\n                }\n            }\n            if (indentElements.length > 0) {\n                for (var x = 0; x < indentElements.length; x++) {\n                    if (this.domNode.contents(indentElements[x])[0].nodeName !== 'OL' &&\n                        this.domNode.contents(indentElements[x])[0].nodeName !== 'UL') {\n                        rightIndent.push(indentElements[x]);\n                    }\n                }\n            }\n            if (rightIndent.length > 0) {\n                this.nestedList(rightIndent);\n            }\n        }\n    };\n    Lists.prototype.revertList = function (elements) {\n        var temp = [];\n        for (var i = elements.length - 1; i >= 0; i--) {\n            for (var j = i - 1; j >= 0; j--) {\n                if (elements[j].contains((elements[i])) || elements[j] === elements[i]) {\n                    temp.push(elements[i]);\n                    elements.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        this.findUnSelected(temp, elements);\n        var viewNode = [];\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            if (this.domNode.contents(element)[0].nodeType === 3 && this.domNode.contents(element)[0].textContent.trim().length === 0) {\n                detach(this.domNode.contents(element)[0]);\n            }\n            var parentNode = elements[i].parentNode;\n            var className = element.getAttribute('class');\n            if (temp.length === 0) {\n                var siblingList = elements[i].querySelectorAll('ul, ol');\n                var firstNode = siblingList[0];\n                if (firstNode) {\n                    var child = firstNode\n                        .querySelectorAll('li');\n                    if (child) {\n                        var nestedElement = createElement(firstNode.tagName);\n                        append([nestedElement], firstNode.parentNode);\n                        var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n                        append([nestedElementLI], nestedElement);\n                        append([firstNode], nestedElementLI);\n                    }\n                }\n            }\n            if (element.parentNode.insertBefore(this.closeTag(parentNode.tagName), element),\n                'LI' === parentNode.parentNode.tagName) {\n                element.parentNode.insertBefore(this.closeTag('LI'), element);\n            }\n            else {\n                var classAttr = '';\n                if (className) {\n                    // eslint-disable-next-line\n                    classAttr += ' class=\"' + className + '\"';\n                }\n                if (CONSTANT.DEFAULT_TAG && 0 === element.querySelectorAll(CONSTANT.BLOCK_TAGS.join(', ')).length) {\n                    var wrapperclass = isNullOrUndefined(className) ? ' class=\"e-rte-wrap-inner\"' :\n                        ' class=\"' + className + ' e-rte-wrap-inner\"';\n                    var wrapper = '<' + CONSTANT.DEFAULT_TAG + wrapperclass +\n                        this.domNode.attributes(parentNode) + '></' + CONSTANT.DEFAULT_TAG + '>';\n                    this.domNode.wrapInner(element, this.domNode.parseHTMLFragment(wrapper));\n                }\n                else if (this.domNode.contents(element)[0].nodeType === 3) {\n                    var replace = this.domNode.createTagString(CONSTANT.DEFAULT_TAG, parentNode, this.parent.domNode.encode(this.domNode.contents(element)[0].textContent));\n                    this.domNode.replaceWith(this.domNode.contents(element)[0], replace);\n                }\n                else if (this.domNode.contents(element)[0].classList.contains(markerClassName.startSelection) ||\n                    this.domNode.contents(element)[0].classList.contains(markerClassName.endSelection)) {\n                    var replace = this.domNode.createTagString(CONSTANT.DEFAULT_TAG, parentNode, this.domNode.contents(element)[0].outerHTML);\n                    this.domNode.replaceWith(this.domNode.contents(element)[0], replace);\n                }\n                else {\n                    var childNode = element.firstChild;\n                    className = childNode.getAttribute('class');\n                    attributes(childNode, this.domNode.rawAttributes(parentNode));\n                    if (className && childNode.getAttribute('class')) {\n                        attributes(childNode, { 'class': className + ' ' + childNode.getAttribute('class') });\n                    }\n                }\n                append([this.openTag('LI')], element);\n                prepend([this.closeTag('LI')], element);\n            }\n            this.domNode.insertAfter(this.openTag(parentNode.tagName), element);\n            if (parentNode.parentNode.tagName === 'LI') {\n                parentNode = parentNode.parentNode.parentNode;\n            }\n            if (viewNode.indexOf(parentNode) < 0) {\n                viewNode.push(parentNode);\n            }\n        }\n        for (var i = 0; i < viewNode.length; i++) {\n            var node = viewNode[i];\n            var nodeInnerHtml = node.innerHTML;\n            var closeTag = /<span class=\"e-rte-list-close-([a-z]*)\"><\\/span>/g;\n            var openTag = /<span class=\"e-rte-list-open-([a-z]*)\"><\\/span>/g;\n            nodeInnerHtml = nodeInnerHtml.replace(closeTag, '</$1>');\n            nodeInnerHtml = nodeInnerHtml.replace(openTag, '<$1 ' + this.domNode.attributes(node) + '>');\n            this.domNode.replaceWith(node, this.domNode.openTagString(node) + nodeInnerHtml.trim() + this.domNode.closeTagString(node));\n        }\n        var emptyUl = this.parent.editableElement.querySelectorAll('ul:empty, ol:empty');\n        for (var i = 0; i < emptyUl.length; i++) {\n            detach(emptyUl[i]);\n        }\n        var emptyLi = this.parent.editableElement.querySelectorAll('li:empty');\n        for (var i = 0; i < emptyLi.length; i++) {\n            detach(emptyLi[i]);\n        }\n    };\n    Lists.prototype.openTag = function (type) {\n        return this.domNode.parseHTMLFragment('<span class=\"e-rte-list-open-' + type.toLowerCase() + '\"></span>');\n    };\n    Lists.prototype.closeTag = function (type) {\n        return this.domNode.parseHTMLFragment('<span class=\"e-rte-list-close-' + type.toLowerCase() + '\"></span>');\n    };\n    return Lists;\n}());\nexport { Lists };\n","/**\n * Node appending methods.\n *\n * @hidden\n */\nvar InsertMethods = /** @class */ (function () {\n    function InsertMethods() {\n    }\n    /**\n     * WrapBefore method\n     *\n     * @param {Text} textNode - specifies the text node\n     * @param {HTMLElement} parentNode - specifies the parent node\n     * @param {boolean} isAfter - specifies the boolean value\n     * @returns {Text} - returns the text value\n     * @hidden\n\n     */\n    InsertMethods.WrapBefore = function (textNode, parentNode, isAfter) {\n        parentNode.innerText = textNode.textContent;\n        //eslint-disable-next-line\n        (!isAfter) ? this.AppendBefore(parentNode, textNode) : this.AppendBefore(parentNode, textNode, true);\n        if (textNode.parentNode) {\n            textNode.parentNode.removeChild(textNode);\n        }\n        return parentNode.childNodes[0];\n    };\n    /**\n     * Wrap method\n     *\n     * @param {HTMLElement} childNode - specifies the child node\n     * @param {HTMLElement} parentNode - specifies the parent node.\n     * @returns {HTMLElement} - returns the element\n     * @hidden\n\n     */\n    InsertMethods.Wrap = function (childNode, parentNode) {\n        this.AppendBefore(parentNode, childNode);\n        parentNode.appendChild(childNode);\n        return childNode;\n    };\n    /**\n     * unwrap method\n     *\n     * @param {Node} node - specifies the node element.\n     * @returns {Node[]} - returns the array of value\n     * @hidden\n\n     */\n    InsertMethods.unwrap = function (node) {\n        var parent = node.parentNode;\n        var child = [];\n        for (; node.firstChild; null) {\n            child.push(parent.insertBefore(node.firstChild, node));\n        }\n        parent.removeChild(node);\n        return child;\n    };\n    /**\n     * AppendBefore method\n     *\n     * @param {HTMLElement} textNode - specifies the element\n     * @param {HTMLElement} parentNode - specifies the parent node\n     * @param {boolean} isAfter - specifies the boolean value\n     * @returns {void}\n     * @hidden\n\n     */\n    InsertMethods.AppendBefore = function (textNode, parentNode, isAfter) {\n        return (parentNode.parentNode) ? ((!isAfter) ? parentNode.parentNode.insertBefore(textNode, parentNode)\n            : parentNode.parentNode.insertBefore(textNode, parentNode.nextSibling)) :\n            parentNode;\n    };\n    return InsertMethods;\n}());\nexport { InsertMethods };\n","import { NodeSelection } from './../../selection/index';\nimport { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { InsertMethods } from './insert-methods';\n/**\n * Split the Node based on selection\n *\n * @hidden\n\n */\nvar NodeCutter = /** @class */ (function () {\n    function NodeCutter() {\n        this.enterAction = 'P';\n        this.position = -1;\n        this.nodeSelection = new NodeSelection();\n    }\n    // Split Selection Node\n    /**\n     * GetSpliceNode method\n     *\n     * @param {Range} range - specifies the range\n     * @param {HTMLElement} node - specifies the node element.\n     * @returns {Node} - returns the node value\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetSpliceNode = function (range, node) {\n        node = this.SplitNode(range, node, true);\n        node = this.SplitNode(range, node, false);\n        return node;\n    };\n    /**\n     * @param {Range} range - specifies the range\n     * @param {HTMLElement} node - specifies the node element.\n     * @param {boolean} isCollapsed - specifies the boolean value\n     * @returns {HTMLElement} - returns the element\n     * @hidden\n\n     */\n    NodeCutter.prototype.SplitNode = function (range, node, isCollapsed) {\n        if (node) {\n            var clone = range.cloneRange();\n            var parent_1 = node.parentNode;\n            var index = this.nodeSelection.getIndex(node);\n            clone.collapse(isCollapsed);\n            // eslint-disable-next-line\n            (isCollapsed) ? clone.setStartBefore(node) : clone.setEndAfter(node);\n            var fragment = clone.extractContents();\n            if (isCollapsed) {\n                node = parent_1.childNodes[index];\n                fragment = this.spliceEmptyNode(fragment, false);\n                if (fragment && fragment.childNodes.length > 0) {\n                    var isEmpty = (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG'\n                        && this.isImgElm(fragment) && fragment.textContent === '') ? true : false;\n                    if (!isEmpty) {\n                        if (node) {\n                            InsertMethods.AppendBefore(fragment, node);\n                        }\n                        else {\n                            parent_1.appendChild(fragment);\n                            var divNode = document.createElement('div');\n                            divNode.innerHTML = '&#65279;&#65279;';\n                            node = divNode.firstChild;\n                            parent_1.appendChild(node);\n                        }\n                    }\n                }\n            }\n            else {\n                node = parent_1.childNodes.length > 1 ? parent_1.childNodes[index] :\n                    parent_1.childNodes[0];\n                fragment = this.spliceEmptyNode(fragment, true);\n                if (fragment && fragment.childNodes.length > 0) {\n                    var isEmpty = (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG'\n                        && this.isImgElm(fragment) && fragment.textContent.trim() === '') ? true : false;\n                    if (!isEmpty) {\n                        if (node) {\n                            InsertMethods.AppendBefore(fragment, node, true);\n                        }\n                        else {\n                            parent_1.appendChild(fragment);\n                            var divNode = document.createElement('div');\n                            divNode.innerHTML = '&#65279;&#65279;';\n                            parent_1.insertBefore(divNode.firstChild, parent_1.firstChild);\n                            node = parent_1.firstChild;\n                        }\n                    }\n                }\n            }\n            return node;\n        }\n        else {\n            return null;\n        }\n    };\n    NodeCutter.prototype.isImgElm = function (fragment) {\n        var result = true;\n        if (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG') {\n            var firstChild = fragment.childNodes[0];\n            for (var i = 0; !isNOU(firstChild.childNodes) && i < firstChild.childNodes.length; i++) {\n                if (firstChild.childNodes[i].nodeName === 'IMG') {\n                    result = false;\n                }\n            }\n        }\n        else {\n            result = true;\n        }\n        return result;\n    };\n    NodeCutter.prototype.spliceEmptyNode = function (fragment, isStart) {\n        var len;\n        if (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName === '#text' &&\n            fragment.childNodes[0].textContent === '' || fragment.textContent === '') {\n            len = -1;\n        }\n        else {\n            len = fragment.childNodes.length - 1;\n        }\n        if (len > -1 && !isStart) {\n            this.spliceEmptyNode(fragment.childNodes[len], isStart);\n        }\n        else if (len > -1) {\n            this.spliceEmptyNode(fragment.childNodes[0], isStart);\n        }\n        else if (fragment.nodeType !== 3 && fragment.nodeType !== 11) {\n            fragment.parentNode.removeChild(fragment);\n        }\n        return fragment;\n    };\n    // Cursor Position split\n    NodeCutter.prototype.GetCursorStart = function (indexes, index, isStart) {\n        indexes = (isStart) ? indexes : indexes.reverse();\n        var position = indexes[0];\n        for (var num = 0; num < indexes.length && ((isStart) ? (indexes[num] < index) : (indexes[num] >= index)); num++) {\n            position = indexes[num];\n        }\n        return position;\n    };\n    /**\n     * GetCursorRange method\n     *\n     * @param {Document} docElement - specifies the document\n     * @param {Range} range - specifies the range\n     * @param {Node} node - specifies the node.\n     * @returns {Range} - returns the range value\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetCursorRange = function (docElement, range, node) {\n        var cursorRange = docElement.createRange();\n        var indexes = [];\n        indexes.push(0);\n        var str = this.TrimLineBreak(node.data);\n        var index = str.indexOf(' ', 0);\n        while (index !== -1) {\n            if (indexes.indexOf(index) < 0) {\n                indexes.push(index);\n            }\n            if (new RegExp('\\\\s').test(str[index - 1]) && (indexes.indexOf(index - 1) < 0)) {\n                indexes.push(index - 1);\n            }\n            if (new RegExp('\\\\s').test(str[index + 1])) {\n                indexes.push(index + 1);\n            }\n            index = str.indexOf(' ', (index + 1));\n        }\n        indexes.push(str.length);\n        if ((indexes.indexOf(range.startOffset) >= 0)\n            || ((indexes.indexOf(range.startOffset - 1) >= 0) && (range.startOffset !== 1\n                || (range.startOffset === 1 && new RegExp('\\\\s').test(str[0])))\n                || ((indexes[indexes.length - 1] - 1) === range.startOffset))) {\n            cursorRange = range;\n            this.position = 1;\n        }\n        else {\n            var startOffset = this.GetCursorStart(indexes, range.startOffset, true);\n            this.position = range.startOffset - startOffset;\n            cursorRange.setStart(range.startContainer, startOffset);\n            cursorRange.setEnd(range.startContainer, this.GetCursorStart(indexes, range.startOffset, false));\n        }\n        return cursorRange;\n    };\n    /**\n     * GetCursorNode method\n     *\n     * @param {Document} docElement - specifies the document\n     * @param {Range} range - specifies the range\n     * @param {Node} node - specifies the node.\n     * @returns {Node} - returns the node value\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetCursorNode = function (docElement, range, node) {\n        return this.GetSpliceNode(this.GetCursorRange(docElement, range, node), node);\n    };\n    /**\n     * TrimLineBreak method\n     *\n     * @param {string} line - specifies the string value.\n     * @returns {string} - returns the string\n     * @hidden\n\n     */\n    NodeCutter.prototype.TrimLineBreak = function (line) {\n        return line.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, ' ');\n    };\n    return NodeCutter;\n}());\nexport { NodeCutter };\n","import * as EVENTS from './../../common/constant';\nimport { isNullOrUndefined as isNOU, detach, createElement, closest } from '@syncfusion/ej2-base';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { markerClassName } from './dom-node';\nimport { NodeCutter } from './nodecutter';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Formats = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @hidden\n\n     */\n    function Formats(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Formats.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.FORMAT_TYPE, this.applyFormats, this);\n        this.parent.observer.on(EVENTS.KEY_UP_HANDLER, this.onKeyUp, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Formats.prototype.getParentNode = function (node) {\n        for (; node.parentNode && node.parentNode !== this.parent.editableElement; null) {\n            node = node.parentNode;\n        }\n        return node;\n    };\n    Formats.prototype.onKeyUp = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var endCon = range.endContainer;\n        var lastChild = endCon.lastChild;\n        if (e.event.which === 13 && range.startContainer === endCon && endCon.nodeType !== 3) {\n            var pTag = createElement('p');\n            pTag.innerHTML = '<br>';\n            if (!isNOU(lastChild) && lastChild && lastChild.nodeName === 'BR' && (lastChild.previousSibling && lastChild.previousSibling.nodeName === 'TABLE')) {\n                endCon.replaceChild(pTag, lastChild);\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, pTag, 0);\n            }\n            else {\n                var brNode = this.parent.nodeSelection.getSelectionNodeCollectionBr(range)[0];\n                if (!isNOU(brNode) && brNode.nodeName === 'BR' && (brNode.previousSibling && brNode.previousSibling.nodeName === 'TABLE')) {\n                    endCon.replaceChild(pTag, brNode);\n                    this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, pTag, 0);\n                }\n            }\n        }\n    };\n    Formats.prototype.onKeyDown = function (e) {\n        if (e.event.which === 13) {\n            var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n            var startCon = (range.startContainer.textContent.length === 0 || range.startContainer.nodeName === 'PRE')\n                ? range.startContainer : range.startContainer.parentElement;\n            var endCon = (range.endContainer.textContent.length === 0 || range.endContainer.nodeName === 'PRE')\n                ? range.endContainer : range.endContainer.parentElement;\n            var preElem = closest(startCon, 'pre');\n            var endPreElem = closest(endCon, 'pre');\n            var liParent = !isNOU(preElem) && !isNOU(preElem.parentElement) && preElem.parentElement.tagName === 'LI';\n            if (liParent) {\n                return;\n            }\n            if (((isNOU(preElem) && !isNOU(endPreElem)) || (!isNOU(preElem) && isNOU(endPreElem)))) {\n                e.event.preventDefault();\n                this.deleteContent(range);\n                this.removeCodeContent(range);\n                range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, endCon, 0);\n            }\n            if (e.event.which === 13 && !isNOU(preElem) && !isNOU(endPreElem)) {\n                e.event.preventDefault();\n                this.deleteContent(range);\n                this.removeCodeContent(range);\n                range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n                var lastEmpty = range.startContainer.childNodes[range.endOffset];\n                var lastBeforeBr = range.startContainer.childNodes[range.endOffset - 1];\n                var startParent = range.startContainer;\n                if (!isNOU(lastEmpty) && !isNOU(lastBeforeBr) && isNOU(lastEmpty.nextSibling) &&\n                    lastEmpty.nodeName === 'BR' && lastBeforeBr.nodeName === 'BR') {\n                    this.paraFocus(range.startContainer, e.enterAction);\n                }\n                else if ((startParent.textContent.charCodeAt(0) === 8203 &&\n                    startParent.textContent.length === 1) || startParent.textContent.length === 0) {\n                    //Double enter with any parent tag for the node\n                    while (startParent.parentElement.nodeName !== 'PRE' &&\n                        (startParent.textContent.length === 1 || startParent.textContent.length === 0)) {\n                        startParent = startParent.parentElement;\n                    }\n                    if (!isNOU(startParent.previousSibling) && startParent.previousSibling.nodeName === 'BR' &&\n                        isNOU(startParent.nextSibling)) {\n                        this.paraFocus(startParent.parentElement);\n                    }\n                    else {\n                        this.isNotEndCursor(preElem, range);\n                    }\n                }\n                else {\n                    //Cursor at start and middle\n                    this.isNotEndCursor(preElem, range);\n                }\n            }\n        }\n    };\n    Formats.prototype.removeCodeContent = function (range) {\n        var regEx = new RegExp(String.fromCharCode(65279), 'g');\n        if (!isNOU(range.endContainer.textContent.match(regEx))) {\n            var pointer = range.endContainer.textContent.charCodeAt(range.endOffset - 1) === 65279 ?\n                range.endOffset - 2 : range.endOffset;\n            range.endContainer.textContent = range.endContainer.textContent.replace(regEx, '');\n            if (range.endContainer.textContent === '') {\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, range.endContainer.parentElement, 0);\n            }\n            else {\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, range.endContainer, pointer);\n            }\n        }\n    };\n    Formats.prototype.deleteContent = function (range) {\n        if (range.startContainer !== range.endContainer || range.startOffset !== range.endOffset) {\n            range.deleteContents();\n        }\n    };\n    Formats.prototype.paraFocus = function (referNode, enterAction) {\n        var insertTag;\n        if (enterAction === 'DIV') {\n            insertTag = createElement('div');\n            insertTag.innerHTML = '<br>';\n        }\n        else if (enterAction === 'BR') {\n            insertTag = createElement('br');\n        }\n        else {\n            insertTag = createElement('p');\n            insertTag.innerHTML = '<br>';\n        }\n        this.parent.domNode.insertAfter(insertTag, referNode);\n        this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, insertTag, 0);\n        detach(referNode.lastChild);\n    };\n    Formats.prototype.isNotEndCursor = function (preElem, range) {\n        var nodeCutter = new NodeCutter();\n        var isEnd = range.startOffset === preElem.lastChild.textContent.length &&\n            preElem.lastChild.textContent === range.startContainer.textContent;\n        //Cursor at start point\n        if (preElem.textContent.indexOf(range.startContainer.textContent) === 0 &&\n            ((range.startOffset === 0 && range.endOffset === 0) || range.startContainer.nodeName === 'PRE')) {\n            this.insertMarker(preElem, range);\n            var brTag = createElement('br');\n            preElem.childNodes[range.endOffset].parentElement.insertBefore(brTag, preElem.childNodes[range.endOffset]);\n        }\n        else {\n            //Cursor at middle\n            var cloneNode = nodeCutter.SplitNode(range, preElem, true);\n            this.insertMarker(preElem, range);\n            var previousSib = preElem.previousElementSibling;\n            if (previousSib.tagName === 'PRE') {\n                previousSib.insertAdjacentHTML('beforeend', '<br>' + cloneNode.innerHTML);\n                detach(preElem);\n            }\n        }\n        //To place the cursor position\n        this.setCursorPosition(isEnd, preElem);\n    };\n    Formats.prototype.setCursorPosition = function (isEnd, preElem) {\n        var isEmpty = false;\n        var markerElem = this.parent.editableElement.querySelector('.tempSpan');\n        var mrkParentElem = markerElem.parentElement;\n        // eslint-disable-next-line\n        markerElem.parentNode.textContent === '' ? isEmpty = true :\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n        if (isEnd) {\n            if (isEmpty) {\n                //Enter press when pre element is empty\n                if (mrkParentElem === preElem) {\n                    this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n                    detach(markerElem);\n                }\n                else {\n                    this.focusSelectionParent(markerElem, mrkParentElem);\n                }\n            }\n            else {\n                var brElm = createElement('br');\n                this.parent.domNode.insertAfter(brElm, markerElem);\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n                detach(markerElem);\n            }\n        }\n        else {\n            // eslint-disable-next-line\n            isEmpty ? this.focusSelectionParent(markerElem, mrkParentElem) : detach(markerElem);\n        }\n    };\n    Formats.prototype.focusSelectionParent = function (markerElem, tempSpanPElem) {\n        detach(markerElem);\n        tempSpanPElem.innerHTML = '\\u200B';\n        this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, tempSpanPElem, 0);\n    };\n    Formats.prototype.insertMarker = function (preElem, range) {\n        var tempSpan = createElement('span', { className: 'tempSpan' });\n        if (range.startContainer.nodeName === 'PRE') {\n            preElem.childNodes[range.endOffset].parentElement.insertBefore(tempSpan, preElem.childNodes[range.endOffset]);\n        }\n        else {\n            range.startContainer.parentElement.insertBefore(tempSpan, range.startContainer);\n        }\n    };\n    Formats.prototype.applyFormats = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var isSelectAll = false;\n        if (this.parent.editableElement === range.endContainer &&\n            !isNOU(this.parent.editableElement.children[range.endOffset - 1]) &&\n            this.parent.editableElement.children[range.endOffset - 1].tagName === 'TABLE' && !range.collapsed) {\n            isSelectAll = true;\n        }\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var formatsNodes = this.parent.domNode.blockNodes();\n        if (e.enterAction === 'BR') {\n            this.setSelectionBRConfig();\n            var allSelectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument);\n            var selectedNodes = this.parent.nodeSelection.getSelectionNodes(allSelectedNode);\n            var currentFormatNodes = [];\n            if (selectedNodes.length === 0) {\n                selectedNodes.push(formatsNodes[0]);\n            }\n            for (var i = 0; i < selectedNodes.length; i++) {\n                var currentNode = selectedNodes[i];\n                var previousCurrentNode = void 0;\n                while (!this.parent.domNode.isBlockNode(currentNode) && currentNode !== this.parent.editableElement) {\n                    previousCurrentNode = currentNode;\n                    currentNode = currentNode.parentElement;\n                }\n                if (this.parent.domNode.isBlockNode(currentNode) && currentNode === this.parent.editableElement) {\n                    currentFormatNodes.push(previousCurrentNode);\n                }\n            }\n            for (var i = 0; i < currentFormatNodes.length; i++) {\n                if (!this.parent.domNode.isBlockNode(currentFormatNodes[i])) {\n                    var currentNode = currentFormatNodes[i];\n                    var previousNode = currentNode;\n                    while (currentNode === this.parent.editableElement) {\n                        previousNode = currentNode;\n                        currentNode = currentNode.parentElement;\n                    }\n                    var tempElem = void 0;\n                    if (this.parent.domNode.isBlockNode(previousNode.parentElement) &&\n                        previousNode.parentElement === this.parent.editableElement) {\n                        tempElem = createElement('div');\n                        previousNode.parentElement.insertBefore(tempElem, previousNode);\n                        tempElem.appendChild(previousNode);\n                    }\n                    else {\n                        tempElem = previousNode;\n                    }\n                    var preNode = tempElem.previousSibling;\n                    while (!isNOU(preNode) && preNode.nodeName !== 'BR' &&\n                        !this.parent.domNode.isBlockNode(preNode)) {\n                        tempElem.firstChild.parentElement.insertBefore(preNode, tempElem.firstChild);\n                        preNode = tempElem.previousSibling;\n                    }\n                    if (!isNOU(preNode) && preNode.nodeName === 'BR') {\n                        detach(preNode);\n                    }\n                    var postNode = tempElem.nextSibling;\n                    while (!isNOU(postNode) && postNode.nodeName !== 'BR' &&\n                        !this.parent.domNode.isBlockNode(postNode)) {\n                        tempElem.appendChild(postNode);\n                        postNode = tempElem.nextSibling;\n                    }\n                    if (!isNOU(postNode) && postNode.nodeName === 'BR') {\n                        detach(postNode);\n                    }\n                }\n            }\n            this.setSelectionBRConfig();\n            formatsNodes = this.parent.domNode.blockNodes();\n        }\n        for (var i = 0; i < formatsNodes.length; i++) {\n            var parentNode = void 0;\n            var replaceHTML = void 0;\n            if (e.subCommand.toLowerCase() === 'blockquote') {\n                parentNode = this.getParentNode(formatsNodes[i]);\n                replaceHTML = this.parent.domNode.isList(parentNode) ||\n                    parentNode.tagName === 'TABLE' ? parentNode.outerHTML : parentNode.innerHTML;\n            }\n            else {\n                parentNode = formatsNodes[i];\n                replaceHTML = parentNode.innerHTML;\n            }\n            if ((e.subCommand.toLowerCase() === parentNode.tagName.toLowerCase() &&\n                (e.subCommand.toLowerCase() !== 'pre' ||\n                    (!isNOU(e.exeValue) && e.exeValue.name === 'dropDownSelect'))) ||\n                isNOU(parentNode.parentNode) ||\n                (parentNode.tagName === 'TABLE' && e.subCommand.toLowerCase() === 'pre')) {\n                continue;\n            }\n            this.cleanFormats(parentNode, e.subCommand);\n            var replaceNode = (e.subCommand.toLowerCase() === 'pre' && parentNode.tagName.toLowerCase() === 'pre') ?\n                'p' : e.subCommand;\n            var replaceTag = this.parent.domNode.createTagString(replaceNode, parentNode, replaceHTML.replace(/>\\s+</g, '><'));\n            if (parentNode.tagName === 'LI') {\n                parentNode.innerHTML = '';\n                parentNode.insertAdjacentHTML('beforeend', replaceTag);\n            }\n            else {\n                this.parent.domNode.replaceWith(parentNode, replaceTag);\n            }\n        }\n        this.preFormatMerge();\n        var startNode = this.parent.editableElement.querySelector('.' + markerClassName.startSelection);\n        var endNode = this.parent.editableElement.querySelector('.' + markerClassName.endSelection);\n        if (!isNOU(startNode) && !isNOU(endNode)) {\n            startNode = startNode.lastChild;\n            endNode = endNode.lastChild;\n        }\n        save = this.parent.domNode.saveMarker(save, null);\n        if (isIDevice()) {\n            setEditFrameFocus(this.parent.editableElement, e.selector);\n        }\n        if (isSelectAll) {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, startNode, endNode, 0, endNode.textContent.length);\n        }\n        else {\n            save.restore();\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    Formats.prototype.setSelectionBRConfig = function () {\n        var startElem = this.parent.editableElement.querySelector('.' + markerClassName.startSelection);\n        var endElem = this.parent.editableElement.querySelector('.' + markerClassName.endSelection);\n        if (isNOU(endElem)) {\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, startElem, 0);\n        }\n        else {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, startElem, endElem, 0, 0);\n        }\n    };\n    Formats.prototype.preFormatMerge = function () {\n        var preNodes = this.parent.editableElement.querySelectorAll('PRE');\n        if (!isNOU(preNodes)) {\n            for (var i = 0; i < preNodes.length; i++) {\n                var previousSib = preNodes[i].previousElementSibling;\n                if (!isNOU(previousSib) && previousSib.tagName === 'PRE') {\n                    previousSib.insertAdjacentHTML('beforeend', '<br>' + preNodes[i].innerHTML);\n                    detach(preNodes[i]);\n                }\n            }\n        }\n    };\n    Formats.prototype.cleanFormats = function (element, tagName) {\n        var ignoreAttr = ['display', 'font-size', 'margin-top', 'margin-bottom', 'margin-left', 'margin-right', 'font-weight'];\n        tagName = tagName.toLowerCase();\n        for (var i = 0; i < ignoreAttr.length && (tagName !== 'p' && tagName !== 'blockquote' && tagName !== 'pre'); i++) {\n            element.style.removeProperty(ignoreAttr[i]);\n        }\n    };\n    return Formats;\n}());\nexport { Formats };\n","import { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport * as CONSTANT from './../base/constant';\nimport { detach, Browser, isNullOrUndefined as isNOU, createElement, closest } from '@syncfusion/ej2-base';\nimport { InsertMethods } from './insert-methods';\nimport { updateTextNode } from './../../common/util';\n/**\n * Insert a HTML Node or Text\n *\n * @hidden\n\n */\nvar InsertHtml = /** @class */ (function () {\n    function InsertHtml() {\n    }\n    InsertHtml.Insert = function (docElement, insertNode, editNode, isExternal) {\n        var node;\n        if (typeof insertNode === 'string') {\n            var divNode = document.createElement('div');\n            divNode.innerHTML = insertNode;\n            node = isExternal ? divNode : divNode.firstChild;\n        }\n        else {\n            if (isExternal && !(!isNOU(insertNode) && !isNOU(insertNode.classList) &&\n                insertNode.classList.contains('pasteContent'))) {\n                var divNode = document.createElement('div');\n                divNode.appendChild(insertNode);\n                node = divNode;\n            }\n            else {\n                node = insertNode;\n            }\n        }\n        var nodeSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = nodeSelection.getRange(docElement);\n        if (range.startContainer === editNode && range.startContainer === range.endContainer && range.startOffset === 0 &&\n            range.startOffset === range.endOffset && editNode.textContent.length === 0 && editNode.children[0].tagName === 'P') {\n            nodeSelection.setSelectionText(docElement, range.startContainer.children[0], range.startContainer.children[0], 0, 0);\n            range = nodeSelection.getRange(docElement);\n        }\n        var isCursor = range.startOffset === range.endOffset && range.startOffset === 0 &&\n            range.startContainer === range.endContainer;\n        var isCollapsed = range.collapsed;\n        var nodes = this.getNodeCollection(range, nodeSelection, node);\n        var closestParentNode = (node.nodeName.toLowerCase() === 'table') ? this.closestEle(nodes[0].parentNode, editNode) : nodes[0];\n        if (isExternal || (!isNOU(node) && !isNOU(node.classList) &&\n            node.classList.contains('pasteContent'))) {\n            this.pasteInsertHTML(nodes, node, range, nodeSelection, nodeCutter, docElement, isCollapsed, closestParentNode, editNode);\n            return;\n        }\n        if (editNode !== range.startContainer && ((!isCollapsed && !(closestParentNode.nodeType === Node.ELEMENT_NODE &&\n            CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) !== -1))\n            || (node.nodeName.toLowerCase() === 'table' && closestParentNode &&\n                CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) === -1))) {\n            var preNode = nodeCutter.GetSpliceNode(range, closestParentNode);\n            var sibNode = preNode.previousSibling;\n            var parentNode = preNode.parentNode;\n            if (nodes.length === 1 || (node.nodeName.toLowerCase() === 'table' && preNode.childElementCount === 0)) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n            }\n            else {\n                var lasNode = nodeCutter.GetSpliceNode(range, nodes[nodes.length - 1].parentElement);\n                lasNode = isNOU(lasNode) ? preNode : lasNode;\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n            }\n            range.extractContents();\n            if (insertNode.tagName === 'TABLE') {\n                this.removeEmptyElements(editNode);\n            }\n            for (var index = 0; index < nodes.length; index++) {\n                if (nodes[index].nodeType !== 3 && nodes[index].parentNode != null) {\n                    if (nodes[index].nodeName === 'IMG') {\n                        continue;\n                    }\n                    nodes[index].parentNode.removeChild(nodes[index]);\n                }\n            }\n            if (sibNode) {\n                InsertMethods.AppendBefore(node, sibNode, true);\n            }\n            else {\n                var previousNode = null;\n                while (parentNode !== editNode && parentNode.firstChild &&\n                    (parentNode.textContent.trim() === '')) {\n                    var parentNode1 = parentNode.parentNode;\n                    previousNode = parentNode;\n                    parentNode = parentNode1;\n                }\n                if (previousNode !== null) {\n                    parentNode = previousNode;\n                }\n                if (parentNode.firstChild && (parentNode !== editNode ||\n                    (node.nodeName === 'TABLE' && isCursor && parentNode === range.startContainer &&\n                        parentNode === range.endContainer))) {\n                    if (parentNode.textContent.trim() === '' && parentNode !== editNode) {\n                        InsertMethods.AppendBefore(node, parentNode, false);\n                        detach(parentNode);\n                    }\n                    else {\n                        InsertMethods.AppendBefore(node, parentNode.firstChild, false);\n                    }\n                }\n                else {\n                    parentNode.appendChild(node);\n                }\n            }\n            if (node.nodeName === 'IMG') {\n                this.imageFocus(node, nodeSelection, docElement);\n            }\n            else if (node.nodeType !== 3) {\n                nodeSelection.setSelectionText(docElement, node, node, 0, node.childNodes.length);\n            }\n            else {\n                nodeSelection.setSelectionText(docElement, node, node, 0, node.textContent.length);\n            }\n        }\n        else {\n            range.deleteContents();\n            if (isCursor && range.startContainer.textContent === '' && range.startContainer.nodeName !== 'BR') {\n                range.startContainer.innerHTML = '';\n            }\n            if (Browser.isIE) {\n                var frag = docElement.createDocumentFragment();\n                frag.appendChild(node);\n                range.insertNode(frag);\n            }\n            else if (range.startContainer.nodeType === 1 && range.startContainer.nodeName.toLowerCase() === 'hr'\n                && range.endContainer.nodeName.toLowerCase() === 'hr') {\n                var paraElem = range.startContainer.nextElementSibling;\n                if (paraElem) {\n                    if (paraElem.querySelector('br')) {\n                        detach(paraElem.querySelector('br'));\n                    }\n                    paraElem.appendChild(node);\n                }\n            }\n            else {\n                if (range.startContainer.nodeName === 'BR') {\n                    range.startContainer.parentElement.insertBefore(node, range.startContainer);\n                }\n                else {\n                    range.insertNode(node);\n                }\n            }\n            if (node.nodeType !== 3 && node.childNodes.length > 0) {\n                nodeSelection.setSelectionText(docElement, node, node, 1, 1);\n            }\n            else if (node.nodeName === 'IMG') {\n                this.imageFocus(node, nodeSelection, docElement);\n            }\n            else if (node.nodeType !== 3) {\n                nodeSelection.setSelectionContents(docElement, node);\n            }\n            else {\n                nodeSelection.setSelectionText(docElement, node, node, node.textContent.length, node.textContent.length);\n            }\n        }\n    };\n    InsertHtml.pasteInsertHTML = function (nodes, node, range, nodeSelection, nodeCutter, docElement, isCollapsed, closestParentNode, editNode) {\n        var isCursor = range.startOffset === range.endOffset &&\n            range.startContainer === range.endContainer;\n        if (isCursor && range.startContainer === editNode && editNode.textContent === '') {\n            var currentBlockNode = this.getImmediateBlockNode(nodes[nodes.length - 1], editNode);\n            nodeSelection.setSelectionText(docElement, currentBlockNode, currentBlockNode, 0, 0);\n            range = nodeSelection.getRange(docElement);\n        }\n        var lasNode;\n        var sibNode;\n        var isSingleNode;\n        var preNode;\n        if (editNode !== range.startContainer && ((!isCollapsed && !(closestParentNode.nodeType === Node.ELEMENT_NODE &&\n            CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) !== -1))\n            || (node.nodeName.toLowerCase() === 'table' && closestParentNode &&\n                CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) === -1))) {\n            preNode = nodeCutter.GetSpliceNode(range, closestParentNode);\n            sibNode = isNOU(preNode.previousSibling) ? preNode.parentNode.previousSibling : preNode.previousSibling;\n            if (nodes.length === 1) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n                isSingleNode = true;\n            }\n            else {\n                lasNode = nodeCutter.GetSpliceNode(range, nodes[nodes.length - 1].parentElement);\n                lasNode = isNOU(lasNode) ? preNode : lasNode;\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n                isSingleNode = false;\n            }\n        }\n        var containsBlockNode = false;\n        this.removingComments(node);\n        var allChildNodes = node.childNodes;\n        for (var i = 0; i < allChildNodes.length; i++) {\n            if (CONSTANT.BLOCK_TAGS.indexOf(allChildNodes[i].nodeName.toLocaleLowerCase()) >= 0) {\n                containsBlockNode = true;\n                break;\n            }\n        }\n        var lastSelectionNode;\n        var fragment = document.createDocumentFragment();\n        if (!containsBlockNode) {\n            if (!isCursor) {\n                while (node.firstChild) {\n                    lastSelectionNode = node.firstChild;\n                    fragment.appendChild(node.firstChild);\n                }\n                if (isSingleNode) {\n                    preNode.parentNode.replaceChild(fragment, preNode);\n                }\n                else {\n                    range.deleteContents();\n                    detach(lasNode);\n                    // eslint-disable-next-line\n                    !isNOU(sibNode) ? sibNode.parentNode.appendChild(fragment) : editNode.appendChild(fragment);\n                }\n            }\n            else {\n                var tempSpan = createElement('span', { className: 'tempSpan' });\n                var nearestAnchor = closest(range.startContainer.parentElement, 'a');\n                if (range.startContainer.nodeType === 3 && nearestAnchor) {\n                    var immediateBlockNode = this.getImmediateBlockNode(range.startContainer, editNode);\n                    if (immediateBlockNode.querySelectorAll('br').length > 0) {\n                        detach(immediateBlockNode.querySelector('br'));\n                    }\n                    var rangeElement = closest(nearestAnchor, 'span');\n                    rangeElement.appendChild(tempSpan);\n                }\n                else {\n                    range.insertNode(tempSpan);\n                }\n                while (node.firstChild) {\n                    lastSelectionNode = node.firstChild;\n                    fragment.appendChild(node.firstChild);\n                }\n                tempSpan.parentNode.replaceChild(fragment, tempSpan);\n            }\n        }\n        else {\n            this.insertTempNode(range, node, nodes, nodeCutter, editNode);\n            var isFirstTextNode = true;\n            var isPreviousInlineElem = void 0;\n            var paraElm = void 0;\n            var previousParent = void 0;\n            range.deleteContents();\n            while (node.firstChild) {\n                if (node.firstChild.nodeName === '#text' && node.firstChild.textContent.trim() === '') {\n                    detach(node.firstChild);\n                    continue;\n                }\n                if (node.firstChild.nodeName === '#text' && isFirstTextNode ||\n                    (this.inlineNode.indexOf(node.firstChild.nodeName.toLocaleLowerCase()) >= 0 && isFirstTextNode)) {\n                    lastSelectionNode = node.firstChild;\n                    if (isNOU(node.previousElementSibling)) {\n                        var firstParaElm = createElement('p');\n                        node.parentElement.insertBefore(firstParaElm, node);\n                    }\n                    node.previousElementSibling.appendChild(node.firstChild);\n                }\n                else {\n                    lastSelectionNode = node.firstChild;\n                    if (node.firstChild.nodeName === '#text' ||\n                        (this.inlineNode.indexOf(node.firstChild.nodeName.toLocaleLowerCase()) >= 0)) {\n                        if (!isPreviousInlineElem) {\n                            paraElm = createElement('p');\n                            paraElm.appendChild(node.firstChild);\n                            fragment.appendChild(paraElm);\n                        }\n                        else {\n                            previousParent.appendChild(node.firstChild);\n                            fragment.appendChild(previousParent);\n                        }\n                        previousParent = paraElm;\n                        isPreviousInlineElem = true;\n                    }\n                    else {\n                        fragment.appendChild(node.firstChild);\n                        isPreviousInlineElem = false;\n                    }\n                    isFirstTextNode = false;\n                }\n            }\n            node.parentNode.replaceChild(fragment, node);\n        }\n        if (lastSelectionNode.nodeName === '#text') {\n            this.placeCursorEnd(lastSelectionNode, node, nodeSelection, docElement, editNode);\n        }\n        else {\n            this.cursorPos(lastSelectionNode, node, nodeSelection, docElement, editNode);\n        }\n    };\n    InsertHtml.placeCursorEnd = function (lastSelectionNode, node, nodeSelection, docElement, editNode) {\n        lastSelectionNode = lastSelectionNode.nodeName === 'BR' ? (isNOU(lastSelectionNode.previousSibling) ? lastSelectionNode.parentNode\n            : lastSelectionNode.previousSibling) : lastSelectionNode;\n        while (!isNOU(lastSelectionNode) && lastSelectionNode.nodeName !== '#text' && lastSelectionNode.nodeName !== 'IMG' &&\n            lastSelectionNode.nodeName !== 'BR' && lastSelectionNode.nodeName !== 'HR') {\n            lastSelectionNode = lastSelectionNode.lastChild;\n        }\n        lastSelectionNode = isNOU(lastSelectionNode) ? node : lastSelectionNode;\n        if (lastSelectionNode.nodeName === 'IMG') {\n            this.imageFocus(lastSelectionNode, nodeSelection, docElement);\n        }\n        else {\n            nodeSelection.setSelectionText(docElement, lastSelectionNode, lastSelectionNode, lastSelectionNode.textContent.length, lastSelectionNode.textContent.length);\n        }\n        this.removeEmptyElements(editNode);\n    };\n    InsertHtml.getNodeCollection = function (range, nodeSelection, node) {\n        var nodes = [];\n        if (range.startOffset === range.endOffset && range.startContainer === range.endContainer &&\n            range.startContainer.nodeName != 'BR' &&\n            (range.startContainer.nodeName === 'TD' || (range.startContainer.nodeType !== 3 &&\n                node.classList && node.classList.contains('pasteContent')))) {\n            nodes.push(range.startContainer.childNodes[range.endOffset]);\n        }\n        else {\n            nodes = nodeSelection.getInsertNodeCollection(range);\n        }\n        return nodes;\n    };\n    InsertHtml.insertTempNode = function (range, node, nodes, nodeCutter, editNode) {\n        if (range.startContainer === editNode && !isNOU(range.startContainer.childNodes[range.endOffset - 1]) &&\n            range.startContainer.childNodes[range.endOffset - 1].nodeName === 'TABLE') {\n            if (isNOU(range.startContainer.childNodes[range.endOffset - 1].nextSibling)) {\n                range.startContainer.appendChild(node);\n            }\n            else {\n                range.startContainer.insertBefore(node, range.startContainer.childNodes[range.endOffset - 1].nextSibling);\n            }\n        }\n        else if (range.startContainer === editNode && !isNOU(range.startContainer.childNodes[range.endOffset]) &&\n            range.startContainer.childNodes[range.endOffset].nodeName === 'TABLE') {\n            range.startContainer.insertBefore(node, range.startContainer.childNodes[range.endOffset]);\n        }\n        else if (range.startContainer === range.endContainer && range.startContainer.nodeType !== 3\n            && node.firstChild.nodeName === 'HR') {\n            if (range.startContainer.classList.contains('e-content') || range.startContainer.nodeName === 'BODY') {\n                range.startContainer.appendChild(node);\n            }\n            else {\n                range.startContainer.parentNode.insertBefore(node, range.startContainer);\n            }\n        }\n        else {\n            var blockNode = this.getImmediateBlockNode(nodes[nodes.length - 1], editNode);\n            if ((isNOU(blockNode) || isNOU(blockNode.parentElement)) && range.endContainer.nodeType !== 3) {\n                blockNode = range.endContainer;\n                range.setEnd(blockNode, range.endContainer.textContent.length);\n            }\n            if (blockNode.nodeName === 'BODY' && range.startContainer === range.endContainer && range.startContainer.nodeType === 1) {\n                blockNode = range.startContainer;\n            }\n            if (blockNode.closest('LI') && node && node.firstElementChild &&\n                ((node).firstElementChild.tagName === 'OL' || node.firstElementChild.tagName === 'UL')) {\n                var liNode = void 0;\n                while (node.firstElementChild.lastElementChild && node.firstElementChild.lastElementChild.tagName === 'LI') {\n                    liNode = node.firstElementChild.lastElementChild;\n                    liNode.style.removeProperty('margin-left');\n                    liNode.style.removeProperty('margin-top');\n                    liNode.style.removeProperty('margin-bottom');\n                    node.firstElementChild.insertAdjacentElement('afterend', liNode);\n                }\n            }\n            if (blockNode.nodeName === 'TD' || blockNode.nodeName === 'TH') {\n                var tempSpan = createElement('span', { className: 'tempSpan' });\n                range.insertNode(tempSpan);\n                tempSpan.parentNode.replaceChild(node, tempSpan);\n            }\n            else {\n                var currentNode = nodes[nodes.length - 1];\n                var splitedElm = void 0;\n                if ((currentNode.nodeName === 'BR' || currentNode.nodeName === 'HR') && !isNOU(currentNode.parentElement) &&\n                    currentNode.parentElement.textContent.trim().length === 0 && (currentNode.parentElement === editNode || !node.classList.contains('pasteContent'))) {\n                    splitedElm = currentNode;\n                }\n                else {\n                    splitedElm = nodeCutter.GetSpliceNode(range, blockNode);\n                }\n                splitedElm.parentNode.replaceChild(node, splitedElm);\n            }\n        }\n    };\n    InsertHtml.cursorPos = function (lastSelectionNode, node, nodeSelection, docElement, editNode) {\n        lastSelectionNode.classList.add('lastNode');\n        editNode.innerHTML = updateTextNode(editNode.innerHTML);\n        lastSelectionNode = editNode.querySelector('.lastNode');\n        if (!isNOU(lastSelectionNode)) {\n            this.placeCursorEnd(lastSelectionNode, node, nodeSelection, docElement, editNode);\n            lastSelectionNode.classList.remove('lastNode');\n            if (lastSelectionNode.classList.length === 0) {\n                lastSelectionNode.removeAttribute('class');\n            }\n        }\n    };\n    InsertHtml.imageFocus = function (node, nodeSelection, docElement) {\n        var focusNode = document.createTextNode(' ');\n        node.parentNode.insertBefore(focusNode, node.nextSibling);\n        nodeSelection.setSelectionText(docElement, node.nextSibling, node.nextSibling, 0, 0);\n    };\n    // eslint-disable-next-line\n    InsertHtml.getImmediateBlockNode = function (node, editNode) {\n        do {\n            node = node.parentNode;\n        } while (node && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) < 0);\n        return node;\n    };\n    InsertHtml.removingComments = function (elm) {\n        var innerElement = elm.innerHTML;\n        innerElement = innerElement.replace(/<!--[\\s\\S]*?-->/g, '');\n        elm.innerHTML = innerElement;\n    };\n    InsertHtml.findDetachEmptyElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement)) {\n            if (element.parentElement.textContent.trim() === '' && element.parentElement.contentEditable !== 'true') {\n                removableElement = this.findDetachEmptyElem(element.parentElement);\n            }\n            else {\n                removableElement = element;\n            }\n        }\n        else {\n            removableElement = null;\n        }\n        return removableElement;\n    };\n    InsertHtml.removeEmptyElements = function (element) {\n        var emptyElements = element.querySelectorAll(':empty');\n        for (var i = 0; i < emptyElements.length; i++) {\n            if (emptyElements[i].tagName !== 'IMG' && emptyElements[i].tagName !== 'BR' &&\n                emptyElements[i].tagName !== 'IFRAME' && emptyElements[i].tagName !== 'TD' &&\n                emptyElements[i].tagName !== 'SOURCE' && emptyElements[i].tagName !== 'HR') {\n                var detachableElement = this.findDetachEmptyElem(emptyElements[i]);\n                if (!isNOU(detachableElement)) {\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    InsertHtml.closestEle = function (element, editNode) {\n        var el = element;\n        while (el && el.nodeType === 1) {\n            if (el.parentNode === editNode ||\n                (!isNOU(el.parentNode.tagName) &&\n                    CONSTANT.IGNORE_BLOCK_TAGS.indexOf(el.parentNode.tagName.toLocaleLowerCase()) !== -1)) {\n                return el;\n            }\n            el = el.parentNode;\n        }\n        return null;\n    };\n    /**\n     * Insert method\n     *\n     * @hidden\n\n     */\n    InsertHtml.inlineNode = ['a', 'abbr', 'acronym', 'audio', 'b', 'bdi', 'bdo', 'big', 'br', 'button',\n        'canvas', 'cite', 'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'font', 'i', 'iframe', 'img', 'input',\n        'ins', 'kbd', 'label', 'map', 'mark', 'meter', 'noscript', 'object', 'output', 'picture', 'progress',\n        'q', 'ruby', 's', 'samp', 'script', 'select', 'slot', 'small', 'span', 'strong', 'sub', 'sup', 'svg',\n        'template', 'textarea', 'time', 'u', 'tt', 'var', 'video', 'wbr'];\n    return InsertHtml;\n}());\nexport { InsertHtml };\n","import * as CONSTANT from './../base/constant';\nimport { NodeSelection } from '../../selection/selection';\nimport { NodeCutter } from './nodecutter';\nimport { InsertHtml } from './inserthtml';\nimport { createElement, isNullOrUndefined as isNOU, closest } from '@syncfusion/ej2-base';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar LinkCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the editor manager\n     * @hidden\n\n     */\n    function LinkCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    LinkCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.LINK, this.linkCommand, this);\n    };\n    LinkCommand.prototype.linkCommand = function (e) {\n        switch (e.value.toString().toLocaleLowerCase()) {\n            case 'createlink':\n            case 'editlink':\n                this.createLink(e);\n                break;\n            case 'openlink':\n                this.openLink(e);\n                break;\n            case 'removelink':\n                this.removeLink(e);\n                break;\n        }\n    };\n    LinkCommand.prototype.createLink = function (e) {\n        var closestAnchor = (!isNOU(e.item.selectParent) && e.item.selectParent.length > 0) &&\n            closest(e.item.selectParent[0], 'a');\n        closestAnchor = !isNOU(closestAnchor) ? closestAnchor :\n            (!isNOU(e.item.selectParent) && e.item.selectParent.length > 0) ? (e.item.selectParent[0]) : null;\n        if (!isNOU(closestAnchor) && closestAnchor.tagName === 'A') {\n            var anchorEle = closestAnchor;\n            var linkText = '';\n            if (!isNOU(e.item.url)) {\n                anchorEle.setAttribute('href', e.item.url);\n            }\n            if (!isNOU(e.item.title)) {\n                anchorEle.setAttribute('title', e.item.title);\n            }\n            if (!isNOU(e.item.text) && e.item.text !== '') {\n                linkText = anchorEle.innerText;\n                anchorEle.innerText = e.item.text;\n            }\n            if (!isNOU(e.item.target)) {\n                anchorEle.setAttribute('target', e.item.target);\n            }\n            else {\n                anchorEle.removeAttribute('target');\n            }\n            if (linkText === e.item.text) {\n                e.item.selection.setSelectionText(this.parent.currentDocument, anchorEle, anchorEle, 1, 1);\n                e.item.selection.restore();\n            }\n            else {\n                var startIndex = e.item.action === 'Paste' ? anchorEle.childNodes[0].textContent.length : 0;\n                e.item.selection.setSelectionText(this.parent.currentDocument, anchorEle.childNodes[0], anchorEle.childNodes[0], startIndex, anchorEle.childNodes[0].textContent.length);\n            }\n        }\n        else {\n            var domSelection = new NodeSelection();\n            var range = domSelection.getRange(this.parent.currentDocument);\n            if (range.endContainer.nodeName === '#text' && range.startContainer.textContent.length === (range.endOffset + 1) &&\n                range.endContainer.textContent.charAt(range.endOffset) === ' ' && range.endContainer.nextSibling.nodeName === 'A') {\n                domSelection.setSelectionText(this.parent.currentDocument, range.startContainer, range.endContainer, range.startOffset, range.endOffset + 1);\n                range = domSelection.getRange(this.parent.currentDocument);\n            }\n            var text = isNOU(e.item.text) ? true : e.item.text.replace(/ /g, '').localeCompare(range.toString()\n                .replace(/\\n/g, ' ').replace(/ /g, '')) < 0;\n            if (e.event && e.event.type === 'keydown' && (e.event.keyCode === 32\n                || e.event.keyCode === 13) || e.item.action === 'Paste' || range.collapsed || text) {\n                var anchor = this.createAchorNode(e);\n                anchor.innerText = e.item.text === '' ? e.item.url : e.item.text;\n                e.item.selection.restore();\n                InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n                if (e.event && e.event.type === 'keydown' && (e.event.keyCode === 32\n                    || e.event.keyCode === 13)) {\n                    var startContainer = e.item.selection.range.startContainer;\n                    startContainer.textContent = this.removeText(startContainer.textContent, e.item.text);\n                }\n                else {\n                    var startIndex = e.item.action === 'Paste' ? anchor.childNodes[0].textContent.length : 0;\n                    e.item.selection.setSelectionText(this.parent.currentDocument, anchor.childNodes[0], anchor.childNodes[0], startIndex, anchor.childNodes[0].textContent.length);\n                }\n            }\n            else {\n                this.createLinkNode(e);\n            }\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: 'Links',\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    LinkCommand.prototype.createLinkNode = function (e) {\n        var domSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = domSelection.getRange(this.parent.currentDocument);\n        var nodes = this.getSelectionNodes(domSelection.getNodeCollection(range));\n        var save = domSelection.save(range, this.parent.currentDocument);\n        var txtArray = [];\n        var inlineNodes = [];\n        var currentNode;\n        var removeNodes = [];\n        var anchorNodes = [];\n        var finalinlineNodes = [];\n        var cloneNode;\n        for (var index = 0; index < nodes.length; index++) {\n            nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n            txtArray[index] = nodes[index];\n        }\n        for (var i = 0; i < txtArray.length; i++) {\n            var check = true;\n            currentNode = txtArray[i];\n            while (check === true) {\n                if (currentNode.parentNode.nodeName === 'A') {\n                    var anchorEle = currentNode.parentNode;\n                    currentNode.parentNode.parentNode.insertBefore(anchorEle.firstChild, anchorEle);\n                    currentNode.parentNode.removeChild(anchorEle);\n                }\n                if (this.isBlockNode(currentNode.parentNode) || txtArray.length === 0 || i === 0 || i === txtArray.length - 1\n                    || range.startContainer.nodeType === 3) {\n                    inlineNodes[i] = currentNode;\n                    check = false;\n                }\n                else {\n                    currentNode = currentNode.parentNode;\n                }\n            }\n        }\n        for (var i = 0, j_1 = 0; i < inlineNodes.length; i++) {\n            if (i === 0) {\n                finalinlineNodes[j_1] = inlineNodes[i];\n            }\n            if (inlineNodes.length > 1 && i < inlineNodes.length - 1) {\n                if ((inlineNodes[i].parentElement === inlineNodes[i + 1].parentElement) && (inlineNodes[i] === inlineNodes[i + 1])) {\n                    continue;\n                }\n                else {\n                    finalinlineNodes[j_1 + 1] = inlineNodes[i + 1];\n                    j_1++;\n                }\n            }\n        }\n        var j = 0;\n        anchorNodes[j] = this.createAchorNode(e);\n        for (var i = 0; i < finalinlineNodes.length; i++) {\n            if (i === 0) {\n                cloneNode = finalinlineNodes[i].cloneNode(true);\n                anchorNodes[i].appendChild(cloneNode);\n            }\n            if (i < finalinlineNodes.length - 1) {\n                if (finalinlineNodes[i].parentNode === finalinlineNodes[i + 1].parentNode) {\n                    var cln = finalinlineNodes[i + 1].cloneNode(true);\n                    anchorNodes[j].appendChild(cln);\n                }\n                else {\n                    j = j + 1;\n                    anchorNodes[j] = this.createAchorNode(e);\n                    cloneNode = finalinlineNodes[i + 1].cloneNode(true);\n                    anchorNodes[j].appendChild(cloneNode);\n                }\n            }\n        }\n        this.parent.nodeSelection.setRange(document, save.range);\n        for (var i = 0, j_2 = 0, k = 0; i <= finalinlineNodes.length; i++) {\n            if (i === 0) {\n                finalinlineNodes[i].parentNode.insertBefore(anchorNodes[j_2], finalinlineNodes[i].nextSibling);\n                if (this.parent.domNode.blockNodes().length === 1) {\n                    this.parent.nodeSelection.setSelectionNode(this.parent.currentDocument, anchorNodes[j_2]);\n                }\n                removeNodes[k] = finalinlineNodes[i];\n                k++;\n            }\n            if (i < finalinlineNodes.length - 1) {\n                if (finalinlineNodes[i].parentNode === finalinlineNodes[i + 1].parentNode) {\n                    removeNodes[k] = finalinlineNodes[i + 1];\n                    k++;\n                }\n                else {\n                    j_2 = j_2 + 1;\n                    finalinlineNodes[i + 1].parentNode.insertBefore(anchorNodes[j_2], finalinlineNodes[i + 1]);\n                    removeNodes[k] = finalinlineNodes[i + 1];\n                    k++;\n                }\n            }\n        }\n        for (var i = 0; i < removeNodes.length; i++) {\n            if (removeNodes[i].parentNode) {\n                removeNodes[i].parentNode.removeChild(removeNodes[i]);\n            }\n        }\n    };\n    LinkCommand.prototype.createAchorNode = function (e) {\n        var anchorEle = createElement('a', {\n            className: 'e-rte-anchor',\n            attrs: {\n                href: e.item.url,\n                title: isNOU(e.item.title) || e.item.title === '' ? e.item.url : e.item.title\n            }\n        });\n        if (!isNOU(e.item.target)) {\n            anchorEle.setAttribute('target', e.item.target);\n        }\n        return anchorEle;\n    };\n    LinkCommand.prototype.getSelectionNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeType !== 3 || nodeCollection[index].textContent.trim() === '') {\n                if (nodeCollection[index].nodeName !== 'IMG') {\n                    nodeCollection.splice(index, 1);\n                    index--;\n                }\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    LinkCommand.prototype.isBlockNode = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && CONSTANT.BLOCK_TAGS.indexOf(element.tagName.toLowerCase()) >= 0));\n    };\n    LinkCommand.prototype.removeText = function (text, val) {\n        var arr = text.split(' ');\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === val) {\n                arr.splice(i, 1);\n                i--;\n            }\n        }\n        return arr.join(' ') + ' ';\n    };\n    LinkCommand.prototype.openLink = function (e) {\n        document.defaultView.open(e.item.url, e.item.target);\n        this.callBack(e);\n    };\n    LinkCommand.prototype.removeLink = function (e) {\n        var blockNodes = this.parent.domNode.blockNodes();\n        if (blockNodes.length < 2) {\n            this.parent.domNode.setMarker(e.item.selection);\n            var closestAnchor = closest(e.item.selectParent[0], 'a');\n            var selectParent = closestAnchor ? closestAnchor : e.item.selectParent[0];\n            var parent_1 = selectParent.parentNode;\n            var child = [];\n            for (; selectParent.firstChild; null) {\n                child.push(parent_1.insertBefore(selectParent.firstChild, selectParent));\n            }\n            parent_1.removeChild(selectParent);\n            if (child && child.length === 1) {\n                e.item.selection.startContainer = e.item.selection.getNodeArray(child[child.length - 1], true);\n                e.item.selection.endContainer = e.item.selection.startContainer;\n            }\n            e.item.selection = this.parent.domNode.saveMarker(e.item.selection);\n        }\n        else {\n            for (var i = 0; i < blockNodes.length; i++) {\n                var linkNode = blockNodes[i].querySelectorAll('a');\n                for (var j = 0; j < linkNode.length; j++) {\n                    if (document.getSelection().containsNode(linkNode[j], true)) {\n                        linkNode[j].outerHTML = linkNode[j].innerHTML;\n                    }\n                }\n            }\n        }\n        e.item.selection.restore();\n        this.callBack(e);\n    };\n    LinkCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return LinkCommand;\n}());\nexport { LinkCommand };\n","import * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Alignments = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @returns {void}\n     * @hidden\n\n     */\n    function Alignments(parent) {\n        this.alignments = {\n            'JustifyLeft': 'left',\n            'JustifyCenter': 'center',\n            'JustifyRight': 'right',\n            'JustifyFull': 'justify'\n        };\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Alignments.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Alignments.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'justify-center':\n                this.applyAlignment({ subCommand: 'JustifyCenter', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-full':\n                this.applyAlignment({ subCommand: 'JustifyFull', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-left':\n                this.applyAlignment({ subCommand: 'JustifyLeft', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-right':\n                this.applyAlignment({ subCommand: 'JustifyRight', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Alignments.prototype.getTableNode = function (range) {\n        var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE\n            ? range.startContainer : range.startContainer.parentNode;\n        var cellNode = closest(startNode, 'td,th');\n        return [cellNode];\n    };\n    Alignments.prototype.applyAlignment = function (e) {\n        var isTableAlign = e.value === 'Table' ? true : false;\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        if (!isTableAlign) {\n            this.parent.domNode.setMarker(save);\n            var alignmentNodes = this.parent.domNode.blockNodes();\n            for (var i = 0; i < alignmentNodes.length; i++) {\n                var parentNode = alignmentNodes[i];\n                setStyleAttribute(parentNode, { 'text-align': this.alignments[e.subCommand] });\n            }\n            var imageTags = this.parent.domNode.getImageTagInSelection();\n            for (var i = 0; i < imageTags.length; i++) {\n                var elementNode = [];\n                elementNode.push(imageTags[i]);\n                this.parent.imgObj.imageCommand({\n                    item: {\n                        selectNode: elementNode\n                    },\n                    subCommand: e.subCommand,\n                    value: e.subCommand,\n                    callBack: e.callBack,\n                    selector: e.selector\n                });\n            }\n            this.parent.editableElement.focus();\n            save = this.parent.domNode.saveMarker(save);\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            save.restore();\n        }\n        else {\n            setStyleAttribute(this.getTableNode(range)[0], { 'text-align': this.alignments[e.subCommand] });\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: (isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes())\n            });\n        }\n    };\n    return Alignments;\n}());\nexport { Alignments };\n","import * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n *\n * @hidden\n\n */\nvar Indents = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function Indents(parent) {\n        this.indentValue = 20;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Indents.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Indents.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'indents':\n                this.applyIndents({ subCommand: 'Indent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'outdents':\n                this.applyIndents({ subCommand: 'Outdent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Indents.prototype.applyIndents = function (e) {\n        var editEle = this.parent.editableElement;\n        var isRtl = editEle.classList.contains('e-rtl');\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var indentsNodes = this.parent.domNode.blockNodes();\n        var parentNodes = indentsNodes.slice();\n        var listsNodes = [];\n        for (var i = 0; i < parentNodes.length; i++) {\n            if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i].parentNode);\n            }\n            else if (parentNodes[i].tagName === 'LI') {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i]);\n            }\n        }\n        if (listsNodes.length > 0) {\n            this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n                event: {\n                    preventDefault: function () {\n                        return;\n                    },\n                    stopPropagation: function () {\n                        return;\n                    },\n                    shiftKey: (e.subCommand === 'Indent' ? false : true),\n                    which: 9,\n                    action: 'indent'\n                },\n                ignoreDefault: true\n            });\n        }\n        for (var i = 0; i < indentsNodes.length; i++) {\n            var parentNode = indentsNodes[i];\n            var marginLeftOrRight = isRtl ? parentNode.style.marginRight : parentNode.style.marginLeft;\n            var indentsValue = void 0;\n            if (e.subCommand === 'Indent') {\n                /* eslint-disable */\n                indentsValue = marginLeftOrRight === '' ? this.indentValue + 'px' : parseInt(marginLeftOrRight, null) + this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n            }\n            else {\n                indentsValue = (marginLeftOrRight === '' || marginLeftOrRight === '0px') ? '' : parseInt(marginLeftOrRight, null) - this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n                /* eslint-enable */\n            }\n        }\n        editEle.focus();\n        if (isIDevice()) {\n            setEditFrameFocus(editEle, e.selector);\n        }\n        save = this.parent.domNode.saveMarker(save);\n        save.restore();\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    return Indents;\n}());\nexport { Indents };\n","/**\n * Rich Text Editor classes defined here.\n */\n/**\n * @hidden\n\n */\nexport var CLASS_IMAGE_RIGHT = 'e-imgright';\nexport var CLASS_IMAGE_LEFT = 'e-imgleft';\nexport var CLASS_IMAGE_CENTER = 'e-imgcenter';\nexport var CLASS_IMAGE_BREAK = 'e-imgbreak';\nexport var CLASS_CAPTION = 'e-img-caption';\nexport var CLASS_RTE_CAPTION = 'e-rte-img-caption';\nexport var CLASS_CAPTION_INLINE = 'e-caption-inline';\nexport var CLASS_IMAGE_INLINE = 'e-imginline';\n","import { createElement, isNullOrUndefined as isNOU, detach, closest, addClass, removeClass, select, Browser, formatUnit } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar ImageCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function ImageCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ImageCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.IMAGE, this.imageCommand, this);\n    };\n    /**\n     * imageCommand method\n     *\n     * @param {IHtmlItem} e - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    ImageCommand.prototype.imageCommand = function (e) {\n        switch (e.value.toString().toLowerCase()) {\n            case 'image':\n            case 'replace':\n                this.createImage(e);\n                break;\n            case 'insertlink':\n                this.insertImageLink(e);\n                break;\n            case 'openimagelink':\n                this.openImageLink(e);\n                break;\n            case 'editimagelink':\n                this.editImageLink(e);\n                break;\n            case 'removeimagelink':\n                this.removeImageLink(e);\n                break;\n            case 'remove':\n                this.removeImage(e);\n                break;\n            case 'alttext':\n                this.insertAltTextImage(e);\n                break;\n            case 'dimension':\n                this.imageDimension(e);\n                break;\n            case 'caption':\n                this.imageCaption(e);\n                break;\n            case 'justifyleft':\n                this.imageJustifyLeft(e);\n                break;\n            case 'justifycenter':\n                this.imageJustifyCenter(e);\n                break;\n            case 'justifyright':\n                this.imageJustifyRight(e);\n                break;\n            case 'inline':\n                this.imageInline(e);\n                break;\n            case 'break':\n                this.imageBreak(e);\n                break;\n        }\n    };\n    ImageCommand.prototype.createImage = function (e) {\n        var _this = this;\n        var isReplaced = false;\n        e.item.url = isNOU(e.item.url) || e.item.url === 'undefined' ? e.item.src : e.item.url;\n        if (!isNOU(e.item.selectParent) && e.item.selectParent[0].tagName === 'IMG') {\n            var imgEle = e.item.selectParent[0];\n            this.setStyle(imgEle, e);\n            isReplaced = true;\n        }\n        else {\n            var imgElement = createElement('img');\n            this.setStyle(imgElement, e);\n            if (!isNOU(e.item.selection)) {\n                e.item.selection.restore();\n            }\n            if (!isNOU(e.selector) && e.selector === 'pasteCleanupModule') {\n                e.callBack({ requestType: 'Images',\n                    editorMode: 'HTML',\n                    event: e.event,\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: [imgElement]\n                });\n            }\n            else {\n                InsertHtml.Insert(this.parent.currentDocument, imgElement, this.parent.editableElement);\n            }\n        }\n        if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n            var selectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0];\n            var imgElm_1 = (e.value === 'Replace' || isReplaced) ? e.item.selectParent[0] :\n                (Browser.isIE ? selectedNode.previousSibling : selectedNode.previousElementSibling);\n            imgElm_1.addEventListener('load', function () {\n                if (e.value !== 'Replace' || !isReplaced) {\n                    e.callBack({\n                        requestType: 'Images',\n                        editorMode: 'HTML',\n                        event: e.event,\n                        range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n                        elements: [imgElm_1]\n                    });\n                }\n            });\n        }\n    };\n    ImageCommand.prototype.setStyle = function (imgElement, e) {\n        if (!isNOU(e.item.url)) {\n            imgElement.setAttribute('src', e.item.url);\n        }\n        imgElement.setAttribute('class', 'e-rte-image' + (isNOU(e.item.cssClass) ? '' : ' ' + e.item.cssClass));\n        if (!isNOU(e.item.altText)) {\n            imgElement.setAttribute('alt', e.item.altText);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n            imgElement.setAttribute('width', this.calculateStyleValue(e.item.width.width));\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n            imgElement.setAttribute('height', this.calculateStyleValue(e.item.height.height));\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n            imgElement.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n            imgElement.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n            imgElement.style.minHeight = this.calculateStyleValue(e.item.height.minHeight);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n            imgElement.style.maxHeight = this.calculateStyleValue(e.item.height.maxHeight);\n        }\n    };\n    ImageCommand.prototype.calculateStyleValue = function (value) {\n        var styleValue;\n        if (typeof (value) === 'string') {\n            if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n                styleValue = value;\n            }\n            else {\n                styleValue = value + 'px';\n            }\n        }\n        else {\n            styleValue = value + 'px';\n        }\n        return styleValue;\n    };\n    ImageCommand.prototype.insertImageLink = function (e) {\n        var anchor = createElement('a', {\n            attrs: {\n                href: e.item.url\n            }\n        });\n        if (e.item.selectNode[0].parentElement.classList.contains('e-img-wrap')) {\n            e.item.selection.restore();\n            anchor.setAttribute('contenteditable', 'true');\n        }\n        anchor.appendChild(e.item.selectNode[0]);\n        if (!isNOU(e.item.target)) {\n            anchor.setAttribute('target', e.item.target);\n        }\n        InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.openImageLink = function (e) {\n        document.defaultView.open(e.item.url, e.item.target);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImageLink = function (e) {\n        var selectParent = e.item.selectParent[0];\n        if (selectParent.classList.contains('e-img-caption')) {\n            var capImgWrap = select('.e-img-wrap', selectParent);\n            var textEle = select('.e-img-inner', selectParent);\n            var newTextEle = textEle.cloneNode(true);\n            detach(select('a', selectParent));\n            detach(textEle);\n            capImgWrap.appendChild(e.item.insertElement);\n            capImgWrap.appendChild(newTextEle);\n        }\n        else {\n            detach(selectParent);\n            if (Browser.isIE) {\n                e.item.selection.restore();\n            }\n            InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.editImageLink = function (e) {\n        e.item.selectNode[0].parentElement.href = e.item.url;\n        if (isNOU(e.item.target)) {\n            e.item.selectNode[0].parentElement.removeAttribute('target');\n        }\n        else {\n            e.item.selectNode[0].parentElement.target = e.item.target;\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImage = function (e) {\n        if (closest(e.item.selectNode[0], 'a')) {\n            if (e.item.selectNode[0].parentElement.nodeName === 'A' && !isNOU(e.item.selectNode[0].parentElement.innerText)) {\n                if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n                    detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n                }\n                else {\n                    detach(e.item.selectNode[0]);\n                }\n            }\n            else {\n                detach(closest(e.item.selectNode[0], 'a'));\n            }\n        }\n        else if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n            detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n        }\n        else {\n            detach(e.item.selectNode[0]);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.insertAltTextImage = function (e) {\n        e.item.selectNode[0].setAttribute('alt', e.item.altText);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageDimension = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.style.height = '';\n        selectNode.style.width = '';\n        if (e.item.width !== 'auto') {\n            selectNode.style.width = formatUnit(e.item.width);\n        }\n        else {\n            selectNode.removeAttribute('width');\n        }\n        if (e.item.height !== 'auto') {\n            selectNode.style.height = formatUnit(e.item.height);\n        }\n        else {\n            selectNode.removeAttribute('height');\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageCaption = function (e) {\n        InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageJustifyLeft = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageJustifyCenter = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_CENTER);\n                addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageJustifyRight = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageInline = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], 'e-rte-image');\n        addClass([selectNode], classes.CLASS_IMAGE_INLINE);\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageBreak = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], classes.CLASS_IMAGE_BREAK);\n        addClass([selectNode], 'e-rte-image');\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return ImageCommand;\n}());\nexport { ImageCommand };\n","import { createElement, closest, detach, Browser, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar TableCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function TableCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    TableCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.TABLE, this.createTable, this);\n        this.parent.observer.on(CONSTANT.INSERT_ROW, this.insertRow, this);\n        this.parent.observer.on(CONSTANT.INSERT_COLUMN, this.insertColumn, this);\n        this.parent.observer.on(CONSTANT.DELETEROW, this.deleteRow, this);\n        this.parent.observer.on(CONSTANT.DELETECOLUMN, this.deleteColumn, this);\n        this.parent.observer.on(CONSTANT.REMOVETABLE, this.removeTable, this);\n        this.parent.observer.on(CONSTANT.TABLEHEADER, this.tableHeader, this);\n        this.parent.observer.on(CONSTANT.TABLE_VERTICAL_ALIGN, this.tableVerticalAlign, this);\n        this.parent.observer.on(CONSTANT.TABLE_MERGE, this.cellMerge, this);\n        this.parent.observer.on(CONSTANT.TABLE_HORIZONTAL_SPLIT, this.HorizontalSplit, this);\n        this.parent.observer.on(CONSTANT.TABLE_VERTICAL_SPLIT, this.VerticalSplit, this);\n        this.parent.observer.on(CONSTANT.TABLE_MOVE, this.tableMove, this);\n    };\n    TableCommand.prototype.createTable = function (e) {\n        var table = createElement('table', { className: 'e-rte-table' });\n        var tblBody = createElement('tbody');\n        if (!isNOU(e.item.width.width)) {\n            table.style.width = this.calculateStyleValue(e.item.width.width);\n        }\n        if (!isNOU(e.item.width.minWidth)) {\n            table.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width.maxWidth)) {\n            table.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n        }\n        var tdWid = parseInt(e.item.width.width, 10) > 100 ?\n            100 / e.item.columns : parseInt(e.item.width.width, 10) / e.item.columns;\n        for (var i = 0; i < e.item.rows; i++) {\n            var row = createElement('tr');\n            for (var j = 0; j < e.item.columns; j++) {\n                var cell = createElement('td');\n                cell.appendChild(createElement('br'));\n                cell.style.width = tdWid + '%';\n                row.appendChild(cell);\n            }\n            tblBody.appendChild(row);\n        }\n        table.appendChild(tblBody);\n        e.item.selection.restore();\n        InsertHtml.Insert(this.parent.currentDocument, table, this.parent.editableElement);\n        this.removeEmptyNode();\n        e.item.selection.setSelectionText(this.parent.currentDocument, table.querySelector('td'), table.querySelector('td'), 0, 0);\n        if (table.nextElementSibling === null) {\n            var insertElem = void 0;\n            if (e.enterAction === 'DIV') {\n                insertElem = createElement('div');\n                insertElem.appendChild(createElement('br'));\n            }\n            else if (e.enterAction === 'BR') {\n                insertElem = createElement('br');\n            }\n            else {\n                insertElem = createElement('p');\n                insertElem.appendChild(createElement('br'));\n            }\n            this.insertAfter(insertElem, table);\n        }\n        table.querySelector('td').classList.add('e-cell-select');\n        if (e.callBack) {\n            e.callBack({\n                requestType: 'Table',\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: [table]\n            });\n        }\n        return table;\n    };\n    TableCommand.prototype.calculateStyleValue = function (value) {\n        var styleValue;\n        if (typeof (value) === 'string') {\n            if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n                styleValue = value;\n            }\n            else {\n                styleValue = value + 'px';\n            }\n        }\n        else {\n            styleValue = value + 'px';\n        }\n        return styleValue;\n    };\n    TableCommand.prototype.removeEmptyNode = function () {\n        var emptyUl = this.parent.editableElement.querySelectorAll('ul:empty, ol:empty');\n        for (var i = 0; i < emptyUl.length; i++) {\n            detach(emptyUl[i]);\n        }\n        var emptyLiChild = this.parent.editableElement.querySelectorAll('li *:empty');\n        for (var i = 0; i < emptyLiChild.length; i++) {\n            detach(emptyLiChild[i]);\n            if (emptyLiChild.length === i + 1) {\n                emptyLiChild = this.parent.editableElement.querySelectorAll('li *:empty');\n                i = -1;\n            }\n        }\n        var emptyLi = this.parent.editableElement.querySelectorAll('li:empty');\n        for (var i = 0; i < emptyLi.length; i++) {\n            detach(emptyLi[i]);\n        }\n    };\n    TableCommand.prototype.insertAfter = function (newNode, referenceNode) {\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n    TableCommand.prototype.getSelectedCellMinMaxIndex = function (e) {\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        var a = 0;\n        var minI = e.length;\n        var maxI = 0;\n        var minJ = e[0].length;\n        var maxJ = 0;\n        //eslint-disable-next-line\n        for (var i = 0; a < selectedCells.length; a++) {\n            var selectedCellIndex = this.getCorrespondingIndex(selectedCells[a], e);\n            var minMaxIndex = this.FindIndex(selectedCellIndex[0], selectedCellIndex[1], e);\n            //eslint-disable-next-line\n            minI = Math.min(selectedCellIndex[0], minI),\n                maxI = Math.max(minMaxIndex[0], maxI),\n                minJ = Math.min(selectedCellIndex[1], minJ),\n                maxJ = Math.max(minMaxIndex[1], maxJ);\n        }\n        return {\n            startRow: minI,\n            endRow: maxI,\n            startColumn: minJ,\n            endColumn: maxJ\n        };\n    };\n    TableCommand.prototype.insertRow = function (e) {\n        var isBelow = e.item.subCommand === 'InsertRowBefore' ? false : true;\n        var selectedCell = e.item.selection.range.startContainer;\n        if (!(selectedCell.nodeName === 'TH' || selectedCell.nodeName === 'TD')) {\n            selectedCell = closest(selectedCell.parentElement, 'td,th');\n        }\n        if (selectedCell.nodeName.toLowerCase() === 'th' && e.item.subCommand === 'InsertRowBefore') {\n            return;\n        }\n        this.curTable = closest(this.parent.nodeSelection.range.startContainer.parentElement, 'table');\n        if (this.curTable.querySelectorAll('.e-cell-select').length === 0) {\n            var lastRow = this.curTable.rows[this.curTable.rows.length - 1];\n            var cloneRow = lastRow.cloneNode(true);\n            cloneRow.removeAttribute('rowspan');\n            this.insertAfter(cloneRow, lastRow);\n        }\n        else {\n            var allCells = this.getCorrespondingColumns();\n            var minMaxIndex = this.getSelectedCellMinMaxIndex(allCells);\n            var minVal = isBelow ? minMaxIndex.endRow : minMaxIndex.startRow;\n            var newRow = createElement('tr');\n            var isHeaderSelect = this.curTable.querySelectorAll('th.e-cell-select').length > 0;\n            for (var i = 0; i < allCells[minVal].length; i++) {\n                if (isBelow && minVal < allCells.length - 1 && allCells[minVal][i] === allCells[minVal + 1][i] ||\n                    !isBelow && 0 < minVal && allCells[minVal][i] === allCells[minVal - 1][i]) {\n                    if (0 === i || 0 < i && allCells[minVal][i] !== allCells[minVal][i - 1]) {\n                        allCells[minVal][i].setAttribute('rowspan', (parseInt(allCells[minVal][i].getAttribute('rowspan'), 10) + 1).toString());\n                    }\n                }\n                else {\n                    var tdElement = createElement('td');\n                    tdElement.appendChild(createElement('br'));\n                    newRow.appendChild(tdElement);\n                    tdElement.setAttribute('style', allCells[(isHeaderSelect && isBelow) ? (minVal + 1) : minVal][i].getAttribute('style'));\n                }\n            }\n            // eslint-disable-next-line\n            var selectedRow = void 0;\n            if (isHeaderSelect && isBelow) {\n                selectedRow = this.curTable.querySelector('tbody').childNodes[0];\n            }\n            else {\n                selectedRow = this.curTable.rows[minVal];\n            }\n            // eslint-disable-next-line\n            (e.item.subCommand === 'InsertRowBefore') ? selectedRow.parentElement.insertBefore(newRow, selectedRow) :\n                (isHeaderSelect ? selectedRow.parentElement.insertBefore(newRow, selectedRow) :\n                    this.insertAfter(newRow, selectedRow));\n        }\n        e.item.selection.setSelectionText(this.parent.currentDocument, e.item.selection.range.startContainer, e.item.selection.range.startContainer, 0, 0);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.insertColumn = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        if (!(selectedCell.nodeName === 'TH' || selectedCell.nodeName === 'TD')) {\n            selectedCell = closest(selectedCell.parentElement, 'td,th');\n        }\n        var curRow = closest(selectedCell, 'tr');\n        var curCell;\n        var allRows = closest((curRow), 'table').rows;\n        var colIndex = Array.prototype.slice.call(curRow.querySelectorAll(':scope > td, :scope > th')).indexOf(selectedCell);\n        var previousWidth = parseInt(e.item.width, 10) / (curRow.querySelectorAll(':scope > td, :scope > th').length);\n        var currentWidth = parseInt(e.item.width, 10) / (curRow.querySelectorAll(':scope > td, :scope > th').length + 1);\n        var currentTabElm = closest(curRow, 'table');\n        var thTdElm = closest(curRow, 'table').querySelectorAll('th,td');\n        for (var i = 0; i < thTdElm.length; i++) {\n            thTdElm[i].dataset.oldWidth = (thTdElm[i].offsetWidth / currentTabElm.offsetWidth * 100) + '%';\n        }\n        for (var i = 0; i < allRows.length; i++) {\n            curCell = allRows[i].querySelectorAll(':scope > td, :scope > th')[colIndex];\n            var colTemplate = curCell.cloneNode(true);\n            colTemplate.innerHTML = '';\n            colTemplate.appendChild(createElement('br'));\n            colTemplate.removeAttribute('class');\n            colTemplate.removeAttribute('colspan');\n            colTemplate.removeAttribute('rowspan');\n            // eslint-disable-next-line\n            (e.item.subCommand === 'InsertColumnLeft') ? curCell.parentElement.insertBefore(colTemplate, curCell) :\n                this.insertAfter(colTemplate, curCell);\n            colTemplate.style.width = currentWidth.toFixed(4) + '%';\n            delete colTemplate.dataset.oldWidth;\n        }\n        for (var i = 0; i < thTdElm.length; i++) {\n            thTdElm[i].style.width = (Number(thTdElm[i].dataset.oldWidth.split('%')[0]) * currentWidth / previousWidth).toFixed(4) + '%';\n            delete thTdElm[i].dataset.oldWidth;\n        }\n        e.item.selection.setSelectionText(this.parent.currentDocument, selectedCell, selectedCell, 0, 0);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.deleteColumn = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        if (selectedCell.nodeType === 3) {\n            selectedCell = closest(selectedCell.parentElement, 'td,th');\n        }\n        var tBodyHeadEle = closest(selectedCell, selectedCell.tagName === 'TH' ? 'thead' : 'tbody');\n        var rowIndex = tBodyHeadEle && Array.prototype.indexOf.call(tBodyHeadEle.childNodes, selectedCell.parentNode);\n        this.curTable = closest(selectedCell, 'table');\n        var curRow = closest(selectedCell, 'tr');\n        if (curRow.querySelectorAll('th,td').length === 1) {\n            e.item.selection.restore();\n            detach(closest(selectedCell.parentElement, 'table'));\n        }\n        else {\n            var deleteIndex = void 0;\n            var allCells = this.getCorrespondingColumns();\n            //eslint-disable-next-line\n            var selectedMinMaxIndex = this.getSelectedCellMinMaxIndex(allCells);\n            var minCol = selectedMinMaxIndex.startColumn;\n            var maxCol = selectedMinMaxIndex.endColumn;\n            for (var i = 0; i < allCells.length; i++) {\n                var currentRow = allCells[i];\n                for (var j = 0; j < currentRow.length; j++) {\n                    var currentCell = currentRow[j];\n                    //eslint-disable-next-line\n                    var currentCellIndex = this.getCorrespondingIndex(currentCell, allCells);\n                    var colSpanVal = parseInt(currentCell.getAttribute('colspan'), 10) || 1;\n                    if (currentCellIndex[1] + (colSpanVal - 1) >= minCol && currentCellIndex[1] <= maxCol) {\n                        if (colSpanVal > 1) {\n                            currentCell.setAttribute('colspan', (colSpanVal - 1).toString());\n                        }\n                        else {\n                            detach(currentCell);\n                            deleteIndex = j;\n                            if (Browser.isIE) {\n                                e.item.selection.setSelectionText(this.parent.currentDocument, this.curTable.querySelector('td'), this.curTable.querySelector('td'), 0, 0);\n                                this.curTable.querySelector('td, th').classList.add('e-cell-select');\n                            }\n                        }\n                    }\n                }\n            }\n            if (deleteIndex > -1) {\n                var rowHeadEle = tBodyHeadEle.children[rowIndex];\n                var nextFocusCell = rowHeadEle &&\n                    rowHeadEle.children[(deleteIndex <= rowHeadEle.children.length - 1 ? deleteIndex : deleteIndex - 1)];\n                if (nextFocusCell) {\n                    e.item.selection.setSelectionText(this.parent.currentDocument, nextFocusCell, nextFocusCell, 0, 0);\n                    nextFocusCell.classList.add('e-cell-select');\n                }\n            }\n        }\n        if (e.callBack) {\n            var sContainer = this.parent.nodeSelection.getRange(this.parent.currentDocument).startContainer;\n            if (sContainer.nodeName !== 'TD') {\n                var startChildLength = this.parent.nodeSelection.getRange(this.parent.currentDocument).startOffset;\n                var focusNode = sContainer.children[startChildLength];\n                if (focusNode) {\n                    this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, focusNode, 0);\n                }\n            }\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.deleteRow = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        if (selectedCell.nodeType === 3) {\n            selectedCell = closest(selectedCell.parentElement, 'td,th');\n        }\n        var colIndex = Array.prototype.indexOf.call(selectedCell.parentNode.childNodes, selectedCell);\n        this.curTable = closest(selectedCell, 'table');\n        var currentRow;\n        var allCells = this.getCorrespondingColumns();\n        var minMaxIndex = this.getSelectedCellMinMaxIndex(allCells);\n        var maxI;\n        var j;\n        if (this.curTable.rows.length === 1) {\n            e.item.selection.restore();\n            detach(closest(selectedCell.parentElement, 'table'));\n        }\n        else {\n            for (maxI = minMaxIndex.endRow; maxI >= minMaxIndex.startRow; maxI--) {\n                currentRow = this.curTable.rows[maxI];\n                for (j = 0; j < allCells[maxI].length; j++) {\n                    if (j === 0 || allCells[maxI][j] !== allCells[maxI][j - 1]) {\n                        if (1 < parseInt(allCells[maxI][j].getAttribute('rowspan'), 10)) {\n                            var rowSpanVal = parseInt(allCells[maxI][j].getAttribute('rowspan'), 10) - 1;\n                            //eslint-disable-next-line\n                            1 === rowSpanVal ? allCells[maxI][j].removeAttribute('rowspan') : allCells[maxI][j].setAttribute('rowspan', rowSpanVal.toString());\n                        }\n                    }\n                    if (maxI < allCells.length - 1 && allCells[maxI][j] === allCells[maxI + 1][j] && (0 === maxI ||\n                        allCells[maxI][j] !== allCells[maxI - 1][j])) {\n                        var element = allCells[maxI][j];\n                        var index = void 0;\n                        for (index = j; 0 < index && allCells[maxI][index] === allCells[maxI][index - 1]; index--) {\n                            if (index === 0) {\n                                this.curTable.rows[maxI + 1].prepend(element);\n                            }\n                            else {\n                                allCells[maxI + 1][index - 1].insertAdjacentElement('afterend', element);\n                            }\n                        }\n                    }\n                }\n                var deleteIndex = currentRow.rowIndex;\n                this.curTable.deleteRow(deleteIndex);\n                var focusTrEle = !isNOU(this.curTable.rows[deleteIndex]) ? this.curTable.querySelectorAll('tbody tr')[deleteIndex]\n                    : this.curTable.querySelectorAll('tbody tr')[deleteIndex - 1];\n                var nextFocusCell = focusTrEle && focusTrEle.querySelectorAll('td')[colIndex];\n                if (nextFocusCell) {\n                    e.item.selection.setSelectionText(this.parent.currentDocument, nextFocusCell, nextFocusCell, 0, 0);\n                    nextFocusCell.classList.add('e-cell-select');\n                }\n                else {\n                    e.item.selection.setSelectionText(this.parent.currentDocument, this.curTable.querySelector('td'), this.curTable.querySelector('td'), 0, 0);\n                    this.curTable.querySelector('td, th').classList.add('e-cell-select');\n                }\n            }\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.removeTable = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        var selectedTable = closest(selectedCell.parentElement, 'table');\n        if (selectedTable) {\n            e.item.selection.restore();\n            detach(selectedTable);\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.tableHeader = function (e) {\n        var headerExit = false;\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        var table = closest(selectedCell.parentElement, 'table');\n        [].slice.call(table.childNodes).forEach(function (el) {\n            if (el.nodeName === 'THEAD') {\n                headerExit = true;\n            }\n        });\n        if (table && !headerExit) {\n            var cellCount = table.querySelector('tr').childElementCount;\n            var colSpanCount = 0;\n            for (var i = 0; i < cellCount; i++) {\n                colSpanCount = colSpanCount + (parseInt(table.querySelector('tr').children[i].getAttribute('colspan'), 10) || 1);\n            }\n            var header = table.createTHead();\n            var row = header.insertRow(0);\n            for (var j = 0; j < colSpanCount; j++) {\n                var th = createElement('th');\n                th.appendChild(createElement('br'));\n                row.appendChild(th);\n            }\n        }\n        else {\n            table.deleteTHead();\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.tableVerticalAlign = function (e) {\n        if (e.item.subCommand === 'AlignTop') {\n            e.item.tableCell.style.verticalAlign = 'top';\n        }\n        else if (e.item.subCommand === 'AlignMiddle') {\n            e.item.tableCell.style.verticalAlign = 'middle';\n        }\n        else {\n            e.item.tableCell.style.verticalAlign = 'bottom';\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.cellMerge = function (e) {\n        if (isNOU(this.curTable)) {\n            this.curTable = closest(this.parent.nodeSelection.range.startContainer.parentElement, 'table');\n        }\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        if (selectedCells.length < 2) {\n            return;\n        }\n        this.mergeCellContent();\n        var minMaxIndexes = this.getSelectedMinMaxIndexes(this.getCorrespondingColumns());\n        var firstCell = selectedCells[0];\n        var rowSelectedCells = firstCell.parentElement.querySelectorAll('.e-cell-select');\n        if (minMaxIndexes.startColumn < minMaxIndexes.endColumn) {\n            firstCell.setAttribute('colspan', (minMaxIndexes.endColumn - minMaxIndexes.startColumn + 1).toString());\n        }\n        if (minMaxIndexes.startRow < minMaxIndexes.endRow) {\n            firstCell.setAttribute('rowspan', (minMaxIndexes.endRow - minMaxIndexes.startRow + 1).toString());\n        }\n        var totalWidth = 0;\n        for (var j = rowSelectedCells.length - 1; j >= 0; j--) {\n            totalWidth = totalWidth + parseFloat(rowSelectedCells[j].style.width);\n        }\n        firstCell.style.width = totalWidth + '%';\n        for (var i = 1; i <= selectedCells.length - 1; i++) {\n            detach(selectedCells[i]);\n        }\n        for (var i = 0; i < this.curTable.rows.length; i++) {\n            if (this.curTable.rows[i].innerHTML === '') {\n                detach(this.curTable.rows[i]);\n            }\n        }\n        this.updateRowSpanStyle(minMaxIndexes.startRow, minMaxIndexes.endRow, this.getCorrespondingColumns());\n        this.updateColSpanStyle(minMaxIndexes.startColumn, minMaxIndexes.endColumn, this.getCorrespondingColumns());\n        e.item.selection.setSelectionText(this.parent.currentDocument, e.item.selection.range.startContainer, e.item.selection.range.startContainer, 0, 0);\n        if (this.parent.nodeSelection.range) {\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, \n            // eslint-disable-next-line\n            this.parent.nodeSelection.range.endContainer, 0);\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.updateColSpanStyle = function (min, max, elements) {\n        var colValue;\n        var colIndex;\n        var colMin;\n        var index = 0;\n        var attrValue;\n        var count = 0;\n        var eleArray = elements;\n        //eslint-disable-next-line\n        if (min < (max = Math.min(max, eleArray[0].length - 1))) {\n            for (colIndex === min; colIndex <= max; colIndex++) {\n                // eslint-disable-next-line\n                if (!(min < colIndex && eleArray[0][colIndex] === eleArray[0][colIndex - 1]) && 1 < (index =\n                    Math.min(parseInt(eleArray[0][colIndex].getAttribute('colspan'), 10) || 1, max - min + 1)) &&\n                    eleArray[0][colIndex] === eleArray[0][colIndex + 1]) {\n                    for (count = index - 1, colValue = 1; colValue < eleArray.length; colValue++) {\n                        if (eleArray[colValue][colIndex] !== eleArray[colValue - 1][colIndex]) {\n                            /* eslint-disable */\n                            for (colMin = colIndex; colMin < colIndex + index; colMin++) {\n                                if (1 < (attrValue = parseInt(eleArray[colValue][colMin].getAttribute('colspan'), 10) || 1) &&\n                                    eleArray[colValue][colMin] === eleArray[colValue][colMin + 1]) {\n                                    colMin += count = Math.min(count, attrValue - 1);\n                                }\n                                else if (!(count = Math.max(0, count - 1))) {\n                                    break;\n                                }\n                                /* eslint-enable */\n                            }\n                        }\n                        if (!count) {\n                            break;\n                        }\n                    }\n                }\n            }\n            if (count) {\n                this.updateCellAttribute(eleArray, count, 'colspan', 0, eleArray.length - 1, min, max);\n            }\n        }\n    };\n    TableCommand.prototype.updateRowSpanStyle = function (min, max, ele) {\n        var rowValue;\n        var colIndex;\n        var rowMin;\n        var index = 0;\n        var attrValue;\n        var count = 0;\n        var eleArray = ele;\n        // eslint-disable-next-line\n        if (min < (max = Math.min(max, eleArray.length - 1))) {\n            for (rowValue = min; rowValue <= max; rowValue++) {\n                // eslint-disable-next-line\n                if (!(min < rowValue && eleArray[rowValue][0] === eleArray[rowValue - 1][0]) && 1 < (index = Math.min(parseInt(eleArray[rowValue][0].getAttribute('rowspan'), 10) || 1, max - min + 1)) && eleArray[rowValue][0] === eleArray[rowValue + 1][0]) {\n                    for (count = index - 1, colIndex = 1; colIndex < eleArray[0].length; colIndex++) {\n                        if (eleArray[rowValue][colIndex] !== eleArray[rowValue][colIndex - 1]) {\n                            for (rowMin = rowValue; rowMin < rowValue + index; rowMin++) {\n                                // eslint-disable-next-line\n                                if (1 < (attrValue = parseInt(eleArray[rowMin][colIndex].getAttribute('rowspan'), 10) || 1) && eleArray[rowMin][colIndex] === eleArray[rowMin + 1][colIndex]) {\n                                    rowMin += count = Math.min(count, attrValue - 1);\n                                }\n                                // eslint-disable-next-line\n                                else if (!(count = Math.max(0, count - 1))) {\n                                    break;\n                                }\n                            }\n                            if (!count) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            if (count) {\n                this.updateCellAttribute(eleArray, count, 'rowspan', min, max, 0, eleArray[0].length - 1);\n            }\n        }\n    };\n    TableCommand.prototype.updateCellAttribute = function (elements, index, attr, min, max, firstIndex, length) {\n        var rowIndex;\n        var colIndex;\n        var spanCount;\n        for (rowIndex = min; rowIndex <= max; rowIndex++) {\n            for (colIndex = firstIndex; colIndex <= length; colIndex++) {\n                // eslint-disable-next-line\n                min < rowIndex && elements[rowIndex][colIndex] === elements[rowIndex - 1][colIndex] ||\n                    firstIndex < colIndex && elements[rowIndex][colIndex] === elements[rowIndex][colIndex - 1] ||\n                    1 < (spanCount = parseInt(elements[rowIndex][colIndex].getAttribute(attr), 10) || 1) &&\n                        (1 < spanCount - index ? elements[rowIndex][colIndex].setAttribute(attr, (spanCount - index).toString()) :\n                            elements[rowIndex][colIndex].removeAttribute(attr));\n            }\n        }\n    };\n    TableCommand.prototype.mergeCellContent = function () {\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        var innerHtml = selectedCells[0].innerHTML;\n        for (var i = 1; i < selectedCells.length - 1; i++) {\n            if ('<br>' !== selectedCells[i].innerHTML) {\n                innerHtml = innerHtml + selectedCells[i].innerHTML;\n            }\n        }\n        selectedCells[0].innerHTML = innerHtml;\n    };\n    TableCommand.prototype.getSelectedMinMaxIndexes = function (correspondingCells) {\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        if (0 < selectedCells.length) {\n            var minRow = correspondingCells.length;\n            var maxRow = 0;\n            var minCol = correspondingCells[0].length;\n            var maxCol = 0;\n            for (var i = 0; i < selectedCells.length; i++) {\n                var currentRowCol = this.getCorrespondingIndex(selectedCells[i], correspondingCells);\n                var targetRowCol = this.FindIndex(currentRowCol[0], currentRowCol[1], correspondingCells);\n                minRow = Math.min(currentRowCol[0], minRow);\n                maxRow = Math.max(targetRowCol[0], maxRow);\n                minCol = Math.min(currentRowCol[1], minCol);\n                maxCol = Math.max(targetRowCol[1], maxCol);\n            }\n            return {\n                startRow: minRow,\n                endRow: maxRow,\n                startColumn: minCol,\n                endColumn: maxCol\n            };\n        }\n        return null;\n    };\n    TableCommand.prototype.HorizontalSplit = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        this.curTable = closest(selectedCell.parentElement, 'table');\n        if (this.curTable.querySelectorAll('.e-cell-select').length > 1) {\n            return;\n        }\n        this.activeCell = this.curTable.querySelector('.e-cell-select');\n        var newCell = this.activeCell.cloneNode(true);\n        newCell.removeAttribute('class');\n        newCell.innerHTML = '</br>';\n        var activeCellIndex = this.getCorrespondingIndex(this.activeCell, this.getCorrespondingColumns());\n        var correspondingCells = this.getCorrespondingColumns();\n        var activeCellRowSpan = this.activeCell.getAttribute('rowspan') ? parseInt(this.activeCell.getAttribute('rowspan'), 10) : 1;\n        if (activeCellRowSpan > 1) {\n            var avgCount = Math.ceil(activeCellRowSpan / 2);\n            // eslint-disable-next-line\n            1 < avgCount ? this.activeCell.setAttribute('rowspan', avgCount.toString()) :\n                this.activeCell.removeAttribute('rowspan');\n            // eslint-disable-next-line\n            1 < (activeCellRowSpan - avgCount) ? newCell.setAttribute('rowspan', (activeCellRowSpan - avgCount).toString()) : newCell.removeAttribute('rowspan');\n            var avgRowIndex = void 0;\n            var colIndex = void 0;\n            for (avgRowIndex = activeCellIndex[0] + Math.ceil(activeCellRowSpan / 2),\n                colIndex = 0 === activeCellIndex[1] ? activeCellIndex[1]\n                    : activeCellIndex[1] - 1; 0 <= colIndex && (correspondingCells[avgRowIndex][colIndex] ===\n                correspondingCells[avgRowIndex][colIndex - 1] || 0 < avgRowIndex && correspondingCells[avgRowIndex][colIndex]\n                === correspondingCells[avgRowIndex - 1][colIndex]);) {\n                colIndex--;\n            }\n            if (colIndex === -1) {\n                // eslint-disable-next-line\n                this.curTable.rows[avgRowIndex].firstChild ? this.curTable.rows[avgRowIndex].prepend(newCell) : this.curTable.appendChild(newCell);\n            }\n            else {\n                correspondingCells[avgRowIndex][colIndex].insertAdjacentElement('afterend', newCell);\n            }\n        }\n        else {\n            var newTrEle = createElement('tr');\n            newTrEle.appendChild(newCell);\n            var selectedRow = correspondingCells[activeCellIndex[0]];\n            for (var j = 0; j <= selectedRow.length - 1; j++) {\n                if (selectedRow[j] !== selectedRow[j - 1] && selectedRow[j] !== this.activeCell) {\n                    selectedRow[j].setAttribute('rowspan', ((parseInt(selectedRow[j].getAttribute('rowspan'), 10) ?\n                        parseInt(selectedRow[j].getAttribute('rowspan'), 10) : 1) + 1).toString());\n                }\n            }\n            this.activeCell.parentNode.insertAdjacentElement('afterend', newTrEle);\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.VerticalSplit = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        this.curTable = closest(selectedCell.parentElement, 'table');\n        if (this.curTable.querySelectorAll('.e-cell-select').length > 1) {\n            return;\n        }\n        this.activeCell = this.curTable.querySelector('.e-cell-select');\n        var allRows = this.curTable.rows;\n        var newCell = this.activeCell.cloneNode(true);\n        newCell.removeAttribute('class');\n        newCell.innerHTML = '</br>';\n        var avgWidth = parseFloat(this.activeCell.style.width) / 2;\n        if (this.activeCell.tagName === 'TH' && isNaN(avgWidth)) {\n            var cellCount = this.curTable.querySelector('tr').childElementCount;\n            var colSpanCount = 0;\n            for (var i = 0; i < cellCount; i++) {\n                colSpanCount = colSpanCount + (parseInt(this.curTable.querySelector('tr').children[i].getAttribute('colspan'), 10) || 1);\n            }\n            avgWidth = parseFloat((((this.activeCell.offsetWidth / 2) / this.curTable.offsetWidth) * 100).toFixed(1));\n        }\n        var activeCellIndex = this.getCorrespondingIndex(this.activeCell, this.getCorrespondingColumns());\n        var correspondingColumns = this.getCorrespondingColumns();\n        var activeCellcolSpan = parseInt(this.activeCell.getAttribute('colspan'), 10);\n        if (activeCellcolSpan > 1) {\n            // eslint-disable-next-line\n            1 < Math.ceil(activeCellcolSpan / 2) ? this.activeCell.setAttribute('colspan', (activeCellcolSpan / 2).toString())\n                : this.activeCell.removeAttribute('colspan');\n            // eslint-disable-next-line\n            1 < (activeCellcolSpan - activeCellcolSpan / 2) ? newCell.setAttribute('colspan', \n            // eslint-disable-next-line\n            (activeCellcolSpan - activeCellcolSpan / 2).toString()) : newCell.removeAttribute('colspan');\n        }\n        else {\n            for (var i = 0; i <= allRows.length - 1; i++) {\n                if (0 === i || correspondingColumns[i][activeCellIndex[1]] !== correspondingColumns[i - 1][activeCellIndex[1]]) {\n                    var currentCell = correspondingColumns[i][activeCellIndex[1]];\n                    if (currentCell !== this.activeCell) {\n                        currentCell.setAttribute('colspan', ((parseInt(currentCell.getAttribute('colspan'), 10) ?\n                            parseInt(currentCell.getAttribute('colspan'), 10) : 1) + 1).toString());\n                    }\n                }\n            }\n        }\n        this.activeCell.style.width = avgWidth + '%';\n        newCell.style.width = avgWidth + '%';\n        this.activeCell.parentNode.insertBefore(newCell, this.activeCell.nextSibling);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.getCorrespondingColumns = function () {\n        var elementArray = [];\n        // eslint-disable-next-line\n        var _this = this;\n        var colspan = 0;\n        var allRows = _this.curTable.rows;\n        for (var i = 0; i <= allRows.length - 1; i++) {\n            var ele = allRows[i];\n            var index = 0;\n            for (var j = 0; j <= ele.children.length - 1; j++) {\n                /* eslint-disable */\n                var colEle = ele.children[j];\n                for (var ele_1 = colEle, colspan_1 = parseInt(ele_1.getAttribute('colspan'), 10) || 1, rowSpan = parseInt(ele_1.getAttribute('rowspan'), 10) || 1, rowIndex = i; rowIndex < i + rowSpan; rowIndex++) {\n                    for (var colIndex = index; colIndex < index + colspan_1; colIndex++) {\n                        elementArray[rowIndex] || (elementArray[rowIndex] = []);\n                        elementArray[rowIndex][colIndex] ? index++ : elementArray[rowIndex][colIndex] = colEle;\n                    }\n                }\n                index += colspan;\n            }\n            /* eslint-enable */\n        }\n        return elementArray;\n    };\n    // eslint-disable-next-line\n    TableCommand.prototype.FindIndex = function (rowIndex, columnIndex, cells) {\n        var nextIndex;\n        var nextCol;\n        for (nextIndex = rowIndex + 1, nextCol = columnIndex + 1; nextIndex < cells.length;) {\n            if (cells[nextIndex][columnIndex] !== cells[rowIndex][columnIndex]) {\n                nextIndex--;\n                break;\n            }\n            nextIndex++;\n        }\n        for (nextIndex === cells.length && nextIndex--; nextCol < cells[rowIndex].length;) {\n            if (cells[rowIndex][nextCol] !== cells[rowIndex][columnIndex]) {\n                nextCol--;\n                break;\n            }\n            nextCol++;\n        }\n        return nextCol === cells[rowIndex].length && nextCol--,\n            [\n                nextIndex,\n                nextCol\n            ];\n    };\n    TableCommand.prototype.getCorrespondingIndex = function (cell, allCells) {\n        //let value: RowCol = new RowCol();\n        for (var i = 0; i < allCells.length; i++) {\n            for (var j = 0; j < allCells[i].length; j++) {\n                if (allCells[i][j] === cell) {\n                    return [i, j];\n                }\n            }\n        }\n        return [];\n    };\n    TableCommand.prototype.highlightCells = function (minRow, maxRow, minCol, maxCol, eleArray) {\n        var j;\n        var k;\n        var startCell;\n        var endCell;\n        var minRowIndex = minRow;\n        var maxRowIndex = maxRow;\n        var minColIndex = minCol;\n        var maxColIndex = maxCol;\n        var minMaxValues = new MinMax();\n        for (j = minRowIndex; j <= maxRowIndex; j++) {\n            /* eslint-disable */\n            if ((1 < (parseInt(eleArray[j][minColIndex].getAttribute('rowspan'), 10) || 1) ||\n                1 < (parseInt(eleArray[j][minColIndex].getAttribute('colspan'), 10) || 1)) &&\n                (endCell = this.FindIndex((startCell = this.getCorrespondingIndex(eleArray[j][minColIndex], eleArray))[0], startCell[1], eleArray))) {\n                minRowIndex = Math.min(startCell[0], minRowIndex);\n                maxRowIndex = Math.max(endCell[0], maxRowIndex);\n                minColIndex = Math.min(startCell[1], minColIndex);\n                maxColIndex = Math.max(endCell[1], maxColIndex);\n            }\n            else if ((1 < (parseInt(eleArray[j][maxColIndex].getAttribute('rowspan'), 10) || 1) ||\n                1 < (parseInt(eleArray[j][maxColIndex].getAttribute('colspan'), 10) || 1)) &&\n                (endCell = this.FindIndex((startCell = this.getCorrespondingIndex(eleArray[j][maxColIndex], eleArray))[0], startCell[1], eleArray))) {\n                minRowIndex = Math.min(startCell[0], minRowIndex);\n                maxRowIndex = Math.max(endCell[0], maxRowIndex);\n                minColIndex = Math.min(startCell[1], minColIndex);\n                maxColIndex = Math.max(endCell[1], maxColIndex);\n            }\n            for (k = minColIndex; k <= maxColIndex; k++) {\n                if ((1 < (parseInt(eleArray[minRowIndex][k].getAttribute('rowspan'), 10) || 1) ||\n                    1 < (parseInt(eleArray[minRowIndex][k].getAttribute('colspan'), 10) || 1)) &&\n                    (endCell = this.FindIndex((startCell = this.getCorrespondingIndex(eleArray[minRowIndex][k], eleArray))[0], startCell[1], eleArray))) {\n                    minRowIndex = Math.min(startCell[0], minRowIndex);\n                    maxRowIndex = Math.max(endCell[0], maxRowIndex);\n                    minColIndex = Math.min(startCell[1], minColIndex);\n                    maxColIndex = Math.max(endCell[1], maxColIndex);\n                }\n                else if ((1 < (parseInt(eleArray[maxRowIndex][k].getAttribute('rowspan'), 10) || 1) ||\n                    1 < (parseInt(eleArray[maxRowIndex][k].getAttribute('colspan'), 10) || 1)) &&\n                    (endCell = this.FindIndex((startCell = this.getCorrespondingIndex(eleArray[maxRowIndex][k], eleArray))[0], startCell[1], eleArray))) {\n                    minRowIndex = Math.min(startCell[0], minRowIndex);\n                    maxRowIndex = Math.max(endCell[0], maxRowIndex);\n                    minColIndex = Math.min(startCell[1], minColIndex);\n                    maxColIndex = Math.max(endCell[1], maxColIndex);\n                }\n            }\n            minMaxValues = minRowIndex === minRow && maxRowIndex === maxRow && minColIndex === minCol && maxColIndex === maxCol ? {\n                startRow: minRow,\n                endRow: maxRow,\n                startColumn: minCol,\n                endColumn: maxCol\n            } : this.highlightCells(minRowIndex, maxRowIndex, minColIndex, maxColIndex, eleArray);\n        }\n        return minMaxValues;\n        /* eslint-enable */\n    };\n    TableCommand.prototype.tableMove = function (e) {\n        this.activeCell = e.selectNode[0];\n        var target = e.event.target;\n        var activeCellTag = this.activeCell.tagName;\n        var targetCellTag = target.tagName;\n        this.curTable = closest(target, 'table');\n        if (this.curTable.querySelectorAll('.e-cell-select').length > 1) {\n            this.parent.nodeSelection.Clear(this.parent.currentDocument);\n        }\n        if ((target.tagName !== 'TD' && target.tagName !== 'TH') && activeCellTag !== targetCellTag) {\n            return;\n        }\n        var activeRowIndex = Array.prototype.slice.call((this.activeCell).parentElement.parentElement.children)\n            .indexOf((this.activeCell).parentElement);\n        var activeColumnIndex = Array.prototype.slice.call((this.activeCell).parentElement.children).indexOf(this.activeCell);\n        var targetRowIndex = Array.prototype.slice.call(target.parentElement.parentElement.children)\n            .indexOf(target.parentElement);\n        var targetColumnIndex = Array.prototype.slice.call(target.parentElement.children).indexOf(target);\n        var activeCellList = this.curTable.querySelectorAll('.e-cell-select');\n        for (var i = activeCellList.length - 1; i >= 0; i--) {\n            if (this.activeCell !== activeCellList[i]) {\n                activeCellList[i].classList.remove('e-cell-select');\n            }\n        }\n        if (activeRowIndex === targetRowIndex && activeColumnIndex === targetColumnIndex) {\n            return;\n        }\n        var correspondingCells = this.getCorrespondingColumns();\n        var activeIndexes = this.getCorrespondingIndex(this.activeCell, correspondingCells);\n        var targetIndexes = this.getCorrespondingIndex(target, correspondingCells);\n        var minMaxIndexes = this.highlightCells(Math.min(activeIndexes[0], targetIndexes[0]), Math.max(activeIndexes[0], \n        /* eslint-disable */\n        targetIndexes[0]), Math.min(activeIndexes[1], targetIndexes[1]), Math.max(activeIndexes[1], targetIndexes[1]), correspondingCells);\n        for (var rowIndex = minMaxIndexes.startRow; rowIndex <= minMaxIndexes.endRow; rowIndex++) {\n            for (var colIndex = minMaxIndexes.startColumn; colIndex <= minMaxIndexes.endColumn; colIndex++) {\n                correspondingCells[rowIndex][colIndex].classList.add('e-cell-select');\n            }\n        }\n        if (this.parent.nodeSelection.range) {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, this.parent.nodeSelection.range.endContainer, this.parent.nodeSelection.range.endContainer, 0, 0);\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, this.parent.nodeSelection.range.endContainer, 0);\n        }\n    };\n    ;\n    return TableCommand;\n}());\nexport { TableCommand };\nvar MinMax = /** @class */ (function () {\n    function MinMax() {\n    }\n    return MinMax;\n}());\n","/**\n * Is formatted or not.\n *\n * @hidden\n\n */\nvar IsFormatted = /** @class */ (function () {\n    function IsFormatted() {\n    }\n    /**\n     * getFormattedNode method\n     *\n     * @param {Node} node - specifies the node.\n     * @param {string} format - specifies the string value.\n     * @param {Node} endNode - specifies the end node\n     * @returns {Node} - returns the node\n     * @hidden\n\n     */\n    IsFormatted.prototype.getFormattedNode = function (node, format, endNode) {\n        var parentNode = this.getFormatParent(node, format, endNode);\n        if (parentNode !== null && parentNode !== endNode) {\n            return parentNode;\n        }\n        return null;\n    };\n    IsFormatted.prototype.getFormatParent = function (node, format, endNode) {\n        do {\n            node = node.parentNode;\n        } while (node && (node !== endNode) && !this.isFormattedNode(node, format));\n        return node;\n    };\n    IsFormatted.prototype.isFormattedNode = function (node, format) {\n        switch (format) {\n            case 'bold':\n                return IsFormatted.isBold(node);\n            case 'italic':\n                return IsFormatted.isItalic(node);\n            case 'underline':\n                return IsFormatted.isUnderline(node);\n            case 'strikethrough':\n                return IsFormatted.isStrikethrough(node);\n            case 'superscript':\n                return IsFormatted.isSuperscript(node);\n            case 'subscript':\n                return IsFormatted.isSubscript(node);\n            case 'fontcolor':\n                return this.isFontColor(node);\n            case 'fontname':\n                return this.isFontName(node);\n            case 'fontsize':\n                return this.isFontSize(node);\n            case 'backgroundcolor':\n                return this.isBackgroundColor(node);\n            default:\n                return false;\n        }\n    };\n    /**\n     * isBold method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isBold = function (node) {\n        var validTags = ['strong', 'b'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.fontWeight === 'bold') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isItalic method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isItalic = function (node) {\n        var validTags = ['em', 'i'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.fontStyle === 'italic') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isUnderline method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isUnderline = function (node) {\n        var validTags = ['u'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.textDecoration === 'underline') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isStrikethrough method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isStrikethrough = function (node) {\n        var validTags = ['del', 'strike'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.textDecoration === 'line-through') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isSuperscript method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isSuperscript = function (node) {\n        var validTags = ['sup'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isSubscript method\n     *\n     * @param {Node} node - specifies the node value\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    IsFormatted.isSubscript = function (node) {\n        var validTags = ['sub'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontColor = function (node) {\n        var color = node.style && node.style.color;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            color !== null && color !== '' && color !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isBackgroundColor = function (node) {\n        var backColor = node.style && node.style.backgroundColor;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            backColor !== null && backColor !== '' && backColor !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontSize = function (node) {\n        var size = node.style && node.style.fontSize;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            size !== null && size !== '' && size !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontName = function (node) {\n        var name = node.style && node.style.fontFamily;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            name !== null && name !== '' && name !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    // Get Formatted Node\n    IsFormatted.inlineTags = [\n        'a',\n        'abbr',\n        'acronym',\n        'b',\n        'bdo',\n        'big',\n        'cite',\n        'code',\n        'dfn',\n        'em',\n        'i',\n        'kbd',\n        'label',\n        'q',\n        'samp',\n        'small',\n        'span',\n        'strong',\n        'sub',\n        'sup',\n        'tt',\n        'u',\n        'var',\n        'del'\n    ];\n    return IsFormatted;\n}());\nexport { IsFormatted };\n","/**\n * `Selection` module is used to handle RTE Selections.\n */\nimport { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport { InsertMethods } from './insert-methods';\nimport { IsFormatted } from './isformatted';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { isNullOrUndefined as isNOU, Browser, closest, detach } from '@syncfusion/ej2-base';\nimport { DOMNode } from './dom-node';\nvar SelectionCommands = /** @class */ (function () {\n    function SelectionCommands() {\n    }\n    /**\n     * applyFormat method\n     *\n     * @param {Document} docElement - specifies the document\n     * @param {string} format - specifies the string value\n     * @param {Node} endNode - specifies the end node\n     * @param {string} enterAction - specifies the enter key action\n     * @param {string} value - specifies the string value\n     * @param {string} selector - specifies the string\n     * @returns {void}\n     * @hidden\n\n     */\n    SelectionCommands.applyFormat = function (docElement, format, endNode, enterAction, value, selector) {\n        this.enterAction = enterAction;\n        var validFormats = ['bold', 'italic', 'underline', 'strikethrough', 'superscript',\n            'subscript', 'uppercase', 'lowercase', 'fontcolor', 'fontname', 'fontsize', 'backgroundcolor'];\n        if (validFormats.indexOf(format) > -1) {\n            if (format === 'backgroundcolor' && value === '') {\n                value = 'transparent';\n            }\n            var domSelection = new NodeSelection();\n            var domNode = new DOMNode(endNode, docElement);\n            var nodeCutter = new NodeCutter();\n            var isFormatted = new IsFormatted();\n            var range = domSelection.getRange(docElement);\n            var save = domSelection.save(range, docElement);\n            var nodes = range.collapsed ? domSelection.getSelectionNodeCollection(range) :\n                domSelection.getSelectionNodeCollectionBr(range);\n            var isCollapsed = false;\n            var isFormat = false;\n            var isCursor = false;\n            var preventRestore = false;\n            var isFontStyle = (['fontcolor', 'fontname', 'fontsize', 'backgroundcolor'].indexOf(format) > -1);\n            if (range.collapsed) {\n                if (nodes.length > 0) {\n                    isCollapsed = true;\n                    range = nodeCutter.GetCursorRange(docElement, range, nodes[0]);\n                }\n                else if (range.startContainer.nodeType === 3 && range.startContainer.parentElement.childElementCount > 0 &&\n                    range.startOffset > 0 && range.startContainer.parentElement.firstElementChild.tagName.toLowerCase() !== 'br') {\n                    isCollapsed = true;\n                    range = nodeCutter.GetCursorRange(docElement, range, range.startContainer);\n                    nodes.push(range.startContainer);\n                }\n                else {\n                    var cursorNode = this.insertCursorNode(docElement, domSelection, range, isFormatted, nodeCutter, format, value, endNode);\n                    domSelection.endContainer = domSelection.startContainer = domSelection.getNodeArray(cursorNode, true);\n                    var childNodes = cursorNode.nodeName === 'BR' && cursorNode.parentNode.childNodes;\n                    if (!isNOU(childNodes) && childNodes.length === 1 && childNodes[0].nodeName === 'BR' && nodes.length === 0) {\n                        domSelection.setSelectionText(docElement, range.startContainer, range.endContainer, 0, 0);\n                        preventRestore = true;\n                    }\n                    else {\n                        domSelection.endOffset = domSelection.startOffset = 1;\n                    }\n                    if (cursorNode.nodeName === 'BR' && cursorNode.parentNode.textContent.length === 0) {\n                        preventRestore = true;\n                    }\n                }\n            }\n            isCursor = range.collapsed;\n            var isSubSup = false;\n            for (var index = 0; index < nodes.length; index++) {\n                var formatNode = isFormatted.getFormattedNode(nodes[index], format, endNode);\n                if (formatNode === null) {\n                    if (format === 'subscript') {\n                        formatNode = isFormatted.getFormattedNode(nodes[index], 'superscript', endNode);\n                        isSubSup = formatNode === null ? false : true;\n                    }\n                    else if (format === 'superscript') {\n                        formatNode = isFormatted.getFormattedNode(nodes[index], 'subscript', endNode);\n                        isSubSup = formatNode === null ? false : true;\n                    }\n                }\n                if (index === 0 && formatNode === null) {\n                    isFormat = true;\n                }\n                if (formatNode !== null && (!isFormat || isFontStyle)) {\n                    nodes[index] = this.removeFormat(nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value, domSelection, endNode, domNode);\n                }\n                else {\n                    nodes[index] = this.insertFormat(docElement, nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value);\n                }\n                domSelection = this.applySelection(nodes, domSelection, nodeCutter, index, isCollapsed);\n            }\n            if (isIDevice()) {\n                setEditFrameFocus(endNode, selector);\n            }\n            if (!preventRestore) {\n                save.restore();\n            }\n            if (isSubSup) {\n                this.applyFormat(docElement, format, endNode, enterAction);\n            }\n        }\n    };\n    SelectionCommands.insertCursorNode = function (docElement, domSelection, range, isFormatted, nodeCutter, format, value, endNode) {\n        var cursorNodes = domSelection.getNodeCollection(range);\n        var domNode = new DOMNode(endNode, docElement);\n        var cursorFormat = (cursorNodes.length > 0) ?\n            (cursorNodes.length > 1 && range.startContainer === range.endContainer) ?\n                this.getCursorFormat(isFormatted, cursorNodes, format, endNode) :\n                isFormatted.getFormattedNode(cursorNodes[0], format, endNode) : null;\n        var cursorNode = null;\n        if (cursorFormat) {\n            cursorNode = cursorNodes[0];\n            if (cursorFormat.firstChild.textContent.charCodeAt(0) === 8203 && cursorFormat.firstChild.nodeType === 3) {\n                var isCursorEqual = false;\n                var regEx = new RegExp(String.fromCharCode(8203), 'g');\n                var emptySpaceNode = void 0;\n                if (cursorFormat.firstChild === cursorNode) {\n                    cursorNode.textContent = (cursorFormat.parentElement && (domNode.isBlockNode(cursorFormat.parentElement) &&\n                        cursorFormat.parentElement.textContent.length <= 1 ? cursorFormat.parentElement.childElementCount > 1 :\n                        cursorFormat.childElementCount === 0) &&\n                        (cursorFormat.parentElement.textContent.length > 1 ||\n                            cursorFormat.parentElement.firstChild && cursorFormat.parentElement.firstChild.nodeType === 1) ?\n                        cursorNode.textContent : cursorNode.textContent.replace(regEx, ''));\n                    emptySpaceNode = cursorNode;\n                    isCursorEqual = true;\n                }\n                else {\n                    cursorFormat.firstChild.textContent = cursorFormat.firstChild.textContent.replace(regEx, '');\n                    emptySpaceNode = cursorFormat.firstChild;\n                }\n                var pointer = void 0;\n                if (emptySpaceNode.textContent.length === 0) {\n                    if (!isNOU(emptySpaceNode.previousSibling)) {\n                        cursorNode = emptySpaceNode.previousSibling;\n                        pointer = emptySpaceNode.textContent.length - 1;\n                        domSelection.setCursorPoint(docElement, emptySpaceNode, pointer);\n                    }\n                    else if (!isNOU(emptySpaceNode.parentElement) && emptySpaceNode.parentElement.textContent.length === 0) {\n                        var brElem = document.createElement('BR');\n                        emptySpaceNode.parentElement.appendChild(brElem);\n                        detach(emptySpaceNode);\n                        cursorNode = brElem;\n                        domSelection.setCursorPoint(docElement, cursorNode.parentElement, 0);\n                    }\n                }\n            }\n            if ((['fontcolor', 'fontname', 'fontsize', 'backgroundcolor'].indexOf(format) > -1)) {\n                if (format === 'fontcolor') {\n                    cursorFormat.style.color = value;\n                }\n                else if (format === 'fontname') {\n                    cursorFormat.style.fontFamily = value;\n                }\n                else if (format === 'fontsize') {\n                    cursorFormat.style.fontSize = value;\n                }\n                else {\n                    cursorFormat.style.backgroundColor = value;\n                }\n                cursorNode = cursorFormat;\n            }\n            else {\n                InsertMethods.unwrap(cursorFormat);\n            }\n        }\n        else {\n            if (cursorNodes.length > 1 && range.startOffset > 0 && (cursorNodes[0].firstElementChild &&\n                cursorNodes[0].firstElementChild.tagName.toLowerCase() === 'br')) {\n                cursorNodes[0].innerHTML = '';\n            }\n            if (cursorNodes.length === 1 && range.startOffset === 0 && (cursorNodes[0].nodeName === 'BR' ||\n                cursorNodes[0].nextSibling.nodeName === 'BR')) {\n                detach(cursorNodes[0].nodeName === '#text' ? cursorNodes[0].nextSibling : cursorNodes[0]);\n            }\n            cursorNode = this.getInsertNode(docElement, range, format, value).firstChild;\n        }\n        return cursorNode;\n    };\n    SelectionCommands.getCursorFormat = function (isFormatted, cursorNodes, format, endNode) {\n        var currentNode;\n        for (var index = 0; index < cursorNodes.length; index++) {\n            currentNode = cursorNodes[index].lastElementChild ?\n                cursorNodes[index].lastElementChild : cursorNodes[index];\n        }\n        return isFormatted.getFormattedNode(currentNode, format, endNode);\n    };\n    SelectionCommands.removeFormat = function (nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value, domSelection, endNode, domNode) {\n        var splitNode = null;\n        var startText = range.startContainer.nodeName === '#text' ?\n            range.startContainer.textContent.substring(range.startOffset, range.startContainer.textContent.length) :\n            range.startContainer.textContent;\n        if (!(range.startContainer === range.endContainer && range.startOffset === 0\n            && range.endOffset === range.startContainer.length)) {\n            var nodeIndex = [];\n            var cloneNode = nodes[index];\n            do {\n                nodeIndex.push(domSelection.getIndex(cloneNode));\n                cloneNode = cloneNode.parentNode;\n            } while (cloneNode && (cloneNode !== formatNode));\n            if (nodes[index].nodeName !== 'BR') {\n                cloneNode = splitNode = (isCursor && (formatNode.textContent.length - 1) === range.startOffset) ?\n                    nodeCutter.SplitNode(range, formatNode, true)\n                    : nodeCutter.GetSpliceNode(range, formatNode);\n            }\n            if (!isCursor) {\n                while (cloneNode && cloneNode.childNodes.length > 0 && ((nodeIndex.length - 1) >= 0)\n                    && (cloneNode.childNodes.length > nodeIndex[nodeIndex.length - 1])) {\n                    cloneNode = cloneNode.childNodes[nodeIndex[nodeIndex.length - 1]];\n                    nodeIndex.pop();\n                }\n                if (nodes[index].nodeName !== 'BR') {\n                    if (cloneNode.nodeType === 3 && !(isCursor && cloneNode.nodeValue === '')) {\n                        nodes[index] = cloneNode;\n                    }\n                    else {\n                        var divNode = document.createElement('div');\n                        divNode.innerHTML = '&#8203;';\n                        if (cloneNode.nodeType !== 3) {\n                            cloneNode.insertBefore(divNode.firstChild, cloneNode.firstChild);\n                            nodes[index] = cloneNode.firstChild;\n                        }\n                        else {\n                            cloneNode.parentNode.insertBefore(divNode.firstChild, cloneNode);\n                            nodes[index] = cloneNode.previousSibling;\n                            cloneNode.parentNode.removeChild(cloneNode);\n                        }\n                    }\n                }\n            }\n            else {\n                var lastNode = splitNode;\n                for (; lastNode.firstChild !== null && lastNode.firstChild.nodeType !== 3; null) {\n                    lastNode = lastNode.firstChild;\n                }\n                lastNode.innerHTML = '&#8203;';\n                nodes[index] = lastNode.firstChild;\n            }\n        }\n        var fontStyle;\n        if (format === 'backgroundcolor') {\n            fontStyle = formatNode.style.fontSize;\n        }\n        var bgStyle;\n        if (format === 'fontsize') {\n            var bg = closest(nodes[index].parentElement, 'span[style*=' + 'background-color' + ']');\n            if (!isNOU(bg)) {\n                bgStyle = bg.style.backgroundColor;\n            }\n        }\n        var formatNodeStyles = formatNode.getAttribute('style');\n        var formatNodeTagName = formatNode.tagName;\n        var child = InsertMethods.unwrap(formatNode);\n        if (child[0] && !isFontStyle) {\n            var nodeTraverse = child[index] ? child[index] : child[0];\n            var textNode = nodeTraverse;\n            for (; nodeTraverse && nodeTraverse.parentElement && nodeTraverse.parentElement !== endNode; \n            // eslint-disable-next-line\n            nodeTraverse = nodeTraverse) {\n                if (nodeTraverse.parentElement && nodeTraverse.parentElement.tagName.toLocaleLowerCase()\n                    === formatNode.tagName.toLocaleLowerCase() &&\n                    (nodeTraverse.parentElement.childElementCount > 1 || range.startOffset > 1)) {\n                    if (textNode.parentElement && textNode.parentElement.tagName.toLocaleLowerCase()\n                        === formatNode.tagName.toLocaleLowerCase()) {\n                        if ((range.startOffset === range.endOffset) && textNode.nodeType !== 1 &&\n                            !isNOU(textNode.textContent) && textNode.parentElement.childElementCount > 1) {\n                            range.setStart(textNode, 0);\n                            range.setEnd(textNode, textNode.textContent.length);\n                            nodeCutter.SplitNode(range, textNode.parentElement, false);\n                        }\n                    }\n                    if (nodeTraverse.parentElement.tagName.toLocaleLowerCase() === 'span') {\n                        if (formatNode.style.textDecoration === 'underline' &&\n                            nodeTraverse.parentElement.style.textDecoration !== 'underline') {\n                            nodeTraverse = nodeTraverse.parentElement;\n                            continue;\n                        }\n                    }\n                    InsertMethods.unwrap(nodeTraverse.parentElement);\n                    nodeTraverse = !isNOU(nodeTraverse.parentElement) && !domNode.isBlockNode(nodeTraverse.parentElement) ? textNode :\n                        nodeTraverse.parentElement;\n                }\n                else {\n                    nodeTraverse = nodeTraverse.parentElement;\n                }\n            }\n        }\n        if (child.length > 0 && isFontStyle) {\n            for (var num = 0; num < child.length; num++) {\n                if (child[num].nodeType !== 3 || (child[num].textContent && child[num].textContent.trim().length > 0)) {\n                    child[num] = InsertMethods.Wrap(child[num], this.GetFormatNode(format, value, formatNodeTagName, formatNodeStyles));\n                    if (child[num].textContent === startText) {\n                        if (num === 0) {\n                            range.setStartBefore(child[num]);\n                        }\n                        else if (num === child.length - 1) {\n                            range.setEndAfter(child[num]);\n                        }\n                    }\n                }\n            }\n            var currentNodeElem = nodes[index].parentElement;\n            if (!isNOU(fontStyle) && fontStyle !== '') {\n                currentNodeElem.style.fontSize = fontStyle;\n            }\n            if (!isNOU(bgStyle) && bgStyle !== '') {\n                currentNodeElem.style.backgroundColor = bgStyle;\n            }\n            if ((format === 'backgroundcolor' && !isNOU(fontStyle) && fontStyle !== '') &&\n                currentNodeElem.parentElement.innerHTML === currentNodeElem.outerHTML) {\n                var curParentElem = currentNodeElem.parentElement;\n                curParentElem.parentElement.insertBefore(currentNodeElem, curParentElem);\n                detach(curParentElem);\n            }\n            if (format === 'fontsize' || format === 'fontcolor') {\n                var liElement = nodes[index].parentElement;\n                var parentElement = nodes[index].parentElement;\n                while (!isNOU(parentElement) && parentElement.tagName.toLowerCase() !== 'li') {\n                    parentElement = parentElement.parentElement;\n                    liElement = parentElement;\n                }\n                if (!isNOU(liElement) && liElement.tagName.toLowerCase() === 'li' &&\n                    liElement.textContent.trim() === nodes[index].textContent.trim()) {\n                    if (format === 'fontsize') {\n                        liElement.style.fontSize = value;\n                    }\n                    else {\n                        liElement.style.color = value;\n                        liElement.style.textDecoration = 'inherit';\n                    }\n                }\n            }\n        }\n        return nodes[index];\n    };\n    SelectionCommands.insertFormat = function (docElement, nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value) {\n        if (!isCursor) {\n            if ((formatNode === null && isFormat) || isFontStyle) {\n                if (nodes[index].nodeName !== 'BR') {\n                    nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n                    nodes[index].textContent = nodeCutter.TrimLineBreak(nodes[index].textContent);\n                }\n                if (format === 'uppercase' || format === 'lowercase') {\n                    nodes[index].textContent = (format === 'uppercase') ? nodes[index].textContent.toLocaleUpperCase()\n                        : nodes[index].textContent.toLocaleLowerCase();\n                }\n                else if (!(isFontStyle === true && value === '')) {\n                    var element = this.GetFormatNode(format, value);\n                    if (format === 'fontsize' || format === 'fontcolor') {\n                        var liElement = nodes[index].parentElement;\n                        var parentElement = nodes[index].parentElement;\n                        while (!isNOU(parentElement) && parentElement.tagName.toLowerCase() !== 'li') {\n                            parentElement = parentElement.parentElement;\n                            liElement = parentElement;\n                        }\n                        if (!isNOU(liElement) && liElement.tagName.toLowerCase() === 'li' &&\n                            liElement.textContent.trim() === nodes[index].textContent.trim()) {\n                            if (format === 'fontsize') {\n                                liElement.style.fontSize = value;\n                            }\n                            else {\n                                liElement.style.color = value;\n                                liElement.style.textDecoration = 'inherit';\n                            }\n                        }\n                        nodes[index] = this.applyStyles(nodes, index, element);\n                        if (format === 'fontsize') {\n                            var bg = closest(nodes[index].parentElement, 'span[style*=' + 'background-color' + ']');\n                            if (!isNOU(bg)) {\n                                nodes[index].parentElement.style.backgroundColor = bg.style.backgroundColor;\n                            }\n                        }\n                    }\n                    else {\n                        nodes[index] = this.applyStyles(nodes, index, element);\n                    }\n                }\n            }\n            else {\n                nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n            }\n        }\n        else {\n            if (format !== 'uppercase' && format !== 'lowercase') {\n                var element = this.getInsertNode(docElement, range, format, value);\n                nodes[index] = element.firstChild;\n                nodeCutter.position = 1;\n            }\n            else {\n                nodeCutter.position = range.startOffset;\n            }\n        }\n        return nodes[index];\n    };\n    SelectionCommands.applyStyles = function (nodes, index, element) {\n        if (!(nodes[index].nodeName === 'BR' && this.enterAction === 'BR')) {\n            nodes[index] = (index === (nodes.length - 1)) || nodes[index].nodeName === 'BR' ?\n                InsertMethods.Wrap(nodes[index], element)\n                : InsertMethods.WrapBefore(nodes[index], element, true);\n            nodes[index] = this.getChildNode(nodes[index], element);\n        }\n        return nodes[index];\n    };\n    SelectionCommands.getInsertNode = function (docElement, range, format, value) {\n        var element = this.GetFormatNode(format, value);\n        element.innerHTML = '&#8203;';\n        if (Browser.isIE) {\n            var frag = docElement.createDocumentFragment();\n            frag.appendChild(element);\n            range.insertNode(frag);\n        }\n        else {\n            range.insertNode(element);\n        }\n        return element;\n    };\n    SelectionCommands.getChildNode = function (node, element) {\n        if (node === undefined || node === null) {\n            element.innerHTML = '&#8203;';\n            node = element.firstChild;\n        }\n        return node;\n    };\n    SelectionCommands.applySelection = function (nodes, domSelection, nodeCutter, index, isCollapsed) {\n        if (nodes.length === 1 && !isCollapsed) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.endContainer = domSelection.startContainer;\n            domSelection.startOffset = 0;\n            domSelection.endOffset = nodes[index].textContent.length;\n        }\n        else if (nodes.length === 1 && isCollapsed) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.endContainer = domSelection.startContainer;\n            domSelection.startOffset = nodeCutter.position;\n            domSelection.endOffset = nodeCutter.position;\n        }\n        else if (index === 0) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.startOffset = 0;\n        }\n        else if (index === nodes.length - 1) {\n            domSelection.endContainer = domSelection.getNodeArray(nodes[index], false);\n            domSelection.endOffset = nodes[index].textContent.length;\n        }\n        return domSelection;\n    };\n    SelectionCommands.GetFormatNode = function (format, value, tagName, styles) {\n        var node;\n        switch (format) {\n            case 'bold':\n                return document.createElement('strong');\n            case 'italic':\n                return document.createElement('em');\n            case 'underline':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.textDecoration = 'underline';\n                return node;\n            case 'strikethrough':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.textDecoration = 'line-through';\n                return node;\n            case 'superscript':\n                return document.createElement('sup');\n            case 'subscript':\n                return document.createElement('sub');\n            case 'fontcolor':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.color = value;\n                node.style.textDecoration = 'inherit';\n                return node;\n            case 'fontname':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.fontFamily = value;\n                return node;\n            case 'fontsize':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.fontSize = value;\n                return node;\n            default:\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.backgroundColor = value;\n                return node;\n        }\n    };\n    SelectionCommands.updateStyles = function (ele, tag, styles) {\n        if (styles !== null && tag === 'SPAN') {\n            ele.setAttribute('style', styles);\n        }\n    };\n    SelectionCommands.enterAction = 'P';\n    return SelectionCommands;\n}());\nexport { SelectionCommands };\n","import * as CONSTANT from './../base/constant';\nimport { SelectionCommands } from './selection-commands';\nimport * as EVENTS from './../../common/constant';\n/**\n * Selection EXEC internal component\n *\n * @hidden\n\n */\nvar SelectionBasedExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function SelectionBasedExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    SelectionBasedExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.SELECTION_TYPE, this.applySelection, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDownHandler, this);\n    };\n    SelectionBasedExec.prototype.keyDownHandler = function (e) {\n        var validFormats = ['bold', 'italic', 'underline', 'strikethrough', 'superscript',\n            'subscript', 'uppercase', 'lowercase'];\n        if (e.event.ctrlKey && validFormats.indexOf(e.event.action) > -1) {\n            e.event.preventDefault();\n            SelectionCommands.applyFormat(this.parent.currentDocument, e.event.action, this.parent.editableElement, e.enterAction);\n            this.callBack(e, e.event.action);\n        }\n    };\n    SelectionBasedExec.prototype.applySelection = function (e) {\n        SelectionCommands.applyFormat(this.parent.currentDocument, e.subCommand.toLocaleLowerCase(), this.parent.editableElement, e.enterAction, e.value, e.selector);\n        this.callBack(e, e.subCommand);\n    };\n    SelectionBasedExec.prototype.callBack = function (event, action) {\n        if (event.callBack) {\n            event.callBack({\n                requestType: action,\n                event: event.event,\n                editorMode: 'HTML',\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return SelectionBasedExec;\n}());\nexport { SelectionBasedExec };\n","import * as CONSTANT from './../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Selection EXEC internal component\n *\n * @hidden\n\n */\nvar InsertHtmlExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - sepcifies the parent element\n     * @hidden\n\n     */\n    function InsertHtmlExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    InsertHtmlExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INSERTHTML_TYPE, this.applyHtml, this);\n    };\n    InsertHtmlExec.prototype.applyHtml = function (e) {\n        InsertHtml.Insert(this.parent.currentDocument, e.value, this.parent.editableElement, true);\n        if (e.subCommand === 'pasteCleanup') {\n            var pastedElements = this.parent.editableElement.querySelectorAll('.pasteContent_RTE');\n            var allPastedElements = [].slice.call(pastedElements);\n            var imgElements = this.parent.editableElement.querySelectorAll('.pasteContent_Img');\n            var allImgElm = [].slice.call(imgElements);\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                elements: allPastedElements,\n                imgElem: allImgElm\n            });\n        }\n        else {\n            if (e.callBack) {\n                e.callBack({\n                    requestType: e.subCommand,\n                    editorMode: 'HTML',\n                    event: e.event,\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n                });\n            }\n        }\n    };\n    return InsertHtmlExec;\n}());\nexport { InsertHtmlExec };\n","/**\n * `Clear Format` module is used to handle Clear Format.\n */\nimport { closest } from '@syncfusion/ej2-base';\nimport { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport { DOMNode } from './dom-node';\nimport { InsertMethods } from './insert-methods';\nimport { IsFormatted } from './isformatted';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nvar ClearFormat = /** @class */ (function () {\n    function ClearFormat() {\n    }\n    /**\n     * clear method\n     *\n     * @param {Document} docElement - specifies the document element.\n     * @param {Node} endNode - specifies the end node\n     * @param {string} enterAction - specifies the enter key action\n     * @param {string} selector - specifies the string value\n     * @returns {void}\n     * @hidden\n\n     */\n    ClearFormat.clear = function (docElement, endNode, enterAction, selector) {\n        this.domNode = new DOMNode(endNode, docElement);\n        this.defaultTag = enterAction === 'P' ? this.defaultTag : 'div';\n        var nodeSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = nodeSelection.getRange(docElement);\n        var isCollapsed = range.collapsed;\n        var nodes = nodeSelection.getInsertNodeCollection(range);\n        var save = nodeSelection.save(range, docElement);\n        if (!isCollapsed) {\n            var preNode = void 0;\n            if (nodes[0].nodeName === 'BR' && closest(nodes[0], 'table')) {\n                preNode = nodeCutter.GetSpliceNode(range, closest(nodes[0], 'table'));\n            }\n            else {\n                preNode = nodeCutter.GetSpliceNode(range, nodes[nodes.length > 1 && nodes[0].nodeName === 'IMG' ? 1 : 0]);\n            }\n            if (nodes.length === 1) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n            }\n            else {\n                var i = 1;\n                var lastText = nodes[nodes.length - i];\n                while (nodes.length <= i && nodes[nodes.length - i].nodeName === 'BR') {\n                    i++;\n                    lastText = nodes[nodes.length - i];\n                }\n                var lasNode = nodeCutter.GetSpliceNode(range, lastText);\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n            }\n            var exactNodes = nodeSelection.getNodeCollection(range);\n            var cloneSelectNodes = exactNodes.slice();\n            this.clearInlines(nodeSelection.getSelectionNodes(cloneSelectNodes), cloneSelectNodes, nodeSelection.getRange(docElement), nodeCutter, endNode);\n            this.reSelection(docElement, save, exactNodes);\n            range = nodeSelection.getRange(docElement);\n            exactNodes = nodeSelection.getNodeCollection(range);\n            var cloneParentNodes = exactNodes.slice();\n            this.clearBlocks(docElement, cloneParentNodes, endNode, nodeCutter, nodeSelection);\n            if (isIDevice()) {\n                setEditFrameFocus(endNode, selector);\n            }\n            this.reSelection(docElement, save, exactNodes);\n        }\n    };\n    ClearFormat.reSelection = function (docElement, save, exactNodes) {\n        var selectionNodes = save.getInsertNodes(exactNodes);\n        save.startContainer = save.getNodeArray(selectionNodes[0], true, docElement);\n        save.startOffset = 0;\n        save.endContainer = save.getNodeArray(selectionNodes[selectionNodes.length - 1], false, docElement);\n        var endIndexNode = selectionNodes[selectionNodes.length - 1];\n        save.endOffset = (endIndexNode.nodeType === 3) ? endIndexNode.textContent.length\n            : endIndexNode.childNodes.length;\n        save.restore();\n    };\n    ClearFormat.clearBlocks = function (docElement, nodes, endNode, nodeCutter, nodeSelection) {\n        var parentNodes = [];\n        for (var index = 0; index < nodes.length; index++) {\n            if (this.BLOCK_TAGS.indexOf(nodes[index].nodeName.toLocaleLowerCase()) > -1\n                && parentNodes.indexOf(nodes[index]) === -1) {\n                parentNodes.push(nodes[index]);\n            }\n            else if ((this.BLOCK_TAGS.indexOf(nodes[index].parentNode.nodeName.toLocaleLowerCase()) > -1)\n                && parentNodes.indexOf(nodes[index].parentNode) === -1\n                && endNode !== nodes[index].parentNode) {\n                parentNodes.push(nodes[index].parentNode);\n            }\n        }\n        parentNodes = this.spliceParent(parentNodes, nodes)[0];\n        parentNodes = this.removeParent(parentNodes);\n        this.unWrap(docElement, parentNodes, nodeCutter, nodeSelection);\n    };\n    ClearFormat.spliceParent = function (parentNodes, nodes) {\n        for (var index1 = 0; index1 < parentNodes.length; index1++) {\n            var len = parentNodes[index1].childNodes.length;\n            for (var index2 = 0; index2 < len; index2++) {\n                if ((nodes.indexOf(parentNodes[index1].childNodes[index2]) > 0)\n                    && (parentNodes[index1].childNodes[index2].childNodes.length > 0)) {\n                    nodes = this.spliceParent([parentNodes[index1].childNodes[index2]], nodes)[1];\n                }\n                if ((nodes.indexOf(parentNodes[index1].childNodes[index2]) <= -1) &&\n                    (parentNodes[index1].childNodes[index2].textContent.trim() !== '')) {\n                    for (var index3 = 0; index3 < len; index3++) {\n                        if (nodes.indexOf(parentNodes[index1].childNodes[index3]) > -1) {\n                            nodes.splice(nodes.indexOf(parentNodes[index1].childNodes[index3]), 1);\n                        }\n                    }\n                    index2 = parentNodes[index1].childNodes.length;\n                    var parentIndex = parentNodes.indexOf(parentNodes[index1].parentNode);\n                    var nodeIndex = nodes.indexOf(parentNodes[index1].parentNode);\n                    if (parentIndex > -1) {\n                        parentNodes.splice(parentIndex, 1);\n                    }\n                    if (nodeIndex > -1) {\n                        nodes.splice(nodeIndex, 1);\n                    }\n                    var elementIndex = nodes.indexOf(parentNodes[index1]);\n                    if (elementIndex > -1) {\n                        nodes.splice(elementIndex, 1);\n                    }\n                    parentNodes.splice(index1, 1);\n                    index1--;\n                }\n            }\n        }\n        return [parentNodes, nodes];\n    };\n    ClearFormat.removeChild = function (parentNodes, parentNode) {\n        var count = parentNode.childNodes.length;\n        if (count > 0) {\n            for (var index = 0; index < count; index++) {\n                if (parentNodes.indexOf(parentNode.childNodes[index]) > -1) {\n                    parentNodes = this.removeChild(parentNodes, parentNode.childNodes[index]);\n                    parentNodes.splice(parentNodes.indexOf(parentNode.childNodes[index]), 1);\n                }\n            }\n        }\n        return parentNodes;\n    };\n    ClearFormat.removeParent = function (parentNodes) {\n        for (var index = 0; index < parentNodes.length; index++) {\n            if (parentNodes.indexOf(parentNodes[index].parentNode) > -1) {\n                parentNodes = this.removeChild(parentNodes, parentNodes[index]);\n                parentNodes.splice(index, 1);\n                index--;\n            }\n        }\n        return parentNodes;\n    };\n    ClearFormat.unWrap = function (docElement, parentNodes, nodeCutter, nodeSelection) {\n        for (var index1 = 0; index1 < parentNodes.length; index1++) {\n            if (this.NONVALID_TAGS.indexOf(parentNodes[index1].nodeName.toLowerCase()) > -1\n                && parentNodes[index1].parentNode\n                && this.NONVALID_PARENT_TAGS.indexOf(parentNodes[index1].parentNode.nodeName.toLowerCase()) > -1) {\n                nodeSelection.setSelectionText(docElement, parentNodes[index1], parentNodes[index1], 0, parentNodes[index1].childNodes.length);\n                InsertMethods.unwrap(nodeCutter.GetSpliceNode(nodeSelection.getRange(docElement), parentNodes[index1].parentNode));\n            }\n            if (parentNodes[index1].nodeName.toLocaleLowerCase() !== 'p') {\n                if (this.NONVALID_PARENT_TAGS.indexOf(parentNodes[index1].nodeName.toLowerCase()) < 0\n                    && parentNodes[index1].parentNode.nodeName.toLocaleLowerCase() !== 'p'\n                    && !((parentNodes[index1].nodeName.toLocaleLowerCase() === 'blockquote'\n                        || parentNodes[index1].nodeName.toLocaleLowerCase() === 'li')\n                        && this.IGNORE_PARENT_TAGS.indexOf(parentNodes[index1].childNodes[0].nodeName.toLocaleLowerCase()) > -1)\n                    && !(parentNodes[index1].childNodes.length === 1\n                        && parentNodes[index1].childNodes[0].nodeName.toLocaleLowerCase() === 'p')) {\n                    InsertMethods.Wrap(parentNodes[index1], docElement.createElement(this.defaultTag));\n                }\n                var childNodes = InsertMethods.unwrap(parentNodes[index1]);\n                if (childNodes.length === 1\n                    && childNodes[0].parentNode.nodeName.toLocaleLowerCase() === 'p') {\n                    InsertMethods.Wrap(parentNodes[index1], docElement.createElement(this.defaultTag));\n                    InsertMethods.unwrap(parentNodes[index1]);\n                }\n                for (var index2 = 0; index2 < childNodes.length; index2++) {\n                    if (this.NONVALID_TAGS.indexOf(childNodes[index2].nodeName.toLowerCase()) > -1) {\n                        this.unWrap(docElement, [childNodes[index2]], nodeCutter, nodeSelection);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].nodeName.toLocaleLowerCase() !== 'p') {\n                        var blockNodes = this.removeParent([childNodes[index2]]);\n                        this.unWrap(docElement, blockNodes, nodeCutter, nodeSelection);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].parentNode.nodeName.toLocaleLowerCase() === childNodes[index2].nodeName.toLocaleLowerCase()) {\n                        InsertMethods.unwrap(childNodes[index2]);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].nodeName.toLocaleLowerCase() === 'p') {\n                        InsertMethods.Wrap(childNodes[index2], docElement.createElement(this.defaultTag));\n                        InsertMethods.unwrap(childNodes[index2]);\n                    }\n                }\n            }\n            else {\n                InsertMethods.Wrap(parentNodes[index1], docElement.createElement(this.defaultTag));\n                InsertMethods.unwrap(parentNodes[index1]);\n            }\n        }\n    };\n    ClearFormat.clearInlines = function (textNodes, nodes, range, nodeCutter, \n    // eslint-disable-next-line\n    endNode) {\n        for (var index = 0; index < textNodes.length; index++) {\n            var currentInlineNode = textNodes[index];\n            var currentNode = void 0;\n            while (!this.domNode.isBlockNode(currentInlineNode)) {\n                currentNode = currentInlineNode;\n                currentInlineNode = currentInlineNode.parentElement;\n            }\n            if (currentNode &&\n                IsFormatted.inlineTags.indexOf(currentNode.nodeName.toLocaleLowerCase()) > -1) {\n                nodeCutter.GetSpliceNode(range, currentNode);\n                this.removeInlineParent(currentNode);\n            }\n        }\n    };\n    ClearFormat.removeInlineParent = function (textNodes) {\n        var nodes = InsertMethods.unwrap(textNodes);\n        for (var index = 0; index < nodes.length; index++) {\n            if (nodes[index].parentNode.childNodes.length === 1\n                && IsFormatted.inlineTags.indexOf(nodes[index].parentNode.nodeName.toLocaleLowerCase()) > -1) {\n                this.removeInlineParent(nodes[index].parentNode);\n            }\n            else if (IsFormatted.inlineTags.indexOf(nodes[index].nodeName.toLocaleLowerCase()) > -1) {\n                this.removeInlineParent(nodes[index]);\n            }\n        }\n    };\n    ClearFormat.BLOCK_TAGS = ['address', 'article', 'aside', 'blockquote',\n        'details', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer',\n        'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'li', 'main', 'nav',\n        'noscript', 'ol', 'p', 'pre', 'section', 'ul'];\n    ClearFormat.NONVALID_PARENT_TAGS = ['thead', 'tbody', 'ul', 'ol', 'table', 'tfoot', 'tr'];\n    ClearFormat.IGNORE_PARENT_TAGS = ['ul', 'ol', 'table'];\n    ClearFormat.NONVALID_TAGS = ['thead', 'tbody', 'figcaption', 'td', 'tr', 'th', 'tfoot', 'figcaption', 'li'];\n    ClearFormat.defaultTag = 'p';\n    return ClearFormat;\n}());\nexport { ClearFormat };\n","import * as CONSTANT from './../base/constant';\nimport { ClearFormat } from './clearformat';\nimport * as EVENTS from './../../common/constant';\n/**\n * Clear Format EXEC internal component\n *\n * @hidden\n\n */\nvar ClearFormatExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @returns {void}\n     * @hidden\n\n     */\n    function ClearFormatExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ClearFormatExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.CLEAR_TYPE, this.applyClear, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    ClearFormatExec.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'clear-format':\n                this.applyClear({ subCommand: 'ClearFormat', callBack: e.callBack, enterAction: e.enterAction });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    ClearFormatExec.prototype.applyClear = function (e) {\n        if (e.subCommand === 'ClearFormat') {\n            ClearFormat.clear(this.parent.currentDocument, this.parent.editableElement, e.enterAction, e.selector);\n            if (e.callBack) {\n                e.callBack({\n                    requestType: e.subCommand,\n                    event: e.event,\n                    editorMode: 'HTML',\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n                });\n            }\n        }\n    };\n    return ClearFormatExec;\n}());\nexport { ClearFormatExec };\n","import { debounce, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { NodeSelection } from './../../selection/selection';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * `Undo` module is used to handle undo actions.\n */\nvar UndoRedoManager = /** @class */ (function () {\n    function UndoRedoManager(parent, options) {\n        this.undoRedoStack = [];\n        this.parent = parent;\n        this.undoRedoSteps = !isNullOrUndefined(options) ? options.undoRedoSteps : 30;\n        this.undoRedoTimer = !isNullOrUndefined(options) ? options.undoRedoTimer : 300;\n        this.addEventListener();\n    }\n    UndoRedoManager.prototype.addEventListener = function () {\n        var debounceListener = debounce(this.keyUp, this.undoRedoTimer);\n        this.parent.observer.on(EVENTS.KEY_UP_HANDLER, debounceListener, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDown, this);\n        this.parent.observer.on(EVENTS.ACTION, this.onAction, this);\n        this.parent.observer.on(EVENTS.MODEL_CHANGED_PLUGIN, this.onPropertyChanged, this);\n    };\n    UndoRedoManager.prototype.onPropertyChanged = function (props) {\n        for (var _i = 0, _a = Object.keys(props.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'undoRedoSteps':\n                    this.undoRedoSteps = props.newProp.undoRedoSteps;\n                    break;\n                case 'undoRedoTimer':\n                    this.undoRedoTimer = props.newProp.undoRedoTimer;\n                    break;\n            }\n        }\n    };\n    UndoRedoManager.prototype.removeEventListener = function () {\n        this.parent.observer.off(EVENTS.KEY_UP_HANDLER, this.keyUp);\n        this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.keyDown);\n        this.parent.observer.off(EVENTS.ACTION, this.onAction);\n    };\n    /**\n     * onAction method\n     *\n     * @param {IHtmlSubCommands} e - specifies the sub command\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.onAction = function (e) {\n        if (e.subCommand === 'Undo') {\n            this.undo(e);\n        }\n        else {\n            this.redo(e);\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    UndoRedoManager.prototype.keyDown = function (e) {\n        var event = e.event;\n        // eslint-disable-next-line\n        var proxy = this;\n        switch (event.action) {\n            case 'undo':\n                event.preventDefault();\n                proxy.undo(e);\n                break;\n            case 'redo':\n                event.preventDefault();\n                proxy.redo(e);\n                break;\n        }\n    };\n    UndoRedoManager.prototype.keyUp = function (e) {\n        if (e.event.keyCode !== 17 && !e.event.ctrlKey) {\n            this.saveData(e);\n        }\n    };\n    /**\n     * RTE collection stored html format.\n     *\n     * @function saveData\n     * @param {KeyboardEvent} e - specifies the keyboard event\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.saveData = function (e) {\n        var range = new NodeSelection().getRange(this.parent.currentDocument);\n        var currentContainer = range.startContainer;\n        for (var i = currentContainer.childNodes.length - 1; i >= 0; i--) {\n            if (!isNullOrUndefined(currentContainer.childNodes[i]) && currentContainer.childNodes[i].nodeName === '#text' &&\n                currentContainer.childNodes[i].textContent.length === 0 && currentContainer.childNodes[i].nodeName !== 'IMG' &&\n                currentContainer.childNodes[i].nodeName !== 'BR' && currentContainer.childNodes[i].nodeName && 'HR') {\n                detach(currentContainer.childNodes[i]);\n            }\n        }\n        range = new NodeSelection().getRange(this.parent.currentDocument);\n        var save = new NodeSelection().save(range, this.parent.currentDocument);\n        var htmlText = this.parent.editableElement.innerHTML;\n        var changEle = { text: htmlText, range: save };\n        if (this.undoRedoStack.length >= this.steps) {\n            this.undoRedoStack = this.undoRedoStack.slice(0, this.steps + 1);\n        }\n        if (this.undoRedoStack.length > 1 && (this.undoRedoStack[this.undoRedoStack.length - 1].range.range.collapsed === range.collapsed)\n            && (this.undoRedoStack[this.undoRedoStack.length - 1].range.startOffset === save.range.startOffset) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].range.endOffset === save.range.endOffset) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].range.range.startContainer === save.range.startContainer) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].text.trim() === changEle.text.trim())) {\n            return;\n        }\n        this.undoRedoStack.push(changEle);\n        this.steps = this.undoRedoStack.length - 1;\n        if (this.steps > this.undoRedoSteps) {\n            this.undoRedoStack.shift();\n            this.steps--;\n        }\n        if (e && e.callBack) {\n            e.callBack();\n        }\n    };\n    /**\n     * Undo the editable text.\n     *\n     * @function undo\n     * @param {IHtmlSubCommands} e - specifies the sub commands\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.undo = function (e) {\n        if (this.steps > 0) {\n            var range = this.undoRedoStack[this.steps - 1].range;\n            var removedContent = this.undoRedoStack[this.steps - 1].text;\n            this.parent.editableElement.innerHTML = removedContent;\n            this.parent.editableElement.focus();\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            range.restore();\n            this.steps--;\n            if (e.callBack) {\n                e.callBack({\n                    requestType: 'Undo',\n                    editorMode: 'HTML',\n                    range: range,\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),\n                    event: e.event\n                });\n            }\n        }\n    };\n    /**\n     * Redo the editable text.\n     *\n     * @param {IHtmlSubCommands} e - specifies the sub commands\n     * @function redo\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.redo = function (e) {\n        if (this.undoRedoStack[this.steps + 1] != null) {\n            var range = this.undoRedoStack[this.steps + 1].range;\n            this.parent.editableElement.innerHTML = this.undoRedoStack[this.steps + 1].text;\n            this.parent.editableElement.focus();\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            range.restore();\n            this.steps++;\n            if (e.callBack) {\n                e.callBack({\n                    requestType: 'Redo',\n                    editorMode: 'HTML',\n                    range: range,\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),\n                    event: e.event\n                });\n            }\n        }\n    };\n    /**\n     * getUndoStatus method\n     *\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.getUndoStatus = function () {\n        var status = { undo: false, redo: false };\n        if (this.steps > 0) {\n            status.undo = true;\n        }\n        if (this.undoRedoStack[this.steps + 1] != null) {\n            status.redo = true;\n        }\n        return status;\n    };\n    return UndoRedoManager;\n}());\nexport { UndoRedoManager };\n","import * as EVENTS from '../../common/constant';\nimport { createElement, isNullOrUndefined as isNOU, detach } from '@syncfusion/ej2-base';\n/**\n * PasteCleanup for MsWord content\n *\n * @hidden\n\n */\nvar MsWordPaste = /** @class */ (function () {\n    function MsWordPaste(parent) {\n        this.olData = [\n            'decimal',\n            'lower-alpha',\n            'lower-roman',\n            'upper-alpha',\n            'upper-roman',\n            'lower-greek'\n        ];\n        this.ulData = [\n            'disc',\n            'square',\n            'circle',\n            'disc',\n            'square',\n            'circle'\n        ];\n        this.ignorableNodes = ['A', 'APPLET', 'B', 'BLOCKQUOTE', 'BR',\n            'BUTTON', 'CENTER', 'CODE', 'COL', 'COLGROUP', 'DD', 'DEL', 'DFN', 'DIR', 'DIV',\n            'DL', 'DT', 'EM', 'FIELDSET', 'FONT', 'FORM', 'FRAME', 'FRAMESET', 'H1', 'H2',\n            'H3', 'H4', 'H5', 'H6', 'HR', 'I', 'IMG', 'IFRAME', 'INPUT', 'INS', 'LABEL',\n            'LI', 'OL', 'OPTION', 'P', 'PARAM', 'PRE', 'Q', 'S', 'SELECT', 'SPAN', 'STRIKE',\n            'STRONG', 'SUB', 'SUP', 'TABLE', 'TBODY', 'TD', 'TEXTAREA', 'TFOOT', 'TH',\n            'THEAD', 'TITLE', 'TR', 'TT', 'U', 'UL'];\n        this.blockNode = ['div', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n            'address', 'blockquote', 'button', 'center', 'dd', 'dir', 'dl', 'dt', 'fieldset',\n            'frameset', 'hr', 'iframe', 'isindex', 'li', 'map', 'menu', 'noframes', 'noscript',\n            'object', 'ol', 'pre', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul',\n            'header', 'article', 'nav', 'footer', 'section', 'aside', 'main', 'figure', 'figcaption'];\n        this.borderStyle = ['border-top', 'border-right', 'border-bottom', 'border-left'];\n        this.removableElements = ['o:p', 'style'];\n        this.listContents = [];\n        this.parent = parent;\n        this.addEventListener();\n    }\n    MsWordPaste.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.MS_WORD_CLEANUP_PLUGIN, this.wordCleanup, this);\n    };\n    MsWordPaste.prototype.wordCleanup = function (e) {\n        var wordPasteStyleConfig = !isNOU(e.allowedStylePropertiesArray) ? e.allowedStylePropertiesArray : [];\n        var listNodes = [];\n        var tempHTMLContent = e.args.clipboardData.getData('text/HTML');\n        var rtfData = e.args.clipboardData.getData('text/rtf');\n        var elm = createElement('p');\n        elm.setAttribute('id', 'MSWord-Content');\n        elm.innerHTML = tempHTMLContent;\n        var patern = /class='?Mso|style='[^ ]*\\bmso-/i;\n        var patern2 = /class=\"?Mso|style=\"[^ ]*\\bmso-/i;\n        var patern3 = /(class=\"?Mso|class='?Mso|class=\"?Xl|class='?Xl|class=Xl|style=\"[^\"]*\\bmso-|style='[^']*\\bmso-|w:WordDocument)/gi;\n        var pattern4 = /style='mso-width-source:/i;\n        if (patern.test(tempHTMLContent) || patern2.test(tempHTMLContent) || patern3.test(tempHTMLContent) ||\n            pattern4.test(tempHTMLContent)) {\n            this.imageConversion(elm, rtfData);\n            tempHTMLContent = tempHTMLContent.replace(/<img[^>]+>/i, '');\n            this.addListClass(elm);\n            listNodes = this.cleanUp(elm, listNodes);\n            if (!isNOU(listNodes[0]) && listNodes[0].parentElement.tagName !== 'UL' &&\n                listNodes[0].parentElement.tagName !== 'OL') {\n                this.listConverter(listNodes);\n            }\n            this.styleCorrection(elm, wordPasteStyleConfig);\n            this.removingComments(elm);\n            this.removeUnwantedElements(elm);\n            this.removeEmptyElements(elm);\n            this.breakLineAddition(elm);\n            this.removeClassName(elm);\n            if (pattern4.test(tempHTMLContent)) {\n                this.addTableBorderClass(elm);\n            }\n            e.callBack(elm.innerHTML);\n        }\n        else {\n            e.callBack(elm.innerHTML);\n        }\n    };\n    MsWordPaste.prototype.addListClass = function (elm) {\n        var allNodes = elm.querySelectorAll('*');\n        for (var index = 0; index < allNodes.length; index++) {\n            if (!isNOU(allNodes[index].getAttribute('style')) && allNodes[index].getAttribute('style').replace(/ /g, '').replace('\\n', '').indexOf('mso-list:l') >= 0 &&\n                allNodes[index].className.toLowerCase().indexOf('msolistparagraph') === -1 && allNodes[index].tagName.charAt(0) !== 'H') {\n                allNodes[index].classList.add('msolistparagraph');\n            }\n        }\n    };\n    MsWordPaste.prototype.addTableBorderClass = function (elm) {\n        var allTableElm = elm.querySelectorAll('table');\n        var hasTableBorder = false;\n        for (var i = 0; i < allTableElm.length; i++) {\n            for (var j = 0; j < this.borderStyle.length; j++) {\n                if (allTableElm[i].innerHTML.indexOf(this.borderStyle[j]) >= 0) {\n                    hasTableBorder = true;\n                    break;\n                }\n            }\n            if (hasTableBorder) {\n                allTableElm[i].classList.add('e-rte-table-border');\n                hasTableBorder = false;\n            }\n        }\n    };\n    MsWordPaste.prototype.imageConversion = function (elm, rtfData) {\n        this.checkVShape(elm);\n        var imgElem = elm.querySelectorAll('img');\n        var imgSrc = [];\n        var base64Src = [];\n        var imgName = [];\n        // eslint-disable-next-line\n        var linkRegex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (imgElem.length > 0) {\n            for (var i = 0; i < imgElem.length; i++) {\n                imgSrc.push(imgElem[i].getAttribute('src'));\n                imgName.push(imgElem[i].getAttribute('src').split('/')[imgElem[i].getAttribute('src').split('/').length - 1].split('.')[0]);\n            }\n            var hexValue = this.hexConversion(rtfData);\n            for (var i = 0; i < hexValue.length; i++) {\n                base64Src.push(this.convertToBase64(hexValue[i]));\n            }\n            for (var i = 0; i < imgElem.length; i++) {\n                if (imgSrc[i].match(linkRegex)) {\n                    imgElem[i].setAttribute('src', imgSrc[i]);\n                }\n                else {\n                    imgElem[i].setAttribute('src', base64Src[i]);\n                }\n                imgElem[i].setAttribute('id', 'msWordImg-' + imgName[i]);\n            }\n        }\n    };\n    MsWordPaste.prototype.checkVShape = function (elm) {\n        var allNodes = elm.querySelectorAll('*');\n        for (var i = 0; i < allNodes.length; i++) {\n            switch (allNodes[i].nodeName) {\n                case 'V:SHAPETYPE':\n                    detach(allNodes[i]);\n                    break;\n                case 'V:SHAPE':\n                    if (allNodes[i].firstElementChild.nodeName === 'V:IMAGEDATA') {\n                        var src = allNodes[i].firstElementChild.getAttribute('src');\n                        var imgElement = createElement('img');\n                        imgElement.setAttribute('src', src);\n                        allNodes[i].parentElement.insertBefore(imgElement, allNodes[i]);\n                        detach(allNodes[i]);\n                    }\n                    break;\n            }\n        }\n    };\n    MsWordPaste.prototype.convertToBase64 = function (hexValue) {\n        var byteArr = this.conHexStringToBytes(hexValue.hex);\n        var base64String = this.conBytesToBase64(byteArr);\n        var base64 = hexValue.type ? 'data:' + hexValue.type + ';base64,' + base64String : null;\n        return base64;\n    };\n    MsWordPaste.prototype.conBytesToBase64 = function (byteArr) {\n        var base64Str = '';\n        var base64Char = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n        var byteArrLen = byteArr.length;\n        for (var i = 0; i < byteArrLen; i += 3) {\n            var array3 = byteArr.slice(i, i + 3);\n            var array3length = array3.length;\n            var array4 = [];\n            if (array3length < 3) {\n                for (var j = array3length; j < 3; j++) {\n                    array3[j] = 0;\n                }\n            }\n            array4[0] = (array3[0] & 0xFC) >> 2;\n            array4[1] = ((array3[0] & 0x03) << 4) | (array3[1] >> 4);\n            array4[2] = ((array3[1] & 0x0F) << 2) | ((array3[2] & 0xC0) >> 6);\n            array4[3] = array3[2] & 0x3F;\n            for (var j = 0; j < 4; j++) {\n                if (j <= array3length) {\n                    base64Str += base64Char.charAt(array4[j]);\n                }\n                else {\n                    base64Str += '=';\n                }\n            }\n        }\n        return base64Str;\n    };\n    MsWordPaste.prototype.conHexStringToBytes = function (hex) {\n        var byteArr = [];\n        var byteArrLen = hex.length / 2;\n        for (var i = 0; i < byteArrLen; i++) {\n            byteArr.push(parseInt(hex.substr(i * 2, 2), 16));\n        }\n        return byteArr;\n    };\n    MsWordPaste.prototype.hexConversion = function (rtfData) {\n        // eslint-disable-next-line\n        var picHead = /\\{\\\\pict[\\s\\S]+?\\\\bliptag\\-?\\d+(\\\\blipupi\\-?\\d+)?(\\{\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s\\}]*?/;\n        var pic = new RegExp('(?:(' + picHead.source + '))([\\\\da-fA-F\\\\s]+)\\\\}', 'g');\n        var fullImg = rtfData.match(pic);\n        var imgType;\n        var result = [];\n        if (!isNOU(fullImg)) {\n            for (var i = 0; i < fullImg.length; i++) {\n                if (picHead.test(fullImg[i])) {\n                    if (fullImg[i].indexOf('\\\\pngblip') !== -1) {\n                        imgType = 'image/png';\n                    }\n                    else if (fullImg[i].indexOf('\\\\jpegblip') !== -1) {\n                        imgType = 'image/jpeg';\n                    }\n                    else {\n                        continue;\n                    }\n                    result.push({\n                        hex: imgType ? fullImg[i].replace(picHead, '').replace(/[^\\da-fA-F]/g, '') : null,\n                        type: imgType\n                    });\n                }\n            }\n        }\n        return result;\n    };\n    MsWordPaste.prototype.removeClassName = function (elm) {\n        var elmWithClass = elm.querySelectorAll('*[class]');\n        for (var i = 0; i < elmWithClass.length; i++) {\n            elmWithClass[i].removeAttribute('class');\n        }\n    };\n    MsWordPaste.prototype.breakLineAddition = function (elm) {\n        var allElements = elm.querySelectorAll('*');\n        for (var i = 0; i < allElements.length; i++) {\n            if (allElements[i].children.length === 0 && allElements[i].innerHTML === '&nbsp;' &&\n                (allElements[i].innerHTML === '&nbsp;' && !allElements[i].closest('li')) &&\n                !allElements[i].closest('td')) {\n                var detachableElement = this.findDetachElem(allElements[i]);\n                var brElement = createElement('br');\n                if (!isNOU(detachableElement.parentElement)) {\n                    detachableElement.parentElement.insertBefore(brElement, detachableElement);\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    MsWordPaste.prototype.findDetachElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement) &&\n            element.parentElement.textContent.trim() === '' && element.parentElement.tagName !== 'TD' &&\n            isNOU(element.parentElement.querySelector('img'))) {\n            removableElement = this.findDetachElem(element.parentElement);\n        }\n        else {\n            removableElement = element;\n        }\n        return removableElement;\n    };\n    MsWordPaste.prototype.removeUnwantedElements = function (elm) {\n        var innerElement = elm.innerHTML;\n        for (var i = 0; i < this.removableElements.length; i++) {\n            var regExpStartElem = new RegExp('<' + this.removableElements[i] + '>', 'g');\n            var regExpEndElem = new RegExp('</' + this.removableElements[i] + '>', 'g');\n            innerElement = innerElement.replace(regExpStartElem, '');\n            innerElement = innerElement.replace(regExpEndElem, '');\n        }\n        elm.innerHTML = innerElement;\n        elm.querySelectorAll(':empty');\n    };\n    MsWordPaste.prototype.findDetachEmptyElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement)) {\n            if (element.parentElement.textContent.trim() === '' &&\n                element.parentElement.getAttribute('id') !== 'MSWord-Content' &&\n                isNOU(element.parentElement.querySelector('img'))) {\n                removableElement = this.findDetachEmptyElem(element.parentElement);\n            }\n            else {\n                removableElement = element;\n            }\n        }\n        else {\n            removableElement = null;\n        }\n        return removableElement;\n    };\n    MsWordPaste.prototype.removeEmptyElements = function (element) {\n        var emptyElements = element.querySelectorAll(':empty');\n        for (var i = 0; i < emptyElements.length; i++) {\n            if (!isNOU(emptyElements[i].closest('td')) &&\n                !isNOU(emptyElements[i].closest('td').querySelector('.MsoNormal'))) {\n                emptyElements[i].innerHTML = '-';\n            }\n            if (emptyElements[i].tagName !== 'IMG' && emptyElements[i].tagName !== 'BR' &&\n                emptyElements[i].tagName !== 'IFRAME' && emptyElements[i].tagName !== 'TD' &&\n                emptyElements[i].tagName !== 'HR') {\n                var detachableElement = this.findDetachEmptyElem(emptyElements[i]);\n                if (!isNOU(detachableElement)) {\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    MsWordPaste.prototype.styleCorrection = function (elm, wordPasteStyleConfig) {\n        var styleElement = elm.querySelectorAll('style');\n        if (styleElement.length > 0) {\n            var styles = styleElement[0].innerHTML.match(/[\\S ]+\\s+{[\\s\\S]+?}/gi);\n            var styleClassObject_1 = !isNOU(styles) ? this.findStyleObject(styles) : null;\n            var keys = Object.keys(styleClassObject_1);\n            var values = keys.map(function (key) {\n                return styleClassObject_1[key];\n            });\n            values = this.removeUnwantedStyle(values, wordPasteStyleConfig);\n            this.filterStyles(elm, wordPasteStyleConfig);\n            var resultElem = void 0;\n            var fromClass = false;\n            for (var i = 0; i < keys.length; i++) {\n                if (keys[i].split('.')[0] === '') {\n                    resultElem = elm.getElementsByClassName(keys[i].split('.')[1]);\n                    fromClass = true;\n                }\n                else if (keys[i].split('.').length === 1 && keys[i].split('.')[0].indexOf('@') >= 0) {\n                    continue;\n                }\n                else if (keys[i].split('.').length === 1 && keys[i].split('.')[0].indexOf('@') < 0) {\n                    resultElem = elm.getElementsByTagName(keys[i]);\n                }\n                else {\n                    resultElem = elm.querySelectorAll(keys[i]);\n                }\n                for (var j = 0; j < resultElem.length; j++) {\n                    var styleProperty = resultElem[j].getAttribute('style');\n                    if (!isNOU(styleProperty) && styleProperty.trim() !== '') {\n                        var valueSplit = values[i].split(';');\n                        if (!fromClass) {\n                            for (var k = 0; k < valueSplit.length; k++) {\n                                if (styleProperty.indexOf(valueSplit[k].split(':')[0]) >= 0) {\n                                    valueSplit.splice(k, 1);\n                                    k--;\n                                }\n                            }\n                        }\n                        values[i] = valueSplit.join(';') + ';';\n                        var changedValue = styleProperty + values[i];\n                        resultElem[j].setAttribute('style', changedValue);\n                    }\n                    else {\n                        values[i] = values[i].replace(/text-indent:-(.*?)(?=;|$)/gm, '');\n                        resultElem[j].setAttribute('style', values[i]);\n                    }\n                }\n                fromClass = false;\n            }\n        }\n    };\n    MsWordPaste.prototype.filterStyles = function (elm, wordPasteStyleConfig) {\n        var elmWithStyles = elm.querySelectorAll('*[style]');\n        for (var i = 0; i < elmWithStyles.length; i++) {\n            var elemStyleProperty = elmWithStyles[i].getAttribute('style').split(';');\n            var styleValue = '';\n            for (var j = 0; j < elemStyleProperty.length; j++) {\n                if (wordPasteStyleConfig.indexOf(elemStyleProperty[j].split(':')[0].trim()) >= 0) {\n                    styleValue += elemStyleProperty[j] + ';';\n                }\n            }\n            elmWithStyles[i].setAttribute('style', styleValue);\n        }\n    };\n    MsWordPaste.prototype.removeUnwantedStyle = function (values, wordPasteStyleConfig) {\n        for (var i = 0; i < values.length; i++) {\n            var styleValues = values[i].split(';');\n            values[i] = '';\n            for (var j = 0; j < styleValues.length; j++) {\n                if (wordPasteStyleConfig.indexOf(styleValues[j].split(':')[0]) >= 0) {\n                    values[i] += styleValues[j] + ';';\n                }\n            }\n        }\n        return values;\n    };\n    MsWordPaste.prototype.findStyleObject = function (styles) {\n        var styleClassObject = {};\n        for (var i = 0; i < styles.length; i++) {\n            var tempStyle = styles[i];\n            var classNameCollection = tempStyle.replace(/([\\S ]+\\s+){[\\s\\S]+?}/gi, '$1');\n            var stylesCollection = tempStyle.replace(/[\\S ]+\\s+{([\\s\\S]+?)}/gi, '$1');\n            classNameCollection = classNameCollection.replace(/^[\\s]|[\\s]$/gm, '');\n            stylesCollection = stylesCollection.replace(/^[\\s]|[\\s]$/gm, '');\n            classNameCollection = classNameCollection.replace(/\\n|\\r|\\n\\r/g, '');\n            stylesCollection = stylesCollection.replace(/\\n|\\r|\\n\\r/g, '');\n            for (var classNames = classNameCollection.split(', '), j = 0; j < classNames.length; j++) {\n                styleClassObject[classNames[j]] = stylesCollection;\n            }\n        }\n        return styleClassObject;\n    };\n    MsWordPaste.prototype.removingComments = function (elm) {\n        var innerElement = elm.innerHTML;\n        innerElement = innerElement.replace(/<!--[\\s\\S]*?-->/g, '');\n        elm.innerHTML = innerElement;\n    };\n    MsWordPaste.prototype.cleanUp = function (node, listNodes) {\n        // eslint-disable-next-line\n        var temp = '';\n        var tempCleaner = [];\n        var prevflagState;\n        var allNodes = node.querySelectorAll('*');\n        for (var index = 0; index < allNodes.length; index++) {\n            if (this.ignorableNodes.indexOf(allNodes[index].nodeName) === -1 ||\n                (allNodes[index].nodeType === 3 && allNodes[index].textContent.trim() === '')) {\n                tempCleaner.push(allNodes[index]);\n                continue;\n            }\n            else if (allNodes[index].className &&\n                allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1 &&\n                allNodes[index].childElementCount !== 1 && !isNOU(allNodes[index].getAttribute('style')) &&\n                allNodes[index].getAttribute('style').indexOf('mso-list:') >= 0) {\n                if (allNodes[index].className.indexOf('MsoListParagraphCxSpFirst') >= 0 && listNodes.length > 0 &&\n                    listNodes[listNodes.length - 1] !== null) {\n                    listNodes.push(null);\n                }\n                listNodes.push(allNodes[index]);\n            }\n            if (prevflagState && (this.blockNode.indexOf(allNodes[index].nodeName.toLowerCase()) !== -1) &&\n                !(allNodes[index].className &&\n                    allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1 && !isNOU(allNodes[index].getAttribute('style')) &&\n                    allNodes[index].getAttribute('style').indexOf('mso-list:') >= 0)) {\n                listNodes.push(null);\n            }\n            if (this.blockNode.indexOf(allNodes[index].nodeName.toLowerCase()) !== -1) {\n                if (allNodes[index].className &&\n                    allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1 && !isNOU(allNodes[index].getAttribute('style')) &&\n                    allNodes[index].getAttribute('style').indexOf('mso-list:') >= 0) {\n                    prevflagState = true;\n                }\n                else {\n                    prevflagState = false;\n                }\n            }\n        }\n        if (listNodes.length && (listNodes[listNodes.length - 1] !== null)) {\n            listNodes.push(null);\n        }\n        return listNodes;\n    };\n    MsWordPaste.prototype.listConverter = function (listNodes) {\n        var level;\n        var data = [];\n        var collection = [];\n        var content = '';\n        var stNode;\n        var currentListStyle = '';\n        for (var i = 0; i < listNodes.length; i++) {\n            if (listNodes[i] === null) {\n                data.push({ content: this.makeConversion(collection), node: listNodes[i - 1] });\n                collection = [];\n                continue;\n            }\n            if (listNodes[i].getAttribute('style') && listNodes[i].getAttribute('style').indexOf('mso-outline-level') !== -1) {\n                listNodes[i].setAttribute('style', listNodes[i].getAttribute('style').replace('mso-outline-level', 'mso-outline'));\n            }\n            content = listNodes[i].getAttribute('style');\n            if (content && content.indexOf('level') !== -1) {\n                // eslint-disable-next-line\n                level = parseInt(content.charAt(content.indexOf('level') + 5), null);\n            }\n            else {\n                level = 1;\n            }\n            this.listContents = [];\n            this.getListContent(listNodes[i]);\n            var type = void 0;\n            var listStyleType = void 0;\n            if (!isNOU(this.listContents[0])) {\n                type = this.listContents[0].trim().length > 1 ? 'ol' : 'ul';\n                listStyleType = this.getlistStyleType(this.listContents[0], type);\n                var tempNode = [];\n                for (var j = 1; j < this.listContents.length; j++) {\n                    tempNode.push(this.listContents[j]);\n                }\n                var currentClassName = void 0;\n                if (!isNOU(listNodes[i].className)) {\n                    currentClassName = listNodes[i].className;\n                }\n                if (!isNOU(listNodes[i].getAttribute('style'))) {\n                    listNodes[i].setAttribute('style', listNodes[i].getAttribute('style').replace('text-align:start;', ''));\n                    if (listNodes[i].style.textAlign !== '') {\n                        listNodes[i].setAttribute('style', 'text-align:' + listNodes[i].style.textAlign);\n                        currentListStyle = listNodes[i].getAttribute('style');\n                    }\n                }\n                collection.push({ listType: type, content: tempNode, nestedLevel: level, class: currentClassName,\n                    listStyle: currentListStyle, listStyleTypeName: listStyleType });\n            }\n        }\n        stNode = listNodes.shift();\n        while (stNode) {\n            var elemColl = [];\n            for (var temp1 = 0; temp1 < data.length; temp1++) {\n                if (data[temp1].node === stNode) {\n                    for (var index = 0; index < data[temp1].content.childNodes.length; index++) {\n                        elemColl.push(data[temp1].content.childNodes[index]);\n                    }\n                    for (var index = 0; index < elemColl.length; index++) {\n                        stNode.parentElement.insertBefore(elemColl[index], stNode);\n                    }\n                    break;\n                }\n            }\n            stNode.remove();\n            stNode = listNodes.shift();\n            if (!stNode) {\n                stNode = listNodes.shift();\n            }\n        }\n    };\n    MsWordPaste.prototype.getlistStyleType = function (listContent, type) {\n        var currentListClass;\n        if (type === 'ol') {\n            switch (listContent.split('.')[0]) {\n                case \"A\":\n                    currentListClass = \"upper-alpha\";\n                    break;\n                case \"a\":\n                    currentListClass = \"lower-alpha\";\n                    break;\n                case \"I\":\n                    currentListClass = \"upper-roman\";\n                    break;\n                case \"i\":\n                    currentListClass = \"lower-roman\";\n                    break;\n                case \"α\":\n                    currentListClass = \"lower-greek\";\n                    break;\n                default:\n                    currentListClass = \"decimal\";\n                    break;\n            }\n        }\n        else {\n            switch (listContent.split('.')[0]) {\n                case \"o\":\n                    currentListClass = \"circle\";\n                    break;\n                case \"§\":\n                    currentListClass = \"square\";\n                    break;\n                default:\n                    currentListClass = \"disc\";\n                    break;\n            }\n        }\n        return currentListClass;\n    };\n    MsWordPaste.prototype.makeConversion = function (collection) {\n        var root = createElement('div');\n        var temp;\n        var pLevel = 1;\n        var prevList;\n        var listCount = 0;\n        var elem;\n        for (var index = 0; index < collection.length; index++) {\n            var pElement = createElement('p');\n            pElement.innerHTML = collection[index].content.join(' ');\n            if ((collection[index].nestedLevel === 1) && listCount === 0 && collection[index].content) {\n                root.appendChild(temp = createElement(collection[index].listType));\n                prevList = createElement('li');\n                prevList.appendChild(pElement);\n                temp.appendChild(prevList);\n                temp.setAttribute('level', collection[index].nestedLevel.toString());\n                temp.style.listStyleType = collection[index].listStyleTypeName;\n            }\n            else if (collection[index].nestedLevel === pLevel) {\n                if (prevList.parentElement.tagName.toLowerCase() === collection[index].listType) {\n                    prevList.parentElement.appendChild(prevList = createElement('li'));\n                    prevList.appendChild(pElement);\n                }\n                else {\n                    temp = createElement(collection[index].listType);\n                    temp.style.listStyleType = collection[index].listStyleTypeName;\n                    prevList.parentElement.parentElement.appendChild(temp);\n                    prevList = createElement('li');\n                    prevList.appendChild(pElement);\n                    temp.appendChild(prevList);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                }\n            }\n            else if (collection[index].nestedLevel > pLevel) {\n                if (!isNOU(prevList)) {\n                    for (var j = 0; j < collection[index].nestedLevel - pLevel; j++) {\n                        prevList.appendChild(temp = createElement(collection[index].listType));\n                        prevList = createElement('li');\n                        if (j != collection[index].nestedLevel - pLevel - 1 && collection[index].nestedLevel - pLevel > 1) {\n                            prevList.style.listStyleType = \"none\";\n                        }\n                        temp.appendChild(prevList);\n                    }\n                    prevList.appendChild(pElement);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                    temp.style.listStyleType = collection[index].listStyleTypeName;\n                }\n                else {\n                    root.appendChild(temp = createElement(collection[index].listType));\n                    prevList = createElement('li');\n                    prevList.appendChild(pElement);\n                    temp.appendChild(prevList);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                    temp.style.listStyleType = collection[index].listStyleTypeName;\n                }\n            }\n            else if (collection[index].nestedLevel === 1) {\n                if (root.lastChild.tagName.toLowerCase() === collection[index].listType) {\n                    temp = root.lastChild;\n                }\n                else {\n                    root.appendChild(temp = createElement(collection[index].listType));\n                    temp.style.listStyleType = collection[index].listStyleTypeName;\n                }\n                prevList = createElement('li');\n                prevList.appendChild(pElement);\n                temp.appendChild(prevList);\n                temp.setAttribute('level', collection[index].nestedLevel.toString());\n            }\n            else {\n                elem = prevList;\n                while (elem.parentElement) {\n                    elem = elem.parentElement;\n                    if (elem.attributes.getNamedItem('level')) {\n                        // eslint-disable-next-line\n                        if (parseInt(elem.attributes.getNamedItem('level').textContent, null) === collection[index].nestedLevel) {\n                            prevList = createElement('li');\n                            prevList.appendChild(pElement);\n                            elem.appendChild(prevList);\n                            break;\n                            // eslint-disable-next-line\n                        }\n                        else if (collection[index].nestedLevel > parseInt(elem.attributes.getNamedItem('level').textContent, null)) {\n                            elem.appendChild(temp = createElement(collection[index].listType));\n                            prevList = createElement('li');\n                            prevList.appendChild(pElement);\n                            temp.appendChild(prevList);\n                            temp.setAttribute('level', collection[index].nestedLevel.toString());\n                            temp.style.listStyleType = collection[index].listStyleTypeName;\n                            break;\n                        }\n                    }\n                    continue;\n                }\n            }\n            prevList.setAttribute('class', collection[index].class);\n            var currentStyle = prevList.getAttribute('style');\n            prevList.setAttribute('style', (!isNOU(currentStyle) ? currentStyle : ''));\n            pLevel = collection[index].nestedLevel;\n            listCount++;\n        }\n        return root;\n    };\n    MsWordPaste.prototype.getListContent = function (elem) {\n        var pushContent = '';\n        var firstChild = elem.firstElementChild;\n        if (firstChild.textContent.trim() === '' && !isNOU(firstChild.firstElementChild) &&\n            firstChild.firstElementChild.nodeName === 'IMG') {\n            pushContent = elem.innerHTML.trim();\n            this.listContents.push('');\n            this.listContents.push(pushContent);\n        }\n        else {\n            var styleNodes = ['b', 'em'];\n            if (firstChild.childNodes.length > 0 && (firstChild.querySelectorAll('b').length > 0\n                || firstChild.querySelectorAll('em').length > 0)) {\n                for (var i = 0; i < firstChild.childNodes.length; i++) {\n                    var nodeName = firstChild.childNodes[i].nodeName.toLowerCase();\n                    if (firstChild.childNodes[i].textContent.trim().length > 1 && styleNodes.indexOf(nodeName) !== -1) {\n                        pushContent = '<' + nodeName + '>' + firstChild.childNodes[i].textContent + '</' + nodeName + '>';\n                        this.listContents.push(pushContent);\n                    }\n                    else if (firstChild.childNodes[i].textContent.trim().length === 1) {\n                        this.listContents.push(firstChild.childNodes[i].textContent.trim());\n                    }\n                }\n            }\n            else {\n                pushContent = firstChild.textContent.trim();\n                this.listContents.push(pushContent);\n            }\n        }\n        detach(firstChild);\n        this.listContents.push(elem.innerHTML);\n    };\n    return MsWordPaste;\n}());\nexport { MsWordPaste };\n","import * as CONSTANT from '../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Insert a Text Node or Text\n *\n * @hidden\n\n */\nvar InsertTextExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the InsertText plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function InsertTextExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    InsertTextExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INSERT_TEXT_TYPE, this.insertText, this);\n    };\n    InsertTextExec.prototype.insertText = function (e) {\n        var node = document.createTextNode(e.value);\n        InsertHtml.Insert(this.parent.currentDocument, node);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return InsertTextExec;\n}());\nexport { InsertTextExec };\n","import { Observer } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './constant';\nimport { Lists } from './../plugin/lists';\nimport { NodeSelection } from './../../selection/index';\nimport { DOMNode } from './../plugin/dom-node';\nimport { Formats } from './../plugin/formats';\nimport { LinkCommand } from './../plugin/link';\nimport { Alignments } from './../plugin/alignments';\nimport { Indents } from './../plugin/indents';\nimport { ImageCommand } from './../plugin/image';\nimport { TableCommand } from './../plugin/table';\nimport { SelectionBasedExec } from './../plugin/selection-exec';\nimport { InsertHtmlExec } from './../plugin/inserthtml-exec';\nimport { ClearFormatExec } from './../plugin/clearformat-exec';\nimport { UndoRedoManager } from './../plugin/undo';\nimport { MsWordPaste } from '../plugin/ms-word-clean-up';\nimport * as EVENTS from './../../common/constant';\nimport { InsertTextExec } from '../plugin/insert-text';\nimport { NodeCutter } from '../plugin/nodecutter';\n/**\n * EditorManager internal component\n *\n * @hidden\n\n */\nvar EditorManager = /** @class */ (function () {\n    /**\n     * Constructor for creating the component\n     *\n     * @hidden\n\n     * @param {ICommandModel} options - specifies the command Model\n     */\n    function EditorManager(options) {\n        this.currentDocument = options.document;\n        this.editableElement = options.editableElement;\n        this.nodeSelection = new NodeSelection();\n        this.nodeCutter = new NodeCutter();\n        this.domNode = new DOMNode(this.editableElement, this.currentDocument);\n        this.observer = new Observer(this);\n        this.listObj = new Lists(this);\n        this.formatObj = new Formats(this);\n        this.alignmentObj = new Alignments(this);\n        this.indentsObj = new Indents(this);\n        this.linkObj = new LinkCommand(this);\n        this.imgObj = new ImageCommand(this);\n        this.selectionObj = new SelectionBasedExec(this);\n        this.inserthtmlObj = new InsertHtmlExec(this);\n        this.insertTextObj = new InsertTextExec(this);\n        this.clearObj = new ClearFormatExec(this);\n        this.tableObj = new TableCommand(this);\n        this.undoRedoManager = new UndoRedoManager(this, options.options);\n        this.msWordPaste = new MsWordPaste(this);\n        this.wireEvents();\n    }\n    EditorManager.prototype.wireEvents = function () {\n        this.observer.on(EVENTS.KEY_DOWN, this.editorKeyDown, this);\n        this.observer.on(EVENTS.KEY_UP, this.editorKeyUp, this);\n        this.observer.on(EVENTS.KEY_UP, this.editorKeyUp, this);\n        this.observer.on(EVENTS.MODEL_CHANGED, this.onPropertyChanged, this);\n        this.observer.on(EVENTS.MS_WORD_CLEANUP, this.onWordPaste, this);\n        this.observer.on(EVENTS.ON_BEGIN, this.onBegin, this);\n    };\n    EditorManager.prototype.onWordPaste = function (e) {\n        this.observer.notify(EVENTS.MS_WORD_CLEANUP_PLUGIN, e);\n    };\n    EditorManager.prototype.onPropertyChanged = function (props) {\n        this.observer.notify(EVENTS.MODEL_CHANGED_PLUGIN, props);\n    };\n    EditorManager.prototype.editorKeyDown = function (e) {\n        this.observer.notify(EVENTS.KEY_DOWN_HANDLER, e);\n    };\n    EditorManager.prototype.editorKeyUp = function (e) {\n        this.observer.notify(EVENTS.KEY_UP_HANDLER, e);\n    };\n    EditorManager.prototype.onBegin = function (e) {\n        this.observer.notify(EVENTS.SPACE_ACTION, e);\n    };\n    /* eslint-disable */\n    /**\n     * execCommand\n     *\n     * @param {ExecCommand} command - specifies the execution command\n     * @param {T} value - specifes the value.\n     * @param {Event} event - specifies the call back event\n     * @param {Function} callBack - specifies the function\n     * @param {string} text - specifies the string value\n     * @param {T} exeValue - specifies the values to be executed\n     * @param {string} selector - specifies the selector values\n     * @returns {void}\n     * @hidden\n\n     */\n    /* eslint-enable */\n    EditorManager.prototype.execCommand = function (command, value, event, callBack, text, exeValue, selector, enterAction) {\n        switch (command.toLowerCase()) {\n            case 'lists':\n                this.observer.notify(EVENTS.LIST_TYPE, { subCommand: value, event: event, callBack: callBack,\n                    selector: selector, item: exeValue, enterAction: enterAction });\n                break;\n            case 'formats':\n                this.observer.notify(EVENTS.FORMAT_TYPE, { subCommand: value, event: event, callBack: callBack,\n                    selector: selector, exeValue: exeValue, enterAction: enterAction\n                });\n                break;\n            case 'alignments':\n                this.observer.notify(CONSTANT.ALIGNMENT_TYPE, {\n                    subCommand: value, event: event, callBack: callBack,\n                    selector: selector,\n                    value: exeValue\n                });\n                break;\n            case 'indents':\n                this.observer.notify(CONSTANT.INDENT_TYPE, { subCommand: value, event: event, callBack: callBack, selector: selector });\n                break;\n            case 'links':\n                this.observer.notify(CONSTANT.LINK, { command: command, value: value, item: exeValue, event: event, callBack: callBack });\n                break;\n            case 'files':\n                this.observer.notify(CONSTANT.IMAGE, {\n                    command: command, value: 'Image', item: exeValue, event: event, callBack: callBack, selector: selector\n                });\n                break;\n            case 'images':\n                this.observer.notify(CONSTANT.IMAGE, {\n                    command: command, value: value, item: exeValue, event: event, callBack: callBack, selector: selector\n                });\n                break;\n            case 'table':\n                switch (value.toString().toLocaleLowerCase()) {\n                    case 'createtable':\n                        this.observer.notify(CONSTANT.TABLE, { item: exeValue, event: event, callBack: callBack, enterAction: enterAction });\n                        break;\n                    case 'insertrowbefore':\n                    case 'insertrowafter':\n                        this.observer.notify(CONSTANT.INSERT_ROW, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'insertcolumnleft':\n                    case 'insertcolumnright':\n                        this.observer.notify(CONSTANT.INSERT_COLUMN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'deleterow':\n                        this.observer.notify(CONSTANT.DELETEROW, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'deletecolumn':\n                        this.observer.notify(CONSTANT.DELETECOLUMN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'tableremove':\n                        this.observer.notify(CONSTANT.REMOVETABLE, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'tableheader':\n                        this.observer.notify(CONSTANT.TABLEHEADER, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'aligntop':\n                    case 'alignmiddle':\n                    case 'alignbottom':\n                        this.observer.notify(CONSTANT.TABLE_VERTICAL_ALIGN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'merge':\n                        this.observer.notify(CONSTANT.TABLE_MERGE, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'horizontalsplit':\n                        this.observer.notify(CONSTANT.TABLE_HORIZONTAL_SPLIT, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'verticalsplit':\n                        this.observer.notify(CONSTANT.TABLE_VERTICAL_SPLIT, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                }\n                break;\n            case 'font':\n            case 'style':\n            case 'effects':\n            case 'casing':\n                this.observer.notify(CONSTANT.SELECTION_TYPE, { subCommand: value, event: event, callBack: callBack, value: text, selector: selector, enterAction: enterAction });\n                break;\n            case 'inserthtml':\n                this.observer.notify(CONSTANT.INSERTHTML_TYPE, { subCommand: value, callBack: callBack, value: text });\n                break;\n            case 'inserttext':\n                this.observer.notify(CONSTANT.INSERT_TEXT_TYPE, { subCommand: value, callBack: callBack, value: text });\n                break;\n            case 'clear':\n                this.observer.notify(CONSTANT.CLEAR_TYPE, { subCommand: value, event: event, callBack: callBack, selector: selector, enterAction: enterAction });\n                break;\n            case 'actions':\n                this.observer.notify(EVENTS.ACTION, { subCommand: value, event: event, callBack: callBack, selector: selector });\n                break;\n        }\n    };\n    return EditorManager;\n}());\nexport { EditorManager };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Formatter } from './formatter';\nimport { EditorManager } from './../../editor-manager/base/editor-manager';\nimport { extend } from '@syncfusion/ej2-base';\nimport { htmlKeyConfig } from './../../common/config';\n/**\n * HTML adapter\n *\n * @hidden\n\n */\nvar HTMLFormatter = /** @class */ (function (_super) {\n    __extends(HTMLFormatter, _super);\n    function HTMLFormatter(options) {\n        var _this = _super.call(this) || this;\n        _this.initialize();\n        extend(_this, _this, options, true);\n        if (_this.currentDocument && _this.element) {\n            _this.updateFormatter(_this.element, _this.currentDocument, options.options);\n        }\n        return _this;\n    }\n    HTMLFormatter.prototype.initialize = function () {\n        this.keyConfig = htmlKeyConfig;\n    };\n    /**\n     * Update the formatter of RichTextEditor\n     *\n     * @param  {Element} editElement - specifies the edit element.\n     * @param  {Document} doc - specifies the doucment\n     * @param {number} options - specifies the options\n     * @returns {void}\n     * @hidden\n\n     */\n    HTMLFormatter.prototype.updateFormatter = function (editElement, doc, options) {\n        if (editElement && doc) {\n            this.editorManager = new EditorManager({\n                document: doc,\n                editableElement: editElement,\n                options: options\n            });\n        }\n    };\n    return HTMLFormatter;\n}(Formatter));\nexport { HTMLFormatter };\n","import { IsFormatted } from './isformatted';\nimport * as CONSTANT from './../base/constant';\nimport { NodeSelection } from './../../selection/index';\nimport { getDefaultHtmlTbStatus } from './../../common/util';\n/**\n * Update Toolbar Status\n *\n * @hidden\n\n */\nexport var statusCollection = getDefaultHtmlTbStatus();\nvar ToolbarStatus = /** @class */ (function () {\n    function ToolbarStatus() {\n    }\n    /**\n     * get method\n     *\n     * @param {Document} docElement - specifies the document element\n     * @param {Node} targetNode - specifies the target node\n     * @param {string[]} formatNode - specifies the format node\n     * @param {string[]} fontSize - specifies the font size\n     * @param {string[]} fontName - specifies the font name.\n     * @param {Node} documentNode - specifies the document node.\n     * @returns {IToolbarStatus} - returns the toolbar status\n     * @hidden\n\n     */\n    ToolbarStatus.get = function (docElement, targetNode, formatNode, fontSize, fontName, documentNode) {\n        var formatCollection = JSON.parse(JSON.stringify(statusCollection));\n        var nodeCollection = JSON.parse(JSON.stringify(statusCollection));\n        var nodeSelection = new NodeSelection();\n        var nodes = documentNode ? [documentNode] : nodeSelection.getNodeCollection(nodeSelection.getRange(docElement));\n        var nodesLength = nodes.length;\n        var isNodeChanged = false;\n        var range = nodeSelection.getRange(docElement);\n        for (var index = 0; index < nodes.length; index++) {\n            while (nodes[index].nodeType === 3 && range.startContainer.nodeType === 3 && nodes[index].parentNode &&\n                nodes[index].parentNode.lastElementChild && nodes[index].parentNode.lastElementChild.nodeName !== 'BR' &&\n                (this.getImmediateBlockNode(nodes[index].parentNode)).textContent.replace(/\\u200B/g, '').length === 0 &&\n                range.startContainer.textContent.replace(/\\u200B/g, '').length === 0 &&\n                nodeSelection.get(docElement).toString().replace(/\\u200B/g, '').length === 0) {\n                nodes[index] = nodes[index].parentNode.lastElementChild.firstChild;\n                isNodeChanged = true;\n            }\n            if (isNodeChanged && nodes[index]) {\n                nodeSelection.setCursorPoint(docElement, nodes[index], nodes[index].textContent.length);\n                isNodeChanged = false;\n            }\n            if ((nodes[index].nodeName !== 'BR' && nodes[index].nodeType !== 3) ||\n                (nodesLength > 1 && nodes[index].nodeType === 3 && nodes[index].textContent.trim() === '')) {\n                nodes.splice(index, 1);\n                index--;\n            }\n        }\n        for (var index = 0; index < nodes.length; index++) {\n            formatCollection = this.getFormatParent(docElement, formatCollection, nodes[index], targetNode, formatNode, fontSize, fontName);\n            if ((index === 0 && formatCollection.bold) || !formatCollection.bold) {\n                nodeCollection.bold = formatCollection.bold;\n            }\n            if ((index === 0 && formatCollection.insertcode) || !formatCollection.insertcode) {\n                nodeCollection.insertcode = formatCollection.insertcode;\n            }\n            if ((index === 0 && formatCollection.italic) || !formatCollection.italic) {\n                nodeCollection.italic = formatCollection.italic;\n            }\n            if ((index === 0 && formatCollection.underline) || !formatCollection.underline) {\n                nodeCollection.underline = formatCollection.underline;\n            }\n            if ((index === 0 && formatCollection.strikethrough) || !formatCollection.strikethrough) {\n                nodeCollection.strikethrough = formatCollection.strikethrough;\n            }\n            if ((index === 0 && formatCollection.superscript) || !formatCollection.superscript) {\n                nodeCollection.superscript = formatCollection.superscript;\n            }\n            if ((index === 0 && formatCollection.subscript) || !formatCollection.subscript) {\n                nodeCollection.subscript = formatCollection.subscript;\n            }\n            if ((index === 0 && formatCollection.fontcolor) || !formatCollection.fontcolor) {\n                nodeCollection.fontcolor = formatCollection.fontcolor;\n            }\n            if ((index === 0 && formatCollection.fontname) || !formatCollection.fontname) {\n                nodeCollection.fontname = formatCollection.fontname;\n            }\n            if ((index === 0 && formatCollection.fontsize) || !formatCollection.fontsize) {\n                nodeCollection.fontsize = formatCollection.fontsize;\n            }\n            if ((index === 0 && formatCollection.backgroundcolor) || !formatCollection.backgroundcolor) {\n                nodeCollection.backgroundcolor = formatCollection.backgroundcolor;\n            }\n            if ((index === 0 && formatCollection.orderedlist) || !formatCollection.orderedlist) {\n                nodeCollection.orderedlist = formatCollection.orderedlist;\n            }\n            if ((index === 0 && formatCollection.unorderedlist) || !formatCollection.unorderedlist) {\n                nodeCollection.unorderedlist = formatCollection.unorderedlist;\n            }\n            if ((index === 0 && formatCollection.alignments) || !formatCollection.alignments) {\n                nodeCollection.alignments = formatCollection.alignments;\n            }\n            if ((index === 0 && formatCollection.formats) || !formatCollection.formats) {\n                nodeCollection.formats = formatCollection.formats;\n            }\n            if ((index === 0 && formatCollection.createlink) || !formatCollection.createlink) {\n                nodeCollection.createlink = formatCollection.createlink;\n            }\n            if ((index === 0 && formatCollection.numberFormatList) || !formatCollection.numberFormatList) {\n                nodeCollection.numberFormatList = formatCollection.numberFormatList;\n            }\n            if ((index === 0 && formatCollection.bulletFormatList) || !formatCollection.bulletFormatList) {\n                nodeCollection.bulletFormatList = formatCollection.bulletFormatList;\n            }\n            formatCollection = JSON.parse(JSON.stringify(statusCollection));\n        }\n        return nodeCollection;\n    };\n    ToolbarStatus.getImmediateBlockNode = function (node) {\n        do {\n            node = node.parentNode;\n        } while (node && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) < 0);\n        return node;\n    };\n    ToolbarStatus.getFormatParent = function (docElement, formatCollection, node, targetNode, formatNode, fontSize, fontName) {\n        if (targetNode.contains(node) ||\n            (node.nodeType === 3 && targetNode.nodeType !== 3 && targetNode.contains(node.parentNode))) {\n            do {\n                formatCollection = this.isFormattedNode(docElement, formatCollection, node, formatNode, fontSize, fontName);\n                node = node.parentNode;\n            } while (node && (node !== targetNode));\n        }\n        return formatCollection;\n    };\n    ToolbarStatus.isFormattedNode = function (docElement, formatCollection, node, formatNode, fontSize, fontName) {\n        if (!formatCollection.bold) {\n            formatCollection.bold = IsFormatted.isBold(node);\n        }\n        if (!formatCollection.italic) {\n            formatCollection.italic = IsFormatted.isItalic(node);\n        }\n        if (!formatCollection.underline) {\n            formatCollection.underline = IsFormatted.isUnderline(node);\n        }\n        if (!formatCollection.strikethrough) {\n            formatCollection.strikethrough = IsFormatted.isStrikethrough(node);\n        }\n        if (!formatCollection.superscript) {\n            formatCollection.superscript = IsFormatted.isSuperscript(node);\n        }\n        if (!formatCollection.subscript) {\n            formatCollection.subscript = IsFormatted.isSubscript(node);\n        }\n        if (!formatCollection.fontcolor) {\n            formatCollection.fontcolor = this.isFontColor(docElement, node);\n        }\n        if (!formatCollection.fontname) {\n            formatCollection.fontname = this.isFontName(docElement, node, fontName);\n        }\n        if (!formatCollection.fontsize) {\n            formatCollection.fontsize = this.isFontSize(node, fontSize);\n        }\n        if (!formatCollection.backgroundcolor) {\n            formatCollection.backgroundcolor = this.isBackgroundColor(node);\n        }\n        if (!formatCollection.orderedlist) {\n            formatCollection.orderedlist = this.isOrderedList(node);\n        }\n        if (!formatCollection.unorderedlist) {\n            formatCollection.unorderedlist = this.isUnorderedList(node);\n        }\n        if (!formatCollection.alignments) {\n            formatCollection.alignments = this.isAlignment(node);\n        }\n        if (!formatCollection.formats) {\n            formatCollection.formats = this.isFormats(node, formatNode);\n            if (formatCollection.formats === 'pre') {\n                formatCollection.insertcode = true;\n            }\n        }\n        if (!formatCollection.createlink) {\n            formatCollection.createlink = this.isLink(node);\n        }\n        if (!formatCollection.numberFormatList) {\n            formatCollection.numberFormatList = this.isNumberFormatList(node);\n        }\n        if (!formatCollection.bulletFormatList) {\n            formatCollection.bulletFormatList = this.isBulletFormatList(node);\n        }\n        return formatCollection;\n    };\n    ToolbarStatus.isFontColor = function (docElement, node) {\n        var color = node.style && node.style.color;\n        if ((color === null || color === undefined || color === '') && node.nodeType !== 3) {\n            color = this.getComputedStyle(docElement, node, 'color');\n        }\n        if (color !== null && color !== '' && color !== undefined) {\n            return color;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isLink = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'a') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isBackgroundColor = function (node) {\n        var backColor = node.style && node.style.backgroundColor;\n        if (backColor !== null && backColor !== '' && backColor !== undefined) {\n            return backColor;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFontSize = function (node, fontSize) {\n        var size = node.style && node.style.fontSize;\n        if ((size !== null && size !== '' && size !== undefined)\n            && (fontSize === null || fontSize === undefined || (fontSize.indexOf(size) > -1))) {\n            return size;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFontName = function (docElement, node, fontName) {\n        var name = node.style && node.style.fontFamily;\n        if ((name === null || name === undefined || name === '') && node.nodeType !== 3) {\n            name = this.getComputedStyle(docElement, node, 'font-family');\n        }\n        var index = null;\n        if ((name !== null && name !== '' && name !== undefined)\n            && (fontName === null || fontName === undefined || (fontName.filter(function (value, pos) {\n                var pattern = new RegExp(name, 'i');\n                if ((value.replace(/\"/g, '').replace(/ /g, '') === name.replace(/\"/g, '').replace(/ /g, '')) ||\n                    (value.search(pattern) > -1)) {\n                    index = pos;\n                }\n            }) && (index !== null)))) {\n            return (index !== null) ? fontName[index] : name.replace(/\"/g, '');\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isOrderedList = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'ol') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isUnorderedList = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'ul') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isAlignment = function (node) {\n        var align = node.style && node.style.textAlign;\n        if (align === 'left') {\n            return 'justifyleft';\n        }\n        else if (align === 'center') {\n            return 'justifycenter';\n        }\n        else if (align === 'right') {\n            return 'justifyright';\n        }\n        else if (align === 'justify') {\n            return 'justifyfull';\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFormats = function (node, formatNode) {\n        if (((formatNode === undefined || formatNode === null)\n            && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) > -1)\n            || (formatNode !== null && formatNode !== undefined\n                && formatNode.indexOf(node.nodeName.toLocaleLowerCase()) > -1)) {\n            return node.nodeName.toLocaleLowerCase();\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.getComputedStyle = function (docElement, node, prop) {\n        return docElement.defaultView.getComputedStyle(node, null).getPropertyValue(prop);\n    };\n    ToolbarStatus.isNumberFormatList = function (node) {\n        var list = node.style && node.style.listStyleType;\n        if (list === 'lower-alpha') {\n            return 'Lower Alpha';\n        }\n        else if (list === 'number') {\n            return 'Number';\n        }\n        else if (list === 'upper-alpha') {\n            return 'Upper Alpha';\n        }\n        else if (list === 'lower-roman') {\n            return 'Lower Roman';\n        }\n        else if (list === 'upper-roman') {\n            return 'Upper Roman';\n        }\n        else if (list === 'lower-greek') {\n            return 'Lower Greek';\n        }\n        else if (list === 'none') {\n            return 'None';\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isBulletFormatList = function (node) {\n        var list = node.style && node.style.listStyleType;\n        if (list === 'circle') {\n            return 'Circle';\n        }\n        else if (list === 'square') {\n            return 'Square';\n        }\n        else if (list === 'none') {\n            return 'None';\n        }\n        else if (list === 'disc') {\n            return 'Disc';\n        }\n        else {\n            return null;\n        }\n    };\n    return ToolbarStatus;\n}());\nexport { ToolbarStatus };\n","import * as events from '../base/constant';\nimport { ToolbarStatus } from '../../editor-manager/plugin/toolbar-status';\nimport { getDefaultHtmlTbStatus } from '../../common/util';\n/**\n * HtmlToolbarStatus module for refresh the toolbar status\n */\nvar HtmlToolbarStatus = /** @class */ (function () {\n    function HtmlToolbarStatus(parent) {\n        this.parent = parent;\n        this.toolbarStatus = this.prevToolbarStatus = getDefaultHtmlTbStatus();\n        this.addEventListener();\n    }\n    HtmlToolbarStatus.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarRefresh, this.onRefreshHandler, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    HtmlToolbarStatus.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarRefresh, this.onRefreshHandler);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    HtmlToolbarStatus.prototype.onRefreshHandler = function (args) {\n        if (this.parent.readonly) {\n            return;\n        }\n        var fontsize = [];\n        var fontName = [];\n        var formats = [];\n        this.parent.fontSize.items.forEach(function (item) {\n            fontsize.push(item.value);\n        });\n        this.parent.fontFamily.items.forEach(function (item) {\n            fontName.push(item.value);\n        });\n        this.parent.format.types.forEach(function (item) {\n            formats.push(item.value.toLocaleLowerCase());\n        });\n        this.toolbarStatus = ToolbarStatus.get(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel(), formats, fontsize, fontName, args.documentNode);\n        var tbStatusString = JSON.stringify(this.toolbarStatus);\n        this.parent.notify(events.toolbarUpdated, this.toolbarStatus);\n        if (JSON.stringify(this.prevToolbarStatus) !== tbStatusString) {\n            this.parent.notify(events.updateTbItemsStatus, { html: JSON.parse(tbStatusString), markdown: null });\n            this.prevToolbarStatus = JSON.parse(tbStatusString);\n        }\n    };\n    return HtmlToolbarStatus;\n}());\nexport { HtmlToolbarStatus };\n","import { getEditValue } from '../base/util';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar ContentRender = /** @class */ (function () {\n    /**\n     * Constructor for content renderer module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent element.\n     * @param {ServiceLocator} serviceLocator - specifies the service.\n     * @returns {void}\n     */\n    function ContentRender(parent, serviceLocator) {\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n    }\n    /**\n     * The function is used to render Rich Text Editor content div\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ContentRender.prototype.renderPanel = function () {\n        var rteObj = this.parent;\n        var div = this.parent.createElement('div', { className: 'e-rte-content', id: this.parent.getID() + 'rte-view' });\n        var rteContent = getEditValue(rteObj.value, rteObj);\n        this.editableElement = this.parent.createElement('div', {\n            className: 'e-content',\n            id: this.parent.getID() + '_rte-edit-view',\n            attrs: {\n                'contenteditable': 'true'\n            },\n            innerHTML: rteContent\n        });\n        div.appendChild(this.editableElement);\n        this.setPanel(div);\n        rteObj.element.appendChild(div);\n    };\n    /**\n     * Get the content div element of RichTextEditor\n     *\n     * @returns {Element} - specifies the element.\n     * @hidden\n\n     */\n    ContentRender.prototype.getPanel = function () {\n        return this.contentPanel;\n    };\n    /**\n     * Get the editable element of RichTextEditor\n     *\n     * @returns {Element} - specifies the return element.\n     * @hidden\n\n     */\n    ContentRender.prototype.getEditPanel = function () {\n        return this.editableElement;\n    };\n    /**\n     * Returns the text content as string.\n     *\n     * @returns {string} - specifies the string element.\n     */\n    ContentRender.prototype.getText = function () {\n        return this.getEditPanel().innerText;\n    };\n    /**\n     * Set the content div element of RichTextEditor\n     *\n     * @param {Element} panel - specifies the panel element.\n     * @returns {void}\n     * @hidden\n\n     */\n    ContentRender.prototype.setPanel = function (panel) {\n        this.contentPanel = panel;\n    };\n    /**\n     * Get the document of RichTextEditor\n     *\n     * @returns {Document} - specifies the document.\n     * @hidden\n\n     */\n    ContentRender.prototype.getDocument = function () {\n        return this.getEditPanel().ownerDocument;\n    };\n    return ContentRender;\n}());\nexport { ContentRender };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ContentRender } from '../renderer/content-renderer';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getEditValue } from '../base/util';\nvar IFRAMEHEADER = \"\\n<!DOCTYPE html> \\n    <html>\\n         <head>\\n            <meta charset='utf-8' /> \\n            <style>\\n                @charset \\\"UTF-8\\\";\\n                body {\\n                    font-family: \\\"Roboto\\\", sans-serif;\\n                    font-size: 14px;\\n                }\\n                html, body{height: 100%;margin: 0;}\\n                body.e-cursor{cursor:default}\\n                span.e-selected-node\\t{background-color: #939393;color: white;}\\n                span.e-selected-node.e-highlight {background-color: #1d9dd8;}\\n                body{color:#333;word-wrap:break-word;padding: 8px;box-sizing: border-box;}\\n                .e-rte-image {border: 0;cursor: pointer;display:\\n                    block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-img-caption { display: inline-block; float: none; margin: 5px auto; max-width: 100%;position: relative;}\\n                .e-img-caption.e-caption-inline {display: inline-block;float: none;\\n                    margin: 5px auto;margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));\\n                    position: relativetext-align: center;vertical-align: bottom;}\\n                .e-img-inner {box-sizing: border-box;display: block;font-size: 16px;font-weight: initial;\\n                    margin: auto;opacity: .9;text-align: center;width: 100%;}\\n                .e-img-wrap {display: inline-block;margin: auto;padding: 0;text-align: center;width: 100%;}\\n                .e-imgleft {float: left;margin: 0 5px 0 0;text-align: left;}\\n                .e-imgright {float: right;margin: 0 0 0 5px;text-align: right;}\\n                .e-imgcenter {cursor: pointer;display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-control img:not(.e-resize) {border: 2px solid transparent; z-index: 1000}\\n                .e-imginline {display: inline-block;float: none;margin-left: 5px;margin-right: 5px;\\n                    max-width: calc(100% - (2 * 5px));vertical-align: bottom;}\\n                .e-imgbreak {border: 0;cursor: pointer;\\n                    display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-rte-image.e-img-focus:not(.e-resize) {border: solid 2px #4a90e2;}\\n                img.e-img-focus::selection { background: transparent;color: transparent;}\\n                span.e-rte-imageboxmark {  width: 10px; height: 10px; position: absolute; display: block;\\n                    background: #4a90e2; border: 1px solid #fff; z-index: 1000;}\\n                .e-mob-rte.e-mob-span span.e-rte-imageboxmark { background: #4a90e2; border: 1px solid #fff; }\\n                .e-mob-rte span.e-rte-imageboxmark { background: #fff; border: 1px solid #4a90e2;\\n                    border-radius: 15px; height: 20px; width: 20px; }\\n                .e-mob-rte.e-mob-span span.e-rte-imageboxmark { background: #4a90e2; border: 1px solid #fff; }\\n                .e-rte-content .e-content img.e-resize { z-index: 1000; }\\n                .e-img-caption .e-img-inner { outline: 0; }\\n                .e-img-caption a:focus-visible { outline: none; }\\n                .e-img-caption .e-rte-image.e-imgright, .e-img-caption .e-rte-image.e-imgleft { float: none; margin: 0;}\\n                body{box-sizing: border-box;min-height: 100px;outline: 0 solid transparent;\\n                    overflow-x: auto;padding: 16px;position: relative;text-align: inherit;z-index: 2;}\\n                p{margin: 0 0 10px;margin-bottom: 10px;}\\n                li{margin-bottom: 10px;}\\n                h1{font-size: 2.17em;font-weight: 400;line-height: 1;margin: 10px 0;}\\n                h2{font-size: 1.74em;font-weight: 400;margin: 10px 0;}\\n                h3{font-size: 1.31em;font-weight: 400;margin: 10px 0;}\\n                h4{font-size: 16px;font-weight: 400;line-height: 1.5;margin: 0;}\\n                h5{font-size: 00.8em;font-weight: 400;margin: 0;}\\n                h6{font-size: 00.65em;font-weight: 400;margin: 0;}\\n                blockquote{margin: 10px 0;margin-left: 0;padding-left: 5px;border-left: solid 2px #5c5c5c;}\\n                pre{background-color: inherit;border: 0;border-radius: 0;color: #333;\\n                    font-size: inherit;line-height: inherit;margin: 0 0 10px;overflow: visible;padding: 0;\\n                    white-space: pre-wrap;word-break: inherit;word-wrap: break-word;}\\n                strong, b{font-weight: 700;}\\n                a{text-decoration: none;user-select: auto;}\\n                a:hover{text-decoration: underline;};\\n                p:last-child, pre:last-child, blockquote:last-child{margin-bottom: 0;}\\n                h3+h4, h4+h5, h5+h6{margin-top: 00.6em;}\\n                ul:last-child{margin-bottom: 0;}\\n                table { border-collapse: collapse; empty-cells: show;}\\n                table td,table th {border: 1px solid #BDBDBD; height: 20px; vertical-align: middle;}\\n                table.e-alternate-border tbody tr:nth-child(2n) {background-color: #F5F5F5;}\\n                table th {background-color: #E0E0E0;}\\n                table.e-dashed-border td,table.e-dashed-border th { border: 1px dashed #BDBDBD} \\n                table .e-cell-select {border: 1px double #4a90e2;}\\n                span.e-table-box { cursor: nwse-resize; display: block; height: 10px; position: absolute; width: 10px; }\\n                span.e-table-box.e-rmob {height: 14px;width: 14px;}\\n                .e-row-resize, .e-column-resize { background-color: transparent; background-repeat: repeat;\\n                    bottom: 0;cursor: col-resize;height: 1px;overflow: visible;position: absolute;width: 1px; }\\n                .e-row-resize { cursor: row-resize; height: 1px;}\\n                .e-table-rhelper { cursor: col-resize; opacity: .87;position: absolute;}\\n                .e-table-rhelper.e-column-helper { width: 1px; }\\n                .e-table-rhelper.e-row-helper {height: 1px;}\\n                .e-reicon::before { border-bottom: 6px solid transparent; border-right: 6px solid;\\n                    border-top: 6px solid transparent; content: ''; display: block; height: 0;\\n                    position: absolute; right: 4px; top: 4px; width: 20px; }\\n                .e-reicon::after { border-bottom: 6px solid transparent; border-left: 6px solid;\\n                    border-top: 6px solid transparent; content: ''; display: block;\\n                    height: 0; left: 4px; position: absolute; top: 4px; width: 20px; z-index: 3; }\\n                .e-row-helper.e-reicon::after { top: 10px; transform: rotate(90deg); }\\n                .e-row-helper.e-reicon::before { left: 4px; top: -20px; transform: rotate(90deg); }\\n                span.e-table-box { background-color: #ffffff; border: 1px solid #BDBDBD; }\\n                span.e-table-box.e-rbox-select { background-color: #BDBDBD; border: 1px solid #BDBDBD; }\\n                .e-table-rhelper { background-color: #4a90e2;}\\n                .e-rtl { direction: rtl; }\\n            </style>\\n        </head>\";\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar IframeContentRender = /** @class */ (function (_super) {\n    __extends(IframeContentRender, _super);\n    function IframeContentRender() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * The function is used to render Rich Text Editor iframe\n     *\n     * @hidden\n\n     */\n    IframeContentRender.prototype.renderPanel = function () {\n        var rteObj = this.parent;\n        var rteContent = getEditValue(rteObj.value, rteObj);\n        var iFrameBodyContent = '<body spellcheck=\"false\" autocorrect=\"off\" contenteditable=\"true\">' +\n            rteContent + '</body></html>';\n        var iFrameContent = IFRAMEHEADER + iFrameBodyContent;\n        var iframe = this.parent.createElement('iframe', {\n            id: this.parent.getID() + '_rte-view',\n            className: 'e-rte-content',\n            styles: 'display:block;',\n            attrs: { 'srcdoc': iFrameContent }\n        });\n        this.setPanel(iframe);\n        rteObj.element.appendChild(iframe);\n        iframe.contentDocument.body.id = this.parent.getID() + '_rte-edit-view';\n        iframe.contentDocument.body.setAttribute('aria-owns', this.parent.getID());\n        iframe.contentDocument.open();\n        iFrameContent = this.setThemeColor(iFrameContent, { color: '#333' });\n        iframe.contentDocument.write(iFrameContent);\n        iframe.contentDocument.close();\n        if (rteObj.enableRtl) {\n            this.contentPanel.contentDocument.body.setAttribute('class', 'e-rtl');\n        }\n    };\n    IframeContentRender.prototype.setThemeColor = function (content, styles) {\n        var fontColor = getComputedStyle(this.parent.element, '.e-richtexteditor').getPropertyValue('color');\n        return content.replace(styles.color, fontColor);\n    };\n    /**\n     * Get the editable element of RichTextEditor\n     *\n     * @returns {Element} - specifies the element.\n     * @hidden\n\n     */\n    IframeContentRender.prototype.getEditPanel = function () {\n        var editNode;\n        if (!isNullOrUndefined(this.contentPanel.contentDocument)) {\n            editNode = this.contentPanel.contentDocument.body;\n        }\n        else {\n            editNode = this.parent.inputElement;\n        }\n        return editNode;\n    };\n    /**\n     * Get the document of RichTextEditor\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    IframeContentRender.prototype.getDocument = function () {\n        return this.getEditPanel().ownerDocument;\n    };\n    return IframeContentRender;\n}(ContentRender));\nexport { IframeContentRender };\n","import * as events from '../base/constant';\nimport { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * XhtmlValidation module called when set enableXhtml as true\n */\nvar XhtmlValidation = /** @class */ (function () {\n    function XhtmlValidation(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    XhtmlValidation.prototype.addEventListener = function () {\n        this.parent.on(events.xhtmlValidation, this.enableXhtmlValidation, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    XhtmlValidation.prototype.removeEventListener = function () {\n        this.parent.off(events.xhtmlValidation, this.enableXhtmlValidation);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    XhtmlValidation.prototype.enableXhtmlValidation = function () {\n        if (this.parent.enableXhtml) {\n            if (isNullOrUndefined(this.parent.inputElement)) {\n                this.currentElement = this.parent.element;\n            }\n            else {\n                this.currentElement = this.parent.inputElement;\n            }\n            this.clean(this.currentElement);\n            this.AddRootElement();\n            this.ImageTags();\n            this.removeTags();\n            this.RemoveUnsupported();\n            this.currentElement.innerHTML = this.selfEncloseValidation(this.currentElement.innerHTML, this.currentElement.innerText === \"\\n\" ?\n                this.currentElement.innerText.length : this.currentElement.innerText.trim().length);\n            this.parent.setProperties({ value: this.currentElement.innerHTML }, true);\n        }\n    };\n    /**\n     * @param {string} currentValue - specifies the string value.\n     * @param {number} valueLength - specifies the length of the current value.\n     * @returns {void}\n\n     */\n    XhtmlValidation.prototype.selfEncloseValidation = function (currentValue, valueLength) {\n        if (valueLength === 0 && currentValue.indexOf('table') < 0 && currentValue.indexOf('img') < 0) {\n            var arrayValue = currentValue.split('&nbsp;');\n            arrayValue[arrayValue.length - 1] = '&#8203;' + arrayValue[arrayValue.length - 1];\n            currentValue = arrayValue.join('');\n        }\n        currentValue = currentValue.replace(/<br>/g, '<br/>').replace(/<hr>/g, '<hr/>').replace(/ /g, ' ');\n        var valueTemp;\n        var valueDupe = [];\n        var valueOriginal = [];\n        var imgRegexp = [/<img(.*?)>/gi, /<area(.*?)>/gi, /<base(.*?)>/gi, /<col (.*?)>/gi, /<embed(.*?)>/gi,\n            /<input(.*?)>/gi, /<link(.*?)>/gi, /<meta(.*?)>/gi, /<param(.*?)>/gi, /<source(.*?)>/gi,\n            /<track(.*?)>/gi, /<wbr(.*?)>/gi];\n        for (var j = 0; j < imgRegexp.length; j++) {\n            valueTemp = imgRegexp[j].exec(currentValue);\n            while ((valueTemp) !== null) {\n                valueDupe.push(valueTemp[0].toString());\n                valueTemp = imgRegexp[j].exec(currentValue);\n            }\n            valueOriginal = valueDupe.slice(0);\n            for (var i = 0; i < valueDupe.length; i++) {\n                if (valueDupe[i].indexOf('/') === -1 || valueDupe[i].lastIndexOf('/') !== valueDupe[i].length - 2) {\n                    valueDupe[i] = valueDupe[i].substr(0, valueDupe[i].length - 1) + ' /' +\n                        valueDupe[i].substr(valueDupe[i].length - 1, valueDupe[i].length);\n                }\n            }\n            for (var g = 0; g <= valueDupe.length - 1; g++) {\n                currentValue = currentValue.replace(valueOriginal[g], valueDupe[g]);\n            }\n        }\n        return currentValue;\n    };\n    XhtmlValidation.prototype.AddRootElement = function () {\n        if ((this.currentElement.childNodes.length === 1 && this.currentElement.firstChild.nodeName !== 'DIV') ||\n            this.currentElement.childNodes.length > 1) {\n            var parentEle = this.parent.createElement('div');\n            while (this.currentElement.childNodes.length > 0) {\n                parentEle.appendChild(this.currentElement.childNodes[0]);\n            }\n            this.currentElement.appendChild(parentEle);\n        }\n    };\n    XhtmlValidation.prototype.clean = function (node) {\n        for (var n = 0; n < node.childNodes.length; n++) {\n            var child = node.childNodes[n];\n            if (child.nodeType === 8 || child.nodeName === 'V:IMAGE') {\n                node.removeChild(child);\n                n--;\n            }\n            else if (child.nodeType === 1) {\n                this.clean(child);\n            }\n        }\n        return this.currentElement.innerHTML;\n    };\n    XhtmlValidation.prototype.ImageTags = function () {\n        var imgNodes = this.currentElement.querySelectorAll('IMG');\n        for (var i = imgNodes.length - 1; i >= 0; i--) {\n            if (!imgNodes[i].hasAttribute('alt')) {\n                var img = imgNodes[i];\n                img.setAttribute('alt', '');\n            }\n        }\n    };\n    XhtmlValidation.prototype.removeTags = function () {\n        var removeAttribute = [['br', 'ul'], ['br', 'ol'], ['table', 'span'], ['div', 'span'], ['p', 'span']];\n        for (var i = 0; i < removeAttribute.length; i++) {\n            this.RemoveElementNode(removeAttribute[i][0], removeAttribute[i][1]);\n        }\n    };\n    XhtmlValidation.prototype.RemoveElementNode = function (rmvNode, parentNode) {\n        var parentArray = this.currentElement.querySelectorAll(parentNode);\n        for (var i = 0; i < parentArray.length; i++) {\n            var rmvArray = parentArray[i].querySelectorAll(rmvNode);\n            for (var j = rmvArray.length; j > 0; j--) {\n                detach(rmvArray[j - 1]);\n            }\n        }\n    };\n    XhtmlValidation.prototype.RemoveUnsupported = function () {\n        var underlineEle = this.currentElement.querySelectorAll('u');\n        for (var i = underlineEle.length - 1; i >= 0; i--) {\n            var spanEle = this.parent.createElement('span');\n            spanEle.style.textDecoration = 'underline';\n            spanEle.innerHTML = underlineEle[i].innerHTML;\n            underlineEle[i].parentNode.insertBefore(spanEle, underlineEle[i]);\n            detach(underlineEle[i]);\n        }\n        var strongEle = this.currentElement.querySelectorAll('strong');\n        for (var i = strongEle.length - 1; i >= 0; i--) {\n            var boldEle = this.parent.createElement('b');\n            boldEle.innerHTML = strongEle[i].innerHTML;\n            strongEle[i].parentNode.insertBefore(boldEle, strongEle[i]);\n            detach(strongEle[i]);\n        }\n        var attrArray = ['language', 'role', 'target', 'contenteditable', 'cellspacing',\n            'cellpadding', 'border', 'valign', 'colspan'];\n        for (var i = 0; i <= attrArray.length; i++) {\n            this.RemoveAttributeByName(attrArray[i]);\n        }\n    };\n    XhtmlValidation.prototype.RemoveAttributeByName = function (attrName) {\n        if (this.currentElement.firstChild !== null) {\n            if (this.currentElement.firstChild.nodeType !== 3) {\n                for (var i = 0; i < this.currentElement.childNodes.length; i++) {\n                    var ele = this.currentElement.childNodes[i];\n                    if (ele.nodeType !== 3 && ele.nodeName !== 'TABLE' && ele.nodeName !== 'TBODY' && ele.nodeName !== 'THEAD' &&\n                        ele.nodeName !== 'TH' && ele.nodeName !== 'TR' && ele.nodeName !== 'TD') {\n                        if (ele.hasAttribute(attrName)) {\n                            ele.removeAttribute(attrName);\n                        }\n                        if (ele.hasChildNodes()) {\n                            for (var j = 0; j < ele.childNodes.length; j++) {\n                                var childEle = ele.childNodes[j];\n                                if (childEle.nodeType !== 3 && childEle.nodeName !== 'TABLE' && childEle.nodeName !== 'TBODY' &&\n                                    childEle.nodeName !== 'THEAD' && childEle.nodeName !== 'TH' && childEle.nodeName !== 'TR' &&\n                                    childEle.nodeName !== 'TD' && childEle.hasAttribute(attrName)) {\n                                    childEle.removeAttribute(attrName);\n                                }\n                                if (childEle.hasChildNodes()) {\n                                    for (var k = 0; k < childEle.childNodes.length; k++) {\n                                        if (childEle.childNodes[k].nodeType !== 3 && childEle.childNodes[k].nodeName !== 'TABLE' &&\n                                            childEle.childNodes[k].nodeName !== 'TBODY' && childEle.childNodes[k].nodeName !== 'THEAD' &&\n                                            childEle.childNodes[k].nodeName !== 'TH' && childEle.childNodes[k].nodeName !== 'TR'\n                                            && childEle.childNodes[k].nodeName !== 'TD'\n                                            && childEle.childNodes[k].hasAttribute(attrName)) {\n                                            childEle.childNodes[k].removeAttribute(attrName);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return XhtmlValidation;\n}());\nexport { XhtmlValidation };\n","import * as events from '../base/constant';\nimport { isNullOrUndefined, closest, attributes, removeClass, addClass, Browser, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { HTMLFormatter } from '../formatter/html-formatter';\nimport { RenderType } from '../base/enum';\nimport * as classes from '../base/classes';\nimport { HtmlToolbarStatus } from './html-toolbar-status';\nimport { IframeContentRender } from '../renderer/iframe-content-renderer';\nimport { ContentRender } from '../renderer/content-renderer';\nimport { ColorPickerInput } from './color-picker';\nimport { NodeSelection } from '../../selection/selection';\nimport { InsertHtml } from '../../editor-manager/plugin/inserthtml';\nimport { getTextNodesUnder, sanitizeHelper, getDefaultValue } from '../base/util';\nimport { isIDevice } from '../../common/util';\nimport { XhtmlValidation } from './xhtml-validation';\nimport { ON_BEGIN } from './../../common/constant';\n/**\n * `HtmlEditor` module is used to HTML editor\n */\nvar HtmlEditor = /** @class */ (function () {\n    function HtmlEditor(parent, serviceLocator) {\n        this.rangeCollection = [];\n        this.isImageDelete = false;\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.xhtmlValidation = new XhtmlValidation(parent);\n        this.addEventListener();\n    }\n    /**\n     * Destroys the Markdown.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    HtmlEditor.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * @param {string} value - specifies the string value\n     * @returns {void}\n     * @hidden\n\n     */\n    HtmlEditor.prototype.sanitizeHelper = function (value) {\n        value = sanitizeHelper(value, this.parent);\n        return value;\n    };\n    HtmlEditor.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nodeSelectionObj = new NodeSelection();\n        this.colorPickerModule = new ColorPickerInput(this.parent, this.locator);\n        this.parent.on(events.initialLoad, this.instantiateRenderer, this);\n        this.parent.on(events.htmlToolbarClick, this.onToolbarClick, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.keyUp, this.onKeyUp, this);\n        this.parent.on(events.renderColorPicker, this.renderColorPicker, this);\n        this.parent.on(events.initialEnd, this.render, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.selectAll, this.selectAll, this);\n        this.parent.on(events.selectRange, this.selectRange, this);\n        this.parent.on(events.getSelectedHtml, this.getSelectedHtml, this);\n        this.parent.on(events.selectionSave, this.onSelectionSave, this);\n        this.parent.on(events.selectionRestore, this.onSelectionRestore, this);\n        this.parent.on(events.readOnlyMode, this.updateReadOnly, this);\n        this.parent.on(events.paste, this.onPaste, this);\n    };\n    HtmlEditor.prototype.updateReadOnly = function () {\n        if (this.parent.readonly) {\n            attributes(this.parent.contentModule.getEditPanel(), { contenteditable: 'false' });\n            addClass([this.parent.element], classes.CLS_RTE_READONLY);\n        }\n        else {\n            attributes(this.parent.contentModule.getEditPanel(), { contenteditable: 'true' });\n            removeClass([this.parent.element], classes.CLS_RTE_READONLY);\n        }\n    };\n    HtmlEditor.prototype.onSelectionSave = function () {\n        var currentDocument = this.contentRenderer.getDocument();\n        var range = this.nodeSelectionObj.getRange(currentDocument);\n        this.saveSelection = this.nodeSelectionObj.save(range, currentDocument);\n    };\n    HtmlEditor.prototype.onSelectionRestore = function (e) {\n        this.parent.isBlur = false;\n        this.contentRenderer.getEditPanel().focus();\n        if (isNullOrUndefined(e.items) || e.items) {\n            this.saveSelection.restore();\n        }\n    };\n    HtmlEditor.prototype.onKeyUp = function (e) {\n        var args = e.args;\n        var restrictKeys = [8, 9, 13, 16, 17, 18, 20, 27, 37, 38, 39, 40, 44, 45, 46, 91,\n            112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123];\n        var range = this.parent.getRange();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        var pointer;\n        if (restrictKeys.indexOf(args.keyCode) < 0 && !args.shiftKey && !args.ctrlKey && !args.altKey) {\n            if (range.startContainer.textContent.charCodeAt(0) === 8203) {\n                pointer = range.startOffset - 1;\n                range.startContainer.textContent = range.startContainer.textContent.replace(regEx, '');\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), range.startContainer, pointer);\n            }\n            if (!isNOU(range.startContainer.previousSibling) && !isNOU(range.startContainer.previousSibling.parentElement) &&\n                range.startContainer.parentElement === range.startContainer.previousSibling.parentElement &&\n                range.startContainer.previousSibling.textContent.charCodeAt(0) === 8203 &&\n                range.startContainer.previousSibling.textContent.length <= 1) {\n                range.startContainer.previousSibling.textContent = range.startContainer.previousSibling.textContent.replace(regEx, '');\n            }\n            if (range.endContainer.textContent.charCodeAt(range.endOffset) === 8203) {\n                pointer = range.startOffset;\n                range.endContainer.textContent = range.endContainer.textContent.replace(regEx, '');\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), range.startContainer, pointer);\n            }\n        }\n    };\n    HtmlEditor.prototype.onKeyDown = function (e) {\n        var _this = this;\n        var currentRange;\n        var args = e.args;\n        if (Browser.info.name === 'chrome') {\n            currentRange = this.parent.getRange();\n            this.backSpaceCleanup(e, currentRange);\n            this.deleteCleanup(e, currentRange);\n        }\n        if (args.keyCode === 9 && this.parent.enableTabKey) {\n            if (!isNOU(args.target) && isNullOrUndefined(closest(args.target, '.e-rte-toolbar'))) {\n                var range = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument());\n                var parentNode = this.nodeSelectionObj.getParentNodeCollection(range);\n                if (!((parentNode[0].nodeName === 'LI' || closest(parentNode[0], 'li') ||\n                    closest(parentNode[0], 'table')) && range.startOffset === 0)) {\n                    args.preventDefault();\n                    if (!args.shiftKey) {\n                        InsertHtml.Insert(this.contentRenderer.getDocument(), '&nbsp;&nbsp;&nbsp;&nbsp;');\n                        this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()));\n                    }\n                    else if (this.rangeCollection.length > 0 &&\n                        this.rangeCollection[this.rangeCollection.length - 1].startContainer.textContent.length === 4) {\n                        var textCont = this.rangeCollection[this.rangeCollection.length - 1].startContainer;\n                        this.nodeSelectionObj.setSelectionText(this.contentRenderer.getDocument(), textCont, textCont, 0, textCont.textContent.length);\n                        InsertHtml.Insert(this.contentRenderer.getDocument(), document.createTextNode(''));\n                        this.rangeCollection.pop();\n                    }\n                }\n            }\n        }\n        if (e.args.action === 'space' ||\n            e.args.action === 'enter' ||\n            e.args.keyCode === 13) {\n            this.spaceLink(e.args);\n            if (this.parent.editorMode === 'HTML' && !this.parent.readonly) {\n                this.parent.notify(events.enterHandler, { args: e.args });\n            }\n        }\n        if (e.args.action === 'space') {\n            var currentRange_1 = this.parent.getRange();\n            var editorValue = currentRange_1.startContainer.textContent.slice(0, currentRange_1.startOffset);\n            var orderedList_1 = this.isOrderedList(editorValue);\n            var unOrderedList = this.isUnOrderedList(editorValue);\n            if (orderedList_1 && !unOrderedList || unOrderedList && !orderedList_1) {\n                var eventArgs_1 = {\n                    callBack: null,\n                    event: e.args,\n                    name: 'keydown-handler'\n                };\n                var actionBeginArgs = {\n                    cancel: false,\n                    item: { command: 'Lists', subCommand: orderedList_1 ? 'OL' : 'UL' },\n                    name: 'actionBegin',\n                    originalEvent: e.args,\n                    requestType: orderedList_1 ? 'OL' : 'UL'\n                };\n                this.parent.trigger(events.actionBegin, actionBeginArgs, function (actionBeginArgs) {\n                    if (!actionBeginArgs.cancel) {\n                        _this.parent.formatter.editorManager.observer.notify(ON_BEGIN, eventArgs_1);\n                        _this.parent.trigger(events.actionComplete, {\n                            editorMode: _this.parent.editorMode,\n                            elements: _this.parent.formatter.editorManager.domNode.blockNodes(),\n                            event: e.args,\n                            name: events.actionComplete,\n                            range: _this.parent.getRange(),\n                            requestType: orderedList_1 ? 'OL' : 'UL'\n                        });\n                    }\n                });\n            }\n        }\n        if (Browser.info.name === 'chrome' && (!isNullOrUndefined(this.rangeElement) && !isNullOrUndefined(this.oldRangeElement) ||\n            !isNullOrUndefined(this.deleteRangeElement) && !isNullOrUndefined(this.deleteOldRangeElement)) &&\n            currentRange.startContainer.parentElement.tagName !== 'TD' && currentRange.startContainer.parentElement.tagName !== 'TH') {\n            this.rangeElement = null;\n            this.oldRangeElement = null;\n            this.deleteRangeElement = null;\n            this.deleteOldRangeElement = null;\n            if (!this.isImageDelete) {\n                args.preventDefault();\n            }\n        }\n    };\n    HtmlEditor.prototype.isOrderedList = function (editorValue) {\n        editorValue = editorValue.replace(/\\u200B/g, '');\n        var olListStartRegex = [/^[1]+[.]+$/, /^[i]+[.]+$/, /^[a]+[.]+$/];\n        if (!isNullOrUndefined(editorValue)) {\n            for (var i = 0; i < olListStartRegex.length; i++) {\n                if (olListStartRegex[i].test(editorValue)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    HtmlEditor.prototype.isUnOrderedList = function (editorValue) {\n        editorValue = editorValue.replace(/\\u200B/g, '');\n        var ulListStartRegex = [/^[*]$/, /^[-]$/];\n        if (!isNullOrUndefined(editorValue)) {\n            for (var i = 0; i < ulListStartRegex.length; i++) {\n                if (ulListStartRegex[i].test(editorValue)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    HtmlEditor.prototype.backSpaceCleanup = function (e, currentRange) {\n        var isLiElement = false;\n        if (e.args.code === 'Backspace' && e.args.keyCode === 8 && currentRange.startOffset === 0 &&\n            currentRange.endOffset === 0 && this.parent.getSelection().length === 0 && currentRange.startContainer.textContent.length > 0 &&\n            currentRange.startContainer.parentElement.tagName !== 'TD' && currentRange.startContainer.parentElement.tagName !== 'TH') {\n            this.rangeElement = this.getRootBlockNode(currentRange.startContainer);\n            if (this.rangeElement.tagName === 'OL' || this.rangeElement.tagName === 'UL') {\n                var liElement = this.getRangeLiNode(currentRange.startContainer);\n                if (liElement.previousElementSibling && liElement.previousElementSibling.childElementCount > 0) {\n                    this.oldRangeElement = liElement.previousElementSibling.lastElementChild.nodeName === 'BR' ?\n                        liElement.previousElementSibling : liElement.previousElementSibling.lastElementChild;\n                    if (!isNullOrUndefined(liElement.lastElementChild) && liElement.lastElementChild.nodeName !== 'BR') {\n                        this.rangeElement = liElement.lastElementChild;\n                        isLiElement = true;\n                    }\n                    else {\n                        this.rangeElement = liElement;\n                    }\n                }\n            }\n            else if (this.rangeElement.tagName === 'TABLE' || (!isNullOrUndefined(this.rangeElement.previousElementSibling) &&\n                this.rangeElement.previousElementSibling.tagName === 'TABLE')) {\n                return;\n            }\n            else {\n                this.oldRangeElement = this.rangeElement.previousElementSibling;\n            }\n            if (isNullOrUndefined(this.oldRangeElement)) {\n                return;\n            }\n            else {\n                if (this.oldRangeElement.tagName === 'OL' || this.oldRangeElement.tagName === 'UL') {\n                    this.oldRangeElement = this.oldRangeElement.lastElementChild.lastElementChild\n                        ? this.oldRangeElement.lastElementChild.lastElementChild :\n                        this.oldRangeElement.lastElementChild;\n                }\n                this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), \n                // eslint-disable-next-line\n                this.oldRangeElement, this.oldRangeElement.childNodes.length);\n                if (this.oldRangeElement.querySelector('BR')) {\n                    detach(this.oldRangeElement.querySelector('BR'));\n                }\n                if (!isNullOrUndefined(this.rangeElement) && this.oldRangeElement !== this.rangeElement) {\n                    while (this.rangeElement.firstChild) {\n                        this.oldRangeElement.appendChild(this.rangeElement.childNodes[0]);\n                    }\n                    // eslint-disable-next-line\n                    !isLiElement ? detach(this.rangeElement) : detach(this.rangeElement.parentElement);\n                    this.oldRangeElement.normalize();\n                }\n            }\n        }\n    };\n    HtmlEditor.prototype.deleteCleanup = function (e, currentRange) {\n        var isLiElement = false;\n        var liElement;\n        var rootElement;\n        if (e.args.code === 'Delete' && e.args.keyCode === 46 &&\n            this.parent.contentModule.getText().trim().length !== 0 && this.parent.getSelection().length === 0 && currentRange.startContainer.parentElement.tagName !== 'TD' &&\n            currentRange.startContainer.parentElement.tagName !== 'TH') {\n            this.deleteRangeElement = rootElement = this.getRootBlockNode(currentRange.startContainer);\n            if (this.deleteRangeElement.tagName === 'OL' || this.deleteRangeElement.tagName === 'UL') {\n                liElement = this.getRangeLiNode(currentRange.startContainer);\n                if (liElement.nextElementSibling && liElement.nextElementSibling.childElementCount > 0\n                    && !liElement.nextElementSibling.querySelector('BR')) {\n                    if (!isNullOrUndefined(liElement.lastElementChild)) {\n                        this.deleteRangeElement = liElement.lastElementChild;\n                        isLiElement = true;\n                    }\n                    else {\n                        this.deleteRangeElement = liElement;\n                    }\n                }\n                else {\n                    this.deleteRangeElement = this.getRangeElement(liElement);\n                }\n            }\n            else if (this.deleteRangeElement.nodeType === 3 || (this.deleteRangeElement.tagName === 'TABLE' ||\n                (!isNullOrUndefined(this.deleteRangeElement.nextElementSibling) && this.deleteRangeElement.nextElementSibling.tagName === 'TABLE'))) {\n                return;\n            }\n            if (this.getCaretIndex(currentRange, this.deleteRangeElement) === this.deleteRangeElement.textContent.length) {\n                if (!isNullOrUndefined(liElement)) {\n                    if (isLiElement || !isNullOrUndefined(liElement.nextElementSibling)) {\n                        this.deleteOldRangeElement = this.getRangeElement(liElement.nextElementSibling);\n                    }\n                    else {\n                        this.deleteOldRangeElement = rootElement.nextElementSibling;\n                    }\n                }\n                else {\n                    this.deleteOldRangeElement = this.deleteRangeElement.nextElementSibling;\n                }\n                if (isNullOrUndefined(this.deleteOldRangeElement)) {\n                    return;\n                }\n                else {\n                    if (currentRange.startOffset === 0 && currentRange.endOffset === 1 &&\n                        this.deleteRangeElement.childNodes[0].nodeName === 'IMG') {\n                        this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(), this.deleteRangeElement, this.deleteRangeElement, 0, 1);\n                        this.isImageDelete = true;\n                    }\n                    else {\n                        this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), this.deleteRangeElement, this.deleteRangeElement.childNodes.length);\n                        this.isImageDelete = false;\n                    }\n                    if (this.deleteRangeElement.querySelector('BR')) {\n                        detach(this.deleteRangeElement.querySelector('BR'));\n                    }\n                    if (!isNullOrUndefined(this.deleteRangeElement) && (this.deleteOldRangeElement.tagName !== 'OL' && this.deleteOldRangeElement.tagName !== 'UL')\n                        && this.deleteOldRangeElement !== this.deleteRangeElement) {\n                        while (this.deleteOldRangeElement.firstChild) {\n                            this.deleteRangeElement.appendChild(this.deleteOldRangeElement.childNodes[0]);\n                        }\n                        if (!isLiElement) {\n                            detach(this.deleteOldRangeElement);\n                        }\n                        else {\n                            detach(this.deleteOldRangeElement.parentElement);\n                        }\n                        this.deleteRangeElement.normalize();\n                    }\n                    else {\n                        this.deleteRangeElement = null;\n                        this.deleteOldRangeElement = null;\n                    }\n                }\n            }\n            else {\n                this.deleteRangeElement = null;\n            }\n        }\n    };\n    HtmlEditor.prototype.getCaretIndex = function (currentRange, element) {\n        var position = 0;\n        if (this.parent.contentModule.getDocument().getSelection().rangeCount !== 0) {\n            var preCaretRange = currentRange.cloneRange();\n            preCaretRange.selectNodeContents(element);\n            preCaretRange.setEnd(currentRange.endContainer, currentRange.endOffset);\n            position = preCaretRange.toString().length;\n        }\n        return position;\n    };\n    HtmlEditor.prototype.getRangeElement = function (element) {\n        var rangeElement = element.lastElementChild ? element.lastElementChild.tagName === 'BR' ?\n            element.lastElementChild.previousElementSibling ? element.lastElementChild.previousElementSibling\n                : element : element.lastElementChild : element;\n        return rangeElement;\n    };\n    HtmlEditor.prototype.getRootBlockNode = function (rangeBlockNode) {\n        // eslint-disable-next-line\n        for (; rangeBlockNode && this.parent && this.parent.inputElement !== rangeBlockNode; rangeBlockNode = rangeBlockNode) {\n            if (rangeBlockNode.parentElement === this.parent.inputElement) {\n                break;\n            }\n            else {\n                rangeBlockNode = rangeBlockNode.parentElement;\n            }\n        }\n        return rangeBlockNode;\n    };\n    HtmlEditor.prototype.getRangeLiNode = function (rangeLiNode) {\n        var node = rangeLiNode.parentElement;\n        while (node !== this.parent.inputElement) {\n            if (node.nodeType === 1 && node.tagName === 'LI') {\n                break;\n            }\n            node = node.parentElement;\n        }\n        return node;\n    };\n    HtmlEditor.prototype.onPaste = function (e) {\n        // eslint-disable-next-line\n        var regex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (e.text.match(regex)) {\n            if (e.isWordPaste) {\n                return;\n            }\n            e.args.preventDefault();\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            // eslint-disable-next-line\n            var saveSelection = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            // eslint-disable-next-line\n            var httpRegex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)))/gi);\n            var wwwRegex = new RegExp(/([^\\S]|^)(((www\\.))(\\S+))/gi);\n            var enterSplitText = e.text.split('\\n');\n            var contentInnerElem = '';\n            for (var i = 0; i < enterSplitText.length; i++) {\n                if (enterSplitText[i].trim() === '') {\n                    contentInnerElem += getDefaultValue(this.parent);\n                }\n                else {\n                    var contentWithSpace = '';\n                    var spaceBetweenContent = true;\n                    var spaceSplit = enterSplitText[i].split(' ');\n                    for (var j = 0; j < spaceSplit.length; j++) {\n                        if (spaceSplit[j].trim() === '') {\n                            contentWithSpace += spaceBetweenContent ? '&nbsp;' : ' ';\n                        }\n                        else {\n                            spaceBetweenContent = false;\n                            contentWithSpace += spaceSplit[j] + ' ';\n                        }\n                    }\n                    if (i === 0) {\n                        contentInnerElem += '<span>' + contentWithSpace.trim() + '</span>';\n                    }\n                    else {\n                        contentInnerElem += '<p>' + contentWithSpace.trim() + '</p>';\n                    }\n                }\n            }\n            var divElement = this.parent.createElement('div');\n            divElement.setAttribute('class', 'pasteContent');\n            divElement.style.display = 'inline';\n            divElement.innerHTML = contentInnerElem.replace('&para', '&amp;para');\n            var paraElem = divElement.querySelectorAll('span, p');\n            for (var i = 0; i < paraElem.length; i++) {\n                var splitTextContent = paraElem[i].innerHTML.split(' ');\n                var resultSplitContent = '';\n                for (var j = 0; j < splitTextContent.length; j++) {\n                    if (splitTextContent[j].match(httpRegex) || splitTextContent[j].match(wwwRegex)) {\n                        resultSplitContent += '<a className=\"e-rte-anchor\" href=\"' + splitTextContent[j] +\n                            '\" title=\"' + splitTextContent[j] + '\"target=\"_blank\">' + splitTextContent[j] + ' </a>';\n                    }\n                    else {\n                        resultSplitContent += splitTextContent[j] + ' ';\n                    }\n                }\n                paraElem[i].innerHTML = resultSplitContent.trim();\n            }\n            if (!isNullOrUndefined(this.parent.pasteCleanupModule)) {\n                e.callBack(divElement.innerHTML);\n            }\n            else {\n                this.parent.formatter.editorManager.execCommand('insertHTML', null, null, null, divElement);\n            }\n        }\n    };\n    HtmlEditor.prototype.spaceLink = function (e) {\n        var range = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument());\n        var selectNodeEle = this.nodeSelectionObj.getParentNodeCollection(range);\n        var text = range.startContainer.textContent.substr(0, range.endOffset);\n        var splitText = text.split(' ');\n        var urlText = splitText[splitText.length - 1];\n        var urlTextRange = range.startOffset - (text.length - splitText[splitText.length - 1].length);\n        urlText = urlText.slice(0, urlTextRange);\n        // eslint-disable-next-line\n        var regex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (selectNodeEle[0].nodeName !== 'A' && urlText.match(regex)) {\n            var selection = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n            var url = urlText.indexOf('http') > -1 ? urlText : 'http://' + urlText;\n            var selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            var value = {\n                url: url,\n                selection: selection, selectParent: selectParent,\n                text: urlText,\n                title: '',\n                target: '_blank'\n            };\n            this.parent.formatter.process(this.parent, {\n                item: {\n                    'command': 'Links',\n                    'subCommand': 'CreateLink'\n                }\n            }, e, value);\n        }\n    };\n    HtmlEditor.prototype.onToolbarClick = function (args) {\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        var item = args.item;\n        var closestElement = closest(args.originalEvent.target, '.e-rte-quick-popup');\n        if (closestElement && !closestElement.classList.contains('e-rte-inline-popup')) {\n            if (!(item.subCommand === 'SourceCode' || item.subCommand === 'Preview' ||\n                item.subCommand === 'FontColor' || item.subCommand === 'BackgroundColor')) {\n                if (isIDevice() && item.command === 'Images') {\n                    this.nodeSelectionObj.restore();\n                }\n                var range = this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());\n                save = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                selectNodeEle = this.nodeSelectionObj.getNodeCollection(range);\n                selectParentEle = this.nodeSelectionObj.getParentNodeCollection(range);\n            }\n            if (item.command === 'Images') {\n                this.parent.notify(events.imageToolbarAction, {\n                    member: 'image', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n            if (item.command === 'Links') {\n                this.parent.notify(events.linkToolbarAction, {\n                    member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n            if (item.command === 'Table') {\n                this.parent.notify(events.tableToolbarAction, {\n                    member: 'table', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n        }\n        else {\n            var linkDialog = document.getElementById(this.parent.getID() + '_rtelink');\n            var imageDialog = document.getElementById(this.parent.getID() + '_image');\n            if (!(item.subCommand === 'SourceCode' || item.subCommand === 'Preview' ||\n                item.subCommand === 'FontColor' || item.subCommand === 'BackgroundColor')) {\n                var range = this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());\n                if (isNullOrUndefined(linkDialog) && isNullOrUndefined(imageDialog)) {\n                    save = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                }\n                selectNodeEle = this.nodeSelectionObj.getNodeCollection(range);\n                selectParentEle = this.nodeSelectionObj.getParentNodeCollection(range);\n            }\n            switch (item.subCommand) {\n                case 'Maximize':\n                    this.parent.notify(events.enableFullScreen, { args: args });\n                    break;\n                case 'Minimize':\n                    this.parent.notify(events.disableFullScreen, { args: args });\n                    break;\n                case 'CreateLink':\n                    this.parent.notify(events.insertLink, {\n                        member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                case 'RemoveLink':\n                    this.parent.notify(events.unLink, {\n                        member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                case 'Print':\n                    this.parent.print();\n                    break;\n                case 'Image':\n                    this.parent.notify(events.insertImage, {\n                        member: 'image', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                case 'CreateTable':\n                    this.parent.notify(events.createTable, {\n                        member: 'table', args: args, selection: save\n                    });\n                    break;\n                case 'SourceCode':\n                    this.parent.notify(events.sourceCode, { member: 'viewSource', args: args });\n                    break;\n                case 'Preview':\n                    this.parent.notify(events.updateSource, { member: 'updateSource', args: args });\n                    break;\n                case 'FontColor':\n                case 'BackgroundColor':\n                    break;\n                case 'File':\n                    this.parent.notify(events.renderFileManager, {\n                        member: 'fileManager', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                default:\n                    this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n                    break;\n            }\n        }\n    };\n    HtmlEditor.prototype.renderColorPicker = function (args) {\n        this.colorPickerModule.renderColorPickerInput(args);\n    };\n    HtmlEditor.prototype.instantiateRenderer = function () {\n        if (this.parent.iframeSettings.enable) {\n            this.renderFactory.addRenderer(RenderType.Content, new IframeContentRender(this.parent, this.locator));\n        }\n        else {\n            this.renderFactory.addRenderer(RenderType.Content, new ContentRender(this.parent, this.locator));\n        }\n    };\n    HtmlEditor.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.render);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.htmlToolbarClick, this.onToolbarClick);\n        this.parent.off(events.renderColorPicker, this.renderColorPicker);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.initialLoad, this.instantiateRenderer);\n        this.parent.off(events.selectAll, this.selectAll);\n        this.parent.off(events.selectRange, this.selectRange);\n        this.parent.off(events.getSelectedHtml, this.getSelectedHtml);\n        this.parent.off(events.selectionSave, this.onSelectionSave);\n        this.parent.off(events.selectionRestore, this.onSelectionRestore);\n        this.parent.off(events.readOnlyMode, this.updateReadOnly);\n        this.parent.off(events.paste, this.onPaste);\n    };\n    HtmlEditor.prototype.render = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        var editElement = this.contentRenderer.getEditPanel();\n        var option = { undoRedoSteps: this.parent.undoRedoSteps, undoRedoTimer: this.parent.undoRedoTimer };\n        if (isNullOrUndefined(this.parent.formatter)) {\n            var formatterClass = new HTMLFormatter({\n                currentDocument: this.contentRenderer.getDocument(),\n                element: editElement,\n                options: option\n            });\n            this.parent.setProperties({ formatter: formatterClass }, true);\n        }\n        else {\n            this.parent.formatter.updateFormatter(editElement, this.contentRenderer.getDocument(), option);\n        }\n        if (this.parent.enableXhtml) {\n            this.parent.notify(events.xhtmlValidation, {});\n        }\n        if (this.parent.toolbarSettings.enable) {\n            this.toolbarUpdate = new HtmlToolbarStatus(this.parent);\n        }\n        if (this.parent.inlineMode.enable) {\n            if (!isNullOrUndefined(this.parent.fontFamily.default)) {\n                editElement.style.fontFamily = this.parent.fontFamily.default;\n            }\n            if (!isNullOrUndefined(this.parent.fontSize.default)) {\n                editElement.style.fontSize = this.parent.fontSize.default;\n            }\n        }\n        this.parent.notify(events.bindOnEnd, {});\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the editor model\n     * @returns {void}\n     * @hidden\n\n     */\n    HtmlEditor.prototype.onPropertyChanged = function (e) {\n        // On property code change here\n        if (!isNullOrUndefined(e.newProp.formatter)) {\n            var editElement = this.contentRenderer.getEditPanel();\n            var option = { undoRedoSteps: this.parent.undoRedoSteps,\n                undoRedoTimer: this.parent.undoRedoTimer };\n            this.parent.formatter.updateFormatter(editElement, this.contentRenderer.getDocument(), option);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the string value\n     * @hidden\n     */\n    HtmlEditor.prototype.getModuleName = function () {\n        return 'htmlEditor';\n    };\n    /**\n     * For selecting all content in RTE\n     *\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    HtmlEditor.prototype.selectAll = function () {\n        var nodes = getTextNodesUnder(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel());\n        if (nodes.length > 0) {\n            this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(), nodes[0], nodes[nodes.length - 1], 0, nodes[nodes.length - 1].textContent.length);\n        }\n    };\n    /**\n     * For selecting all content in RTE\n     *\n     * @param {NotifyArgs} e - specifies the notified arguments\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    HtmlEditor.prototype.selectRange = function (e) {\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.parent.contentModule.getDocument(), e.range);\n    };\n    /**\n     * For get a selected text in RTE\n     *\n     * @param {NotifyArgs} e - specifies the notified arguments\n     * @returns {void}\n     * @hidden\n     */\n    HtmlEditor.prototype.getSelectedHtml = function (e) {\n        e.callBack(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).toString());\n    };\n    return HtmlEditor;\n}());\nexport { HtmlEditor };\n","import { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar Render = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent\n     * @param {ServiceLocator} locator - specifies the locator.\n     * @returns {void}\n     */\n    function Render(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.renderer = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    /**\n     * To initialize Rich Text Editor header, content and footer rendering\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Render.prototype.render = function () {\n        // eslint-disable-next-line\n        var rteObj = this.parent;\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.contentRenderer.renderPanel();\n    };\n    /**\n     * Refresh the entire RichTextEditor.\n     *\n     * @param {NotifyArgs} e - specifies the arguments.\n     * @returns {void}\n     */\n    Render.prototype.refresh = function (e) {\n        if (e === void 0) { e = { requestType: 'refresh' }; }\n        this.parent.notify(e.requestType + \"-begin\", e);\n    };\n    /**\n     * Destroy the entire RichTextEditor.\n     *\n     * @returns {void}\n     */\n    Render.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    Render.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.modelChanged, this.refresh, this);\n        this.parent.on(events.keyUp, this.keyUp, this);\n    };\n    Render.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.modelChanged, this.refresh);\n        this.parent.off(events.keyUp, this.keyUp);\n    };\n    Render.prototype.keyUp = function (e) {\n        if (this.parent.editorMode === 'HTML') {\n            switch (e.args.which) {\n                case 46:\n                case 8:\n                    // eslint-disable-next-line\n                    var childNodes = this.parent.contentModule.getEditPanel().childNodes;\n                    if ((childNodes.length === 0) ||\n                        (childNodes.length === 1 && childNodes[0].childNodes.length === 0 && ((childNodes[0].tagName === 'BR') ||\n                            ((childNodes[0].tagName === 'P' || childNodes[0].tagName === 'DIV') && childNodes[0].textContent === '')))) {\n                        var node = this.parent.contentModule.getEditPanel();\n                        if (this.parent.enterKey === 'DIV') {\n                            node.innerHTML = '<div><br/></div>';\n                        }\n                        else if (this.parent.enterKey === 'BR') {\n                            node.innerHTML = '<br/>';\n                        }\n                        else {\n                            node.innerHTML = '<p><br/></p>';\n                        }\n                        this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), node.childNodes[0], 0);\n                    }\n                    break;\n            }\n        }\n    };\n    return Render;\n}());\nexport { Render };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from '@syncfusion/ej2-base';\nimport { Base } from '@syncfusion/ej2-base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222,\n    ']': 221,\n    '[': 219,\n    '=': 187\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n *\n * @hidden\n\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     *\n     * @param {HTMLElement} element - specifies the elements.\n     * @param {KeyboardEventsModel} options - specify the options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         *\n         * @param {KeyboardEventArgs} e - specifies the event arguments.\n         * @returns {void}\n         */\n        _this.keyPressHandler = function (e) {\n            /* eslint-disable */\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var isMetaKey = e.metaKey;\n            /* eslint-enable */\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && (isCtrlKey === rKeyObj.ctrlKey || isMetaKey) &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                    }\n                }\n            }\n            if (_this.keyAction) {\n                _this.keyAction(e);\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     *\n     * @returns {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     *\n     * @param {KeyboardEventsModel} newProp - specifies the keyboard event.\n     * @param {KeyboardEventsModel} oldProp - specifies the old property.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     *\n     * @returns {void}\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     *\n     * @returns {void}\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     *\n     * @returns {void}\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     *\n     * @param {string} config - configuration data\n     * @returns {KeyData} - specifies the key data\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string\n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    var KeyboardEvents_1;\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n}(Base));\nexport { KeyboardEvents };\n","import { removeClass, selectAll, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { CLS_EXPAND_OPEN, CLS_TB_ITEM, CLS_ACTIVE } from '../base/classes';\nimport * as CONSTANT from '../../common/constant';\nimport { RenderType } from '../base/enum';\nimport { KeyboardEvents } from '../actions/keyboard';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar ViewSource = /** @class */ (function () {\n    /**\n     * Constructor for view source module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent element.\n     * @param {ServiceLocator} locator - specifies the locator.\n     * @returns {void}\n     */\n    function ViewSource(parent, locator) {\n        this.parent = parent;\n        var serviceLocator = locator;\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    ViewSource.prototype.addEventListener = function () {\n        this.parent.on(events.sourceCode, this.sourceCode, this);\n        this.parent.on(events.initialEnd, this.onInitialEnd, this);\n        this.parent.on(events.updateSource, this.updateSourceCode, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    ViewSource.prototype.onInitialEnd = function () {\n        this.parent.formatter.editorManager.observer.on(CONSTANT.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    ViewSource.prototype.removeEventListener = function () {\n        this.unWireEvent();\n        this.parent.off(events.sourceCode, this.sourceCode);\n        this.parent.off(events.updateSource, this.updateSourceCode);\n        this.parent.off(events.initialEnd, this.onInitialEnd);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.formatter.editorManager.observer.off(CONSTANT.KEY_DOWN_HANDLER, this.onKeyDown);\n    };\n    ViewSource.prototype.getSourceCode = function () {\n        return this.parent.createElement('textarea', { className: 'e-rte-srctextarea' });\n    };\n    ViewSource.prototype.wireEvent = function (element) {\n        this.keyboardModule = new KeyboardEvents(element, {\n            keyAction: this.previewKeyDown.bind(this), keyConfigs: this.parent.formatter.keyConfig, eventName: 'keydown'\n        });\n        EventHandler.add(this.previewElement, 'mousedown', this.mouseDownHandler, this);\n    };\n    ViewSource.prototype.unWireEvent = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.previewElement) {\n            EventHandler.remove(this.previewElement, 'mousedown', this.mouseDownHandler);\n        }\n    };\n    ViewSource.prototype.wireBaseKeyDown = function () {\n        this.parent.keyboardModule = new KeyboardEvents(this.contentModule.getEditPanel(), {\n            keyAction: this.parent.keyDown.bind(this.parent), keyConfigs: this.parent.formatter.keyConfig, eventName: 'keydown'\n        });\n    };\n    ViewSource.prototype.unWireBaseKeyDown = function () {\n        this.parent.keyboardModule.destroy();\n    };\n    ViewSource.prototype.mouseDownHandler = function (e) {\n        this.parent.notify(events.sourceCodeMouseDown, { args: e });\n    };\n    ViewSource.prototype.previewKeyDown = function (event) {\n        switch (event.action) {\n            case 'html-source':\n                this.updateSourceCode(event);\n                event.preventDefault();\n                break;\n            case 'toolbar-focus':\n                if (this.parent.toolbarSettings.enable) {\n                    var selector = '.e-toolbar-item[aria-disabled=\"false\"][title] [tabindex]';\n                    this.parent.toolbarModule.baseToolbar.toolbarObj.element.querySelector(selector).focus();\n                }\n                break;\n        }\n    };\n    ViewSource.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'html-source':\n                e.event.preventDefault();\n                this.sourceCode(e);\n                e.callBack({\n                    requestType: 'SourceCode',\n                    editorMode: 'HTML',\n                    event: e.event\n                });\n                break;\n        }\n    };\n    /**\n     * sourceCode method\n     *\n     * @param {ClickEventArgs} args - specifies the click event.\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.sourceCode = function (args) {\n        this.parent.isBlur = false;\n        this.parent.trigger(events.actionBegin, { requestType: 'SourceCode', targetItem: 'SourceCode', args: args });\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.parent.element);\n        this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n        this.parent.notify(events.updateToolbarItem, {\n            targetItem: 'SourceCode', updateItem: 'Preview',\n            baseToolbar: this.parent.getBaseToolbarObject()\n        });\n        if (isNullOrUndefined(this.previewElement)) {\n            this.previewElement = this.getSourceCode();\n        }\n        this.parent.updateValueData();\n        if (this.parent.iframeSettings.enable) {\n            var rteContent = void 0;\n            if (isNullOrUndefined(this.parent.element.querySelector('#' + this.parent.element.id + '_source-view'))) {\n                rteContent = this.parent.createElement('div', {\n                    className: 'e-source-content', id: this.parent.element.id + '_source-view'\n                });\n            }\n            else {\n                rteContent = this.parent.element.querySelector('#' + this.parent.element.id + '_source-view');\n            }\n            rteContent.appendChild(this.previewElement);\n            this.parent.element.appendChild(rteContent);\n            rteContent.style.height = this.contentModule.getPanel().style.height;\n            rteContent.style.marginTop = this.contentModule.getPanel().style.marginTop;\n            this.getPanel().value = this.getTextAreaValue();\n            this.contentModule.getPanel().style.display = 'none';\n            rteContent.style.display = 'block';\n            this.getPanel().style.display = 'block';\n        }\n        else {\n            this.contentModule.getPanel().appendChild(this.previewElement);\n            this.getPanel().value = this.getTextAreaValue();\n            this.contentModule.getEditPanel().style.display = 'none';\n            this.previewElement.style.display = 'block';\n        }\n        this.parent.isBlur = false;\n        this.parent.disableToolbarItem(this.parent.toolbarSettings.items);\n        this.parent.enableToolbarItem('SourceCode');\n        if (this.parent.getToolbar()) {\n            removeClass([this.parent.getToolbar()], [CLS_EXPAND_OPEN]);\n        }\n        removeClass(tbItems, [CLS_ACTIVE]);\n        this.parent.setContentHeight('sourceCode', true);\n        this.wireEvent(this.previewElement);\n        this.unWireBaseKeyDown();\n        this.previewElement.focus();\n        this.parent.updateValue();\n        if (!isNullOrUndefined(this.parent.placeholder) && !this.parent.iframeSettings.enable) {\n            var placeHolderWrapper = this.parent.element.querySelector('.rte-placeholder.e-rte-placeholder');\n            placeHolderWrapper.style.display = 'none';\n        }\n        this.parent.trigger(events.actionComplete, { requestType: 'SourceCode', targetItem: 'SourceCode', args: args });\n        this.parent.invokeChangeEvent();\n    };\n    /**\n     * updateSourceCode method\n     *\n     * @param {ClickEventArgs} args - specifies the click event.\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.updateSourceCode = function (args) {\n        this.parent.isBlur = false;\n        this.parent.trigger(events.actionBegin, { requestType: 'Preview', targetItem: 'Preview', args: args });\n        var editHTML = this.getPanel();\n        this.parent.notify(events.updateToolbarItem, {\n            targetItem: 'Preview', updateItem: 'SourceCode',\n            baseToolbar: this.parent.getBaseToolbarObject()\n        });\n        var serializeValue = this.parent.serializeValue(editHTML.value);\n        var value;\n        if (serializeValue === null || serializeValue === '') {\n            if (this.parent.enterKey === 'DIV') {\n                value = '<div><br/></div>';\n            }\n            else if (this.parent.enterKey === 'BR') {\n                value = '<br/>';\n            }\n            else {\n                value = '<p><br/></p>';\n            }\n        }\n        else {\n            value = serializeValue;\n        }\n        if (this.parent.iframeSettings.enable) {\n            editHTML.parentElement.style.display = 'none';\n            editHTML.style.display = 'none';\n            this.contentModule.getPanel().style.display = 'block';\n            this.contentModule.getEditPanel().innerHTML = value;\n        }\n        else {\n            editHTML.style.display = 'none';\n            this.contentModule.getEditPanel().style.display = 'block';\n            this.contentModule.getEditPanel().innerHTML = value;\n        }\n        this.parent.isBlur = false;\n        this.parent.enableToolbarItem(this.parent.toolbarSettings.items);\n        if (this.parent.getToolbar()) {\n            removeClass([this.parent.getToolbar()], [CLS_EXPAND_OPEN]);\n        }\n        this.parent.setContentHeight('preview', true);\n        this.unWireEvent();\n        this.wireBaseKeyDown();\n        this.contentModule.getEditPanel().focus();\n        this.parent.updateValue();\n        if (!isNullOrUndefined(this.parent.placeholder) && this.contentModule.getEditPanel().innerText.length === 0) {\n            var placeHolderWrapper = this.parent.element.querySelector('.rte-placeholder.e-rte-placeholder');\n            placeHolderWrapper.style.display = 'block';\n        }\n        this.parent.trigger(events.actionComplete, { requestType: 'Preview', targetItem: 'Preview', args: args });\n        this.parent.formatter.enableUndo(this.parent);\n        this.parent.invokeChangeEvent();\n    };\n    ViewSource.prototype.getTextAreaValue = function () {\n        return (this.contentModule.getEditPanel().innerHTML === '<p><br></p>') ||\n            (this.contentModule.getEditPanel().innerHTML === '<div><br></div>') ||\n            (this.contentModule.getEditPanel().innerHTML === '<br>') ||\n            (this.contentModule.getEditPanel().childNodes.length === 1 &&\n                (this.contentModule.getEditPanel().childNodes[0].tagName === 'P' &&\n                    this.contentModule.getEditPanel().innerHTML.length === 7) ||\n                (this.contentModule.getEditPanel().childNodes[0].tagName === 'DIV' &&\n                    this.contentModule.getEditPanel().innerHTML.length === 11)) ? '' : this.parent.value;\n    };\n    /**\n     * getPanel method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.getPanel = function () {\n        return this.parent.element && this.parent.element.querySelector('.e-rte-srctextarea');\n    };\n    /**\n     * getViewPanel method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.getViewPanel = function () {\n        return (this.parent.iframeSettings.enable && this.getPanel()) ? this.getPanel().parentElement : this.getPanel();\n    };\n    /**\n     * Destroy the entire RichTextEditor.\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return ViewSource;\n}());\nexport { ViewSource };\n","/**\n * @hidden\n\n */\nexport var executeGroup = {\n    'bold': {\n        command: 'Style',\n        subCommand: 'Bold',\n        value: 'strong'\n    },\n    'italic': {\n        command: 'Style',\n        subCommand: 'Italic',\n        value: 'em'\n    },\n    'underline': {\n        command: 'Style',\n        subCommand: 'Underline',\n        value: 'span'\n    },\n    'strikeThrough': {\n        command: 'Style',\n        subCommand: 'StrikeThrough',\n        value: 'span'\n    },\n    'insertCode': {\n        command: 'Formats',\n        subCommand: 'Pre',\n        value: 'pre'\n    },\n    'superscript': {\n        command: 'Effects',\n        subCommand: 'SuperScript',\n        value: 'sup'\n    },\n    'subscript': {\n        command: 'Effects',\n        subCommand: 'SubScript',\n        value: 'sub'\n    },\n    'uppercase': {\n        command: 'Casing',\n        subCommand: 'UpperCase'\n    },\n    'lowercase': {\n        command: 'Casing',\n        subCommand: 'LowerCase'\n    },\n    'fontColor': {\n        command: 'font',\n        subCommand: 'fontcolor',\n        value: '#ff0000'\n    },\n    'fontName': {\n        command: 'font',\n        subCommand: 'fontname',\n        value: 'Segoe UI'\n    },\n    'fontSize': {\n        command: 'font',\n        subCommand: 'fontsize',\n        value: '10pt'\n    },\n    'backColor': {\n        command: 'font',\n        subCommand: 'backgroundcolor',\n        value: '#ffff00'\n    },\n    'justifyCenter': {\n        command: 'Alignments',\n        subCommand: 'JustifyCenter'\n    },\n    'justifyFull': {\n        command: 'Alignments',\n        subCommand: 'JustifyFull'\n    },\n    'justifyLeft': {\n        command: 'Alignments',\n        subCommand: 'JustifyLeft'\n    },\n    'justifyRight': {\n        command: 'Alignments',\n        subCommand: 'JustifyRight'\n    },\n    'undo': {\n        command: 'Actions',\n        subCommand: 'Undo'\n    },\n    'redo': {\n        command: 'Actions',\n        subCommand: 'Redo'\n    },\n    'createLink': {\n        command: 'Links',\n        subCommand: 'createLink'\n    },\n    'editLink': {\n        command: 'Links',\n        subCommand: 'createLink'\n    },\n    'createImage': {\n        command: 'Images',\n        subCommand: 'Images'\n    },\n    'formatBlock': {\n        command: 'Formats',\n        value: 'P'\n    },\n    'heading': {\n        command: 'Formats',\n        value: 'H1'\n    },\n    'indent': {\n        command: 'Indents',\n        subCommand: 'Indent'\n    },\n    'outdent': {\n        command: 'Indents',\n        subCommand: 'Outdent'\n    },\n    'insertHTML': {\n        command: 'InsertHTML',\n        subCommand: 'InsertHTML',\n        value: ''\n    },\n    'insertText': {\n        command: 'InsertText',\n        subCommand: 'InsertText',\n        value: ''\n    },\n    'insertHorizontalRule': {\n        command: 'InsertHTML',\n        subCommand: 'InsertHTML',\n        value: '<hr/>'\n    },\n    'insertImage': {\n        command: 'Images',\n        subCommand: 'Image'\n    },\n    'editImage': {\n        command: 'Images',\n        subCommand: 'Image'\n    },\n    'insertTable': {\n        command: 'Table',\n        subCommand: 'CreateTable'\n    },\n    'insertBrOnReturn': {\n        command: 'InsertHTML',\n        subCommand: 'InsertHTML',\n        value: '<br/>'\n    },\n    'insertOrderedList': {\n        command: 'Lists',\n        value: 'OL'\n    },\n    'insertUnorderedList': {\n        command: 'Lists',\n        value: 'UL'\n    },\n    'insertParagraph': {\n        command: 'Formats',\n        value: 'P'\n    },\n    'removeFormat': {\n        command: 'Clear',\n        subCommand: 'ClearFormat'\n    }\n};\n","import * as events from '../base/constant';\n/**\n * `ExecCommandCallBack` module is used to run the editor manager command\n */\nvar ExecCommandCallBack = /** @class */ (function () {\n    function ExecCommandCallBack(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ExecCommandCallBack.prototype.addEventListener = function () {\n        this.parent.on(events.execCommandCallBack, this.commandCallBack, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    ExecCommandCallBack.prototype.commandCallBack = function (args) {\n        if (args.requestType !== 'Undo' && args.requestType !== 'Redo') {\n            this.parent.formatter.saveData();\n        }\n        this.parent.notify(events.toolbarRefresh, { args: args });\n        this.parent.notify(events.count, {});\n    };\n    ExecCommandCallBack.prototype.removeEventListener = function () {\n        this.parent.off(events.execCommandCallBack, this.commandCallBack);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    return ExecCommandCallBack;\n}());\nexport { ExecCommandCallBack };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Specifies the Ajax settings of the File Manager.\n */\nvar AjaxSettings = /** @class */ (function (_super) {\n    __extends(AjaxSettings, _super);\n    function AjaxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AjaxSettings.prototype, \"downloadUrl\", void 0);\n    __decorate([\n        Property(null)\n    ], AjaxSettings.prototype, \"getImageUrl\", void 0);\n    __decorate([\n        Property(null)\n    ], AjaxSettings.prototype, \"uploadUrl\", void 0);\n    __decorate([\n        Property(null)\n    ], AjaxSettings.prototype, \"url\", void 0);\n    return AjaxSettings;\n}(ChildProperty));\nexport { AjaxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\nexport var fileItems = ['Open', '|', 'Cut', 'Copy', '|', 'Delete', 'Download', 'Rename', '|', 'Details'];\nexport var folderItems = ['Open', '|', 'Cut', 'Copy', 'Paste', '|', 'Delete', 'Rename', 'Download', '|', 'Details'];\nexport var layoutItems = [\n    'SortBy', 'View', 'Refresh', '|', 'Paste', '|', 'NewFolder', 'Upload', '|', 'Details', '|', 'SelectAll'\n];\n/**\n * Specifies the ContextMenu settings of the File Manager.\n */\nvar ContextMenuSettings = /** @class */ (function (_super) {\n    __extends(ContextMenuSettings, _super);\n    function ContextMenuSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(fileItems)\n    ], ContextMenuSettings.prototype, \"file\", void 0);\n    __decorate([\n        Property(folderItems)\n    ], ContextMenuSettings.prototype, \"folder\", void 0);\n    __decorate([\n        Property(layoutItems)\n    ], ContextMenuSettings.prototype, \"layout\", void 0);\n    __decorate([\n        Property(true)\n    ], ContextMenuSettings.prototype, \"visible\", void 0);\n    return ContextMenuSettings;\n}(ChildProperty));\nexport { ContextMenuSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Specifies the columns in the details view of the file manager.\n */\nexport var columnArray = [\n    {\n        field: 'name', headerText: 'Name', minWidth: 120,\n        template: '<span class=\"e-fe-text\">${name}</span>', customAttributes: { class: 'e-fe-grid-name' }\n    },\n    {\n        field: '_fm_modified', headerText: 'DateModified', type: 'dateTime',\n        format: 'MMMM dd, yyyy HH:mm', minWidth: 120, width: '190'\n    },\n    {\n        field: 'size', headerText: 'Size', minWidth: 90, width: '110', template: '<span class=\"e-fe-size\">${size}</span>'\n    }\n];\n/**\n * Specifies the grid settings of the File Manager.\n */\nvar DetailsViewSettings = /** @class */ (function (_super) {\n    __extends(DetailsViewSettings, _super);\n    function DetailsViewSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], DetailsViewSettings.prototype, \"columnResizing\", void 0);\n    __decorate([\n        Property(columnArray)\n    ], DetailsViewSettings.prototype, \"columns\", void 0);\n    return DetailsViewSettings;\n}(ChildProperty));\nexport { DetailsViewSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Specifies the navigationpane settings of the File Manager.\n */\nvar NavigationPaneSettings = /** @class */ (function (_super) {\n    __extends(NavigationPaneSettings, _super);\n    function NavigationPaneSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('650px')\n    ], NavigationPaneSettings.prototype, \"maxWidth\", void 0);\n    __decorate([\n        Property('240px')\n    ], NavigationPaneSettings.prototype, \"minWidth\", void 0);\n    __decorate([\n        Property(true)\n    ], NavigationPaneSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('None')\n    ], NavigationPaneSettings.prototype, \"sortOrder\", void 0);\n    return NavigationPaneSettings;\n}(ChildProperty));\nexport { NavigationPaneSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Specifies the Search settings of the File Manager.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], SearchSettings.prototype, \"allowSearchOnTyping\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], SearchSettings.prototype, \"placeholder\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\nexport var toolbarItems = ['NewFolder', 'Upload', 'Cut', 'Copy', 'Paste', 'Delete', 'Download', 'Rename',\n    'SortBy', 'Refresh', 'Selection', 'View', 'Details'];\n/**\n * Specifies the Toolbar settings of the FileManager.\n */\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(toolbarItems)\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property(true)\n    ], ToolbarSettings.prototype, \"visible\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Specifies the Ajax settings of the File Manager.\n */\nvar UploadSettings = /** @class */ (function (_super) {\n    __extends(UploadSettings, _super);\n    function UploadSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], UploadSettings.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(true)\n    ], UploadSettings.prototype, \"autoUpload\", void 0);\n    __decorate([\n        Property(false)\n    ], UploadSettings.prototype, \"autoClose\", void 0);\n    __decorate([\n        Property(0)\n    ], UploadSettings.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(30000000)\n    ], UploadSettings.prototype, \"maxFileSize\", void 0);\n    return UploadSettings;\n}(ChildProperty));\nexport { UploadSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { AjaxSettings, ContextMenuSettings } from '@syncfusion/ej2-filemanager';\nimport { DetailsViewSettings, NavigationPaneSettings } from '@syncfusion/ej2-filemanager';\nimport { SearchSettings } from '@syncfusion/ej2-filemanager';\nimport { ToolbarSettings as FileToolbarSettings } from '@syncfusion/ej2-filemanager';\nimport { UploadSettings } from '@syncfusion/ej2-filemanager';\nimport { ToolbarType } from '../base/enum';\nimport { backgroundColor, fontColor, fontFamily, fontSize, formatItems, predefinedItems, TableStyleItems, numberFormatList, bulletFormatList } from './items';\n/**\n * Configures the toolbar settings of the RichTextEditor.\n */\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], ToolbarSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(true)\n    ], ToolbarSettings.prototype, \"enableFloating\", void 0);\n    __decorate([\n        Property(ToolbarType.Expand)\n    ], ToolbarSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(predefinedItems)\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property({})\n    ], ToolbarSettings.prototype, \"itemConfigs\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n/**\n * Configures the image settings of the RichTextEditor.\n */\nvar ImageSettings = /** @class */ (function (_super) {\n    __extends(ImageSettings, _super);\n    function ImageSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(['.jpeg', '.jpg', '.png'])\n    ], ImageSettings.prototype, \"allowedTypes\", void 0);\n    __decorate([\n        Property('inline')\n    ], ImageSettings.prototype, \"display\", void 0);\n    __decorate([\n        Property('Blob')\n    ], ImageSettings.prototype, \"saveFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], ImageSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], ImageSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], ImageSettings.prototype, \"saveUrl\", void 0);\n    __decorate([\n        Property(null)\n    ], ImageSettings.prototype, \"path\", void 0);\n    __decorate([\n        Property(true)\n    ], ImageSettings.prototype, \"resize\", void 0);\n    __decorate([\n        Property(null)\n    ], ImageSettings.prototype, \"removeUrl\", void 0);\n    __decorate([\n        Property(0)\n    ], ImageSettings.prototype, \"minWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], ImageSettings.prototype, \"maxWidth\", void 0);\n    __decorate([\n        Property(0)\n    ], ImageSettings.prototype, \"minHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], ImageSettings.prototype, \"maxHeight\", void 0);\n    __decorate([\n        Property(false)\n    ], ImageSettings.prototype, \"resizeByPercent\", void 0);\n    return ImageSettings;\n}(ChildProperty));\nexport { ImageSettings };\n/**\n * Configures the file manager settings of the RichTextEditor.\n */\nvar FileManagerSettings = /** @class */ (function (_super) {\n    __extends(FileManagerSettings, _super);\n    function FileManagerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ getImageUrl: null, url: null, uploadUrl: null }, AjaxSettings)\n    ], FileManagerSettings.prototype, \"ajaxSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], FileManagerSettings.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Complex({ visible: true, file: ['Open', '|', 'Cut', 'Copy', '|', 'Delete', 'Rename', '|', 'Details'], folder: ['Open', '|', 'Cut', 'Copy', 'Paste', '|', 'Delete', 'Rename', '|', 'Details'], layout: ['SortBy', 'View', 'Refresh', '|', 'Paste', '|', 'NewFolder', 'Upload', '|', 'Details', '|', 'SelectAll'] }, ContextMenuSettings)\n    ], FileManagerSettings.prototype, \"contextMenuSettings\", void 0);\n    __decorate([\n        Property('')\n    ], FileManagerSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Complex({}, DetailsViewSettings)\n    ], FileManagerSettings.prototype, \"detailsViewSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], FileManagerSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Complex({ maxWidth: '650px', minWidth: '240px', visible: true }, NavigationPaneSettings)\n    ], FileManagerSettings.prototype, \"navigationPaneSettings\", void 0);\n    __decorate([\n        Property('/')\n    ], FileManagerSettings.prototype, \"path\", void 0);\n    __decorate([\n        Property(null)\n    ], FileManagerSettings.prototype, \"rootAliasName\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], FileManagerSettings.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], FileManagerSettings.prototype, \"showFileExtension\", void 0);\n    __decorate([\n        Property(false)\n    ], FileManagerSettings.prototype, \"showHiddenItems\", void 0);\n    __decorate([\n        Property(true)\n    ], FileManagerSettings.prototype, \"showThumbnail\", void 0);\n    __decorate([\n        Property('Ascending')\n    ], FileManagerSettings.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Complex({ visible: true, items: ['NewFolder', 'Upload', 'Cut', 'Copy', 'Paste', 'Delete', 'Download', 'Rename', 'SortBy', 'Refresh', 'Selection', 'View', 'Details'] }, FileToolbarSettings)\n    ], FileManagerSettings.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Complex({ autoUpload: true, minFileSize: 0, maxFileSize: 30000000, allowedExtensions: '', autoClose: false }, UploadSettings)\n    ], FileManagerSettings.prototype, \"uploadSettings\", void 0);\n    __decorate([\n        Property('LargeIcons')\n    ], FileManagerSettings.prototype, \"view\", void 0);\n    return FileManagerSettings;\n}(ChildProperty));\nexport { FileManagerSettings };\nvar TableSettings = /** @class */ (function (_super) {\n    __extends(TableSettings, _super);\n    function TableSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('100%')\n    ], TableSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(TableStyleItems)\n    ], TableSettings.prototype, \"styles\", void 0);\n    __decorate([\n        Property(true)\n    ], TableSettings.prototype, \"resize\", void 0);\n    __decorate([\n        Property(0)\n    ], TableSettings.prototype, \"minWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], TableSettings.prototype, \"maxWidth\", void 0);\n    return TableSettings;\n}(ChildProperty));\nexport { TableSettings };\n/**\n * Configures the quick toolbar settings of the RichTextEditor.\n */\nvar QuickToolbarSettings = /** @class */ (function (_super) {\n    __extends(QuickToolbarSettings, _super);\n    function QuickToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], QuickToolbarSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(false)\n    ], QuickToolbarSettings.prototype, \"showOnRightClick\", void 0);\n    __decorate([\n        Property('hide')\n    ], QuickToolbarSettings.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(['Open', 'Edit', 'UnLink'])\n    ], QuickToolbarSettings.prototype, \"link\", void 0);\n    __decorate([\n        Property(['Replace', 'Align', 'Caption', 'Remove', '-', 'InsertLink', 'OpenImageLink', 'EditImageLink', 'RemoveImageLink', 'Display', 'AltText', 'Dimension'])\n    ], QuickToolbarSettings.prototype, \"image\", void 0);\n    __decorate([\n        Property(['Cut', 'Copy', 'Paste'])\n    ], QuickToolbarSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(['TableHeader', 'TableRows', 'TableColumns', 'BackgroundColor', '-', 'TableRemove', 'Alignments', 'TableCellVerticalAlign', 'Styles'])\n    ], QuickToolbarSettings.prototype, \"table\", void 0);\n    return QuickToolbarSettings;\n}(ChildProperty));\nexport { QuickToolbarSettings };\n/**\n * Configures the Paste Cleanup settings of the RichTextEditor.\n */\nvar PasteCleanupSettings = /** @class */ (function (_super) {\n    __extends(PasteCleanupSettings, _super);\n    function PasteCleanupSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], PasteCleanupSettings.prototype, \"prompt\", void 0);\n    __decorate([\n        Property(null)\n    ], PasteCleanupSettings.prototype, \"deniedAttrs\", void 0);\n    __decorate([\n        Property(['background', 'background-color', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-style', 'border-top', 'border-width', 'clear', 'color', 'cursor', 'direction', 'display', 'float', 'font', 'font-family', 'font-size', 'font-weight', 'font-style', 'height', 'left', 'line-height', 'list-style-type', 'margin', 'margin-top', 'margin-left', 'margin-right', 'margin-bottom', 'max-height', 'max-width', 'min-height', 'min-width', 'overflow', 'overflow-x', 'overflow-y', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'position', 'right', 'table-layout', 'text-align', 'text-decoration', 'text-indent', 'top', 'vertical-align', 'visibility', 'white-space', 'width'])\n    ], PasteCleanupSettings.prototype, \"allowedStyleProps\", void 0);\n    __decorate([\n        Property(null)\n    ], PasteCleanupSettings.prototype, \"deniedTags\", void 0);\n    __decorate([\n        Property(true)\n    ], PasteCleanupSettings.prototype, \"keepFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], PasteCleanupSettings.prototype, \"plainText\", void 0);\n    return PasteCleanupSettings;\n}(ChildProperty));\nexport { PasteCleanupSettings };\n/**\n * Configures the font family settings of the RichTextEditor.\n */\nvar FontFamily = /** @class */ (function (_super) {\n    __extends(FontFamily, _super);\n    function FontFamily() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], FontFamily.prototype, \"default\", void 0);\n    __decorate([\n        Property('65px')\n    ], FontFamily.prototype, \"width\", void 0);\n    __decorate([\n        Property(fontFamily)\n    ], FontFamily.prototype, \"items\", void 0);\n    return FontFamily;\n}(ChildProperty));\nexport { FontFamily };\n/**\n * Configures the font size settings of the RichTextEditor.\n */\nvar FontSize = /** @class */ (function (_super) {\n    __extends(FontSize, _super);\n    function FontSize() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], FontSize.prototype, \"default\", void 0);\n    __decorate([\n        Property('35px')\n    ], FontSize.prototype, \"width\", void 0);\n    __decorate([\n        Property(fontSize)\n    ], FontSize.prototype, \"items\", void 0);\n    return FontSize;\n}(ChildProperty));\nexport { FontSize };\n/**\n * Configures the format settings of the RichTextEditor.\n */\nvar Format = /** @class */ (function (_super) {\n    __extends(Format, _super);\n    function Format() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Format.prototype, \"default\", void 0);\n    __decorate([\n        Property('65px')\n    ], Format.prototype, \"width\", void 0);\n    __decorate([\n        Property(formatItems)\n    ], Format.prototype, \"types\", void 0);\n    return Format;\n}(ChildProperty));\nexport { Format };\n/**\n * Configures the font Color settings of the RichTextEditor.\n */\nvar FontColor = /** @class */ (function (_super) {\n    __extends(FontColor, _super);\n    function FontColor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#ff0000')\n    ], FontColor.prototype, \"default\", void 0);\n    __decorate([\n        Property('Palette')\n    ], FontColor.prototype, \"mode\", void 0);\n    __decorate([\n        Property(10)\n    ], FontColor.prototype, \"columns\", void 0);\n    __decorate([\n        Property(fontColor)\n    ], FontColor.prototype, \"colorCode\", void 0);\n    __decorate([\n        Property(false)\n    ], FontColor.prototype, \"modeSwitcher\", void 0);\n    return FontColor;\n}(ChildProperty));\nexport { FontColor };\n/**\n * Configures the background Color settings of the RichTextEditor.\n */\nvar BackgroundColor = /** @class */ (function (_super) {\n    __extends(BackgroundColor, _super);\n    function BackgroundColor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#ffff00')\n    ], BackgroundColor.prototype, \"default\", void 0);\n    __decorate([\n        Property('Palette')\n    ], BackgroundColor.prototype, \"mode\", void 0);\n    __decorate([\n        Property(10)\n    ], BackgroundColor.prototype, \"columns\", void 0);\n    __decorate([\n        Property(backgroundColor)\n    ], BackgroundColor.prototype, \"colorCode\", void 0);\n    __decorate([\n        Property(false)\n    ], BackgroundColor.prototype, \"modeSwitcher\", void 0);\n    return BackgroundColor;\n}(ChildProperty));\nexport { BackgroundColor };\n/**\n * Configures the numberFormatList settings of the RichTextEditor.\n */\nvar NumberFormatList = /** @class */ (function (_super) {\n    __extends(NumberFormatList, _super);\n    function NumberFormatList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(numberFormatList)\n    ], NumberFormatList.prototype, \"types\", void 0);\n    return NumberFormatList;\n}(ChildProperty));\nexport { NumberFormatList };\n/**\n * Configures the bulletFormatList settings of the RichTextEditor.\n */\nvar BulletFormatList = /** @class */ (function (_super) {\n    __extends(BulletFormatList, _super);\n    function BulletFormatList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(bulletFormatList)\n    ], BulletFormatList.prototype, \"types\", void 0);\n    return BulletFormatList;\n}(ChildProperty));\nexport { BulletFormatList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Objects used for configuring the iframe resources properties.\n */\nvar Resources = /** @class */ (function (_super) {\n    __extends(Resources, _super);\n    function Resources() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], Resources.prototype, \"styles\", void 0);\n    __decorate([\n        Property([])\n    ], Resources.prototype, \"scripts\", void 0);\n    return Resources;\n}(ChildProperty));\nexport { Resources };\n/**\n * Configures the iframe settings of the RTE.\n */\nvar IFrameSettings = /** @class */ (function (_super) {\n    __extends(IFrameSettings, _super);\n    function IFrameSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], IFrameSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(null)\n    ], IFrameSettings.prototype, \"attributes\", void 0);\n    __decorate([\n        Complex({}, Resources)\n    ], IFrameSettings.prototype, \"resources\", void 0);\n    return IFrameSettings;\n}(ChildProperty));\nexport { IFrameSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the inlineMode property of the RTE.\n */\nvar InlineMode = /** @class */ (function (_super) {\n    __extends(InlineMode, _super);\n    function InlineMode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], InlineMode.prototype, \"enable\", void 0);\n    __decorate([\n        Property(true)\n    ], InlineMode.prototype, \"onSelection\", void 0);\n    return InlineMode;\n}(ChildProperty));\nexport { InlineMode };\n","/**\n * @param {string} htmlAttributes - specifies the string value\n * @param {IRichTextEditor} rte - specifies the rte value\n * @param {boolean} isFrame - specifies the boolean value\n * @param {boolean} initial - specifies the boolean value\n * @returns {void}\n * @hidden\n */\nexport function setAttributes(htmlAttributes, rte, isFrame, initial) {\n    var target;\n    if (isFrame) {\n        var iFrame = rte.contentModule.getDocument();\n        target = iFrame.querySelector('body');\n    }\n    else {\n        target = rte.element;\n    }\n    if (Object.keys(htmlAttributes).length) {\n        for (var _i = 0, _a = Object.keys(htmlAttributes); _i < _a.length; _i++) {\n            var htmlAttr = _a[_i];\n            if (htmlAttr === 'class') {\n                target.classList.add(htmlAttributes[htmlAttr]);\n            }\n            else if (htmlAttr === 'disabled' && htmlAttributes[htmlAttr] === 'disabled') {\n                rte.enabled = false;\n                rte.setEnable();\n            }\n            else if (htmlAttr === 'readonly' && htmlAttributes[htmlAttr] === 'readonly') {\n                rte.readonly = true;\n                rte.setReadOnly(initial);\n            }\n            else if (htmlAttr === 'style') {\n                target.setAttribute('style', htmlAttributes[htmlAttr]);\n            }\n            else if (htmlAttr === 'tabindex') {\n                rte.inputElement.setAttribute('tabindex', htmlAttributes[htmlAttr]);\n            }\n            else if (htmlAttr === 'placeholder') {\n                rte.placeholder = htmlAttributes[htmlAttr];\n                rte.setPlaceHolder();\n            }\n            else {\n                var validateAttr = ['name', 'required'];\n                if (validateAttr.indexOf(htmlAttr) > -1) {\n                    rte.valueContainer.setAttribute(htmlAttr, htmlAttributes[htmlAttr]);\n                }\n                else {\n                    target.setAttribute(htmlAttr, htmlAttributes[htmlAttr]);\n                }\n            }\n        }\n    }\n}\n","import { Browser, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { getScrollableParent } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\n/**\n * `FullScreen` module is used to maximize and minimize screen\n */\nvar FullScreen = /** @class */ (function () {\n    function FullScreen(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * showFullScreen method\n     *\n     * @param {MouseEvent} event - specifies the mouse event\n     * @returns {void}\n     * @hidden\n\n     */\n    FullScreen.prototype.showFullScreen = function (event) {\n        var _this = this;\n        if (this.parent.toolbarSettings.enable === true && this.parent.editorMode !== 'Markdown'\n            && !isNOU(this.parent.quickToolbarModule)) {\n            this.parent.quickToolbarModule.hideQuickToolbars();\n        }\n        this.scrollableParent = getScrollableParent(this.parent.element);\n        if (!this.parent.element.classList.contains(classes.CLS_FULL_SCREEN)) {\n            var evenArgs = {\n                cancel: false,\n                requestType: 'Maximize',\n                targetItem: 'Maximize',\n                args: event\n            };\n            this.parent.trigger(events.actionBegin, evenArgs, function (beginEventArgs) {\n                if (!beginEventArgs.cancel) {\n                    if (_this.parent.toolbarSettings.enableFloating &&\n                        !_this.parent.inlineMode.enable && _this.parent.toolbarSettings.enable) {\n                        _this.parent.getToolbarElement().style.width = '100%';\n                        _this.parent.getToolbarElement().style.top = '0px';\n                    }\n                    _this.parent.element.classList.add(classes.CLS_FULL_SCREEN);\n                    _this.toggleParentOverflow(true);\n                    _this.parent.setContentHeight();\n                    if (_this.parent.toolbarModule) {\n                        if (!_this.parent.getBaseToolbarObject().toolbarObj.items[0].properties) {\n                            _this.parent.getBaseToolbarObject().toolbarObj.removeItems(0);\n                        }\n                        if (Browser.isDevice) {\n                            _this.parent.toolbarModule.removeFixedTBarClass();\n                        }\n                        _this.parent.toolbarModule.updateItem({\n                            targetItem: 'Maximize',\n                            updateItem: 'Minimize',\n                            baseToolbar: _this.parent.getBaseToolbarObject()\n                        });\n                    }\n                    _this.parent.trigger(events.actionComplete, { requestType: 'Maximize', targetItem: 'Maximize', args: event });\n                }\n            });\n        }\n    };\n    /**\n     * hideFullScreen method\n     *\n     * @param {MouseEvent} event - specifies the mouse event\n     * @returns {void}\n     * @hidden\n\n     */\n    FullScreen.prototype.hideFullScreen = function (event) {\n        var _this = this;\n        if (this.parent.toolbarSettings.enable === true && this.parent.editorMode !== 'Markdown'\n            && !isNOU(this.parent.quickToolbarModule)) {\n            this.parent.quickToolbarModule.hideQuickToolbars();\n        }\n        if (this.parent.element.classList.contains(classes.CLS_FULL_SCREEN)) {\n            var evenArgs = {\n                cancel: false,\n                requestType: 'Minimize',\n                targetItem: 'Minimize',\n                args: event\n            };\n            this.parent.trigger(events.actionBegin, evenArgs, function (beginEventArgs) {\n                if (!beginEventArgs.cancel) {\n                    _this.parent.element.classList.remove(classes.CLS_FULL_SCREEN);\n                    var elem = document.querySelectorAll('.e-rte-overflow');\n                    for (var i = 0; i < elem.length; i++) {\n                        removeClass([elem[i]], ['e-rte-overflow']);\n                    }\n                    _this.parent.setContentHeight();\n                    if (_this.parent.toolbarModule) {\n                        if (!_this.parent.getBaseToolbarObject().toolbarObj.items[0].properties) {\n                            _this.parent.getBaseToolbarObject().toolbarObj.removeItems(0);\n                        }\n                        _this.parent.toolbarModule.updateItem({\n                            targetItem: 'Minimize',\n                            updateItem: 'Maximize',\n                            baseToolbar: _this.parent.getBaseToolbarObject()\n                        });\n                        if (Browser.isDevice && _this.parent.inlineMode.enable) {\n                            _this.parent.toolbarModule.addFixedTBarClass();\n                        }\n                    }\n                    _this.parent.trigger(events.actionComplete, { requestType: 'Minimize', targetItem: 'Minimize', args: event });\n                }\n            });\n        }\n    };\n    // eslint-disable-next-line\n    FullScreen.prototype.toggleParentOverflow = function (isAdd) {\n        if (isNOU(this.scrollableParent)) {\n            return;\n        }\n        for (var i = 0; i < this.scrollableParent.length; i++) {\n            if (this.scrollableParent[i].nodeName === '#document') {\n                var elem = document.querySelector('body');\n                addClass([elem], ['e-rte-overflow']);\n            }\n            else {\n                var elem = this.scrollableParent[i];\n                addClass([elem], ['e-rte-overflow']);\n            }\n        }\n    };\n    FullScreen.prototype.onKeyDown = function (event) {\n        var originalEvent = event.args;\n        switch (originalEvent.action) {\n            case 'full-screen':\n                this.showFullScreen(event.args);\n                originalEvent.preventDefault();\n                break;\n            case 'escape':\n                this.hideFullScreen(event.args);\n                originalEvent.preventDefault();\n                break;\n        }\n    };\n    FullScreen.prototype.addEventListener = function () {\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    FullScreen.prototype.removeEventListener = function () {\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    /**\n     * destroy method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    FullScreen.prototype.destroy = function () {\n        if (this.parent.element.classList.contains(classes.CLS_FULL_SCREEN)) {\n            this.toggleParentOverflow(false);\n        }\n        var elem = document.querySelectorAll('.e-rte-overflow');\n        for (var i = 0; i < elem.length; i++) {\n            removeClass([elem[i]], ['e-rte-overflow']);\n        }\n        this.removeEventListener();\n    };\n    return FullScreen;\n}());\nexport { FullScreen };\n","/**\n * Resize library\n */\nimport { isNullOrUndefined as isNOU, createElement, EventHandler, detach, Browser } from '@syncfusion/ej2-base';\n/* eslint-disable */\nvar elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nvar RESIZE_HANDLER = 'e-resize-handle';\nvar FOCUSED_HANDLER = 'e-focused-handle';\nvar DIALOG_RESIZABLE = 'e-dlg-resizable';\nvar RESTRICT_LEFT = ['e-restrict-left'];\nvar RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nvar dialogBorderResize = ['north', 'west', 'east', 'south'];\nvar targetElement;\nvar selectedHandler;\nvar originalWidth = 0;\nvar originalHeight = 0;\nvar originalX = 0;\nvar originalY = 0;\nvar originalMouseX = 0;\nvar originalMouseY = 0;\nvar minHeight;\nvar maxHeight;\nvar minWidth;\nvar maxWidth;\nvar containerElement;\n/* eslint-disable */\nvar resizeStart = null;\nvar resize = null;\nvar resizeEnd = null;\n/* eslint-enable */\nvar resizeWestWidth;\nvar setLeft = true;\nvar previousWidth = 0;\nvar setWidth = true;\n// eslint-disable-next-line\nvar proxy;\n/**\n *\n * @param {ResizeArgs} args - specifies the resize args\n * @returns {void}\n */\nexport function createResize(args) {\n    resizeStart = args.resizeBegin;\n    resize = args.resizing;\n    resizeEnd = args.resizeComplete;\n    targetElement = getDOMElement(args.element);\n    containerElement = getDOMElement(args.boundary);\n    var directions = args.direction.split(' ');\n    for (var i = 0; i < directions.length; i++) {\n        if (dialogBorderResize.indexOf(directions[i]) >= 0 && directions[i]) {\n            setBorderResizeElm(directions[i]);\n        }\n        else if (directions[i].trim() !== '') {\n            var resizeHandler = createElement('div', { className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i] });\n            targetElement.appendChild(resizeHandler);\n        }\n    }\n    minHeight = args.minHeight;\n    minWidth = args.minWidth;\n    maxWidth = args.maxWidth;\n    maxHeight = args.maxHeight;\n    if (args.proxy && args.proxy.element && args.proxy.element.classList.contains('e-dialog')) {\n        wireEvents(args.proxy);\n    }\n    else {\n        wireEvents();\n    }\n}\n/**\n *\n * @param {string} direction - specifies the string\n * @returns {void}\n */\nfunction setBorderResizeElm(direction) {\n    calculateValues();\n    var borderBottom = createElement('span', {\n        attrs: {\n            'unselectable': 'on', 'contenteditable': 'false'\n        }\n    });\n    borderBottom.setAttribute('class', 'e-dialog-border-resize e-' + direction);\n    if (direction === 'south') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.bottom = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'north') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.top = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'east') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.right = '0px';\n        borderBottom.style.top = '0px';\n    }\n    if (direction === 'west') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.left = '0px';\n        borderBottom.style.top = '0px';\n    }\n    targetElement.appendChild(borderBottom);\n}\n/**\n *\n * @param {string} element - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction getDOMElement(element) {\n    var domElement;\n    if (!isNOU(element)) {\n        if (typeof (element) === 'string') {\n            domElement = document.querySelector(element);\n        }\n        else {\n            domElement = element;\n        }\n    }\n    return domElement;\n}\n// eslint-disable-next-line\nfunction wireEvents(args) {\n    if (isNOU(args)) {\n        args = this;\n    }\n    var resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < resizers.length; i++) {\n        selectedHandler = resizers[i];\n        EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n        var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n        EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n    }\n    var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNOU(borderResizers)) {\n        for (var i = 0; i < borderResizers.length; i++) {\n            selectedHandler = borderResizers[i];\n            EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n            var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n            EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {string} e - specifies the string\n * @returns {string} - returns the string\n */\nfunction getEventType(e) {\n    return (e.indexOf('mouse') > -1) ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the mouse event\n * @returns {void}\n */\nfunction onMouseDown(e) {\n    e.preventDefault();\n    targetElement = e.target.parentElement;\n    calculateValues();\n    originalMouseX = e.pageX;\n    originalMouseY = e.pageY;\n    e.target.classList.add(FOCUSED_HANDLER);\n    if (!isNOU(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    if (this.targetEle && targetElement && targetElement.querySelector('.' + DIALOG_RESIZABLE)) {\n        containerElement = this.target === 'body' || 'document.body' || document.body ? null : this.targetEle;\n        maxWidth = this.targetEle.clientWidth;\n        maxHeight = this.targetEle.clientHeight;\n    }\n    var target = (isNOU(containerElement)) ? document : containerElement;\n    EventHandler.add(target, 'mousemove', onMouseMove, this);\n    EventHandler.add(document, 'mouseup', onMouseUp, this);\n    for (var i = 0; i < RESTRICT_LEFT.length; i++) {\n        if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n            setLeft = false;\n        }\n        else {\n            setLeft = true;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseUp(e) {\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNOU(containerElement)) ? document : containerElement;\n    var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n    EventHandler.remove(target, 'mousemove', onMouseMove);\n    EventHandler.remove(target, touchMoveEvent, onMouseMove);\n    EventHandler.remove(target, eventName, onMouseMove);\n    if (!isNOU(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n    }\n    if (!isNOU(resizeEnd)) {\n        proxy = this;\n        resizeEnd(e, proxy);\n    }\n    EventHandler.remove(document, 'mouseup', onMouseUp);\n    EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n * @returns {void}\n */\nfunction calculateValues() {\n    originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n    originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n    originalX = targetElement.getBoundingClientRect().left;\n    originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onTouchStart(e) {\n    targetElement = e.target.parentElement;\n    calculateValues();\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    originalMouseX = coordinates.pageX;\n    originalMouseY = coordinates.pageY;\n    if (!isNOU(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNOU(containerElement)) ? document : containerElement;\n    EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n    EventHandler.add(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseMove(e) {\n    if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n        selectedHandler = e.target;\n    }\n    else if (!isNOU(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n    }\n    if (!isNOU(selectedHandler)) {\n        var resizeTowards = '';\n        for (var i = 0; i < elementClass.length; i++) {\n            if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n                resizeTowards = elementClass[i];\n            }\n        }\n        if (!isNOU(resize)) {\n            proxy = this;\n            resize(e, proxy);\n        }\n        switch (resizeTowards) {\n            case 'south':\n                resizeSouth(e);\n                break;\n            case 'north':\n                resizeNorth(e);\n                break;\n            case 'west':\n                resizeWest(e);\n                break;\n            case 'east':\n                resizeEast(e);\n                break;\n            case 'south-east':\n                resizeSouth(e);\n                resizeEast(e);\n                break;\n            case 'south-west':\n                resizeSouth(e);\n                resizeWest(e);\n                break;\n            case 'north-east':\n                resizeNorth(e);\n                resizeEast(e);\n                break;\n            case 'north-west':\n                resizeNorth(e);\n                resizeWest(e);\n                break;\n            default: break;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {HTMLElement} element - specifies the eleemnt\n * @returns {ClientRect} - returns the client\n */\nfunction getClientRectValues(element) {\n    return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeSouth(e) {\n    var documentHeight = document.documentElement.clientHeight;\n    var calculateValue = false;\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    var currentpageY = coordinates.pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    var containerRectValues;\n    if (!isNOU(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNOU(containerElement)) {\n        calculateValue = true;\n    }\n    else if (isNOU(containerElement) && ((documentHeight - currentpageY) >= 0 || (targetRectValues.top < 0))) {\n        calculateValue = true;\n    }\n    var calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n    calculatedHeight = (calculatedHeight > minHeight) ? calculatedHeight : minHeight;\n    var containerTop = 0;\n    if (!isNOU(containerElement)) {\n        containerTop = containerRectValues.top;\n    }\n    var borderValue = isNOU(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n    var topWithoutborder = (targetRectValues.top - containerTop) - (borderValue / 2);\n    topWithoutborder = (topWithoutborder < 0) ? 0 : topWithoutborder;\n    if (targetRectValues.top > 0 && (topWithoutborder + calculatedHeight) > maxHeight) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.height = (maxHeight - parseInt(topWithoutborder.toString(), 10)) + 'px';\n        return;\n    }\n    var targetTop = 0;\n    if (calculateValue) {\n        if (targetRectValues.top < 0 && (documentHeight + (targetRectValues.height + targetRectValues.top) > 0)) {\n            targetTop = targetRectValues.top;\n            if ((calculatedHeight + targetTop) <= 30) {\n                calculatedHeight = (targetRectValues.height - (targetRectValues.height + targetRectValues.top)) + 30;\n            }\n        }\n        if (((calculatedHeight + targetRectValues.top) >= maxHeight)) {\n            targetElement.style.height = targetRectValues.height +\n                (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n        }\n        var calculatedTop = (isNOU(containerElement)) ? targetTop : topWithoutborder;\n        if (calculatedHeight >= minHeight && ((calculatedHeight + calculatedTop) <= maxHeight)) {\n            targetElement.style.height = calculatedHeight + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeNorth(e) {\n    var calculateValue = false;\n    var boundaryRectValues;\n    var pageY = (getEventType(e.type) === 'mouse') ? e.pageY : e.touches[0].pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNOU(containerElement)) {\n        boundaryRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNOU(containerElement) && (targetRectValues.top - boundaryRectValues.top) > 0) {\n        calculateValue = true;\n    }\n    else if (isNOU(containerElement) && pageY > 0) {\n        calculateValue = true;\n    }\n    var currentHeight = originalHeight - (pageY - originalMouseY);\n    if (calculateValue) {\n        if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n            var containerTop = 0;\n            if (!isNOU(containerElement)) {\n                containerTop = boundaryRectValues.top;\n            }\n            var top_1 = (originalY - containerTop) + (pageY - originalMouseY);\n            top_1 = top_1 > 0 ? top_1 : 1;\n            targetElement.style.height = currentHeight + 'px';\n            targetElement.style.top = top_1 + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeWest(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var rectValues;\n    if (!isNOU(containerElement)) {\n        rectValues = getClientRectValues(containerElement);\n    }\n    var pageX = (getEventType(e.type) === 'mouse') ? e.pageX : e.touches[0].pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    var borderValue = isNOU(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n    /* eslint-disable */\n    var left = isNOU(containerElement) ? 0 : rectValues.left;\n    var containerWidth = isNOU(containerElement) ? 0 : rectValues.width;\n    /* eslint-enable */\n    if (isNOU(resizeWestWidth)) {\n        if (!isNOU(containerElement)) {\n            resizeWestWidth = (((targetRectValues.left - left) - borderValue / 2)) + targetRectValues.width;\n            resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n        }\n        else {\n            resizeWestWidth = documentWidth;\n        }\n    }\n    if (!isNOU(containerElement) &&\n        (Math.floor((targetRectValues.left - rectValues.left) + targetRectValues.width +\n            (rectValues.right - targetRectValues.right)) - borderValue) <= maxWidth) {\n        calculateValue = true;\n    }\n    else if (isNOU(containerElement) && pageX >= 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth - (pageX - originalMouseX);\n    if (setLeft) {\n        calculatedWidth = (calculatedWidth > resizeWestWidth) ? resizeWestWidth : calculatedWidth;\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            var containerLeft = 0;\n            if (!isNOU(containerElement)) {\n                containerLeft = rectValues.left;\n            }\n            var left_1 = (originalX - containerLeft) + (pageX - originalMouseX);\n            left_1 = (left_1 > 0) ? left_1 : 1;\n            if (calculatedWidth !== previousWidth && setWidth) {\n                targetElement.style.width = calculatedWidth + 'px';\n            }\n            if (setLeft) {\n                targetElement.style.left = left_1 + 'px';\n                if (left_1 === 1) {\n                    setWidth = false;\n                }\n                else {\n                    setWidth = true;\n                }\n            }\n        }\n    }\n    previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeEast(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var containerRectValues;\n    if (!isNOU(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    var pageX = coordinates.pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNOU(containerElement) && (((targetRectValues.left - containerRectValues.left) + targetRectValues.width) <= maxWidth\n        || (targetRectValues.right - containerRectValues.left) >= targetRectValues.width)) {\n        calculateValue = true;\n    }\n    else if (isNOU(containerElement) && (documentWidth - pageX) > 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth + (pageX - originalMouseX);\n    var containerLeft = 0;\n    if (!isNOU(containerElement)) {\n        containerLeft = containerRectValues.left;\n    }\n    if (((targetRectValues.left - containerLeft) + calculatedWidth) > maxWidth) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            targetElement.style.width = calculatedWidth + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {number} minimumHeight - specifies the number\n * @returns {void}\n */\nexport function setMinHeight(minimumHeight) {\n    minHeight = minimumHeight;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nexport function setMaxWidth(value) {\n    maxWidth = value;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nexport function setMaxHeight(value) {\n    maxHeight = value;\n}\n/**\n * @returns {void}\n */\nexport function removeResize() {\n    var handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < handlers.length; i++) {\n        detach(handlers[i]);\n    }\n    var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNOU(borderResizers)) {\n        for (var i = 0; i < borderResizers.length; i++) {\n            detach(borderResizers[i]);\n        }\n    }\n}\n","import { isNullOrUndefined as isNOU, detach, Browser } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\n/**\n * `EnterKey` module is used to handle enter key press actions.\n */\nvar EnterKeyAction = /** @class */ (function () {\n    function EnterKeyAction(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    EnterKeyAction.prototype.addEventListener = function () {\n        this.parent.on(events.enterHandler, this.enterHandler, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    EnterKeyAction.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    EnterKeyAction.prototype.removeEventListener = function () {\n        this.parent.off(events.enterHandler, this.enterHandler);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    EnterKeyAction.prototype.getRangeNode = function () {\n        this.range = this.parent.getRange();\n        this.startNode = this.range.startContainer.nodeName === '#text' ? this.range.startContainer.parentElement :\n            this.range.startContainer;\n        this.endNode = this.range.endContainer.nodeName === '#text' ? this.range.endContainer.parentElement :\n            this.range.endContainer;\n    };\n    EnterKeyAction.prototype.enterHandler = function (e) {\n        var _this = this;\n        this.getRangeNode();\n        var isTableEnter = true;\n        if (!isNOU(this.startNode.closest('TABLE')) && !isNOU(this.endNode.closest('TABLE'))) {\n            isTableEnter = false;\n            var curElement = this.startNode;\n            var blockElement = curElement;\n            while (!this.parent.formatter.editorManager.domNode.isBlockNode(curElement)) {\n                blockElement = curElement;\n                curElement = curElement.parentElement;\n            }\n            isTableEnter = blockElement.tagName === 'TD' ? false : true;\n        }\n        if (e.args.which === 13 && e.args.code === 'Enter') {\n            if (isNOU(this.startNode.closest('LI')) && isNOU(this.endNode.closest('LI')) && isTableEnter &&\n                isNOU(this.startNode.closest('PRE')) && isNOU(this.endNode.closest('PRE'))) {\n                var shiftKey_1 = e.args.shiftKey;\n                var actionBeginArgs = {\n                    cancel: false,\n                    name: events.actionBegin,\n                    requestType: shiftKey_1 ? 'ShiftEnterAction' : 'EnterAction',\n                    originalEvent: e.args\n                };\n                this.parent.trigger(events.actionBegin, actionBeginArgs, function (actionBeginArgs) {\n                    if (!actionBeginArgs.cancel) {\n                        if (!(_this.range.startOffset === _this.range.endOffset && _this.range.startContainer === _this.range.endContainer)) {\n                            _this.range.deleteContents();\n                            if (_this.range.startContainer.nodeName === '#text' && _this.range.startContainer.textContent.length === 0 &&\n                                _this.range.startContainer.parentElement !== _this.parent.inputElement) {\n                                if (_this.parent.enterKey === 'BR') {\n                                    _this.range.startContainer.parentElement.innerHTML = '&#8203;';\n                                }\n                                else {\n                                    _this.range.startContainer.parentElement.innerHTML = '<br>';\n                                }\n                            }\n                            else if (_this.range.startContainer === _this.parent.inputElement && _this.range.startContainer.innerHTML === '') {\n                                _this.range.startContainer.innerHTML = '<br>';\n                                var focusElem = _this.range.startContainer.childNodes[_this.range.startOffset];\n                                _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusElem, 0);\n                            }\n                            else if (_this.parent.inputElement === _this.range.startContainer) {\n                                var focusElem = _this.range.startContainer.childNodes[_this.range.startOffset];\n                                if (focusElem.nodeName === '#text' && focusElem.textContent.length === 0) {\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusElem, focusElem.previousSibling.textContent.length);\n                                }\n                                else {\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusElem, focusElem.textContent.length >= 0 ? 0 : 1);\n                                    if (focusElem.previousSibling.textContent.length === 0) {\n                                        detach(focusElem.previousSibling);\n                                    }\n                                    else if (focusElem.textContent.length === 0) {\n                                        var currentFocusElem = focusElem.previousSibling.lastChild;\n                                        while (currentFocusElem.nodeName !== '#text') {\n                                            currentFocusElem = currentFocusElem.lastChild;\n                                        }\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), currentFocusElem, currentFocusElem.textContent.length);\n                                        detach(focusElem);\n                                    }\n                                    else if (_this.parent.enterKey !== 'BR' &&\n                                        focusElem.previousSibling.textContent.length !== 0 && focusElem.textContent.length !== 0) {\n                                        e.args.preventDefault();\n                                        return;\n                                    }\n                                }\n                                _this.getRangeNode();\n                            }\n                        }\n                        if (_this.range.startContainer === _this.range.endContainer &&\n                            _this.range.startOffset === _this.range.endOffset && _this.range.startContainer === _this.parent.inputElement) {\n                            _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), _this.range.startContainer.childNodes[_this.range.startOffset], 0);\n                            _this.getRangeNode();\n                        }\n                        if ((_this.parent.enterKey === 'P' && !shiftKey_1) || (_this.parent.enterKey === 'DIV' && !shiftKey_1) ||\n                            (_this.parent.shiftEnterKey === 'P' && shiftKey_1) ||\n                            (_this.parent.shiftEnterKey === 'DIV' && shiftKey_1)) {\n                            var nearBlockNode = void 0;\n                            if (isTableEnter && _this.parent.formatter.editorManager.domNode.isBlockNode(_this.startNode)) {\n                                nearBlockNode = _this.startNode;\n                            }\n                            else {\n                                nearBlockNode = _this.parent.formatter.editorManager.domNode.blockParentNode(_this.startNode);\n                            }\n                            var isImageNode = false;\n                            var isFocusedFirst = false;\n                            if (_this.range.startOffset != 0 && _this.range.endOffset != 0 && _this.range.startContainer === _this.range.endContainer &&\n                                !(!isNOU(nearBlockNode.childNodes[0]) && nearBlockNode.childNodes[0].nodeName === 'IMG')) {\n                                var startNodeText = _this.range.startContainer.textContent;\n                                var splitFirstText = startNodeText.substring(0, _this.range.startOffset);\n                                if (splitFirstText.charCodeAt(_this.range.startOffset - 1) != 160 && splitFirstText.trim().length === 0) {\n                                    isFocusedFirst = true;\n                                }\n                            }\n                            else if (_this.range.startOffset === 0 && _this.range.endOffset === 0) {\n                                isFocusedFirst = true;\n                            }\n                            _this.removeBRElement(nearBlockNode);\n                            if (((_this.range.startOffset === 0 && _this.range.endOffset === 0) || isFocusedFirst) &&\n                                !(!isNOU(_this.range.startContainer.previousSibling) &&\n                                    (_this.range.startContainer.previousSibling.nodeName === 'IMG' || _this.range.startContainer.previousSibling.nodeName === 'BR'))) {\n                                var isNearBlockLengthZero = void 0;\n                                var newElem = void 0;\n                                if (_this.range.startContainer.nodeName === 'IMG') {\n                                    newElem = _this.createInsertElement(shiftKey_1);\n                                    isImageNode = true;\n                                    isNearBlockLengthZero = false;\n                                }\n                                else {\n                                    if (nearBlockNode.textContent.trim().length !== 0) {\n                                        newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, false).cloneNode(true);\n                                        isNearBlockLengthZero = false;\n                                    }\n                                    else {\n                                        newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, true).cloneNode(true);\n                                        isNearBlockLengthZero = true;\n                                    }\n                                }\n                                var insertElem = _this.createInsertElement(shiftKey_1);\n                                while (newElem.firstChild) {\n                                    insertElem.appendChild(newElem.firstChild);\n                                }\n                                nearBlockNode.parentElement.insertBefore(insertElem, nearBlockNode);\n                                if (!isNearBlockLengthZero) {\n                                    var currentFocusElem = insertElem;\n                                    var finalFocusElem = void 0;\n                                    while (!isNOU(currentFocusElem) && currentFocusElem.nodeName !== '#text') {\n                                        finalFocusElem = currentFocusElem;\n                                        currentFocusElem = currentFocusElem.lastChild;\n                                    }\n                                    finalFocusElem.innerHTML = '<br>';\n                                    if (!isImageNode) {\n                                        detach(nearBlockNode);\n                                    }\n                                }\n                                _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), insertElem.nextElementSibling, 0);\n                            }\n                            else if (nearBlockNode.textContent.length === 0 && !(!isNOU(nearBlockNode.childNodes[0]) && nearBlockNode.childNodes[0].nodeName === 'IMG')) {\n                                if (!isNOU(nearBlockNode.children[0]) && nearBlockNode.children[0].tagName !== 'BR') {\n                                    var newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, false).cloneNode(true);\n                                    _this.parent.formatter.editorManager.domNode.insertAfter(newElem, nearBlockNode);\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), newElem, newElem.textContent.length >= 0 ? 0 : 1);\n                                }\n                                else {\n                                    var insertElem = _this.createInsertElement(shiftKey_1);\n                                    insertElem.innerHTML = '<br>';\n                                    _this.parent.formatter.editorManager.domNode.insertAfter(insertElem, nearBlockNode);\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), insertElem, 0);\n                                }\n                            }\n                            else {\n                                var newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, nearBlockNode, true);\n                                if (!isNOU(newElem.childNodes[0]) && newElem.childNodes[0].nodeName === '#text' &&\n                                    newElem.childNodes[0].textContent.length === 0) {\n                                    detach(newElem.childNodes[0]);\n                                }\n                                if (newElem.textContent.trim().length === 0) {\n                                    var brElm = _this.parent.createElement('br');\n                                    if (_this.startNode.nodeName === 'A') {\n                                        var startParentElem = _this.startNode.parentElement;\n                                        _this.startNode.parentElement.insertBefore(brElm, _this.startNode);\n                                        detach(_this.startNode);\n                                        _this.startNode = startParentElem;\n                                    }\n                                    else {\n                                        _this.startNode.appendChild(brElm);\n                                    }\n                                    if (newElem.childNodes[0].textContent === '\\n') {\n                                        detach(newElem.childNodes[0]);\n                                    }\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), _this.startNode, 0);\n                                }\n                                if (((_this.parent.enterKey === 'P' || _this.parent.enterKey === 'DIV') && !shiftKey_1) || ((_this.parent.shiftEnterKey === 'DIV' ||\n                                    _this.parent.shiftEnterKey === 'P') && shiftKey_1)) {\n                                    var insertElm = _this.createInsertElement(shiftKey_1);\n                                    while (newElem.firstChild) {\n                                        insertElm.appendChild(newElem.firstChild);\n                                    }\n                                    _this.parent.formatter.editorManager.domNode.insertAfter(insertElm, newElem);\n                                    detach(newElem);\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), _this.parent.formatter.editorManager.domNode.isBlockNode(_this.startNode) ?\n                                        insertElm : _this.startNode, 0);\n                                }\n                            }\n                            e.args.preventDefault();\n                        }\n                        if ((_this.parent.enterKey === 'BR' && !shiftKey_1) || (_this.parent.shiftEnterKey === 'BR' && shiftKey_1)) {\n                            var currentParent = void 0;\n                            if (!_this.parent.formatter.editorManager.domNode.isBlockNode(_this.startNode)) {\n                                var currentNode = _this.startNode;\n                                var previousNode = currentNode;\n                                while (!_this.parent.formatter.editorManager.domNode.isBlockNode(currentNode)) {\n                                    previousNode = currentNode;\n                                    currentNode = currentNode.parentElement;\n                                }\n                                currentParent = currentNode === _this.parent.inputElement ?\n                                    previousNode : currentNode;\n                            }\n                            else {\n                                currentParent = _this.startNode;\n                            }\n                            _this.removeBRElement(currentParent);\n                            var isEmptyBrInserted = false;\n                            var currentParentLastChild = currentParent.lastChild;\n                            while (!isNOU(currentParentLastChild) && !(currentParentLastChild.nodeName === '#text' || currentParentLastChild.nodeName === 'BR')) {\n                                currentParentLastChild = currentParentLastChild.lastChild;\n                            }\n                            var isLastNodeLength = _this.range.startContainer === currentParentLastChild ?\n                                _this.range.startContainer.textContent.length : currentParent.textContent.length;\n                            if (currentParent !== _this.parent.inputElement &&\n                                _this.parent.formatter.editorManager.domNode.isBlockNode(currentParent) &&\n                                _this.range.startOffset === _this.range.endOffset &&\n                                _this.range.startOffset === isLastNodeLength) {\n                                var focusBRElem = _this.parent.createElement('br');\n                                if (currentParentLastChild.nodeName === 'BR' && currentParent.textContent.length === 0) {\n                                    _this.parent.formatter.editorManager.domNode.insertAfter(focusBRElem, currentParentLastChild);\n                                }\n                                else {\n                                    var lineBreakBRElem = _this.parent.createElement('br');\n                                    _this.parent.formatter.editorManager.domNode.insertAfter(focusBRElem, _this.range.startContainer);\n                                    _this.parent.formatter.editorManager.domNode.insertAfter(lineBreakBRElem, _this.range.startContainer);\n                                }\n                                _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), focusBRElem, 0);\n                            }\n                            else if (!isNOU(currentParent) && currentParent !== _this.parent.inputElement && currentParent.nodeName !== 'BR') {\n                                if (currentParent.textContent.trim().length === 0 || (currentParent.textContent.trim().length === 1 &&\n                                    currentParent.textContent.charCodeAt(0) === 8203)) {\n                                    var newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, currentParent, true).cloneNode(true);\n                                    _this.parent.formatter.editorManager.domNode.insertAfter(newElem, currentParent);\n                                    var outerBRElem = _this.parent.createElement('br');\n                                    newElem.parentElement.insertBefore(outerBRElem, newElem);\n                                    _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), newElem, 0);\n                                }\n                                else {\n                                    var newElem = void 0;\n                                    var outerBRElem = _this.parent.createElement('br');\n                                    if (_this.range.startOffset === 0 && _this.range.endOffset === 0 &&\n                                        !isNOU(currentParent.previousSibling) && currentParent.previousSibling.nodeName === 'BR') {\n                                        newElem = _this.parent.formatter.editorManager.nodeCutter.SplitNode(_this.range, currentParent, false).cloneNode(true);\n                                        _this.parent.formatter.editorManager.domNode.insertAfter(outerBRElem, currentParent);\n                                        _this.insertFocusContent();\n                                        var currentFocusElem = outerBRElem.nextSibling;\n                                        while (!isNOU(currentFocusElem) && currentFocusElem.nodeName !== '#text') {\n                                            currentFocusElem = currentFocusElem.lastChild;\n                                        }\n                                        _this.parent.formatter.editorManager.nodeSelection.setCursorPoint(_this.parent.contentModule.getDocument(), currentFocusElem, 0);\n                                        isEmptyBrInserted = true;\n                                    }\n                                    else {\n                                        _this.insertBRElement();\n                                    }\n                                }\n                            }\n                            else {\n                                _this.insertBRElement();\n                            }\n                            e.args.preventDefault();\n                        }\n                        _this.parent.trigger(events.actionComplete, { requestType: shiftKey_1 ? 'ShiftEnterAction' : 'EnterAction', args: e.args });\n                    }\n                });\n            }\n        }\n    };\n    EnterKeyAction.prototype.removeBRElement = function (currentElement) {\n        if (Browser.userAgent.indexOf('Firefox') != -1 &&\n            this.range.endOffset === currentElement.textContent.length &&\n            currentElement.lastChild.nodeName === 'BR') {\n            detach(currentElement.lastChild);\n        }\n    };\n    EnterKeyAction.prototype.insertBRElement = function () {\n        var isEmptyBrInserted = false;\n        var brElm = this.parent.createElement('br');\n        if (this.startNode.nodeName === 'BR' && this.endNode.nodeName === 'BR' && this.range.startOffset === 0 && this.range.startOffset === this.range.endOffset) {\n            this.parent.formatter.editorManager.domNode.insertAfter(brElm, this.startNode);\n            isEmptyBrInserted = true;\n        }\n        else {\n            if (this.startNode === this.parent.inputElement && !isNOU(this.range.startContainer.previousSibling) &&\n                this.range.startContainer.previousSibling.nodeName === 'BR' && this.range.startContainer.textContent.length === 0) {\n                isEmptyBrInserted = true;\n            }\n            this.range.insertNode(brElm);\n        }\n        if (isEmptyBrInserted || (!isNOU(brElm.nextElementSibling) && brElm.nextElementSibling.tagName === 'BR') || (!isNOU(brElm.nextSibling) && brElm.nextSibling.textContent.length > 0)) {\n            this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), !isNOU(brElm.nextSibling) ? brElm.nextSibling : brElm, 0);\n            isEmptyBrInserted = false;\n        }\n        else {\n            var brElm2 = this.parent.createElement('br');\n            this.range.insertNode(brElm2);\n            this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), brElm, 0);\n        }\n    };\n    EnterKeyAction.prototype.insertFocusContent = function () {\n        if (this.range.startContainer.textContent.length === 0) {\n            if (this.range.startContainer.nodeName === '#text') {\n                this.range.startContainer.parentElement.innerHTML = '&#8203;';\n            }\n            else {\n                this.range.startContainer.innerHTML = '&#8203;';\n            }\n        }\n    };\n    EnterKeyAction.prototype.createInsertElement = function (shiftKey) {\n        var insertElem;\n        if ((this.parent.enterKey === 'DIV' && !shiftKey) || (this.parent.shiftEnterKey === 'DIV' && shiftKey)) {\n            insertElem = this.parent.createElement('div');\n        }\n        else if ((this.parent.enterKey === 'P' && !shiftKey) || (this.parent.shiftEnterKey === 'P' && shiftKey)) {\n            insertElem = this.parent.createElement('p');\n        }\n        return insertElem;\n    };\n    return EnterKeyAction;\n}());\nexport { EnterKeyAction };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append, EventHandler, Draggable, extend } from '@syncfusion/ej2-base';\nimport { SanitizeHtmlHelper, Browser } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { createResize, removeResize, setMinHeight, setMaxWidth, setMaxHeight } from '../common/resize';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], ButtonProps.prototype, \"isFlat\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate([\n        Event()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /*\n     * * Constructor for creating the widget\n     *\n     * @param\n     * @param\n     * @hidden\n     */\n    function Dialog(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n        return _this;\n    }\n    /**\n     *Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n        if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n        }\n        if (this.enableResize) {\n            this.setResize();\n            if (this.animationSettings.effect === 'None') {\n                this.getMinHeight();\n            }\n        }\n        this.renderComplete();\n    };\n    /**\n     *Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.headerContent = null;\n        this.allowMaxHeight = true;\n        this.preventVisibility = true;\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n            _this.hide(event);\n        };\n        // eslint-disable-next-line\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n            event.preventFocus = false;\n            _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n                if (!overlayClickEventArgs.preventFocus) {\n                    _this.focusContent();\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        };\n        // eslint-disable-next-line\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.checkPositionData();\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    Dialog.prototype.isNumberValue = function (value) {\n        var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n        return isNumber;\n    };\n    Dialog.prototype.checkPositionData = function () {\n        if (!isNullOrUndefined(this.position)) {\n            if (!isNullOrUndefined(this.position.X) && (typeof (this.position.X) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.X);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.X = parseFloat(this.position.X);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            if (!isNullOrUndefined(this.position.Y) && (typeof (this.position.Y) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.Y);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.Y = parseFloat(this.position.Y);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n        }\n    };\n    Dialog.prototype.getEle = function (list, selector) {\n        var element = undefined;\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].classList.contains(selector)) {\n                element = list[i];\n                break;\n            }\n        }\n        return element;\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.getMinHeight = function () {\n        var computedHeaderHeight = '0px';\n        var computedFooterHeight = '0px';\n        if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n            computedHeaderHeight = getComputedStyle(this.headerContent).height;\n        }\n        var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n        if (!isNullOrUndefined(footerEle)) {\n            computedFooterHeight = getComputedStyle(footerEle).height;\n        }\n        var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n        var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n        setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n        return (headerHeight + 30 + footerHeight);\n    };\n    Dialog.prototype.onResizeStart = function (args, dialogObj) {\n        dialogObj.trigger('resizeStart', args);\n        return args.cancel;\n    };\n    Dialog.prototype.onResizing = function (args, dialogObj) {\n        dialogObj.trigger('resizing', args);\n    };\n    Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n        dialogObj.trigger('resizeStop', args);\n    };\n    Dialog.prototype.setResize = function () {\n        if (this.enableResize) {\n            if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n                return;\n            }\n            this.element.classList.add(DLG_RESIZABLE);\n            var computedHeight = getComputedStyle(this.element).minHeight;\n            var computedWidth = getComputedStyle(this.element).minWidth;\n            var direction = '';\n            for (var i = 0; i < this.resizeHandles.length; i++) {\n                if (this.resizeHandles[i] === 'All') {\n                    direction = 'south north east west north-east north-west south-east south-west';\n                    break;\n                }\n                else {\n                    var directionValue = '';\n                    switch (this.resizeHandles[i].toString()) {\n                        case 'SouthEast':\n                            directionValue = 'south-east';\n                            break;\n                        case 'SouthWest':\n                            directionValue = 'south-west';\n                            break;\n                        case 'NorthEast':\n                            directionValue = 'north-east';\n                            break;\n                        case 'NorthWest':\n                            directionValue = 'north-west';\n                            break;\n                        default:\n                            directionValue = this.resizeHandles[i].toString();\n                            break;\n                    }\n                    direction += directionValue.toLocaleLowerCase() + ' ';\n                }\n            }\n            if (this.enableRtl && direction.trim() === 'south-east') {\n                direction = 'south-west';\n            }\n            else if (this.enableRtl && direction.trim() === 'south-west') {\n                direction = 'south-east';\n            }\n            if (this.isModal && this.enableRtl) {\n                this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else if (this.isModal && this.target === document.body) {\n                this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            createResize({\n                element: this.element,\n                direction: direction,\n                minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n                maxHeight: this.targetEle.clientHeight,\n                minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n                maxWidth: this.targetEle.clientWidth,\n                boundary: this.target === document.body ? null : this.targetEle,\n                resizeBegin: this.onResizeStart.bind(this),\n                resizeComplete: this.onResizeComplete.bind(this),\n                resizing: this.onResizing.bind(this),\n                proxy: this\n            });\n            this.wireWindowResizeEvent();\n        }\n        else {\n            removeResize();\n            this.unWireWindowResizeEvent();\n            if (this.isModal) {\n                this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else {\n                this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            this.element.classList.remove(DLG_RESIZABLE);\n        }\n    };\n    Dialog.prototype.getFocusElement = function (target) {\n        var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n        var items = target.querySelectorAll(value);\n        return { element: items[items.length - 1] };\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if ((isNullOrUndefined(this.btnObj)) && (!isNullOrUndefined(this.ftrTemplateContent))) {\n                    buttonObj = this.getFocusElement(this.ftrTemplateContent);\n                }\n                if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n                    buttonObj = this.getFocusElement(this.contentEle);\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n            // 'document.querySelector' is used to find the elements rendered based on body\n            if (!document.querySelector('.e-popup-open:not(.e-dialog)')) {\n                this.hide(event);\n            }\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            // eslint-disable-next-line\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                // eslint-disable-next-line\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], ROOT);\n        }\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setCSSClass();\n        }\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { role: 'dialog' });\n        }\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n            this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setTargetContent();\n            if (this.header !== '' && !isNullOrUndefined(this.header)) {\n                this.setHeader();\n            }\n            this.renderCloseIcon();\n            this.setContent();\n            if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n                this.setFooterTemplate();\n            }\n            else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                this.setButton();\n            }\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                this.setButton();\n            }\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n            if (this.isModal) {\n                this.setIsModal();\n            }\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n            this.dlgContainer = this.element.parentElement;\n            for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n                if (childNodes[i].classList.contains('e-dlg-overlay')) {\n                    this.dlgOverlay = childNodes[i];\n                }\n            }\n        }\n        if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true\n            && !isNullOrUndefined(this.element.parentElement)) {\n            var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n            this.refElement = this.createElement('div', { className: DLG_REF_ELEMENT });\n            parentEle.insertBefore(this.refElement, (this.isModal ? this.dlgContainer : this.element));\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            // eslint-disable-next-line\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            enableRtl: this.enableRtl,\n            // eslint-disable-next-line\n            open: function (event) {\n                // eslint-disable-next-line\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target,\n                    preventFocus: false\n                };\n                if (_this.enableResize) {\n                    _this.resetResizeIcon();\n                }\n                // eslint-disable-next-line\n                _this.trigger('open', eventArgs, function (openEventArgs) {\n                    if (!openEventArgs.preventFocus) {\n                        _this.focusContent();\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                var activeEle = document.activeElement;\n                if (!isNullOrUndefined(activeEle) && !isNullOrUndefined((activeEle).blur)) {\n                    activeEle.blur();\n                }\n                if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], DLG_HIDE);\n            if (this.isModal) {\n                this.setOverlayZindex();\n            }\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.resetResizeIcon = function () {\n        var dialogConHeight = this.getMinHeight();\n        if (this.targetEle.offsetHeight < dialogConHeight) {\n            var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n            var resizeIcon = this.element.querySelector('.' + className);\n            if (!isNullOrUndefined(resizeIcon)) {\n                resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n            }\n        }\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n                this.setPopupPosition();\n            }\n            else if ((!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)))\n                || (isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y)))) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            isDragScroll: true,\n            abort: '.e-dlg-closeicon-btn',\n            handle: handleContent,\n            // eslint-disable-next-line\n            dragStart: function (event) {\n                // eslint-disable-next-line\n                _this.trigger('dragStart', event, function (dragEventArgs) {\n                    if (isBlazor()) {\n                        dragEventArgs.bindEvents(event.dragElement);\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            dragStop: function (event) {\n                if (_this.isModal) {\n                    if (!isNullOrUndefined(_this.position)) {\n                        _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                    }\n                    // Reset the dialog position after drag completion.\n                    _this.element.style.position = 'relative';\n                }\n                _this.trigger('dragStop', event);\n                _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            },\n            // eslint-disable-next-line\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        if (!this.isBlazorServerRender()) {\n            this.buttonContent = [];\n            this.btnObj = [];\n            // eslint-disable-next-line\n            var primaryBtnFlag = true;\n            for (var i = 0; i < this.buttons.length; i++) {\n                var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n                var btn = this.createElement('button', { attrs: { type: buttonType } });\n                this.buttonContent.push(btn.outerHTML);\n            }\n            this.setFooterTemplate();\n        }\n        var footerBtn;\n        for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n            if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n                footerBtn = childNodes[i].querySelectorAll('button');\n            }\n        }\n        for (var i = 0; i < this.buttons.length; i++) {\n            if (!this.isBlazorServerRender()) {\n                this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            }\n            if (this.isBlazorServerRender()) {\n                this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n            }\n            if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n                }\n                if (typeof (this.buttons[i].click) === 'object') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n                }\n            }\n            if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n                this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n                if (this.buttons[i].isFlat) {\n                    this.btnObj[i].element.classList.add('e-flat');\n                }\n                this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n            }\n        }\n    };\n    Dialog.prototype.buttonClickHandler = function (index) {\n        this.trigger('buttons[' + index + '].click', {});\n    };\n    ;\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            // eslint-disable-next-line\n            var blazorContain = Object.keys(window);\n            if (typeof (this.content) === 'string' && !isBlazor()) {\n                this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n                this.element.style.width = formatUnit(this.width);\n            }\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement, prop) {\n        // eslint-disable-next-line\n        var templateFn;\n        var templateProps;\n        // eslint-disable-next-line\n        var blazorContain = Object.keys(window);\n        if (toElement.classList.contains(DLG_HEADER)) {\n            templateProps = this.element.id + 'header';\n        }\n        else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n            templateProps = this.element.id + 'footerTemplate';\n        }\n        else {\n            templateProps = this.element.id + 'content';\n        }\n        var templateValue;\n        if (!isNullOrUndefined(template.outerHTML)) {\n            toElement.appendChild(template);\n        }\n        else if ((typeof template !== 'string') || (isBlazor() && !this.isStringTemplate)) {\n            templateFn = compile(template);\n            templateValue = template;\n        }\n        else {\n            toElement.innerHTML = this.sanitizeHelper(template);\n        }\n        var fromElements = [];\n        if (!isNullOrUndefined(templateFn)) {\n            var isString = (isBlazor() &&\n                !this.isStringTemplate && (templateValue).indexOf('<div>Blazor') === 0) ?\n                this.isStringTemplate : true;\n            for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n                var item = _a[_i];\n                fromElements.push(item);\n            }\n            append([].slice.call(fromElements), toElement);\n        }\n    };\n    /*\n     * @returns {void}\n     * @hidden\n     * @value\n     */\n    Dialog.prototype.sanitizeHelper = function (value) {\n        if (this.enableHtmlSanitizer) {\n            var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n            var beforeEvent = {\n                cancel: false,\n                helper: null\n            };\n            extend(dialogItem, dialogItem, beforeEvent);\n            this.trigger('beforeSanitizeHtml', dialogItem);\n            if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n                value = dialogItem.helper(value);\n            }\n            else if (!dialogItem.cancel) {\n                value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n            }\n        }\n        return value;\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        if (!this.allowMaxHeight) {\n            return;\n        }\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n        if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle)\n            && this.element.offsetHeight < this.contentEle.offsetHeight) {\n            this.element.style.height = 'inherit';\n        }\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        if (!this.isBlazorServerRender()) {\n            // eslint-disable-next-line\n            this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n            removeResize();\n            this.setResize();\n        }\n    };\n    Dialog.prototype.setTargetContent = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                [].slice.call(this.element.childNodes).forEach(function (el) {\n                    if (el.nodeType !== 8) {\n                        _this.innerContentElement.appendChild(el);\n                    }\n                });\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle, 'header');\n        attributes(this.element, { 'aria-labelledby': this.element.id });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { id: this.element.id + '_dialog-header', className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        if (this.showCloseIcon) {\n            this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n            this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n            this.closeIconTitle();\n            if (!isNullOrUndefined(this.headerContent)) {\n                prepend([this.closeIcon], this.headerContent);\n            }\n            else {\n                this.createHeaderContent();\n                prepend([this.closeIcon], this.headerContent);\n                this.element.insertBefore(this.headerContent, this.element.children[0]);\n            }\n            this.closeIconBtnObj.appendTo(this.closeIcon);\n        }\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n        this.closeIcon.setAttribute('aria-label', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n            else {\n                node = null;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (isBlazor()) {\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        // eslint-disable-next-line\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        var userAgent = Browser.userAgent;\n        if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n            this.element.focus();\n        }\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    Dialog.prototype.updateSanitizeContent = function () {\n        if (!this.isBlazorServerRender()) {\n            this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n        }\n    };\n    Dialog.prototype.isBlazorServerRender = function () {\n        return isBlazor() && this.isServerRendered;\n    };\n    /**\n     * Module required function\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     *\n     * @param {DialogModel} newProp - specifies the new property\n     * @param {DialogModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (this.isBlazorServerRender()) {\n                            this.contentEle = this.element.querySelector('.e-dlg-content');\n                        }\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            if (!this.isBlazorServerRender()) {\n                                this.contentEle.innerHTML = '';\n                            }\n                            // eslint-disable-next-line\n                            if (typeof (this.content) === 'function') {\n                                this.clearTemplate(['content']);\n                                detach(this.contentEle);\n                                this.contentEle = null;\n                                this.setContent();\n                            }\n                            else {\n                                typeof (this.content) === 'string' ? (this.isBlazorServerRender() && (this.contentEle.innerText === '')) ?\n                                    this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) :\n                                    this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n                            }\n                            this.setMaxHeight();\n                        }\n                        else {\n                            if (!this.isBlazorServerRender() ||\n                                isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                                this.setContent();\n                            }\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n                            this.setHeader();\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n                            this.setFooterTemplate();\n                        }\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                        else {\n                            if (this.isBlazorServerRender()) {\n                                this.wireEvents();\n                            }\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender()) {\n                            this.renderCloseIcon();\n                        }\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    // eslint-disable-next-line\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    if (this.element.style.zIndex !== this.zIndex.toString()) {\n                        this.calculatezIndex = false;\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons': {\n                    var buttonCount = this.buttons.length;\n                    if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                    }\n                    for (var i = 0; i < buttonCount; i++) {\n                        if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                            this.footerTemplate = '';\n                            this.setButton();\n                        }\n                    }\n                    break;\n                }\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.setTarget(newProp.target);\n                    break;\n                case 'position':\n                    this.checkPositionData();\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'enableResize':\n                    this.setResize();\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.setTarget = function (target) {\n        this.popupObj.relateTo = target;\n        this.target = target;\n        this.targetEle = ((typeof this.target) === 'string') ?\n            document.querySelector(this.target) : this.target;\n        if (this.dragObj) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n        this.setMaxHeight();\n        if (this.isModal) {\n            this.updateIsModal();\n        }\n        if (this.enableResize) {\n            this.setResize();\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            if (isNullOrUndefined(this.dlgOverlay)) {\n                this.setIsModal();\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    this.targetEle.appendChild(this.dlgContainer);\n                }\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    Dialog.prototype.windowResizeHandler = function () {\n        setMaxWidth(this.targetEle.clientWidth);\n        setMaxHeight(this.targetEle.clientHeight);\n        this.setMaxHeight();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n        var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n        removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n        if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n        }\n        if (this.isModal) {\n            removeClass([(!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body)], SCROLL_DISABLED);\n        }\n        this.unWireEvents();\n        if (!isNullOrUndefined(this.btnObj)) {\n            for (var i = 0; i < this.btnObj.length; i++) {\n                this.btnObj[i].destroy();\n            }\n        }\n        if (!isNullOrUndefined(this.dragObj)) {\n            this.dragObj.destroy();\n        }\n        if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], classArray);\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n            this.refElement.parentElement.insertBefore((this.isModal ? this.dlgContainer : this.element), this.refElement);\n            detach(this.refElement);\n            this.refElement = undefined;\n        }\n        if (this.isModal && !this.isBlazorServerRender()) {\n            detach(this.dlgOverlay);\n            this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n            detach(this.dlgContainer);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.element.innerHTML = this.clonedEle.innerHTML;\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.element.children)) {\n                for (var i = 0; i <= this.element.children.length; i++) {\n                    i = i - i;\n                    detach(this.element.children[i]);\n                }\n            }\n        }\n        for (var i = 0; i < attrs.length; i++) {\n            this.element.removeAttribute(attrs[i]);\n        }\n        if (!this.isBlazorServerRender()) {\n            _super.prototype.destroy.call(this);\n        }\n        else {\n            this.isDestroyed = true;\n        }\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    Dialog.prototype.wireWindowResizeEvent = function () {\n        window.addEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    Dialog.prototype.unWireWindowResizeEvent = function () {\n        window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    /**\n     * Binding event to the element while widget creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.isBlazorServerRender() && this.showCloseIcon) {\n            this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n        }\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Returns the current width and height of the Dialog\n     *\n     * @returns {DialogDimension}\n     * @public\n     */\n    Dialog.prototype.getDimension = function () {\n        var dialogWidth = this.element.offsetWidth;\n        var dialogHeight = this.element.offsetHeight;\n        return { width: dialogWidth, height: dialogHeight };\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     *\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @returns {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs_1 = isBlazor() ? {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                maxHeight: this.element.style.maxHeight\n            } : {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target,\n                maxHeight: this.element.style.maxHeight\n            };\n            this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n                if (!beforeOpenArgs.cancel) {\n                    if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n                        _this.allowMaxHeight = false;\n                        _this.element.style.maxHeight = eventArgs_1.maxHeight;\n                    }\n                    _this.storeActiveElement = document.activeElement;\n                    _this.element.tabIndex = -1;\n                    if (_this.isModal && (!isNullOrUndefined(_this.dlgOverlay))) {\n                        _this.dlgOverlay.style.display = 'block';\n                        _this.dlgContainer.style.display = 'flex';\n                        removeClass([_this.dlgOverlay], 'e-fade');\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            if (_this.targetEle === document.body) {\n                                _this.dlgContainer.style.position = 'fixed';\n                            }\n                            else {\n                                _this.dlgContainer.style.position = 'absolute';\n                            }\n                            _this.dlgOverlay.style.position = 'absolute';\n                            _this.element.style.position = 'relative';\n                            addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                        else {\n                            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    var openAnimation = {\n                        name: _this.animationSettings.effect + 'In',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    var zIndexElement = (_this.isModal) ? _this.element.parentElement : _this.element;\n                    if (_this.calculatezIndex) {\n                        _this.setzIndex(zIndexElement, true);\n                        setStyleAttribute(_this.element, { 'zIndex': _this.zIndex });\n                        if (_this.isModal) {\n                            _this.setOverlayZindex(_this.zIndex);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n                    _this.dialogOpen = true;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = true;\n                    _this.preventVisibility = true;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     *\n     * @param { Event } event - specifies the event\n     * @returns {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (this.preventVisibility) {\n            var eventArgs = isBlazor() ? {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            } : {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                target: this.target,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event,\n                closedBy: this.dlgClosedBy\n            };\n            this.closeArgs = eventArgs;\n            this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n                if (!beforeCloseArgs.cancel) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    if (document.body.classList.contains(DLG_TARGET) &&\n                        document.body.classList.contains(SCROLL_DISABLED)) {\n                        removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                    }\n                    // eslint-disable-next-line\n                    var closeAnimation = {\n                        name: _this.animationSettings.effect + 'Out',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n                    _this.dialogOpen = false;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = false;\n                    _this.preventVisibility = false;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        }\n    };\n    // eslint-disable-next-line\n    /**\n     * Specifies to view the Full screen Dialog.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        /* eslint-disable */\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        /* eslint-enable */\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     *\n     * @param { number } index - Index of the button.\n     * @returns {Button} - returns the button element\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"enableResize\", void 0);\n    __decorate([\n        Property(['South-East'])\n    ], Dialog.prototype, \"resizeHandles\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"minHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"destroyed\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\nexport var DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {AlertDialogArgs} args - specifies the string\n     * @returns {Dialog} - returns the dialog element.\n     */\n    function alert(args) {\n        // eslint-disable-next-line\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(alertDialogObj);\n            }\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with ‘OK’ and ‘Cancel’ button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {ConfirmDialogArgs} args - specifies the args\n     * @returns {Dialog} - returns te element\n     */\n    function confirm(args) {\n        // eslint-disable-next-line\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(confirmDialogObj);\n            }\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    // eslint-disable-next-line\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    // eslint-disable-next-line\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings :\n            { effect: 'Fade', duration: 400, delay: 0 };\n        options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n        options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n        options.open = !isNullOrUndefined(option.open) ? option.open : null;\n        return options;\n    }\n    // eslint-disable-next-line\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n","import { Dialog } from '@syncfusion/ej2-popups';\nimport { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\n/**\n * Dialog Renderer\n */\nvar DialogRenderer = /** @class */ (function () {\n    function DialogRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * dialog render method\n     *\n     * @param {DialogModel} e - specifies the dialog model.\n     * @returns {void}\n     * @hidden\n\n     */\n    DialogRenderer.prototype.render = function (e) {\n        var dlgObj;\n        e.beforeOpen = this.beforeOpen.bind(this);\n        e.open = this.open.bind(this);\n        if (isNOU(e.close)) {\n            e.close = this.close.bind(this);\n        }\n        e.beforeClose = this.beforeClose.bind(this);\n        // eslint-disable-next-line\n        dlgObj = new Dialog(e);\n        dlgObj.isStringTemplate = true;\n        return dlgObj;\n    };\n    DialogRenderer.prototype.beforeOpen = function (args) {\n        this.parent.trigger(events.beforeDialogOpen, args, this.beforeOpenCallback.bind(this, args));\n    };\n    DialogRenderer.prototype.beforeOpenCallback = function (args) {\n        if (args.cancel) {\n            this.parent.notify(events.clearDialogObj, null);\n        }\n    };\n    DialogRenderer.prototype.open = function (args) {\n        this.parent.trigger(events.dialogOpen, args);\n    };\n    DialogRenderer.prototype.beforeClose = function (args) {\n        this.parent.trigger(events.beforeDialogClose, args, function (closeArgs) {\n            if (!closeArgs.cancel) {\n                if (closeArgs.container.classList.contains('e-popup-close')) {\n                    closeArgs.cancel = true;\n                }\n            }\n        });\n    };\n    /**\n     * dialog close method\n     *\n     * @param {Object} args - specifies the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    DialogRenderer.prototype.close = function (args) {\n        this.parent.trigger(events.dialogClose, args);\n    };\n    return DialogRenderer;\n}());\nexport { DialogRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Complex, Browser, addClass, select, detach } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, formatUnit, L10n, closest } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, Event, removeClass, print as printWindow, attributes } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, compile, append, extend, debounce } from '@syncfusion/ej2-base';\nimport { Touch as EJ2Touch } from '@syncfusion/ej2-base';\nimport { getScrollableParent } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { Render } from '../renderer/render';\nimport { ViewSource } from '../renderer/view-source';\nimport { executeGroup } from './interface';\nimport { ServiceLocator } from '../services/service-locator';\nimport { RendererFactory } from '../services/renderer-factory';\nimport { RenderType, ToolbarType, DialogType } from './enum';\nimport { ExecCommandCallBack } from '../actions/execute-command-callback';\nimport { KeyboardEvents } from '../actions/keyboard';\nimport { ToolbarSettings, ImageSettings, QuickToolbarSettings, FontFamily, FontSize, Format, NumberFormatList, BulletFormatList } from '../models/toolbar-settings';\nimport { FileManagerSettings } from '../models/toolbar-settings';\nimport { TableSettings, PasteCleanupSettings } from '../models/toolbar-settings';\nimport { FontColor, BackgroundColor } from '../models/toolbar-settings';\nimport { IFrameSettings } from '../models/iframe-settings';\nimport { InlineMode } from '../models/inline-mode';\nimport { defaultLocale } from '../models/default-locale';\nimport { setAttributes } from '../actions/html-attributes';\nimport { FullScreen } from '../actions/full-screen';\nimport { EnterKeyAction } from '../actions/enter-key';\nimport * as CONSTANT from '../../common/constant';\nimport { dispatchEvent, getEditValue, isIDevice, decode, isEditableValueEmpty, getDefaultValue } from '../base/util';\nimport { DialogRenderer } from '../renderer/dialog-renderer';\n/**\n * Represents the Rich Text Editor component.\n * ```html\n * <textarea id=\"rte\"></textarea>\n * <script>\n *  var rteObj = new RichTextEditor();\n *  rteObj.appendTo(\"#rte\");\n * </script>\n * ```\n */\nvar RichTextEditor = /** @class */ (function (_super) {\n    __extends(RichTextEditor, _super);\n    function RichTextEditor(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.defaultResetValue = null;\n        _this.isResizeInitialized = false;\n        /**\n         * @hidden\n\n         */\n        _this.isFocusOut = false;\n        /**\n         * @hidden\n\n         */\n        _this.isRTE = false;\n        /**\n         * @hidden\n\n         */\n        _this.isBlur = true;\n        _this.needsID = true;\n        return _this;\n    }\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - specifies the declaration.\n     * @hidden\n\n     */\n    RichTextEditor.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.toolbarSettings.enable) {\n            modules.push({ member: 'toolbar', args: [this, this.serviceLocator] });\n            modules.push({\n                member: 'link',\n                args: [this, this.serviceLocator]\n            });\n            modules.push({\n                member: 'table',\n                args: [this, this.serviceLocator]\n            });\n            modules.push({\n                member: 'image',\n                args: [this, this.serviceLocator]\n            });\n            if (this.quickToolbarSettings.enable) {\n                modules.push({ member: 'quickToolbar', args: [this, this.serviceLocator] });\n            }\n        }\n        if (this.showCharCount) {\n            modules.push({ member: 'count', args: [this, this.serviceLocator] });\n        }\n        if (this.editorMode === 'Markdown') {\n            modules.push({ member: 'markdownEditor', args: [this, this.serviceLocator] });\n        }\n        if (this.editorMode === 'HTML') {\n            modules.push({ member: 'htmlEditor', args: [this, this.serviceLocator] });\n            modules.push({ member: 'pasteCleanup', args: [this, this.serviceLocator] });\n        }\n        if (this.fileManagerSettings.enable) {\n            modules.push({ member: 'fileManager', args: [this, this.serviceLocator] });\n        }\n        if (this.enableResize) {\n            modules.push({ member: 'resize', args: [this] });\n        }\n        return modules;\n    };\n    RichTextEditor.prototype.updateEnable = function () {\n        if (this.enabled) {\n            removeClass([this.element], classes.CLS_DISABLED);\n            this.element.setAttribute('aria-disabled', 'false');\n            if (!isNOU(this.htmlAttributes.tabindex)) {\n                this.inputElement.setAttribute('tabindex', this.htmlAttributes.tabindex);\n            }\n            else {\n                this.inputElement.setAttribute('tabindex', '0');\n            }\n        }\n        else {\n            if (this.getToolbar()) {\n                removeClass(this.getToolbar().querySelectorAll('.' + classes.CLS_ACTIVE), classes.CLS_ACTIVE);\n                removeClass([this.getToolbar()], [classes.CLS_TB_FLOAT, classes.CLS_TB_ABS_FLOAT]);\n            }\n            addClass([this.element], classes.CLS_DISABLED);\n            this.element.tabIndex = -1;\n            this.element.setAttribute('aria-disabled', 'true');\n            this.inputElement.setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * setEnable method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.setEnable = function () {\n        this.updateEnable();\n        // eslint-disable-next-line\n        (this.enabled) ? this.eventInitializer() : this.unWireEvents();\n    };\n    /**\n     * For internal use only - Initialize the event handler;\n     *\n     * @returns {void}\n     * @hidden\n     * @private\n     */\n    RichTextEditor.prototype.preRender = function () {\n        this.onBlurHandler = this.blurHandler.bind(this);\n        this.onFocusHandler = this.focusHandler.bind(this);\n        this.onResizeHandler = this.resizeHandler.bind(this);\n        this.clickPoints = { clientX: 0, clientY: 0 };\n        this.initialValue = this.value;\n        this.serviceLocator = new ServiceLocator;\n        this.initializeServices();\n        this.setContainer();\n        this.persistData();\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width) });\n        attributes(this.element, { role: 'application' });\n    };\n    RichTextEditor.prototype.persistData = function () {\n        if (this.enablePersistence && this.originalElement.tagName === 'TEXTAREA') {\n            this.element.id = this.originalElement.id + '_wrapper';\n            var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n            if (!(isNOU(data) || (data === ''))) {\n                this.setProperties(JSON.parse(data), true);\n            }\n        }\n    };\n    RichTextEditor.prototype.setContainer = function () {\n        this.originalElement = this.element.cloneNode(true);\n        if (this.value === null || this.valueTemplate !== null) {\n            this.setValue();\n        }\n        if (this.element.hasAttribute('tabindex')) {\n            this.htmlAttributes = { 'tabindex': this.element.getAttribute('tabindex') };\n            this.element.removeAttribute('tabindex');\n        }\n        this.element.innerHTML = '';\n        var invalidAttr = ['class', 'style', 'id', 'ejs-for'];\n        var htmlAttr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(/^data-val/.test(this.element.attributes[a].name))) { // data-val for asp.net core data annotation validation.\n                htmlAttr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(htmlAttr, this.htmlAttributes, htmlAttr);\n        this.setProperties({ htmlAttributes: htmlAttr }, true);\n        if (!isNOU(this.htmlAttributes.id)) {\n            this.element.id = this.htmlAttributes.id;\n        }\n        if (this.element.tagName === 'TEXTAREA') {\n            var rteOuterWrapper = this.createElement('div', {\n                className: this.element.getAttribute('class')\n            });\n            this.element.innerHTML = '';\n            this.element.parentElement.insertBefore(rteOuterWrapper, this.element);\n            this.valueContainer = this.element;\n            removeClass([this.valueContainer], this.element.getAttribute('class').split(' '));\n            this.element = rteOuterWrapper;\n        }\n        else {\n            this.valueContainer = this.createElement('textarea', {\n                id: this.getID() + '-value'\n            });\n        }\n        this.valueContainer.name = this.getID();\n        addClass([this.valueContainer], classes.CLS_RTE_HIDDEN);\n        this.element.appendChild(this.valueContainer);\n    };\n    /**\n     * getPersistData method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    /**\n     * Focuses the Rich Text Editor component\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.focusIn = function () {\n        if (this.enabled) {\n            this.inputElement.focus();\n            this.focusHandler({});\n        }\n    };\n    /**\n     * Blurs the Rich Text Editor component\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.focusOut = function () {\n        if (this.enabled) {\n            this.inputElement.blur();\n            this.blurHandler({});\n        }\n    };\n    /**\n     * Selects all the content in RichTextEditor\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.selectAll = function () {\n        this.notify(events.selectAll, {});\n    };\n    /**\n     * Selects a content range or an element\n     *\n     * @param {Range} range - Specify the range which you want to select within the content.\n     * The method used to select a particular sentence or word or entire document.\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.selectRange = function (range) {\n        this.notify(events.selectRange, { range: range });\n    };\n    /**\n     * Retrieves the HTML markup content from currently selected content of RichTextEditor.\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.getSelection = function () {\n        var str = '';\n        this.notify(events.getSelectedHtml, {\n            callBack: function (txt) {\n                str = txt;\n            }\n        });\n        return str;\n    };\n    /**\n     * Executes the commands\n     *\n     * @returns {void}\n     * @param {CommandName} commandName - Specifies the name of the command to be executed.\n     * @param {string | HTMLElement | ILinkCommandsArgs | IImageCommandsArgs} value - Specifies the value that you want to execute.\n     * @param {ExecuteCommandOption} option - specifies the command option\n     * @public\n     */\n    RichTextEditor.prototype.executeCommand = function (commandName, value, option) {\n        value = this.htmlPurifier(commandName, value);\n        if (this.editorMode === 'HTML') {\n            var range = this.getRange();\n            if (this.iframeSettings.enable) {\n                this.formatter.editorManager.nodeSelection.Clear(this.element.ownerDocument);\n            }\n            var toFocus = (this.iframeSettings.enable &&\n                range.startContainer === this.inputElement) ? true : !this.inputElement.contains(range.startContainer);\n            if (toFocus) {\n                this.focusIn();\n            }\n        }\n        var tool = executeGroup[commandName];\n        if (option && option.undo) {\n            if (option.undo && this.formatter.getUndoRedoStack().length === 0) {\n                this.formatter.saveData();\n            }\n        }\n        this.formatter.editorManager.execCommand(tool.command, tool.subCommand ? tool.subCommand : (value ? value : tool.value), null, null, (value ? value : tool.value), (value ? value : tool.value));\n        if (option && option.undo) {\n            this.formatter.saveData();\n            this.formatter.enableUndo(this);\n        }\n        this.setPlaceHolder();\n        this.notify(events.contentChanged, {});\n    };\n    RichTextEditor.prototype.htmlPurifier = function (command, value) {\n        if (this.editorMode === 'HTML') {\n            switch (command) {\n                case 'insertHTML':\n                    if (this.enableHtmlSanitizer) {\n                        if (typeof value === 'string') {\n                            value = this.htmlEditorModule.sanitizeHelper(value);\n                        }\n                        else {\n                            value = this.htmlEditorModule.sanitizeHelper(value.outerHTML);\n                        }\n                    }\n                    break;\n                case 'insertTable':\n                    if (isNOU(value.width)) {\n                        value.width = { minWidth: this.tableSettings.minWidth,\n                            maxWidth: this.tableSettings.maxWidth, width: this.tableSettings.width };\n                    }\n                    break;\n                case 'insertImage': {\n                    var temp = this.createElement('img', {\n                        attrs: {\n                            src: value.url\n                        }\n                    });\n                    var imageValue = temp.outerHTML;\n                    if (this.enableHtmlSanitizer) {\n                        imageValue = this.htmlEditorModule.sanitizeHelper(temp.outerHTML);\n                    }\n                    var url = (imageValue !== '' && (this.createElement('div', {\n                        innerHTML: imageValue\n                    }).firstElementChild).getAttribute('src')) || null;\n                    url = !isNOU(url) ? url : '';\n                    value.url = url;\n                    if (isNOU(value.width)) {\n                        value.width = { minWidth: this.insertImageSettings.minWidth,\n                            maxWidth: this.insertImageSettings.maxWidth, width: this.insertImageSettings.width };\n                    }\n                    if (isNOU(value.height)) {\n                        value.height = { minHeight: this.insertImageSettings.minHeight,\n                            maxHeight: this.insertImageSettings.maxHeight, height: this.insertImageSettings.height };\n                    }\n                    break;\n                }\n                case 'createLink': {\n                    var tempNode = this.createElement('a', {\n                        attrs: {\n                            href: value.url\n                        }\n                    });\n                    var linkValue = tempNode.outerHTML;\n                    if (this.enableHtmlSanitizer) {\n                        linkValue = this.htmlEditorModule.sanitizeHelper(tempNode.outerHTML);\n                    }\n                    var href = (linkValue !== '' && (this.createElement('div', {\n                        innerHTML: linkValue\n                    }).firstElementChild).getAttribute('href')) || null;\n                    href = !isNOU(href) ? href : '';\n                    value.url = href;\n                    break;\n                }\n            }\n        }\n        return value;\n    };\n    RichTextEditor.prototype.encode = function (value) {\n        var divNode = this.createElement('div');\n        divNode.innerText = value.trim();\n        // eslint-disable-next-line\n        return divNode.innerHTML.replace(/<br\\s*[\\/]?>/gi, '\\n');\n    };\n    /**\n     * For internal use only - To Initialize the component rendering.\n     *\n     * @returns {void}\n     * @private\n\n     */\n    RichTextEditor.prototype.render = function () {\n        if (this.value && !this.valueTemplate) {\n            this.setProperties({ value: this.serializeValue(this.value) }, true);\n        }\n        this.renderModule = new Render(this, this.serviceLocator);\n        this.sourceCodeModule = new ViewSource(this, this.serviceLocator);\n        this.notify(events.initialLoad, {});\n        this.trigger(events.load);\n        this.RTERender();\n        // eslint-disable-next-line\n        var execCommandCallBack = new ExecCommandCallBack(this);\n        this.notify(events.initialEnd, {});\n        if (this.enableXhtml) {\n            this.setProperties({ value: this.getXhtml() }, true);\n        }\n        if (this.toolbarSettings.enable && this.toolbarSettings.type === 'Expand' && !isNOU(this.getToolbar()) &&\n            (this.toolbarSettings.items.indexOf('Undo') > -1 && this.toolbarSettings.items.indexOf('Redo') > -1)) {\n            this.disableToolbarItem(['Undo', 'Redo']);\n        }\n        this.setContentHeight();\n        if (this.value !== null) {\n            this.valueContainer.defaultValue = this.value;\n        }\n        // eslint-disable-next-line\n        (!this.enabled) ? this.unWireEvents() : this.eventInitializer();\n        this.renderComplete();\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n\n     * @hidden\n     */\n    RichTextEditor.prototype.eventInitializer = function () {\n        this.wireEvents();\n    };\n    RichTextEditor.prototype.cleanList = function (e) {\n        var range = this.getRange();\n        var currentStartContainer = range.startContainer;\n        var currentEndContainer = range.endContainer;\n        var currentStartOffset = range.startOffset;\n        var isSameContainer = currentStartContainer === currentEndContainer ? true : false;\n        var currentEndOffset;\n        var endNode = range.endContainer.nodeName === '#text' ? range.endContainer.parentElement :\n            range.endContainer;\n        var closestLI = closest(endNode, 'LI');\n        if (!isNOU(closestLI) && endNode.textContent.length === range.endOffset &&\n            !range.collapsed) {\n            closestLI.textContent = closestLI.textContent.trim();\n            currentEndOffset = closestLI.textContent.length - 1;\n            var currentLastElem = closestLI;\n            while (currentLastElem.nodeName !== '#text') {\n                currentLastElem = currentLastElem.lastChild;\n            }\n            this.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(), isSameContainer ? currentLastElem : currentStartContainer, currentLastElem, currentStartOffset, currentLastElem.textContent.length);\n        }\n    };\n    /**\n     * For internal use only - keydown the event handler;\n     *\n     * @param {KeyboardEvent} e - specifies the event.\n     * @returns {void}\n     * @private\n\n     * @hidden\n     */\n    RichTextEditor.prototype.keyDown = function (e) {\n        this.notify(events.keyDown, { member: 'keydown', args: e });\n        this.restrict(e);\n        if (this.editorMode === 'HTML') {\n            this.cleanList(e);\n        }\n        if (this.editorMode === 'HTML' && ((e.which === 8 && e.code === 'Backspace') || (e.which === 46 && e.code === 'Delete'))) {\n            var range = this.getRange();\n            var startNode = range.startContainer.nodeName === '#text' ? range.startContainer.parentElement :\n                range.startContainer;\n            if (closest(startNode, 'pre') &&\n                (e.which === 8 && range.startContainer.textContent.charCodeAt(range.startOffset - 1) === 8203) ||\n                (e.which === 46 && range.startContainer.textContent.charCodeAt(range.startOffset) === 8203)) {\n                var regEx = new RegExp(String.fromCharCode(8203), 'g');\n                var pointer = e.which === 8 ? range.startOffset - 1 : range.startOffset;\n                range.startContainer.textContent = range.startContainer.textContent.replace(regEx, '');\n                this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(), range.startContainer, pointer);\n            }\n            else if ((e.code === 'Backspace' && e.which === 8) &&\n                range.startContainer.textContent.charCodeAt(0) === 8203 && range.collapsed) {\n                var parentEle = range.startContainer.parentElement;\n                var index = void 0;\n                var i = void 0;\n                for (i = 0; i < parentEle.childNodes.length; i++) {\n                    if (parentEle.childNodes[i] === range.startContainer) {\n                        index = i;\n                    }\n                }\n                var bool = true;\n                var removeNodeArray = [];\n                for (i = index; i >= 0; i--) {\n                    if (parentEle.childNodes[i].nodeType === 3 && parentEle.childNodes[i].textContent.charCodeAt(0) === 8203 && bool) {\n                        removeNodeArray.push(i);\n                    }\n                    else {\n                        bool = false;\n                    }\n                }\n                if (removeNodeArray.length > 0) {\n                    for (i = removeNodeArray.length - 1; i > 0; i--) {\n                        parentEle.childNodes[removeNodeArray[i]].textContent = '';\n                    }\n                }\n                this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(), range.startContainer, range.startOffset);\n            }\n        }\n        if (this.formatter.getUndoRedoStack().length === 0) {\n            this.formatter.saveData();\n        }\n        if (e.action !== 'insert-link' &&\n            (e.action && e.action !== 'paste' && e.action !== 'space'\n                || e.which === 9 || (e.code === 'Backspace' && e.which === 8))) {\n            this.formatter.process(this, null, e);\n            switch (e.action) {\n                case 'toolbar-focus':\n                    if (this.toolbarSettings.enable) {\n                        // eslint-disable-next-line\n                        var selector = '.e-toolbar-item[aria-disabled=\"false\"][title] [tabindex]';\n                        this.toolbarModule.baseToolbar.toolbarObj.element.querySelector(selector).focus();\n                    }\n                    break;\n                case 'escape':\n                    this.contentModule.getEditPanel().focus();\n                    break;\n            }\n        }\n        if (!isNOU(this.placeholder)) {\n            if ((!isNOU(this.placeHolderWrapper)) && (this.inputElement.textContent.length !== 1)) {\n                this.placeHolderWrapper.style.display = 'none';\n            }\n            else {\n                this.setPlaceHolder();\n            }\n        }\n        this.autoResize();\n    };\n    RichTextEditor.prototype.keyUp = function (e) {\n        this.notify(events.keyUp, { member: 'keyup', args: e });\n        if (e.code === 'KeyX' && e.which === 88 && e.keyCode === 88 && e.ctrlKey && (this.inputElement.innerHTML === '' ||\n            this.inputElement.innerHTML === '<br>')) {\n            this.inputElement.innerHTML = getEditValue(getDefaultValue(this), this);\n        }\n        var allowedKeys = e.which === 32 || e.which === 13 || e.which === 8 || e.which === 46;\n        if (((e.key !== 'shift' && !e.ctrlKey) && e.key && e.key.length === 1 || allowedKeys) || (this.editorMode === 'Markdown'\n            && ((e.key !== 'shift' && !e.ctrlKey) && e.key && e.key.length === 1 || allowedKeys)) && !this.inlineMode.enable) {\n            this.formatter.onKeyHandler(this, e);\n        }\n        if (this.inputElement && this.inputElement.textContent.length !== 0\n            || this.element.querySelectorAll('.e-toolbar-item.e-active').length > 0) {\n            this.notify(events.toolbarRefresh, { args: e });\n        }\n        if (!isNOU(this.placeholder)) {\n            if (!(e.key === 'Enter' && e.keyCode === 13) && (this.inputElement.innerHTML === '<p><br></p>' || this.inputElement.innerHTML === '<div><br></div>' ||\n                this.inputElement.innerHTML === '<br>')) {\n                this.setPlaceHolder();\n            }\n        }\n    };\n    /**\n     * @param {string} value - specifies the value.\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.serializeValue = function (value) {\n        if (this.editorMode === 'HTML' && !isNOU(value)) {\n            if (this.enableHtmlEncode) {\n                value = this.htmlEditorModule.sanitizeHelper(decode(value));\n                value = this.encode(value);\n            }\n            else {\n                value = this.htmlEditorModule.sanitizeHelper(value);\n            }\n        }\n        return value;\n    };\n    /**\n     * This method will clean up the HTML against cross-site scripting attack and return the HTML as string.\n     * It's only applicable to editorMode as `HTML`.\n     *\n     * @param {string} value - Specifies the value that you want to sanitize.\n     * @returns {string} - specifies the the string value\n     */\n    RichTextEditor.prototype.sanitizeHtml = function (value) {\n        return this.serializeValue(value);\n    };\n    /**\n     * updateValue method\n     *\n     * @param {string} value - specifies the string value.\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.updateValue = function (value) {\n        if (isNOU(value)) {\n            var inputVal = this.inputElement.innerHTML;\n            this.setProperties({ value: isEditableValueEmpty(inputVal) ? null : inputVal });\n        }\n        else {\n            this.setProperties({ value: value });\n        }\n    };\n    RichTextEditor.prototype.triggerEditArea = function (e) {\n        if (!isIDevice()) {\n            this.notify(events.editAreaClick, { member: 'editAreaClick', args: e });\n        }\n        else {\n            var touch = (e.touches ? e.changedTouches[0] : e);\n            if (this.clickPoints.clientX === touch.clientX && this.clickPoints.clientY === touch.clientY) {\n                this.notify(events.editAreaClick, { member: 'editAreaClick', args: e });\n            }\n        }\n    };\n    RichTextEditor.prototype.notifyMouseUp = function (e) {\n        var touch = (e.touches ? e.changedTouches[0] : e);\n        this.notify(events.mouseUp, { member: 'mouseUp', args: e,\n            touchData: { prevClientX: this.clickPoints.clientX, prevClientY: this.clickPoints.clientY,\n                clientX: touch.clientX, clientY: touch.clientY }\n        });\n        if (this.inputElement && ((this.editorMode === 'HTML' && this.inputElement.textContent.length !== 0) ||\n            (this.editorMode === 'Markdown' && this.inputElement.value.length !== 0))) {\n            this.notify(events.toolbarRefresh, { args: e });\n        }\n        this.triggerEditArea(e);\n    };\n    RichTextEditor.prototype.mouseUp = function (e) {\n        if (this.quickToolbarSettings.showOnRightClick && Browser.isDevice) {\n            var target = e.target;\n            var closestTable = closest(target, 'table');\n            if (target && target.nodeName === 'A' || target.nodeName === 'IMG' || (target.nodeName === 'TD' || target.nodeName === 'TH' ||\n                target.nodeName === 'TABLE' || (closestTable && this.contentModule.getEditPanel().contains(closestTable)))) {\n                return;\n            }\n        }\n        this.notifyMouseUp(e);\n        if (e.detail === 3) {\n            var range = this.getRange();\n            var selection = this.formatter.editorManager.domNode.getSelection();\n            if (/\\s+$/.test(selection.toString())) {\n                if (!isNOU(range.startContainer.parentElement) && (!isNOU(range.startContainer.parentElement.nextSibling) &&\n                    (range.startContainer.parentElement.nextSibling.nodeType !== 3 ||\n                        /\\s+$/.test(range.startContainer.parentElement.nextSibling.textContent)) || range.startOffset === range.endOffset)\n                    || range.startContainer.parentElement.tagName.toLocaleLowerCase() === 'li') {\n                    range.setStart(range.startContainer, range.startOffset);\n                    range.setEnd(range.startContainer, range.startContainer.textContent.length);\n                }\n            }\n        }\n    };\n    /**\n     * @param {Function} module - specifies the module function.\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.ensureModuleInjected = function (module) {\n        return this.getInjectedModules().indexOf(module) >= 0;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.onCopy = function () {\n        this.contentModule.getDocument().execCommand('copy', false, null);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.onCut = function () {\n        this.contentModule.getDocument().execCommand('cut', false, null);\n    };\n    /**\n     * @param {KeyboardEvent} e - specifies the keyboard event.\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.onPaste = function (e) {\n        var _this = this;\n        var evenArgs = {\n            originalEvent: e,\n            cancel: false,\n            requestType: 'Paste'\n        };\n        this.trigger(events.actionBegin, evenArgs, function (pasteArgs) {\n            var currentLength = _this.getText().trim().length;\n            var selectionLength = _this.getSelection().length;\n            var pastedContentLength = (isNOU(e) || isNOU(e.clipboardData))\n                ? 0 : e.clipboardData.getData('text/plain').length;\n            var totalLength = (currentLength - selectionLength) + pastedContentLength;\n            if (_this.editorMode === 'Markdown') {\n                if (!(_this.maxLength === -1 || totalLength <= _this.maxLength)) {\n                    e.preventDefault();\n                }\n                return;\n            }\n            if (!pasteArgs.cancel && _this.inputElement.contentEditable === 'true' &&\n                (_this.maxLength === -1 || totalLength <= _this.maxLength)) {\n                if (!isNOU(_this.pasteCleanupModule)) {\n                    _this.notify(events.pasteClean, { args: e });\n                }\n                else {\n                    var args_1 = { requestType: 'Paste', editorMode: _this.editorMode, event: e };\n                    var value = null;\n                    var htmlValue = false;\n                    if (e && !isNOU(e.clipboardData)) {\n                        value = e.clipboardData.getData('text/plain');\n                        htmlValue = e.clipboardData.getData('text/html').indexOf('MsoNormal') > 0;\n                    }\n                    var file = e && e.clipboardData && e.clipboardData.items.length > 0 ?\n                        e.clipboardData.items[0].getAsFile() : null;\n                    if (value !== null) {\n                        _this.notify(events.paste, {\n                            file: file,\n                            args: e,\n                            text: value,\n                            isWordPaste: htmlValue\n                        });\n                    }\n                    setTimeout(function () {\n                        _this.formatter.onSuccess(_this, args_1);\n                    }, 0);\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n        });\n    };\n    /**\n     * @param {string} action - specifies the string value.\n     * @param {MouseEvent} event - specifies the event.\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.clipboardAction = function (action, event) {\n        switch (action.toLowerCase()) {\n            case 'cut':\n                this.onCut();\n                this.formatter.onSuccess(this, {\n                    requestType: 'Cut',\n                    editorMode: this.editorMode,\n                    event: event\n                });\n                break;\n            case 'copy':\n                this.onCopy();\n                this.formatter.onSuccess(this, {\n                    requestType: 'Copy',\n                    editorMode: this.editorMode,\n                    event: event\n                });\n                break;\n            case 'paste':\n                this.onPaste(event);\n                break;\n        }\n    };\n    /**\n     * Destroys the component (detaches/removes all event handlers, attributes, classes, and empties the component element).\n     *\n     * @returns {void}\n     */\n    RichTextEditor.prototype.destroy = function () {\n        if (this.isDestroyed || !this.isRendered) {\n            return;\n        }\n        if (this.element.offsetParent === null && !isNOU(this.toolbarModule)) {\n            this.toolbarModule.destroy();\n            return;\n        }\n        this.notify(events.destroy, {});\n        this.destroyDependentModules();\n        if (!isNOU(this.timeInterval)) {\n            clearInterval(this.timeInterval);\n            this.timeInterval = null;\n        }\n        this.unWireEvents();\n        if (this.originalElement.tagName === 'TEXTAREA') {\n            this.element.parentElement.insertBefore(this.valueContainer, this.element);\n            this.valueContainer.id = this.getID();\n            this.valueContainer.removeAttribute('name');\n            detach(this.element);\n            if (this.originalElement.innerHTML.trim() !== '') {\n                this.valueContainer.value = this.originalElement.innerHTML.trim();\n                this.setProperties({ value: (!isNOU(this.initialValue) ? this.initialValue : null) }, true);\n            }\n            else {\n                this.valueContainer.value = this.valueContainer.defaultValue;\n            }\n            this.element = this.valueContainer;\n            for (var i = 0; i < this.originalElement.classList.length; i++) {\n                addClass([this.element], this.originalElement.classList[i]);\n            }\n            removeClass([this.element], classes.CLS_RTE_HIDDEN);\n        }\n        else {\n            if (this.originalElement.innerHTML.trim() !== '') {\n                this.element.innerHTML = this.originalElement.innerHTML.trim();\n                this.setProperties({ value: (!isNOU(this.initialValue) ? this.initialValue : null) }, true);\n            }\n            else {\n                this.element.innerHTML = '';\n            }\n        }\n        if (this.placeholder && this.placeHolderWrapper) {\n            this.placeHolderWrapper = null;\n        }\n        if (!isNOU(this.cssClass)) {\n            var allClassName = this.cssClass.split(' ');\n            for (var i = 0; i < allClassName.length; i++) {\n                if (allClassName[i].trim() !== '') {\n                    removeClass([this.element], allClassName[i]);\n                }\n            }\n        }\n        this.removeHtmlAttributes();\n        this.removeAttributes();\n        _super.prototype.destroy.call(this);\n        this.isRendered = false;\n        if (this.enablePersistence) {\n            window.localStorage.removeItem(this.getModuleName() + this.element.id);\n        }\n    };\n    RichTextEditor.prototype.removeHtmlAttributes = function () {\n        if (this.htmlAttributes) {\n            var keys = Object.keys(this.htmlAttributes);\n            for (var i = 0; i < keys.length && this.element.hasAttribute(keys[i]); i++) {\n                this.element.removeAttribute(keys[i]);\n            }\n        }\n    };\n    RichTextEditor.prototype.removeAttributes = function () {\n        if (!this.enabled) {\n            removeClass([this.element], classes.CLS_DISABLED);\n        }\n        if (this.enableRtl) {\n            removeClass([this.element], classes.CLS_RTL);\n        }\n        if (this.readonly) {\n            removeClass([this.element], classes.CLS_RTE_READONLY);\n        }\n        if (this.element.style.width !== '' && this.originalElement.style.width === '') {\n            this.element.style.removeProperty('width');\n        }\n        if (this.element.style.height !== '' && this.originalElement.style.height === '') {\n            this.element.style.removeProperty('height');\n        }\n        this.element.removeAttribute('aria-disabled');\n        this.element.removeAttribute('role');\n        this.element.removeAttribute('tabindex');\n    };\n    RichTextEditor.prototype.destroyDependentModules = function () {\n        /* destroy dependent modules */\n        this.renderModule.destroy();\n        this.formatter.editorManager.undoRedoManager.destroy();\n        this.sourceCodeModule.destroy();\n    };\n    /**\n     * Returns the HTML or Text inside the RichTextEditor.\n     *\n     * @returns {Element} - specifies the element.\n     */\n    RichTextEditor.prototype.getContent = function () {\n        return this.contentModule.getPanel();\n    };\n    /**\n     * Returns the text content as string.\n     *\n     * @returns {string} - specifies the string value.\n     */\n    RichTextEditor.prototype.getText = function () {\n        return this.contentModule.getText();\n    };\n    /**\n     * Returns the html value of the selected content as string.\n     *\n     * @returns {string} - specifies the string value.\n     */\n    RichTextEditor.prototype.getSelectedHtml = function () {\n        var range;\n        var wrapperElm = this.createElement('div');\n        var selection = this.contentModule.getDocument().getSelection();\n        if (selection.rangeCount > 0) {\n            range = selection.getRangeAt(0);\n            var selectedHtml = range.cloneContents();\n            wrapperElm.appendChild(selectedHtml);\n        }\n        return wrapperElm.innerHTML;\n    };\n    /**\n     * It shows the inline quick toolbar\n     *\n     * @returns {void}\n     */\n    RichTextEditor.prototype.showInlineToolbar = function () {\n        if (this.inlineMode.enable) {\n            var currentRange = this.getRange();\n            var targetElm = currentRange.endContainer.nodeName === '#text' ?\n                currentRange.endContainer.parentElement : currentRange.endContainer;\n            var x = currentRange.getClientRects()[0].left;\n            var y = currentRange.getClientRects()[0].top;\n            this.quickToolbarModule.showInlineQTBar(x, y, targetElm);\n        }\n    };\n    /**\n     * It hides the inline quick toolbar\n     *\n     * @returns {void}\n     */\n    RichTextEditor.prototype.hideInlineToolbar = function () {\n        this.quickToolbarModule.hideInlineQTBar();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     * @private\n\n     */\n    RichTextEditor.prototype.getModuleName = function () {\n        return 'richtexteditor';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} newProp - specifies the the property.\n     * @param {RichTextEditorModel} oldProp - specifies the old property.\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enterKey':\n                case 'value': {\n                    var nVal = void 0;\n                    if (prop === 'enterKey') {\n                        if (this.value === null || this.value === '<div><br></div>' || this.value === '<p><br></p>' ||\n                            this.value === '<br>') {\n                            nVal = null;\n                        }\n                        else {\n                            nVal = this.value;\n                        }\n                    }\n                    else {\n                        nVal = newProp[prop];\n                    }\n                    var val = this.editorMode === 'HTML' ? getEditValue(nVal, this) : nVal;\n                    if ((!isNOU(nVal) && nVal !== '') || prop === 'enterKey') {\n                        this.value = this.serializeValue(((this.enableHtmlEncode) ? this.encode(decode(val)) : val));\n                    }\n                    this.updatePanelValue();\n                    this.setPlaceHolder();\n                    this.notify(events.xhtmlValidation, { module: 'XhtmlValidation', newProp: newProp, oldProp: oldProp });\n                    if (this.enableXhtml) {\n                        this.setProperties({ value: this.getXhtml() }, true);\n                    }\n                    if (this.showCharCount) {\n                        this.countModule.refresh();\n                    }\n                    break;\n                }\n                case 'valueTemplate':\n                    this.setValue();\n                    if (this.showCharCount) {\n                        this.countModule.refresh();\n                    }\n                    break;\n                case 'width':\n                    this.setWidth(newProp[prop]);\n                    if (this.toolbarSettings.enable && !this.inlineMode.enable) {\n                        this.toolbarModule.refreshToolbarOverflow();\n                        this.resizeHandler();\n                    }\n                    break;\n                case 'height':\n                    this.setHeight(newProp[prop]);\n                    this.setContentHeight();\n                    this.autoResize();\n                    break;\n                case 'readonly':\n                    this.setReadOnly(false);\n                    break;\n                case 'cssClass':\n                    this.element.classList.remove(oldProp[prop]);\n                    this.setCssClass(newProp[prop]);\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'enableRtl':\n                    this.updateRTL();\n                    break;\n                case 'placeholder':\n                    this.placeholder = newProp[prop];\n                    this.setPlaceHolder();\n                    break;\n                case 'htmlAttributes':\n                    setAttributes(this.htmlAttributes, this, false, false);\n                    break;\n                case 'iframeSettings': {\n                    var frameSetting = oldProp[prop];\n                    if (frameSetting.resources) {\n                        var iframe = this.contentModule.getDocument();\n                        var header = iframe.querySelector('head');\n                        var files = void 0;\n                        if (frameSetting.resources.scripts) {\n                            files = header.querySelectorAll('.' + classes.CLS_SCRIPT_SHEET);\n                            this.removeSheets(files);\n                        }\n                        if (frameSetting.resources.styles) {\n                            files = header.querySelectorAll('.' + classes.CLS_STYLE_SHEET);\n                            this.removeSheets(files);\n                        }\n                    }\n                    this.setIframeSettings();\n                    break;\n                }\n                case 'locale':\n                    _super.prototype.refresh.call(this);\n                    break;\n                case 'inlineMode':\n                    this.notify(events.modelChanged, { module: 'quickToolbar', newProp: newProp, oldProp: oldProp });\n                    this.setContentHeight();\n                    break;\n                case 'toolbarSettings':\n                    this.notify(events.modelChanged, { module: 'toolbar', newProp: newProp, oldProp: oldProp });\n                    this.setContentHeight();\n                    break;\n                case 'maxLength':\n                    if (this.showCharCount) {\n                        this.countModule.refresh();\n                    }\n                    break;\n                case 'showCharCount':\n                    if (newProp[prop] && this.countModule) {\n                        this.countModule.renderCount();\n                    }\n                    else if (newProp[prop] === false && this.countModule) {\n                        this.countModule.destroy();\n                    }\n                    break;\n                case 'enableHtmlEncode':\n                    this.updateValueData();\n                    this.updatePanelValue();\n                    this.setPlaceHolder();\n                    if (this.showCharCount) {\n                        this.countModule.refresh();\n                    }\n                    break;\n                case 'undoRedoSteps':\n                case 'undoRedoTimer':\n                    this.formatter.editorManager.observer.notify(CONSTANT.MODEL_CHANGED, { newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'enableXhtml':\n                    this.notify(events.xhtmlValidation, { module: 'XhtmlValidation', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'quickToolbarSettings':\n                    // eslint-disable-next-line\n                    newProp.quickToolbarSettings.showOnRightClick ? this.wireContextEvent() : this.unWireContextEvent();\n                    this.notify(events.modelChanged, { newProp: newProp, oldProp: oldProp });\n                    break;\n                default:\n                    this.notify(events.modelChanged, { newProp: newProp, oldProp: oldProp });\n                    break;\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n\n     */\n    RichTextEditor.prototype.updateValueData = function () {\n        if (this.enableHtmlEncode) {\n            this.setProperties({ value: this.encode(decode(this.inputElement.innerHTML)) }, true);\n        }\n        else {\n            this.setProperties({\n                value: /<[a-z][\\s\\S]*>/i.test(this.inputElement.innerHTML) ? this.inputElement.innerHTML :\n                    decode(this.inputElement.innerHTML)\n            });\n        }\n    };\n    RichTextEditor.prototype.removeSheets = function (srcList) {\n        var i;\n        for (i = 0; i < srcList.length; i++) {\n            detach(srcList[i]);\n        }\n    };\n    RichTextEditor.prototype.updatePanelValue = function () {\n        var value = this.value;\n        value = (this.enableHtmlEncode && this.value) ? decode(value) : value;\n        var getTextArea = this.element.querySelector('.e-rte-srctextarea');\n        if (value) {\n            if (getTextArea && getTextArea.style.display === 'block') {\n                getTextArea.value = this.value;\n            }\n            if (this.valueContainer) {\n                this.valueContainer.value = (this.enableHtmlEncode) ? this.value : value;\n            }\n            if (this.editorMode === 'HTML' && this.inputElement && this.inputElement.innerHTML.trim() !== value.trim()) {\n                this.inputElement.innerHTML = value;\n            }\n            else if (this.editorMode === 'Markdown' && this.inputElement\n                && this.inputElement.value.trim() !== value.trim()) {\n                this.inputElement.value = value;\n            }\n        }\n        else {\n            if (getTextArea && getTextArea.style.display === 'block') {\n                getTextArea.value = '';\n            }\n            if (this.editorMode === 'HTML') {\n                if (this.enterKey === 'DIV') {\n                    this.inputElement.innerHTML = '<div><br/></div>';\n                }\n                else if (this.enterKey === 'BR') {\n                    this.inputElement.innerHTML = '<br/>';\n                }\n                else {\n                    this.inputElement.innerHTML = '<p><br/></p>';\n                    if (value === '' && this.formatter && this.inputElement) {\n                        this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(), this.inputElement.firstElementChild, this.inputElement.firstElementChild.childElementCount);\n                    }\n                }\n            }\n            else {\n                this.inputElement.value = '';\n            }\n            if (this.valueContainer) {\n                this.valueContainer.value = '';\n            }\n        }\n        if (this.showCharCount) {\n            this.countModule.refresh();\n        }\n    };\n    RichTextEditor.prototype.setHeight = function (height) {\n        if (height !== 'auto') {\n            this.element.style.height = formatUnit(height);\n        }\n        else {\n            this.element.style.height = 'auto';\n        }\n        if (this.toolbarSettings.type === 'Expand' && (typeof (this.height) === 'string' &&\n            this.height.indexOf('px') > -1 || typeof (this.height) === 'number')) {\n            this.element.classList.add(classes.CLS_RTE_FIXED_TB_EXPAND);\n        }\n        else {\n            this.element.classList.remove(classes.CLS_RTE_FIXED_TB_EXPAND);\n        }\n    };\n    /**\n     * setPlaceHolder method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.setPlaceHolder = function () {\n        if (this.inputElement && this.placeholder && this.iframeSettings.enable !== true) {\n            if (this.editorMode !== 'Markdown') {\n                if (!this.placeHolderWrapper) {\n                    this.placeHolderWrapper = this.createElement('span', { className: 'rte-placeholder e-rte-placeholder' });\n                    if (this.inputElement) {\n                        this.inputElement.parentElement.insertBefore(this.placeHolderWrapper, this.inputElement);\n                    }\n                    attributes(this.placeHolderWrapper, {\n                        'style': 'font-size: 14px; padding: 16px; margin-left: 0px; margin-right: 0px;'\n                    });\n                }\n                this.placeHolderWrapper.innerHTML = this.placeholder;\n                if (this.inputElement.textContent.length === 0 && !isNOU(this.inputElement.firstChild) && (this.inputElement.firstChild.nodeName === 'BR' ||\n                    ((this.inputElement.firstChild.nodeName === 'P' || this.inputElement.firstChild.nodeName === 'DIV') && !isNOU(this.inputElement.firstChild.firstChild) &&\n                        this.inputElement.firstChild.firstChild.nodeName === 'BR'))) {\n                    this.placeHolderWrapper.style.display = 'block';\n                }\n                else {\n                    this.placeHolderWrapper.style.display = 'none';\n                }\n            }\n            else {\n                this.inputElement.setAttribute('placeholder', this.placeholder);\n            }\n        }\n    };\n    RichTextEditor.prototype.setWidth = function (width) {\n        if (width !== 'auto') {\n            setStyleAttribute(this.element, { 'width': formatUnit(this.width) });\n        }\n        else {\n            this.element.style.width = 'auto';\n        }\n    };\n    RichTextEditor.prototype.setCssClass = function (cssClass) {\n        if (!isNOU(cssClass)) {\n            var allClassName = cssClass.split(' ');\n            for (var i = 0; i < allClassName.length; i++) {\n                if (allClassName[i].trim() !== '') {\n                    this.element.classList.add(allClassName[i]);\n                }\n            }\n        }\n    };\n    RichTextEditor.prototype.updateRTL = function () {\n        this.notify(events.rtlMode, { enableRtl: this.enableRtl });\n        if (this.enableRtl) {\n            this.element.classList.add(classes.CLS_RTL);\n        }\n        else {\n            this.element.classList.remove(classes.CLS_RTL);\n        }\n    };\n    RichTextEditor.prototype.updateReadOnly = function () {\n        this.notify(events.readOnlyMode, { editPanel: this.inputElement, mode: this.readonly });\n    };\n    /**\n     * setReadOnly method\n     *\n     * @param {boolean} initial - specifies the boolean value\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.setReadOnly = function (initial) {\n        this.updateReadOnly();\n        if (!initial) {\n            if (this.readonly && this.enabled) {\n                this.unbindEvents();\n            }\n            else if (this.enabled) {\n                this.bindEvents();\n            }\n        }\n    };\n    /**\n     * By default, prints all the pages of the RichTextEditor.\n     *\n     * @returns {void}\n     */\n    RichTextEditor.prototype.print = function () {\n        var _this = this;\n        var printWind;\n        var printArgs = {\n            element: this.inputElement,\n            requestType: 'print',\n            cancel: false\n        };\n        this.trigger(events.actionBegin, printArgs, function (printingArgs) {\n            printWind = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth);\n            if (Browser.info.name === 'msie') {\n                printWind.resizeTo(screen.availWidth, screen.availHeight);\n            }\n            printWind = printWindow(_this.inputElement, printWind);\n            if (!printingArgs.cancel) {\n                var actionArgs = {\n                    requestType: 'print'\n                };\n                _this.trigger(events.actionComplete, actionArgs);\n            }\n        });\n    };\n    /**\n     * Refresh the view of the editor.\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.refreshUI = function () {\n        this.renderModule.refresh();\n    };\n    /**\n     * Shows the Rich Text Editor component in full-screen mode.\n     *\n     * @returns {void}\n     */\n    RichTextEditor.prototype.showFullScreen = function () {\n        this.fullScreenModule.showFullScreen();\n    };\n    /**\n     * Enables the give toolbar items in the Rich Text Editor component.\n     *\n     * @returns {void}\n     * @param {string | string[]} items - Specifies the single or collection of items\n     * @param {boolean} muteToolbarUpdate enable/disables the toolbar item status in RichTextEditor.\n     * that you want to be enable in Rich Text Editor’s Toolbar.\n     *\n     * @public\n     */\n    RichTextEditor.prototype.enableToolbarItem = function (items, muteToolbarUpdate) {\n        this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(), items, true, muteToolbarUpdate);\n    };\n    /**\n     * Disables the given toolbar items in the Rich Text Editor component.\n     *\n     * @returns {void}\n     * @param {string | string[]} items - Specifies the single or collection of items\n     * @param {boolean} muteToolbarUpdate enable/disables the toolbar item status in RichTextEditor.\n     * that you want to be disable in Rich Text Editor’s Toolbar.\n     *\n     * @public\n     */\n    RichTextEditor.prototype.disableToolbarItem = function (items, muteToolbarUpdate) {\n        this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(), items, false, muteToolbarUpdate);\n    };\n    /**\n     * Removes the give toolbar items from the Rich Text Editor component.\n     *\n     * @returns {void}\n     * @param {string | string[]} items - Specifies the single or collection of items\n     * that you want to be remove from Rich Text Editor’s Toolbar.\n     *\n     * @public\n     */\n    RichTextEditor.prototype.removeToolbarItem = function (items) {\n        this.toolbarModule.removeTBarItems(items);\n    };\n    /**\n     * Get the selected range from the RichTextEditor's content.\n     *\n     * @returns {void}\n     * @public\n\n     */\n    RichTextEditor.prototype.getRange = function () {\n        return this.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n    };\n    RichTextEditor.prototype.initializeServices = function () {\n        this.serviceLocator.register('rendererFactory', new RendererFactory);\n        this.serviceLocator.register('rteLocale', this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale));\n        this.serviceLocator.register('dialogRenderObject', new DialogRenderer(this));\n    };\n    RichTextEditor.prototype.RTERender = function () {\n        var rendererFactory = this.serviceLocator.getService('rendererFactory');\n        this.contentModule = rendererFactory.getRenderer(RenderType.Content);\n        this.fullScreenModule = new FullScreen(this);\n        this.enterKeyModule = new EnterKeyAction(this);\n        this.renderModule.render();\n        this.inputElement = this.contentModule.getEditPanel();\n        this.setHeight(this.height);\n        setAttributes(this.htmlAttributes, this, false, true);\n        if (this.iframeSettings) {\n            this.setIframeSettings();\n        }\n        this.setCssClass(this.cssClass);\n        this.updateEnable();\n        this.setPlaceHolder();\n        this.updateRTL();\n        this.updateReadOnly();\n        this.updatePanelValue();\n        if (this.enableHtmlEncode && !isNOU(this.value)) {\n            this.setProperties({ value: this.encode(decode(this.value)) });\n        }\n    };\n    RichTextEditor.prototype.setIframeSettings = function () {\n        if (this.iframeSettings.resources) {\n            var styleSrc = this.iframeSettings.resources.styles;\n            var scriptSrc = this.iframeSettings.resources.scripts;\n            if (this.iframeSettings.resources.scripts.length > 0) {\n                this.InjectSheet(true, scriptSrc);\n            }\n            if (this.iframeSettings.resources.styles.length > 0) {\n                this.InjectSheet(false, styleSrc);\n            }\n        }\n        if (this.iframeSettings.attributes) {\n            setAttributes(this.iframeSettings.attributes, this, true, false);\n        }\n    };\n    RichTextEditor.prototype.InjectSheet = function (scriptSheet, srcList) {\n        try {\n            if (srcList && srcList.length > 0) {\n                var iFrame = this.contentModule.getDocument();\n                var target = iFrame.querySelector('head');\n                for (var i = 0; i < srcList.length; i++) {\n                    if (scriptSheet) {\n                        var scriptEle = this.createScriptElement();\n                        scriptEle.src = srcList[i];\n                        target.appendChild(scriptEle);\n                    }\n                    else {\n                        var styleEle = this.createStyleElement();\n                        styleEle.href = srcList[i];\n                        target.appendChild(styleEle);\n                    }\n                }\n            }\n        }\n        catch (e) {\n            return;\n        }\n    };\n    RichTextEditor.prototype.createScriptElement = function () {\n        var scriptEle = this.createElement('script', {\n            className: classes.CLS_SCRIPT_SHEET\n        });\n        scriptEle.type = 'text/javascript';\n        return scriptEle;\n    };\n    RichTextEditor.prototype.createStyleElement = function () {\n        var styleEle = this.createElement('link', {\n            className: classes.CLS_STYLE_SHEET\n        });\n        styleEle.rel = 'stylesheet';\n        return styleEle;\n    };\n    RichTextEditor.prototype.setValue = function () {\n        if (this.valueTemplate) {\n            if (typeof this.valueTemplate === 'string') {\n                this.setProperties({ value: this.valueTemplate });\n            }\n            else {\n                var compiledTemplate = compile(this.valueTemplate)(\"\", this, 'valueTemplate');\n                for (var i = 0; i < compiledTemplate.length; i++) {\n                    var item = compiledTemplate[i];\n                    append([item], this.element);\n                }\n                this.setProperties({ value: this.element.innerHTML.trim() });\n            }\n        }\n        else {\n            // eslint-disable-next-line\n            var innerHtml = !isNOU(this.element.innerHTML) && this.element.innerHTML.replace(/<(\\/?|\\!?)(!--!--)>/g, '').trim();\n            if (innerHtml !== '') {\n                if (this.element.tagName === 'TEXTAREA') {\n                    this.setProperties({ value: decode(innerHtml) });\n                }\n                else {\n                    this.setProperties({ value: innerHtml });\n                }\n            }\n        }\n    };\n    RichTextEditor.prototype.updateResizeFlag = function () {\n        this.isResizeInitialized = true;\n    };\n    /**\n     * Image max width calculation method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.getInsertImgMaxWidth = function () {\n        var maxWidth = this.insertImageSettings.maxWidth;\n        // eslint-disable-next-line\n        var imgPadding = 12;\n        var imgResizeBorder = 2;\n        var editEle = this.contentModule.getEditPanel();\n        var eleStyle = window.getComputedStyle(editEle);\n        var editEleMaxWidth = editEle.offsetWidth - (imgPadding + imgResizeBorder +\n            parseFloat(eleStyle.paddingLeft.split('px')[0]) + parseFloat(eleStyle.paddingRight.split('px')[0]) +\n            parseFloat(eleStyle.marginLeft.split('px')[0]) + parseFloat(eleStyle.marginRight.split('px')[0]));\n        return isNOU(maxWidth) ? editEleMaxWidth : maxWidth;\n    };\n    /**\n     * setContentHeight method\n     *\n     * @param {string} target - specifies the target value.\n     * @param {boolean} isExpand - specifies  the bollean value.\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.setContentHeight = function (target, isExpand) {\n        var heightValue;\n        var topValue = 0;\n        var rteHeightPercent;\n        var heightPercent = typeof (this.height) === 'string' && this.height.indexOf('%') > -1;\n        var cntEle = (this.sourceCodeModule.getPanel() &&\n            this.sourceCodeModule.getPanel().parentElement.style.display === 'block') ? this.sourceCodeModule.getPanel().parentElement :\n            this.contentModule.getPanel();\n        var rteHeight = this.element.offsetHeight;\n        if (rteHeight === 0 && this.height !== 'auto' && !this.getToolbar()) {\n            rteHeight = parseInt(this.height, 10);\n            if (heightPercent) {\n                rteHeightPercent = this.height;\n            }\n        }\n        var tbHeight = this.getToolbar() ? this.toolbarModule.getToolbarHeight() : 0;\n        var rzHandle = this.element.querySelector('.' + classes.CLS_RTE_RES_HANDLE);\n        var rzHeight = this.enableResize ? (!isNOU(rzHandle) ? (rzHandle.offsetHeight + 8) : 0) : 0;\n        var expandPopHeight = this.getToolbar() ? this.toolbarModule.getExpandTBarPopHeight() : 0;\n        if (this.toolbarSettings.type === ToolbarType.Expand && isExpand && target !== 'preview') {\n            heightValue = (this.height === 'auto' && rzHeight === 0) ? 'auto' : rteHeight - (tbHeight + expandPopHeight + rzHeight) + 'px';\n            topValue = (!this.toolbarSettings.enableFloating) ? expandPopHeight : 0;\n        }\n        else {\n            if (this.height === 'auto' && !(this.element.classList.contains('e-rte-full-screen')) && !this.isResizeInitialized) {\n                heightValue = 'auto';\n            }\n            else {\n                heightValue = heightPercent && rteHeightPercent ? rteHeightPercent : rteHeight - (tbHeight + rzHeight) + 'px';\n            }\n        }\n        if (target !== 'windowResize') {\n            if (this.iframeSettings.enable) {\n                if (heightValue !== 'auto') {\n                    setStyleAttribute(cntEle, { height: heightValue, marginTop: topValue + 'px' });\n                }\n            }\n            else {\n                setStyleAttribute(cntEle, { height: heightValue, marginTop: topValue + 'px' });\n            }\n        }\n        if (this.iframeSettings.enable && target === 'sourceCode') {\n            var codeElement = select('.' + classes.CLS_RTE_CONTENT, this.element);\n            setStyleAttribute(codeElement, { height: heightValue, marginTop: topValue + 'px' });\n        }\n        if (this.toolbarSettings.enableFloating && this.getToolbar() && !this.inlineMode.enable) {\n            var tbWrapHeight = (isExpand ? (tbHeight + expandPopHeight) : tbHeight) + 'px';\n            setStyleAttribute(this.getToolbar().parentElement, { height: tbWrapHeight });\n        }\n        if (rzHeight === 0) {\n            this.autoResize();\n        }\n    };\n    /**\n     * Retrieves the HTML from RichTextEditor.\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.getHtml = function () {\n        return this.serializeValue(this.contentModule.getEditPanel().innerHTML);\n    };\n    /**\n     * Retrieves the Rich Text Editor's XHTML validated HTML content when `enableXhtml` property is enabled.\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.getXhtml = function () {\n        var currentValue = this.value;\n        if (!isNOU(currentValue) && this.enableXhtml) {\n            currentValue = this.htmlEditorModule.xhtmlValidation.selfEncloseValidation(currentValue);\n        }\n        return currentValue;\n    };\n    /**\n     * Shows the source HTML/MD markup.\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.showSourceCode = function () {\n        if (this.readonly) {\n            return;\n        }\n        this.notify(events.sourceCode, {});\n    };\n    /**\n     * Returns the maximum number of characters in the Rich Text Editor.\n     *\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.getCharCount = function () {\n        var htmlText = this.editorMode === 'Markdown' ? this.inputElement.value.trim() :\n            this.inputElement.textContent.trim();\n        var htmlLength;\n        if (this.editorMode !== 'Markdown' && htmlText.indexOf('\\u200B') !== -1) {\n            htmlLength = htmlText.replace(/\\u200B/g, '').length;\n        }\n        else {\n            htmlLength = htmlText.length;\n        }\n        return htmlLength;\n    };\n    /**\n     * Show the dialog in the Rich Text Editor.\n     *\n     * @param {DialogType} type - specifies the dialog type.\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.showDialog = function (type) {\n        if (type === DialogType.InsertLink) {\n            this.notify(events.showLinkDialog, {});\n        }\n        else if (type === DialogType.InsertImage) {\n            this.notify(events.showImageDialog, {});\n        }\n        else if (type === DialogType.InsertTable) {\n            this.notify(events.showTableDialog, {});\n        }\n    };\n    /**\n     * Close the dialog in the Rich Text Editor.\n     *\n     * @param {DialogType} type - specifies the dialog type.\n     * @returns {void}\n     * @public\n     */\n    RichTextEditor.prototype.closeDialog = function (type) {\n        if (type === DialogType.InsertLink) {\n            this.notify(events.closeLinkDialog, {});\n        }\n        else if (type === DialogType.InsertImage) {\n            this.notify(events.closeImageDialog, {});\n        }\n        else if (type === DialogType.InsertTable) {\n            this.notify(events.closeTableDialog, {});\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.getBaseToolbarObject = function () {\n        var tbObj;\n        if (this.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            tbObj = this.quickToolbarModule && this.quickToolbarModule.getInlineBaseToolbar();\n        }\n        else {\n            tbObj = this.toolbarModule && this.toolbarModule.getBaseToolbar();\n        }\n        return tbObj;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.getToolbar = function () {\n        return this.toolbarModule ? this.toolbarModule.getToolbarElement() : null;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.getToolbarElement = function () {\n        return this.toolbarModule && this.toolbarModule.getToolbarElement();\n    };\n    /**\n     * @returns {void}\n     * getID method\n     *\n     * @hidden\n\n     */\n    RichTextEditor.prototype.getID = function () {\n        return (this.originalElement.tagName === 'TEXTAREA' ? this.valueContainer.id : this.element.id);\n    };\n    RichTextEditor.prototype.mouseDownHandler = function (e) {\n        var touch = (e.touches ? e.changedTouches[0] : e);\n        addClass([this.element], [classes.CLS_FOCUS]);\n        this.preventDefaultResize(e);\n        this.notify(events.mouseDown, { args: e });\n        this.clickPoints = { clientX: touch.clientX, clientY: touch.clientY };\n    };\n    RichTextEditor.prototype.preventImgResize = function (e) {\n        if (e.target.nodeName.toLocaleLowerCase() === 'img') {\n            e.preventDefault();\n        }\n    };\n    /**\n     * preventDefaultResize method\n     *\n     * @param {FocusEvent} e - specifies the event.\n     * @returns {void}\n     * @hidden\n\n     */\n    // eslint-disable-next-line\n    RichTextEditor.prototype.preventDefaultResize = function (e) {\n        if (Browser.info.name === 'msie') {\n            this.contentModule.getEditPanel().addEventListener('mscontrolselect', this.preventImgResize);\n        }\n        else if (Browser.info.name === 'mozilla') {\n            this.contentModule.getDocument().execCommand('enableObjectResizing', false, 'false');\n            this.contentModule.getDocument().execCommand('enableInlineTableEditing', false, 'false');\n        }\n    };\n    // eslint-disable-next-line\n    RichTextEditor.prototype.defaultResize = function (e) {\n        if (Browser.info.name === 'msie') {\n            this.contentModule.getEditPanel().removeEventListener('mscontrolselect', this.preventImgResize);\n        }\n        else if (Browser.info.name === 'mozilla') {\n            this.contentModule.getDocument().execCommand('enableObjectResizing', true, 'true');\n            this.contentModule.getDocument().execCommand('enableInlineTableEditing', true, 'true');\n        }\n    };\n    RichTextEditor.prototype.resizeHandler = function () {\n        var isExpand = false;\n        if (!document.body.contains(this.element)) {\n            document.defaultView.removeEventListener('resize', this.onResizeHandler, true);\n            return;\n        }\n        if (this.toolbarSettings.enable && !this.inlineMode.enable) {\n            this.toolbarModule.refreshToolbarOverflow();\n            isExpand = this.toolbarModule.baseToolbar.toolbarObj.element.classList.contains(classes.CLS_EXPAND_OPEN);\n        }\n        this.setContentHeight('windowResize', isExpand);\n        this.notify(events.windowResize, null);\n    };\n    RichTextEditor.prototype.scrollHandler = function (e) {\n        this.notify(events.scroll, { args: e });\n    };\n    RichTextEditor.prototype.contentScrollHandler = function (e) {\n        this.notify(events.contentscroll, { args: e });\n    };\n    RichTextEditor.prototype.focusHandler = function (e) {\n        if ((!this.isRTE || this.isFocusOut)) {\n            this.isRTE = this.isFocusOut ? false : true;\n            this.isFocusOut = false;\n            addClass([this.element], [classes.CLS_FOCUS]);\n            if (this.editorMode === 'HTML') {\n                this.cloneValue = (this.inputElement.innerHTML === '<p><br></p>' || this.inputElement.innerHTML === '<div><br></div>' ||\n                    this.inputElement.innerHTML === '<br>') ? null : this.enableHtmlEncode ?\n                    this.encode(decode(this.inputElement.innerHTML)) : this.inputElement.innerHTML;\n            }\n            else {\n                this.cloneValue = this.inputElement.value === '' ? null :\n                    this.inputElement.value;\n            }\n            var active = document.activeElement;\n            if (active === this.element || active === this.getToolbarElement() || active === this.contentModule.getEditPanel()\n                || ((this.iframeSettings.enable && active === this.contentModule.getPanel()) &&\n                    e.target && !e.target.classList.contains('e-img-inner')\n                    && (e.target && e.target.parentElement\n                        && !e.target.parentElement.classList.contains('e-img-wrap')))\n                || closest(active, '.e-rte-toolbar') === this.getToolbarElement()) {\n                this.contentModule.getEditPanel().focus();\n                if (!isNOU(this.getToolbarElement())) {\n                    this.getToolbarElement().setAttribute('tabindex', '-1');\n                    var items = this.getToolbarElement().querySelectorAll('[tabindex=\"0\"]');\n                    for (var i = 0; i < items.length; i++) {\n                        items[i].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            this.preventDefaultResize(e);\n            this.trigger('focus', { event: e, isInteracted: Object.keys(e).length === 0 ? false : true });\n            if (!isNOU(this.saveInterval) && this.saveInterval > 0 && !this.autoSaveOnIdle) {\n                this.timeInterval = setInterval(this.updateValueOnIdle.bind(this), this.saveInterval);\n            }\n            EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        }\n        if (!isNOU(this.getToolbarElement())) {\n            var toolbarItem = this.getToolbarElement().querySelectorAll('input,select,button,a,[tabindex]');\n            for (var i = 0; i < toolbarItem.length; i++) {\n                if ((!toolbarItem[i].classList.contains('e-rte-dropdown-btn') &&\n                    !toolbarItem[i].classList.contains('e-insert-table-btn')) &&\n                    (!toolbarItem[i].hasAttribute('tabindex') ||\n                        toolbarItem[i].getAttribute('tabindex') !== '-1')) {\n                    toolbarItem[i].setAttribute('tabindex', '-1');\n                }\n            }\n        }\n    };\n    RichTextEditor.prototype.getUpdatedValue = function () {\n        var value;\n        if (!isNOU(this.tableModule)) {\n            this.tableModule.removeResizeElement();\n        }\n        var getTextArea = this.element.querySelector('.e-rte-srctextarea');\n        if (this.editorMode === 'HTML') {\n            value = (this.inputElement.innerHTML === '<p><br></p>' || this.inputElement.innerHTML === '<div><br></div>' ||\n                this.inputElement.innerHTML === '<br>') ? null : this.enableHtmlEncode ?\n                this.encode(decode(this.inputElement.innerHTML)) : this.inputElement.innerHTML;\n            if (getTextArea && getTextArea.style.display === 'block') {\n                value = getTextArea.value;\n            }\n        }\n        else {\n            value = this.inputElement.value === '' ? null :\n                this.inputElement.value;\n        }\n        return value;\n    };\n    RichTextEditor.prototype.updateValueOnIdle = function () {\n        if (!isNOU(this.tableModule) && !isNOU(this.inputElement.querySelector('.e-table-box.e-rbox-select'))) {\n            return;\n        }\n        this.setProperties({ value: this.getUpdatedValue() }, true);\n        this.valueContainer.value = this.value;\n        this.invokeChangeEvent();\n    };\n    RichTextEditor.prototype.updateIntervalValue = function () {\n        clearTimeout(this.idleInterval);\n        this.idleInterval = setTimeout(this.updateValueOnIdle.bind(this), 0);\n    };\n    RichTextEditor.prototype.updateStatus = function (e) {\n        if (!isNOU(e.html) || !isNOU(e.markdown)) {\n            var status_1 = this.formatter.editorManager.undoRedoManager.getUndoStatus();\n            var eventArgs = {\n                undo: status_1.undo,\n                redo: status_1.redo,\n                html: e.html,\n                markdown: e.markdown\n            };\n            this.trigger(events.updatedToolbarStatus, eventArgs);\n        }\n    };\n    RichTextEditor.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var rteElement = closest(target, '.' + classes.CLS_RTE);\n        if (!this.element.contains(e.target) && document !== e.target && rteElement !== this.element &&\n            !closest(target, '[aria-owns=\"' + this.getID() + '\"]')) {\n            this.isBlur = true;\n            this.isRTE = false;\n        }\n        this.notify(events.docClick, { args: e });\n        if (Browser.info.name !== 'msie' && e.detail > 3) {\n            e.preventDefault();\n        }\n    };\n    RichTextEditor.prototype.blurHandler = function (e) {\n        var trg = e.relatedTarget;\n        if (trg) {\n            var rteElement = closest(trg, '.' + classes.CLS_RTE);\n            if (rteElement && rteElement === this.element) {\n                this.isBlur = false;\n                if (trg === this.getToolbarElement()) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n            }\n            else if (closest(trg, '[aria-owns=\"' + this.getID() + '\"]')) {\n                this.isBlur = false;\n            }\n            else {\n                this.isBlur = true;\n                trg = null;\n            }\n        }\n        if (this.isBlur && isNOU(trg)) {\n            removeClass([this.element], [classes.CLS_FOCUS]);\n            this.notify(events.focusChange, {});\n            var value = this.getUpdatedValue();\n            this.setProperties({ value: value });\n            this.notify(events.toolbarRefresh, { args: e, documentNode: document });\n            this.invokeChangeEvent();\n            this.isFocusOut = true;\n            this.isBlur = false;\n            dispatchEvent(this.valueContainer, 'focusout');\n            this.defaultResize(e);\n            this.trigger('blur', { event: e, isInteracted: Object.keys(e).length === 0 ? false : true });\n            if (!isNOU(this.timeInterval)) {\n                clearInterval(this.timeInterval);\n                this.timeInterval = null;\n            }\n            EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        }\n        else {\n            this.isRTE = true;\n        }\n    };\n    /**\n     * invokeChangeEvent method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.contentChanged = function () {\n        if (this.autoSaveOnIdle) {\n            if (!isNOU(this.saveInterval)) {\n                clearTimeout(this.timeInterval);\n                this.timeInterval = setTimeout(this.updateIntervalValue.bind(this), this.saveInterval);\n            }\n        }\n    };\n    /**\n     * invokeChangeEvent method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.invokeChangeEvent = function () {\n        var currentValue;\n        if (this.enableXhtml) {\n            currentValue = this.getXhtml();\n        }\n        else {\n            currentValue = this.value;\n        }\n        var eventArgs = {\n            value: currentValue\n        };\n        if (this.value !== this.cloneValue) {\n            this.trigger('change', eventArgs);\n            this.cloneValue = this.value;\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.wireScrollElementsEvents = function () {\n        this.scrollParentElements = getScrollableParent(this.element);\n        for (var _i = 0, _a = this.scrollParentElements; _i < _a.length; _i++) {\n            var element = _a[_i];\n            EventHandler.add(element, 'scroll', this.scrollHandler, this);\n        }\n        if (!this.iframeSettings.enable) {\n            EventHandler.add(this.contentModule.getPanel(), 'scroll', this.contentScrollHandler, this);\n        }\n    };\n    RichTextEditor.prototype.wireContextEvent = function () {\n        if (this.quickToolbarSettings.showOnRightClick) {\n            EventHandler.add(this.inputElement, 'contextmenu', this.contextHandler, this);\n            if (Browser.isDevice) {\n                this.touchModule = new EJ2Touch(this.inputElement, { tapHold: this.touchHandler.bind(this), tapHoldThreshold: 500 });\n            }\n        }\n    };\n    RichTextEditor.prototype.unWireContextEvent = function () {\n        EventHandler.remove(this.inputElement, 'contextmenu', this.contextHandler);\n        if (Browser.isDevice && this.touchModule) {\n            this.touchModule.destroy();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.unWireScrollElementsEvents = function () {\n        this.scrollParentElements = getScrollableParent(this.element);\n        for (var _i = 0, _a = this.scrollParentElements; _i < _a.length; _i++) {\n            var element = _a[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (!this.iframeSettings.enable) {\n            EventHandler.remove(this.contentModule.getPanel(), 'scroll', this.contentScrollHandler);\n        }\n    };\n    RichTextEditor.prototype.touchHandler = function (e) {\n        this.notifyMouseUp(e.originalEvent);\n        this.triggerEditArea(e.originalEvent);\n    };\n    RichTextEditor.prototype.contextHandler = function (e) {\n        var closestElem = closest(e.target, 'a, table, img');\n        if (this.inlineMode.onSelection === false || (!isNOU(closestElem) && this.inputElement.contains(closestElem)\n            && (closestElem.tagName === 'IMG' || closestElem.tagName === 'TABLE' || closestElem.tagName === 'A'))) {\n            e.preventDefault();\n        }\n    };\n    RichTextEditor.prototype.resetHandler = function () {\n        var defaultValue = this.valueContainer.defaultValue.trim();\n        this.setProperties({ value: defaultValue === '' ? null : defaultValue });\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    RichTextEditor.prototype.autoResize = function () {\n        var _this = this;\n        if (this.height === 'auto') {\n            if (this.editorMode === 'Markdown') {\n                setTimeout(function () {\n                    _this.setAutoHeight(_this.inputElement);\n                }, 0);\n            }\n            else if (this.iframeSettings.enable) {\n                var iframeElement_1 = this.element.querySelector('#' + this.getID() + '_rte-view');\n                setTimeout(function () {\n                    _this.setAutoHeight(iframeElement_1);\n                }, 100);\n                this.inputElement.style.overflow = 'hidden';\n            }\n        }\n        else {\n            this.inputElement.style.overflow = null;\n        }\n    };\n    RichTextEditor.prototype.setAutoHeight = function (element) {\n        if (!isNOU(element)) {\n            element.style.height = '';\n            element.style.height = this.inputElement.scrollHeight + 'px';\n            element.style.overflow = 'hidden';\n        }\n    };\n    RichTextEditor.prototype.wireEvents = function () {\n        this.element.addEventListener('focusin', this.onFocusHandler, true);\n        this.element.addEventListener('focusout', this.onBlurHandler, true);\n        this.on(events.contentChanged, this.contentChanged, this);\n        this.on(events.resizeInitialized, this.updateResizeFlag, this);\n        this.on(events.updateTbItemsStatus, this.updateStatus, this);\n        if (this.readonly && this.enabled) {\n            return;\n        }\n        this.bindEvents();\n    };\n    RichTextEditor.prototype.restrict = function (e) {\n        if (this.maxLength >= 0) {\n            var element = this.editorMode === 'Markdown' ? this.contentModule.getText() :\n                e.currentTarget.textContent.trim();\n            var array = [8, 16, 17, 37, 38, 39, 40, 46, 65];\n            var arrayKey = void 0;\n            for (var i = 0; i <= array.length - 1; i++) {\n                if (e.which === array[i]) {\n                    if (e.ctrlKey && e.which === 65) {\n                        return;\n                    }\n                    else if (e.which !== 65) {\n                        arrayKey = array[i];\n                        return;\n                    }\n                }\n            }\n            if ((element.length >= this.maxLength && this.maxLength !== -1) && e.which !== arrayKey) {\n                e.preventDefault();\n            }\n        }\n    };\n    RichTextEditor.prototype.bindEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.inputElement, {\n            keyAction: this.keyDown.bind(this), keyConfigs: __assign({}, this.formatter.keyConfig, this.keyConfig), eventName: 'keydown'\n        });\n        var formElement = closest(this.valueContainer, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetHandler, this);\n        }\n        EventHandler.add(this.inputElement, 'keyup', this.keyUp, this);\n        EventHandler.add(this.inputElement, 'paste', this.onPaste, this);\n        EventHandler.add(this.inputElement, Browser.touchEndEvent, debounce(this.mouseUp, 30), this);\n        EventHandler.add(this.inputElement, Browser.touchStartEvent, this.mouseDownHandler, this);\n        this.wireContextEvent();\n        this.formatter.editorManager.observer.on(CONSTANT.KEY_DOWN_HANDLER, this.editorKeyDown, this);\n        this.element.ownerDocument.defaultView.addEventListener('resize', this.onResizeHandler, true);\n        if (this.iframeSettings.enable) {\n            EventHandler.add(this.inputElement, 'focusin', this.focusHandler, this);\n            EventHandler.add(this.inputElement, 'focusout', this.blurHandler, this);\n            EventHandler.add(this.inputElement.ownerDocument, 'scroll', this.contentScrollHandler, this);\n            EventHandler.add(this.inputElement.ownerDocument, Browser.touchStartEvent, this.onIframeMouseDown, this);\n        }\n        this.wireScrollElementsEvents();\n    };\n    RichTextEditor.prototype.onIframeMouseDown = function (e) {\n        this.isBlur = false;\n        this.notify(events.iframeMouseDown, e);\n    };\n    RichTextEditor.prototype.editorKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'copy':\n                this.onCopy();\n                break;\n            case 'cut':\n                this.onCut();\n                break;\n        }\n        if (e.callBack && (e.event.action === 'copy' || e.event.action === 'cut' || e.event.action === 'delete')) {\n            e.callBack({\n                requestType: e.event.action,\n                editorMode: 'HTML',\n                event: e.event\n            });\n        }\n    };\n    RichTextEditor.prototype.unWireEvents = function () {\n        this.element.removeEventListener('focusin', this.onFocusHandler, true);\n        this.element.removeEventListener('focusout', this.onBlurHandler, true);\n        this.off(events.contentChanged, this.contentChanged);\n        this.off(events.resizeInitialized, this.updateResizeFlag);\n        this.off(events.updateTbItemsStatus, this.updateStatus);\n        if (this.readonly && this.enabled) {\n            return;\n        }\n        this.unbindEvents();\n    };\n    RichTextEditor.prototype.unbindEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        var formElement = closest(this.valueContainer, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetHandler);\n        }\n        EventHandler.remove(this.inputElement, 'keyup', this.keyUp);\n        EventHandler.remove(this.inputElement, 'paste', this.onPaste);\n        EventHandler.remove(this.inputElement, Browser.touchEndEvent, debounce(this.mouseUp, 30));\n        EventHandler.remove(this.inputElement, Browser.touchStartEvent, this.mouseDownHandler);\n        this.unWireContextEvent();\n        if (this.formatter) {\n            this.formatter.editorManager.observer.off(CONSTANT.KEY_DOWN_HANDLER, this.editorKeyDown);\n        }\n        this.element.ownerDocument.defaultView.removeEventListener('resize', this.onResizeHandler, true);\n        if (this.iframeSettings.enable) {\n            EventHandler.remove(this.inputElement, 'focusin', this.focusHandler);\n            EventHandler.remove(this.inputElement, 'focusout', this.blurHandler);\n            EventHandler.remove(this.inputElement.ownerDocument, 'scroll', this.contentScrollHandler);\n            EventHandler.remove(this.inputElement.ownerDocument, Browser.touchStartEvent, this.onIframeMouseDown);\n        }\n        this.unWireScrollElementsEvents();\n    };\n    __decorate([\n        Complex({}, ToolbarSettings)\n    ], RichTextEditor.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Complex({}, QuickToolbarSettings)\n    ], RichTextEditor.prototype, \"quickToolbarSettings\", void 0);\n    __decorate([\n        Complex({}, PasteCleanupSettings)\n    ], RichTextEditor.prototype, \"pasteCleanupSettings\", void 0);\n    __decorate([\n        Complex({}, IFrameSettings)\n    ], RichTextEditor.prototype, \"iframeSettings\", void 0);\n    __decorate([\n        Complex({}, ImageSettings)\n    ], RichTextEditor.prototype, \"insertImageSettings\", void 0);\n    __decorate([\n        Complex({}, TableSettings)\n    ], RichTextEditor.prototype, \"tableSettings\", void 0);\n    __decorate([\n        Property(0)\n    ], RichTextEditor.prototype, \"floatingToolbarOffset\", void 0);\n    __decorate([\n        Complex({}, InlineMode)\n    ], RichTextEditor.prototype, \"inlineMode\", void 0);\n    __decorate([\n        Complex({}, FileManagerSettings)\n    ], RichTextEditor.prototype, \"fileManagerSettings\", void 0);\n    __decorate([\n        Property('100%')\n    ], RichTextEditor.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"enableResize\", void 0);\n    __decorate([\n        Property({})\n    ], RichTextEditor.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], RichTextEditor.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"autoSaveOnIdle\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], RichTextEditor.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(true)\n    ], RichTextEditor.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"enableHtmlEncode\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"enableXhtml\", void 0);\n    __decorate([\n        Property('auto')\n    ], RichTextEditor.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], RichTextEditor.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], RichTextEditor.prototype, \"value\", void 0);\n    __decorate([\n        Property('P')\n    ], RichTextEditor.prototype, \"enterKey\", void 0);\n    __decorate([\n        Property('BR')\n    ], RichTextEditor.prototype, \"shiftEnterKey\", void 0);\n    __decorate([\n        Property(30)\n    ], RichTextEditor.prototype, \"undoRedoSteps\", void 0);\n    __decorate([\n        Property(300)\n    ], RichTextEditor.prototype, \"undoRedoTimer\", void 0);\n    __decorate([\n        Property('HTML')\n    ], RichTextEditor.prototype, \"editorMode\", void 0);\n    __decorate([\n        Property(null)\n    ], RichTextEditor.prototype, \"keyConfig\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"showCharCount\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"enableTabKey\", void 0);\n    __decorate([\n        Property(false)\n    ], RichTextEditor.prototype, \"enableAutoUrl\", void 0);\n    __decorate([\n        Property(-1)\n    ], RichTextEditor.prototype, \"maxLength\", void 0);\n    __decorate([\n        Complex({}, Format)\n    ], RichTextEditor.prototype, \"format\", void 0);\n    __decorate([\n        Complex({}, NumberFormatList)\n    ], RichTextEditor.prototype, \"numberFormatList\", void 0);\n    __decorate([\n        Complex({}, BulletFormatList)\n    ], RichTextEditor.prototype, \"bulletFormatList\", void 0);\n    __decorate([\n        Complex({}, FontFamily)\n    ], RichTextEditor.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Complex({}, FontSize)\n    ], RichTextEditor.prototype, \"fontSize\", void 0);\n    __decorate([\n        Complex({}, FontColor)\n    ], RichTextEditor.prototype, \"fontColor\", void 0);\n    __decorate([\n        Complex({}, BackgroundColor)\n    ], RichTextEditor.prototype, \"backgroundColor\", void 0);\n    __decorate([\n        Property(null)\n    ], RichTextEditor.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(10000)\n    ], RichTextEditor.prototype, \"saveInterval\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"beforeDialogOpen\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"dialogOpen\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"beforeDialogClose\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"dialogClose\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"beforeQuickToolbarOpen\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"quickToolbarOpen\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"quickToolbarClose\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"toolbarStatusUpdate\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"updatedToolbarStatus\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"imageSelected\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"beforeImageUpload\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"imageUploading\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"imageUploadSuccess\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"imageUploadFailed\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"imageRemoving\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"afterImageDelete\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"beforeSanitizeHtml\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"beforePasteCleanup\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"afterPasteCleanup\", void 0);\n    __decorate([\n        Event()\n    ], RichTextEditor.prototype, \"beforeImageDrop\", void 0);\n    __decorate([\n        Property(null)\n    ], RichTextEditor.prototype, \"formatter\", void 0);\n    RichTextEditor = __decorate([\n        NotifyPropertyChanges\n    ], RichTextEditor);\n    return RichTextEditor;\n}(Component));\nexport { RichTextEditor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { RichTextEditor } from '@syncfusion/ej2-richtexteditor';\nimport { ComponentBase, applyMixins } from '@syncfusion/ej2-react-base';\n/**\n * `RichTextEditor` represents the react RichTextEditor.\n * ```tsx\n * <RichTextEditor/>\n * ```\n */\nvar RichTextEditorComponent = /** @class */ (function (_super) {\n    __extends(RichTextEditorComponent, _super);\n    function RichTextEditorComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.initRenderCalled = false;\n        _this.checkInjectedModules = true;\n        _this.immediateRender = false;\n        _this.portals = [];\n        return _this;\n    }\n    RichTextEditorComponent.prototype.render = function () {\n        if (((this.element && !this.initRenderCalled) || this.refreshing) && !this.isReactForeceUpdate) {\n            _super.prototype.render.call(this);\n            this.initRenderCalled = true;\n        }\n        else {\n            return React.createElement('div', this.getDefaultAttributes(), [].concat(this.props.children, this.portals));\n        }\n    };\n    return RichTextEditorComponent;\n}(RichTextEditor));\nexport { RichTextEditorComponent };\napplyMixins(RichTextEditorComponent, [ComponentBase, React.Component]);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     *\n     * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the horizontal scroll  rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        this.setScrollState();\n    };\n    HScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        [].slice.call(overlay).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEles).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        [].slice.call(ele).forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.5;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            var scrollValue;\n            var scrollStep;\n            if (_this.contains(_this.element, CLS_RTL) && _this.browserCheck) {\n                scrollValue = -scrollVal;\n                scrollStep = -step;\n            }\n            else {\n                scrollValue = scrollVal;\n                scrollStep = step;\n            }\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(scrollStep);\n            }\n            else {\n                _this.scrollUpdating(scrollStep, action);\n                scrollVal -= scrollStep;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            this.arrowDisabling(navLeftEle, navRightEle);\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            this.arrowDisabling(navRightEle, navLeftEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {HScrollModel} newProp - It contains the new value of data.\n     * @param  {HScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID, removeClass } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-vscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar VScroll = /** @class */ (function (_super) {\n    __extends(VScroll, _super);\n    /**\n     * Initializes a new instance of the VScroll class.\n     *\n     * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n     */\n    function VScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var ele = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (ele.id === '') {\n            ele.id = getUniqueID('vscroll');\n            this.uniqueId = true;\n        }\n        ele.style.display = 'block';\n        if (this.enableRtl) {\n            ele.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the vertical scroll rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlayElement(this.element);\n        }\n        this.setScrollState();\n        EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    };\n    VScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetHeight;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    VScroll.prototype.initialize = function () {\n        var scrollCnt = buildTag('div', { className: CLS_VSCROLLCON });\n        var scrollBar = buildTag('div', { className: CLS_VSCROLLBAR });\n        scrollBar.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollCnt.appendChild(ele_1);\n        }\n        scrollBar.appendChild(scrollCnt);\n        ele.appendChild(scrollBar);\n        scrollBar.style.overflow = 'hidden';\n        this.scrollEle = scrollBar;\n        this.scrollItems = scrollCnt;\n    };\n    VScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    VScroll.prototype.getModuleName = function () {\n        return 'vScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    VScroll.prototype.destroy = function () {\n        var el = this.element;\n        el.style.display = '';\n        removeClass([this.element], [CLS_ROOT, CLS_DEVICE]);\n        var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n        var overlays = selectAll('.' + CLS_OVERLAY, el);\n        [].slice.call(overlays).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            el.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (navs.length > 0) {\n            detach(navs[0]);\n            if (!isNullOrUndefined(navs[1])) {\n                detach(navs[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    VScroll.prototype.disable = function (value) {\n        var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEle).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    VScroll.prototype.createOverlayElement = function (element) {\n        var id = element.id.concat('_nav');\n        var downOverlayEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_DOWNOVERLAY });\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var downEle = buildTag('div', { id: id.concat('down'), className: clsDown });\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        downEle.appendChild(navItem);\n        var upEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_UPOVERLAY });\n        if (this.ieCheck) {\n            downEle.classList.add('e-ie-align');\n        }\n        element.appendChild(downOverlayEle);\n        element.appendChild(downEle);\n        element.insertBefore(upEle, element.firstChild);\n        this.eventBinding([downEle]);\n    };\n    VScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var nav = buildTag('div', { id: id.concat('_down'), className: clsDown });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n        var navElement = buildTag('div', { id: id.concat('_up'), className: clsUp + ' ' + CLS_DISABLE });\n        navElement.setAttribute('aria-disabled', 'true');\n        var navUpItem = buildTag('div', { className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navElement.appendChild(navUpItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navElement, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navElement.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navElement]);\n    };\n    VScroll.prototype.onKeyPress = function (ev) {\n        var _this = this;\n        if (ev.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, ev.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    VScroll.prototype.onKeyUp = function (ev) {\n        if (ev.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            ev.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    VScroll.prototype.eventBinding = function (element) {\n        var _this = this;\n        [].slice.call(element).forEach(function (ele) {\n            new Touch(ele, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            ele.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    VScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    VScroll.prototype.tabHoldHandler = function (ev) {\n        var _this = this;\n        var trgt = ev.originalEvent.target;\n        trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDistance = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDistance, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    VScroll.prototype.contains = function (element, className) {\n        return element.classList.contains(className);\n    };\n    VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var classList = trgt.classList;\n        if (classList.contains(CLS_VSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (classList.contains(CLS_NAVDOWNARROW)) {\n            this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        }\n        else if (classList.contains(CLS_NAVUPARROW)) {\n            this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n    };\n    VScroll.prototype.clickEventHandler = function (event) {\n        this.eleScrolling(this.scrollStep, event.target, false);\n    };\n    VScroll.prototype.wheelEventHandler = function (e) {\n        e.preventDefault();\n        this.frameScrollRequest(this.scrollStep, (e.deltaY > 0 ? 'add' : ''), false);\n    };\n    VScroll.prototype.swipeHandler = function (e) {\n        var swipeElement = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceY / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceY / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Up') {\n                    swipeElement.scrollTop += distance * step;\n                }\n                else if (e.swipeDirection === 'Down') {\n                    swipeElement.scrollTop -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollTop += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollTop -= scrollVal;\n        }\n    };\n    VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollValue, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollValue -= el.offsetHeight;\n            });\n        }\n        var animate = function () {\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollValue -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.touchHandler = function (e) {\n        var el = this.scrollEle;\n        var distance = e.distanceY;\n        if (e.scrollDirection === 'Up') {\n            el.scrollTop = el.scrollTop + distance;\n        }\n        else if (e.scrollDirection === 'Down') {\n            el.scrollTop = el.scrollTop - distance;\n        }\n    };\n    VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisableCls)) {\n                classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n            }\n        }\n        else {\n            addDisableCls.classList.add(CLS_DISABLE);\n            addDisableCls.setAttribute('aria-disabled', 'true');\n            addDisableCls.removeAttribute('tabindex');\n            removeDisableCls.classList.remove(CLS_DISABLE);\n            removeDisableCls.setAttribute('aria-disabled', 'false');\n            removeDisableCls.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    VScroll.prototype.scrollEventHandler = function (e) {\n        var target = e.target;\n        var height = target.offsetHeight;\n        var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n        var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n        var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n        var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n        var scrollTop = target.scrollTop;\n        if (scrollTop <= 0) {\n            scrollTop = -scrollTop;\n        }\n        if (this.isDevice) {\n            if (scrollTop < OVERLAY_MAXWID) {\n                upOverlay.style.height = scrollTop + 'px';\n            }\n            else {\n                upOverlay.style.height = '40px';\n            }\n            if ((target.scrollHeight - Math.ceil(height + scrollTop)) < OVERLAY_MAXWID) {\n                downOverlay.style.height = (target.scrollHeight - Math.ceil(height + scrollTop)) + 'px';\n            }\n            else {\n                downOverlay.style.height = '40px';\n            }\n        }\n        if (scrollTop === 0) {\n            this.arrowDisabling(navUpEle, navDownEle);\n        }\n        else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n            this.arrowDisabling(navDownEle, navUpEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {VScrollModel} newProp - It contains the new value of data.\n     * @param  {VScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(CLS_RTL);\n                    }\n                    else {\n                        this.element.classList.remove(CLS_RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], VScroll.prototype, \"scrollStep\", void 0);\n    VScroll = __decorate([\n        NotifyPropertyChanges\n    ], VScroll);\n    return VScroll;\n}(Component));\nexport { VScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle, select } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nimport { VScroll } from '../common/v-scroll';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], Item.prototype, \"visible\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     *\n     * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n     * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.resizeContext = _this.resize.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end'\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n        [].slice.call(btnItems).forEach(function (el) {\n            if (!isNOU(el) && !isNOU(el.ej2_instances) && !isNOU(el.ej2_instances[0]) && !(el.ej2_instances[0].isDestroyed)) {\n                el.ej2_instances[0].destroy();\n            }\n        });\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        this.destroyItems();\n        while (this.element.lastElementChild) {\n            this.element.removeChild(this.element.lastElementChild);\n        }\n        if (this.trgtEle) {\n            this.element.appendChild(this.ctrlTem);\n            this.trgtEle = null;\n            this.ctrlTem = null;\n        }\n        if (this.popObj) {\n            this.popObj.destroy();\n            detach(this.popObj.element);\n        }\n        if (this.activeEle) {\n            this.activeEle = null;\n        }\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        this.element.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            return _this.element.removeAttribute(attrb);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: this.enableCollision, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n        this.isExtendedOpen = false;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resizeContext);\n        if (this.allowKeyboard) {\n            this.wireKeyboardEvent();\n        }\n    };\n    Toolbar.prototype.wireKeyboardEvent = function () {\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.unwireKeyboardEvent = function () {\n        if (this.keyModule) {\n            EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyScroll();\n        this.unwireKeyboardEvent();\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        if (this.element) {\n            [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n        }\n        if (this.tbarAlign) {\n            var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n        var tempEle = this.element.querySelector('.e-toolbar-multirow');\n        if (tempEle) {\n            this.remove(tempEle, CLS_MULTIROW);\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        var value = e.action === 'moveUp' ? 'previous' : 'next';\n        var ele;\n        var nodes;\n        switch (e.action) {\n            case 'moveRight':\n                if (this.isVertical) {\n                    return;\n                }\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (this.isVertical) {\n                    return;\n                }\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    var extendedPopup = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n                    if (this.overflowMode === 'Extended' && extendedPopup && extendedPopup.classList.contains('e-popup-open')) {\n                        popupCheck = e.action === 'end' ? extendedPopup : null;\n                    }\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')');\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                if (!this.isVertical) {\n                    if (popObj && closest(trgt, '.e-popup')) {\n                        var popEle = popObj.element;\n                        var popFrstEle = popEle.firstElementChild;\n                        if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                            return;\n                        }\n                        else {\n                            this.eleFocus(clst, value);\n                        }\n                    }\n                    else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                        this.elementFocus(clst);\n                    }\n                }\n                else {\n                    if (e.action === 'moveUp') {\n                        this.eleFocus(clst, 'previous');\n                    }\n                    else {\n                        this.eleFocus(clst, 'next');\n                    }\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        var clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        if (value) {\n            rootEle.classList.add(CLS_DISABLE);\n        }\n        else {\n            rootEle.classList.remove(CLS_DISABLE);\n        }\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleContains = function (el) {\n        return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        if (sib) {\n            var skipEle = this.eleContains(sib);\n            if (skipEle) {\n                this.eleFocus(sib, pos);\n                return;\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var clsList = trgt.classList;\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll')\n            && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            var tempItem = this.items[this.tbarEle.indexOf(clst)];\n            itemObj = tempItem;\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNOU(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs, function (clickedArgs) {\n                if (!isNOU(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' &&\n                    clickedArgs.item && clickedArgs.item.type !== 'Input') {\n                    _this.popObj.hide({ name: 'FadeOut', duration: 100 });\n                }\n            });\n        }\n    };\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false',\n            'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n        };\n        attributes(this.element, ariaAttr);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Toolbar.prototype.renderControl = function () {\n        var ele = this.element;\n        this.trgtEle = (ele.children.length > 0) ? ele.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderLayout();\n    };\n    Toolbar.prototype.renderLayout = function () {\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n        this.separator();\n    };\n    Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n        var innerItem;\n        var innerPos;\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        for (var i = 0; i < items.length; i++) {\n            innerItem = this.renderSubComponent(items[i], i);\n            if (this.tbarEle.indexOf(innerItem) === -1) {\n                this.tbarEle.push(innerItem);\n            }\n            if (!this.tbarAlign) {\n                this.tbarItemAlign(items[i], itemEleDom, i);\n            }\n            innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n            if (innerPos) {\n                if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                    this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                }\n                innerPos.appendChild(innerItem);\n            }\n            else {\n                itemEleDom.appendChild(innerItem);\n            }\n        }\n        if (this.isReact) {\n            var portals = 'portals';\n            this.notify('render-react-toolbar-template', this[portals]);\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Toolbar.prototype.changeOrientation = function () {\n        var ele = this.element;\n        if (this.isVertical) {\n            ele.classList.remove(CLS_VERTICAL);\n            this.isVertical = false;\n            if (this.height === 'auto' || this.height === '100%') {\n                ele.style.height = this.height;\n            }\n            ele.setAttribute('aria-orientation', 'horizontal');\n        }\n        else {\n            ele.classList.add(CLS_VERTICAL);\n            this.isVertical = true;\n            ele.setAttribute('aria-orientation', 'vertical');\n            setStyle(this.element, { 'height': formatUnit(this.height), 'width': formatUnit(this.width) });\n        }\n        this.destroyMode();\n        this.refreshOverflow();\n    };\n    Toolbar.prototype.initScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            if (this.isVertical) {\n                this.scrollModule = new VScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            else {\n                this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var _this = this;\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n                width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n                width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.getScrollCntEle = function (innerItem) {\n        var trgClass = (this.isVertical) ? '.e-vscroll-content' : '.e-hscroll-content';\n        return innerItem.querySelector(trgClass);\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n        var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        var navEleWidth = 0;\n        if (popNav) {\n            navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n        }\n        else if (scrollNav) {\n            navEleWidth = this.isVertical ? (scrollNav.offsetHeight * (2)) : (scrollNav.offsetWidth * 2);\n        }\n        if (itemWidth > eleWidth - navEleWidth) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.toolbarAlign = function (innerItems) {\n        if (this.tbarAlign) {\n            this.add(innerItems, CLS_TBARPOS);\n            this.itemPositioning();\n        }\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n                        this.removePositioning();\n                        this.add(innerItems, CLS_MULTIROWPOS);\n                    }\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        if (this.tbarAlign) {\n                            this.removePositioning();\n                        }\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n            }\n        }\n    };\n    Toolbar.prototype.setOverflowAttributes = function (ele) {\n        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var vertical = this.isVertical;\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerNavDom = (vertical ? innerNav.offsetHeight : innerNav.offsetWidth);\n        var eleWidth = ((vertical ? ele.offsetHeight : ele.offsetWidth) - (innerNavDom));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n        var eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : (eleItem && eleItem.offsetHeight);\n        var ele;\n        var popupPri = [];\n        if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n            ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (this.isVertical) ? 0 : this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            if (this.isVertical) {\n                popup.element.style.visibility = 'hidden';\n            }\n            if (this.isExtendedOpen) {\n                var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n                popupNav.classList.add(CLS_TBARNAVACT);\n                classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n                this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n            }\n            else {\n                popup.hide();\n            }\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            if (isOpen) {\n                this.add(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n            else {\n                this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        if (!this.isVertical) {\n            popObj.offsetY = this.getElementOffsetY();\n            popObj.dataBind();\n        }\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (!this.isVertical && ((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n        else if (this.isVertical) {\n            var tbEleData = this.element.getBoundingClientRect();\n            setStyle(popObj.element, { maxHeight: (tbEleData.top + this.element.offsetHeight) + 'px', bottom: 0, visibility: '' });\n        }\n        if (popObj) {\n            var popupOffset = popupEle.getBoundingClientRect();\n            if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n                popObj.collision = { Y: 'none' };\n                popObj.dataBind();\n            }\n            popObj.refreshPosition();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var eleOffset;\n        var checkoffset;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = void 0;\n            var compuStyle = window.getComputedStyle(inEle[i]);\n            if (this.isVertical) {\n                mrgn = parseFloat((compuStyle).marginTop);\n                mrgn += parseFloat((compuStyle).marginBottom);\n            }\n            else {\n                mrgn = parseFloat((compuStyle).marginRight);\n                mrgn += parseFloat((compuStyle).marginLeft);\n            }\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n            var eleWid_1 = fstEleCheck ? (eleOffset + mrgn) : eleOffset;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                if (this.isVertical) {\n                    setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                }\n                else {\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                }\n                itemPopCount++;\n            }\n            if (this.isVertical) {\n                checkoffset = (inEle[i].offsetTop + inEle[i].offsetHeight + mrgn) > eleWidth;\n            }\n            else {\n                checkoffset = (inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth;\n            }\n            if (checkoffset) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    if (this.isVertical) {\n                        setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                    }\n                    else {\n                        setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    }\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        nav.setAttribute('role', 'list');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var isVer = this.isVertical;\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var dimension;\n        if (isVer) {\n            dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n        }\n        else {\n            dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        }\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth)) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(dimension, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n            btn.style.minWidth = '';\n            btn.style.minHeight = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                setStyle(el, { minWidth: '', height: '', minHeight: '' });\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        var margin;\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            var trgClass = (this.isVertical) ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n            innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        if (this.isVertical) {\n            margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n        }\n        else {\n            margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        }\n        var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth);\n            var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n            innerItem[2].removeAttribute('style');\n            if (this.isVertical) {\n                if (this.enableRtl) {\n                    innerItem[2].style.top = popWid;\n                }\n                else {\n                    innerItem[2].style.bottom = popWid;\n                }\n            }\n            else {\n                if (this.enableRtl) {\n                    innerItem[2].style.left = popWid;\n                }\n                else {\n                    innerItem[2].style.right = popWid;\n                }\n            }\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = ((!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value) + 'px';\n        if (this.isVertical) {\n            if (this.enableRtl) {\n                innerItem[1].style.marginBottom = mrgn;\n            }\n            else {\n                innerItem[1].style.marginTop = mrgn;\n            }\n        }\n        else {\n            if (this.enableRtl) {\n                innerItem[1].style.marginRight = mrgn;\n            }\n            else {\n                innerItem[1].style.marginLeft = mrgn;\n            }\n        }\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var items = this.items;\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            var itemEleDom = void 0;\n            if (ele && ele.children.length > 0) {\n                itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n            }\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            this.itemsAlign(items, itemEleDom);\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            if (keyVal === 'class') {\n                this.add(element, attr[keyVal]);\n            }\n            else {\n                element.setAttribute(keyVal, attr[keyVal]);\n            }\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns {void}.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        var ele;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (!isNOU(len) && len >= 1) {\n            for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n                var itemElement = element[a];\n                if (typeof (itemElement) === 'number') {\n                    ele = this.getElementByIndex(itemElement);\n                    if (isNOU(ele)) {\n                        return;\n                    }\n                    else {\n                        elements[a] = ele;\n                    }\n                }\n                else {\n                    ele = itemElement;\n                }\n                enable(isEnable, ele);\n            }\n            if (isEnable) {\n                removeClass(elements, CLS_DISABLE);\n            }\n            else {\n                addClass(elements, CLS_DISABLE);\n            }\n        }\n        else {\n            if (typeof (elements) === 'number') {\n                ele = this.getElementByIndex(elements);\n                if (isNOU(ele)) {\n                    return;\n                }\n            }\n            else {\n                ele = items;\n            }\n            enable(isEnable, ele);\n        }\n    };\n    Toolbar.prototype.getElementByIndex = function (index) {\n        if (this.tbarEle[index]) {\n            return this.tbarEle[index];\n        }\n        return null;\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     *\n     * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        this.extendedOpen();\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     *\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns {void}.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            if (this.isReact) {\n                this.clearTemplate();\n            }\n            var btnItem = innerItems[index].querySelector('.e-control.e-btn');\n            if (!isNOU(btnItem) && !isNOU(btnItem.ej2_instances[0]) && !(btnItem.ej2_instances[0].isDestroyed)) {\n                btnItem.ej2_instances[0].destroy();\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                var toolbarTemplateID = this.element.id + index + '_template';\n                tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            if (item.id) {\n                ele.id = item.id;\n            }\n            else {\n                ele.id = getUniqueID('tbr-ipt');\n            }\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        if (item.id) {\n            dom.id = item.id;\n        }\n        else {\n            dom.id = getUniqueID('e-tbr-btn');\n        }\n        var btnTxt = this.createElement('span', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var dom;\n        var innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        var tempDom = this.createElement('div', {\n            innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n        });\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    dom.setAttribute('aria-label', (item.text || item.tooltipText));\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        if (item.disabled) {\n            this.add(innerEle, CLS_DISABLE);\n        }\n        if (item.visible === false) {\n            this.add(innerEle, CLS_HIDDEN);\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - Returns the module name as string.\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyScroll();\n            var multirowele = ele.querySelector('.' + CLS_ITEMS);\n            if (!isNOU(multirowele)) {\n                this.remove(multirowele, CLS_MULTIROWPOS);\n                if (this.tbarAlign) {\n                    this.add(multirowele, CLS_TBARPOS);\n                }\n            }\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        if (this.element.querySelector('.' + CLS_HSCROLLBAR)) {\n            this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR).offsetWidth;\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    Toolbar.prototype.extendedOpen = function () {\n        var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n        if (this.overflowMode === 'Extended' && sib) {\n            this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {ToolbarModel} newProp - It contains new value of the data.\n     * @param  {ToolbarModel} oldProp - It contains old value of the data.\n     * @returns {void}\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        var wid = tEle.offsetWidth;\n        this.extendedOpen();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (typeof newProperty !== 'function') {\n                                if (this.tbarAlign || property === 'align') {\n                                    this.refresh();\n                                    this.trigger('created');\n                                    break;\n                                }\n                                var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                                var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                                if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                    --this.popupPriCount;\n                                }\n                                if (isNOU(this.scrollModule)) {\n                                    this.destroyMode();\n                                }\n                                var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                                if (this.isReact) {\n                                    this.clearTemplate();\n                                }\n                                detach(itemCol[index]);\n                                this.tbarEle.splice(index, 1);\n                                this.addItems([this.items[index]], index);\n                                this.items.splice(index, 1);\n                                if (this.items[index].template) {\n                                    this.tbarEle.splice(this.items.length, 1);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    else {\n                        this.remove(tEle, CLS_RTL);\n                    }\n                    if (!isNOU(this.scrollModule)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.scrollModule.element, CLS_RTL);\n                        }\n                        else {\n                            this.remove(this.scrollModule.element, CLS_RTL);\n                        }\n                    }\n                    if (!isNOU(this.popObj)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.popObj.element, CLS_RTL);\n                        }\n                        else {\n                            this.remove(this.popObj.element, CLS_RTL);\n                        }\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.scrollModule) {\n                        this.scrollModule.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'enableCollision':\n                    if (this.popObj) {\n                        this.popObj.collision = { Y: this.enableCollision ? 'flip' : 'none' };\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'allowKeyboard':\n                    this.unwireKeyboardEvent();\n                    if (newProp.allowKeyboard) {\n                        this.wireKeyboardEvent();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     *\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns {void}.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        var isElement = (typeof (index) === 'object') ? true : false;\n        var eleIndex = index;\n        var initIndex;\n        var ele;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (isElement) {\n            ele = index;\n        }\n        else if (this.tbarEle[eleIndex]) {\n            var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            ele = innerItems_1[eleIndex];\n        }\n        if (ele) {\n            if (value) {\n                ele.classList.add(CLS_HIDDEN);\n            }\n            else {\n                ele.classList.remove(CLS_HIDDEN);\n            }\n            if (value && isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                if (isNOU(ele.firstElementChild.getAttribute('tabindex'))) {\n                    ele.firstElementChild.setAttribute('tabindex', '-1');\n                    var innerItems_2 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n                    if (isElement) {\n                        eleIndex = innerItems_2.indexOf(ele);\n                    }\n                    var nextEle = innerItems_2[++eleIndex];\n                    while (nextEle) {\n                        var skipEle = this.eleContains(nextEle);\n                        if (!skipEle) {\n                            nextEle.firstElementChild.removeAttribute('tabindex');\n                            break;\n                        }\n                        nextEle = innerItems_2[++eleIndex];\n                    }\n                }\n            }\n            else if (isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                initIndex = 0;\n                var setFlag = false;\n                var removeFlag = false;\n                var initELe = innerItems[initIndex];\n                while (initELe) {\n                    if (!initELe.classList.contains(CLS_SEPARATOR)) {\n                        if (isNOU(initELe.firstElementChild.getAttribute('tabindex'))) {\n                            initELe.firstElementChild.setAttribute('tabindex', '-1');\n                            setFlag = true;\n                        }\n                        else {\n                            if (setFlag && removeFlag) {\n                                break;\n                            }\n                            var skipEle = this.eleContains(initELe);\n                            if (!skipEle) {\n                                initELe.firstElementChild.removeAttribute('tabindex');\n                                removeFlag = true;\n                            }\n                            initELe = innerItems[++initIndex];\n                        }\n                    }\n                    else {\n                        initELe = innerItems[++initIndex];\n                    }\n                }\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Toolbar.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property()\n    ], Toolbar.prototype, \"scrollStep\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableCollision\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, extend, deleteObject, Property, addClass, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @param {Object} props - Specifies the properties\n * @param {string[]} model - Specifies the model\n * @returns {Object} Component Model\n */\nexport function getModel(props, model) {\n    var obj = extend({}, props);\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        if ((model).indexOf(prop) < 0) {\n            deleteObject(obj, prop);\n        }\n    }\n    return obj;\n}\n/** @hidden\n * @param {HTMLElement} ul - Specifies the UL element\n * @param {number} keyCode - Specifies the keycode\n * @returns {void}\n */\nexport function upDownKeyHandler(ul, keyCode) {\n    var defaultIdx = keyCode === 40 ? 0 : ul.childElementCount - 1;\n    var liIdx = defaultIdx;\n    var li;\n    var selectedLi = ul.querySelector('.e-selected');\n    if (selectedLi) {\n        selectedLi.classList.remove('e-selected');\n    }\n    for (var i = 0, len = ul.children.length; i < len; i++) {\n        if (ul.children[i].classList.contains('e-focused')) {\n            li = ul.children[i];\n            liIdx = i;\n            li.classList.remove('e-focused');\n            if (keyCode === 40) {\n                liIdx++;\n            }\n            else {\n                liIdx--;\n            }\n            if (liIdx === (keyCode === 40 ? ul.childElementCount : -1)) {\n                liIdx = defaultIdx;\n            }\n        }\n    }\n    li = ul.children[liIdx];\n    liIdx = isValidLI(ul, li, liIdx, keyCode);\n    if (liIdx !== -1) {\n        addClass([ul.children[liIdx]], 'e-focused');\n        ul.children[liIdx].focus();\n    }\n}\n/**\n * Get Valid LI element\n *\n * @param {HTMLElement} ul - Specifies the UL element\n * @param {Element} li - Specifies the LI element\n * @param {number} index - Specifies the index\n * @param {number} keyCode - Specifies the keycode\n * @param {number} count - Specifies the count\n * @returns {number} - Index\n */\nfunction isValidLI(ul, li, index, keyCode, count) {\n    if (count === void 0) { count = 0; }\n    if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n        if (index === (keyCode === 40 ? ul.childElementCount - 1 : 0)) {\n            index = keyCode === 40 ? 0 : ul.childElementCount - 1;\n        }\n        else {\n            if (keyCode === 40) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n    }\n    li = ul.children[index];\n    if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n        count++;\n        if (count === ul.childElementCount) {\n            return index = -1;\n        }\n        index = isValidLI(ul, li, index, keyCode, count);\n    }\n    return index;\n}\n/** @hidden\n * @param {HTMLElement} popup - Specifies the popup element.\n * @returns {void}\n */\nexport function setBlankIconStyle(popup) {\n    var blankIconList = [].slice.call(popup.getElementsByClassName('e-blank-icon'));\n    if (!blankIconList.length) {\n        return;\n    }\n    var iconLi = popup.querySelector('.e-item:not(.e-blank-icon):not(.e-separator)');\n    if (isNullOrUndefined(iconLi)) {\n        return;\n    }\n    if (iconLi.classList.contains('e-url')) {\n        iconLi = iconLi.querySelector('.e-menu-url');\n    }\n    var icon = iconLi.querySelector('.e-menu-icon');\n    var cssProp;\n    var enableRtl = popup.classList.contains('e-rtl');\n    if (enableRtl) {\n        cssProp = { padding: 'paddingRight', margin: 'marginLeft' };\n    }\n    else {\n        cssProp = { padding: 'paddingLeft', margin: 'marginRight' };\n    }\n    /* eslint-disable */\n    var size = parseInt(getComputedStyle(icon).fontSize, 10) + parseInt((enableRtl ? getComputedStyle(icon)[cssProp.margin] : getComputedStyle(icon)[cssProp.margin]), 10)\n        + parseInt(getComputedStyle(iconLi).paddingLeft, 10) + \"px\";\n    blankIconList.forEach(function (li) {\n        if (li.classList.contains('e-url')) {\n            li.querySelector('.e-menu-url').style[cssProp.padding] = size;\n        }\n        else {\n            li.style[cssProp.padding] = size;\n        }\n    });\n    /* eslint-enable */\n}\n/**\n * Defines the items of Split Button/DropDownButton.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"separator\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"url\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Collection, Event, NotifyPropertyChanges, detach, Property, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, getUniqueID, rippleEffect, getComponent } from '@syncfusion/ej2-base';\nimport { attributes, Component, closest, select, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { classList, removeClass } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { upDownKeyHandler } from './../common/common';\nimport { getModel, Item, setBlankIconStyle } from './../common/common';\nvar classNames = {\n    DISABLED: 'e-disabled',\n    FOCUS: 'e-focused',\n    ICON: 'e-menu-icon',\n    ITEM: 'e-item',\n    POPUP: 'e-dropdown-popup',\n    RTL: 'e-rtl',\n    SEPARATOR: 'e-separator',\n    VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ```html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar DropDownButton = /** @class */ (function (_super) {\n    __extends(DropDownButton, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {DropDownButtonModel} options - Specifies dropdown button model\n     * @param  {string|HTMLButtonElement} element - Specifies element\n     * @hidden\n     */\n    function DropDownButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isPopupCreated = true;\n        return _this;\n    }\n    DropDownButton.prototype.preRender = function () {\n        /** */\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    DropDownButton.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @returns {void}\n     */\n    DropDownButton.prototype.toggle = function () {\n        if (this.canOpen()) {\n            this.openPopUp();\n        }\n        else {\n            this.closePopup();\n        }\n    };\n    /**\n     * Initialize the Component rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.renderComplete();\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     *\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n    DropDownButton.prototype.addItems = function (items, text) {\n        var newItem;\n        var idx = this.items.length;\n        for (var j = 0, len = this.items.length; j < len; j++) {\n            if (text === this.items[j].text) {\n                idx = j;\n                break;\n            }\n        }\n        for (var i = items.length - 1; i >= 0; i--) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            newItem = new Item(this, 'items', items[i], true);\n            this.items.splice(idx, 0, newItem);\n        }\n        if (!this.canOpen()) {\n            this.createItems();\n        }\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @param { string } isUniqueId - Set `true` if specified items is a collection of unique id.\n     * @returns {void}.\n     */\n    DropDownButton.prototype.removeItems = function (items, isUniqueId) {\n        var refresh = false;\n        for (var i = 0, len = items.length; i < len; i++) {\n            for (var j = 0, len_1 = this.items.length; j < len_1; j++) {\n                if (items[i] === (isUniqueId ? this.items[j].id : this.items[j].text)) {\n                    this.items.splice(j, 1);\n                    refresh = true;\n                    break;\n                }\n            }\n        }\n        if (refresh && this.getULElement()) {\n            this.createItems();\n        }\n    };\n    DropDownButton.prototype.createPopup = function () {\n        var _a;\n        var div = this.createElement('div', {\n            className: classNames.POPUP,\n            id: this.element.id + '-popup'\n        });\n        document.body.appendChild(div);\n        this.dropDown = new Popup(div, {\n            relateTo: this.element,\n            collision: { X: 'fit', Y: 'flip' },\n            position: { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            content: this.target ? this.getTargetElement() : '',\n            enableRtl: this.enableRtl\n        });\n        if (this.dropDown.element.style.position === 'fixed') {\n            this.dropDown.refreshPosition(this.element);\n        }\n        this.dropDown.hide();\n        attributes(this.element, (_a = {},\n            _a['aria-haspopup'] = this.items.length || this.target ? 'true' : 'false',\n            _a['aria-expanded'] = 'false',\n            _a['aria-owns'] = this.getPopUpElement().id,\n            _a['type'] = 'button',\n            _a['aria-label'] = this.element.textContent + ' dropdownbutton',\n            _a));\n        if (this.cssClass) {\n            addClass([div], this.cssClass.split(' '));\n        }\n        this.isPopupCreated = true;\n    };\n    DropDownButton.prototype.getTargetElement = function () {\n        return typeof (this.target) === 'string' ? select(this.target) : this.target;\n    };\n    DropDownButton.prototype.createItems = function (appendItems) {\n        var items = this.items;\n        var showIcon = this.hasIcon(this.items, 'iconCss');\n        var span;\n        var item;\n        var li;\n        var eventArgs;\n        var ul = this.getULElement();\n        if (ul) {\n            ul.innerHTML = '';\n        }\n        else {\n            ul = this.createElement('ul', {\n                attrs: { 'role': 'menu', 'tabindex': '0' }\n            });\n        }\n        for (var i = 0; i < items.length; i++) {\n            item = items[i];\n            var tempItem = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n            li = this.createElement('li', {\n                innerHTML: item.url ? '' : tempItem,\n                className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n                attrs: { 'role': 'menuItem', 'tabindex': '-1' },\n                id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n            });\n            if (item.url) {\n                li.appendChild(this.createAnchor(item));\n                li.classList.add('e-url');\n            }\n            if (item.iconCss) {\n                span = this.createElement('span', { className: classNames.ICON + ' ' + item.iconCss });\n                if (item.url) {\n                    li.childNodes[0].appendChild(span);\n                }\n                else {\n                    li.insertBefore(span, li.childNodes[0]);\n                }\n            }\n            else {\n                if (showIcon && !item.separator) {\n                    li.classList.add('e-blank-icon');\n                }\n            }\n            if (item.disabled) {\n                li.classList.add('e-disabled');\n            }\n            eventArgs = { item: item, element: li };\n            this.trigger('beforeItemRender', eventArgs);\n            ul.appendChild(li);\n        }\n        if (appendItems) {\n            this.getPopUpElement().appendChild(ul);\n        }\n        if (showIcon) {\n            setBlankIconStyle(this.getPopUpElement());\n        }\n    };\n    DropDownButton.prototype.hasIcon = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    DropDownButton.prototype.createAnchor = function (item) {\n        var tempItem = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n        return this.createElement('a', { className: 'e-menu-text e-menu-url', innerHTML: tempItem, attrs: { 'href': item.url } });\n    };\n    DropDownButton.prototype.initialize = function () {\n        this.button = new Button({\n            iconCss: this.iconCss, iconPosition: this.iconPosition, cssClass: this.cssClass, content: this.content,\n            disabled: this.disabled, enableRtl: this.enableRtl, enablePersistence: this.enablePersistence\n        });\n        this.button.createElement = this.createElement;\n        this.button.appendTo(this.element);\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        this.appendArrowSpan();\n        this.setActiveElem([this.element]);\n        if ((this.target && !this.isColorPicker()) || !this.createPopupOnClick) {\n            this.createPopup();\n        }\n        else {\n            this.isPopupCreated = false;\n        }\n    };\n    DropDownButton.prototype.isColorPicker = function () {\n        if (!this.element) {\n            return false;\n        }\n        var prevElem = this.element.previousSibling;\n        if (prevElem && prevElem.classList && prevElem.classList.contains('e-split-colorpicker')) {\n            return true;\n        }\n        return false;\n    };\n    DropDownButton.prototype.appendArrowSpan = function () {\n        this.element.appendChild(this.createElement('span', {\n            className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1\n                ? 'bottom' : 'right') + ' e-caret'\n        }));\n    };\n    DropDownButton.prototype.setActiveElem = function (elem) {\n        this.activeElem = elem;\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    DropDownButton.prototype.getModuleName = function () {\n        return 'dropdown-btn';\n    };\n    DropDownButton.prototype.canOpen = function () {\n        var val = false;\n        if (this.isPopupCreated) {\n            val = this.getPopUpElement().classList.contains('e-popup-close');\n        }\n        return val;\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    DropDownButton.prototype.destroy = function () {\n        var _this = this;\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'dropdown-btn') {\n            var classList_1;\n            if (this.element.querySelector('span.e-caret')) {\n                detach(this.element.querySelector('span.e-caret'));\n            }\n            if (this.cssClass) {\n                classList_1 = this.cssClass.split(' ');\n            }\n            this.button.destroy();\n            if (classList_1) {\n                removeClass([this.element], classList_1);\n            }\n            removeClass(this.activeElem, ['e-active']);\n            var attrList = this.element.getAttribute('class') ? ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type']\n                : ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type', 'class'];\n            attrList.forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n            this.popupUnWireEvents();\n            this.destroyPopup();\n            this.isPopupCreated = false;\n            if (!this.disabled) {\n                this.unWireEvents();\n            }\n        }\n    };\n    DropDownButton.prototype.destroyPopup = function () {\n        if (this.isPopupCreated) {\n            this.dropDown.destroy();\n            if (this.getPopUpElement()) {\n                var popupEle = document.getElementById(this.getPopUpElement().id);\n                if (popupEle) {\n                    removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n                    detach(popupEle);\n                }\n            }\n            EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n            EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n            if (this.isPopupCreated) {\n                this.dropDown = undefined;\n            }\n        }\n        this.isPopupCreated = false;\n    };\n    DropDownButton.prototype.getPopUpElement = function () {\n        var val = null;\n        if (this.dropDown) {\n            val = this.dropDown.element;\n        }\n        return val;\n    };\n    DropDownButton.prototype.getULElement = function () {\n        var val = null;\n        if (this.getPopUpElement()) {\n            val = this.getPopUpElement().children[0];\n        }\n        return val;\n    };\n    DropDownButton.prototype.wireEvents = function () {\n        this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n        if (!this.createPopupOnClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        }\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n    };\n    DropDownButton.prototype.popupWireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        if (this.createPopupOnClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        }\n        if (popupElement) {\n            EventHandler.add(popupElement, 'click', this.clickHandler, this);\n            EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n        }\n        this.rippleFn = rippleEffect(popupElement, { selector: '.' + classNames.ITEM });\n    };\n    DropDownButton.prototype.popupUnWireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        if (this.createPopupOnClick) {\n            EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        }\n        if (popupElement && popupElement.parentElement) {\n            EventHandler.remove(popupElement, 'click', this.clickHandler);\n            EventHandler.remove(popupElement, 'keydown', this.keyBoardHandler);\n        }\n    };\n    /**\n     * Handles the keyboard interactions.\n     *\n     * @param {KeyboardEventArgs} e - Specifies keyboard event args.\n     * @returns {void}\n     * @hidden\n     */\n    DropDownButton.prototype.keyBoardHandler = function (e) {\n        if (e.target === this.element && (e.keyCode === 9 || (!e.altKey && e.keyCode === 40) || e.keyCode === 38)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 38:\n            case 40:\n                if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n                    this.keyEventHandler(e);\n                }\n                else {\n                    this.upDownKeyHandler(e);\n                }\n                break;\n            case 9:\n            case 13:\n            case 27:\n            case 32:\n                this.keyEventHandler(e);\n                break;\n        }\n    };\n    DropDownButton.prototype.upDownKeyHandler = function (e) {\n        if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        e.preventDefault();\n        upDownKeyHandler(this.getULElement(), e.keyCode);\n    };\n    DropDownButton.prototype.keyEventHandler = function (e) {\n        if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n            return;\n        }\n        if (e.target && e.target.className.indexOf('e-edit-template') > -1 && e.keyCode === 32) {\n            return;\n        }\n        if (e.keyCode !== 9) {\n            e.preventDefault();\n        }\n        if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n            if (!this.canOpen()) {\n                this.closePopup(e, this.element);\n            }\n        }\n        else {\n            this.clickHandler(e);\n        }\n    };\n    DropDownButton.prototype.getLI = function (elem) {\n        return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    };\n    DropDownButton.prototype.mousedownHandler = function (e) {\n        var trgt = e.target;\n        if (this.dropDown && !this.canOpen() && !(closest(trgt, '[id=\"' + this.getPopUpElement().id + '\"]')\n            || closest(trgt, '[id=\"' + this.element.id + '\"]'))) {\n            this.closePopup(e);\n        }\n    };\n    DropDownButton.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        if (closest(trgt, '[id=\"' + this.element.id + '\"]')) {\n            if (!this.createPopupOnClick || (this.target && !this.isColorPicker())) {\n                if (this.getPopUpElement().classList.contains('e-popup-close')) {\n                    this.openPopUp(e);\n                }\n                else {\n                    this.closePopup(e);\n                }\n            }\n            else if (this.isPopupCreated) {\n                this.closePopup(e, this.activeElem[0]);\n            }\n            else {\n                this.createPopup();\n                this.openPopUp(e);\n            }\n        }\n        else {\n            if (closest(trgt, '[id=\"' + this.getPopUpElement().id + '\"]')) {\n                var eventArgs = void 0;\n                var liIdx = void 0;\n                var item = void 0;\n                var li = this.getLI(trgt);\n                if (li) {\n                    liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n                    item = this.items[liIdx];\n                    if (item) {\n                        eventArgs = { element: li, item: item };\n                        this.trigger('select', eventArgs);\n                    }\n                    this.closePopup(e, this.activeElem[0]);\n                }\n            }\n        }\n    };\n    DropDownButton.prototype.openPopUp = function (e) {\n        var _this = this;\n        if (e === void 0) { e = null; }\n        var isReact = false;\n        var popupElem = this.getPopUpElement();\n        if (!this.target) {\n            this.createItems(true);\n        }\n        else {\n            if (this.activeElem.length > 1) {\n                var splitButton = getComponent(this.activeElem[0], 'split-btn');\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (splitButton.isReact && popupElem.childNodes.length < 1) {\n                    isReact = true;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    splitButton.appendReactElement(this.getTargetElement(), this.getPopUpElement());\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (this.isReact && popupElem.childNodes.length < 1) {\n                    isReact = true;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.appendReactElement(this.getTargetElement(), this.getPopUpElement());\n                }\n            }\n        }\n        var ul = this.getULElement();\n        this.popupWireEvents();\n        var beforeOpenArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                var ul_1 = _this.getULElement();\n                _this.dropDown.show(null, _this.element);\n                addClass([_this.element], 'e-active');\n                _this.element.setAttribute('aria-expanded', 'true');\n                ul_1.focus();\n                var openArgs = { element: ul_1, items: _this.items };\n                _this.trigger('open', openArgs);\n            }\n        });\n    };\n    DropDownButton.prototype.closePopup = function (e, focusEle) {\n        var _this = this;\n        if (e === void 0) { e = null; }\n        var ul = this.getULElement();\n        var beforeCloseArgs = { element: ul, items: this.items, event: e, cancel: false };\n        var popupElement = this.getPopUpElement();\n        if (popupElement) {\n            EventHandler.remove(popupElement, 'keydown', this.keyBoardHandler);\n        }\n        this.trigger('beforeClose', beforeCloseArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.popupUnWireEvents();\n                var ul_2 = _this.getULElement();\n                var selectedLi = ul_2.querySelector('.e-selected');\n                if (selectedLi) {\n                    selectedLi.classList.remove('e-selected');\n                }\n                _this.dropDown.hide();\n                removeClass(_this.activeElem, 'e-active');\n                _this.element.setAttribute('aria-expanded', 'false');\n                if (focusEle) {\n                    focusEle.focus();\n                }\n                var closeArgs = { element: ul_2, items: _this.items };\n                _this.trigger('close', closeArgs);\n                if (!_this.target && ul_2) {\n                    detach(ul_2);\n                }\n                if (!_this.target || _this.isColorPicker()) {\n                    if (_this.createPopupOnClick) {\n                        _this.destroyPopup();\n                    }\n                }\n                if (_this.target) {\n                    _this.isPopupCreated = _this.createPopupOnClick ? false : true;\n                }\n            }\n        });\n    };\n    DropDownButton.prototype.unWireEvents = function () {\n        if (!this.createPopupOnClick) {\n            EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        }\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n        if (this.isPopupCreated) {\n            EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n            EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {DropDownButtonModel} newProp - Specifies new properties\n     * @param  {DropDownButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    DropDownButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var btnModel = ['content', 'cssClass', 'iconCss', 'iconPosition', 'disabled', 'enableRtl'];\n        this.button.setProperties(getModel(newProp, btnModel));\n        var popupElement;\n        if (this.isPopupCreated) {\n            popupElement = this.getPopUpElement();\n            this.dropDown.setProperties(getModel(newProp, ['enableRtl']));\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!this.element.querySelector('span.e-caret')) {\n                        this.appendArrowSpan();\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.unWireEvents();\n                        if (this.isPopupCreated && !this.canOpen()) {\n                            this.closePopup();\n                        }\n                    }\n                    else {\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n                        var arrowSpan = this.element.querySelector('span.e-caret');\n                        classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n                    }\n                    if (this.isPopupCreated) {\n                        if (oldProp.cssClass) {\n                            removeClass([popupElement], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([popupElement], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'target':\n                    this.dropDown.content = this.getTargetElement();\n                    this.dropDown.dataBind();\n                    break;\n                case 'items':\n                    if (this.isPopupCreated && this.getULElement()) {\n                        this.createItems();\n                    }\n                    break;\n                case 'createPopupOnClick':\n                    if (newProp.createPopupOnClick) {\n                        this.destroyPopup();\n                    }\n                    else {\n                        this.createPopup();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Sets the focus to DropDownButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    DropDownButton.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], DropDownButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], DropDownButton.prototype, \"items\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"created\", void 0);\n    DropDownButton = __decorate([\n        NotifyPropertyChanges\n    ], DropDownButton);\n    return DropDownButton;\n}(Component));\nexport { DropDownButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\nimport { Event, remove, addClass, removeClass, detach, getValue, setValue } from '@syncfusion/ej2-base';\nimport { EventHandler, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { attributes, getUniqueID, getInstance, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getModel, Item } from './../common/common';\nimport { DropDownButton } from '../drop-down-button/drop-down-button';\nvar RTL = 'e-rtl';\nvar TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {SplitButtonModel} options - Specifies the splitbutton model\n     * @param  {string|HTMLButtonElement} element - Specifies the element\n     * @hidden\n     */\n    function SplitButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize Angular support.\n     *\n     * @private\n     * @returns {void}\n     */\n    SplitButton.prototype.preRender = function () {\n        var ele = this.element;\n        if (ele.tagName === TAGNAME) {\n            var ejInstance = getValue('ej2_instances', ele);\n            var btn = this.createElement('button', { attrs: { 'type': 'button' } });\n            var wrapper = this.createElement(TAGNAME, { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = btn;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.wrapper = wrapper;\n            this.element = ele;\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the Component rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    SplitButton.prototype.render = function () {\n        this.initWrapper();\n        this.createPrimaryButton();\n        this.renderControl();\n    };\n    SplitButton.prototype.renderControl = function () {\n        this.createSecondaryButton();\n        this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n        this.setAria();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     *\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n    SplitButton.prototype.addItems = function (items, text) {\n        _super.prototype.addItems.call(this, items, text);\n        this.secondaryBtnObj.items = this.items;\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @param { string } isUniqueId - Set `true` if specified items is a collection of unique id.\n     * @returns {void}.\n     */\n    SplitButton.prototype.removeItems = function (items, isUniqueId) {\n        _super.prototype.removeItems.call(this, items, isUniqueId);\n        this.secondaryBtnObj.items = this.items;\n    };\n    SplitButton.prototype.initWrapper = function () {\n        if (!this.wrapper) {\n            this.wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            this.element.parentNode.insertBefore(this.wrapper, this.element);\n        }\n        this.element.classList.remove('e-' + this.getModuleName());\n        if (this.enableRtl) {\n            this.wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([this.wrapper], this.cssClass.split(' '));\n        }\n    };\n    SplitButton.prototype.createPrimaryButton = function () {\n        var btnModel = {\n            cssClass: this.cssClass,\n            enableRtl: this.enableRtl,\n            iconCss: this.iconCss,\n            iconPosition: this.iconPosition,\n            content: this.content,\n            disabled: this.disabled\n        };\n        this.primaryBtnObj = new Button(btnModel);\n        this.primaryBtnObj.createElement = this.createElement;\n        this.primaryBtnObj.appendTo(this.element);\n        this.element.classList.add('e-' + this.getModuleName());\n        this.element.type = 'button';\n        this.wrapper.appendChild(this.element);\n    };\n    SplitButton.prototype.createSecondaryButton = function () {\n        var _this = this;\n        var btnElem = this.createElement('button', {\n            className: 'e-icon-btn',\n            attrs: { 'tabindex': '-1' },\n            id: this.element.id + '_dropdownbtn'\n        });\n        this.wrapper.appendChild(btnElem);\n        var dropDownBtnModel = {\n            cssClass: this.cssClass,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            items: this.items,\n            target: this.target,\n            createPopupOnClick: this.createPopupOnClick\n        };\n        dropDownBtnModel.beforeItemRender = function (args) {\n            if (_this.createPopupOnClick) {\n                _this.secondaryBtnObj.dropDown.relateTo = _this.wrapper;\n                _this.dropDown = _this.secondaryBtnObj.dropDown;\n            }\n            _this.trigger('beforeItemRender', args);\n        };\n        dropDownBtnModel.open = function (args) {\n            _this.trigger('open', args);\n        };\n        dropDownBtnModel.close = function (args) {\n            _this.trigger('close', args);\n        };\n        dropDownBtnModel.select = function (args) {\n            _this.trigger('select', args);\n        };\n        dropDownBtnModel.beforeOpen = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeOpen', args, function (observedArgs) {\n                callBackPromise.resolve(observedArgs);\n            });\n            return callBackPromise;\n        };\n        dropDownBtnModel.beforeClose = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeClose', args, function (observedArgs) {\n                callBackPromise.resolve(observedArgs);\n            });\n            return callBackPromise;\n        };\n        this.secondaryBtnObj = new DropDownButton(dropDownBtnModel);\n        this.secondaryBtnObj.createElement = this.createElement;\n        this.secondaryBtnObj.appendTo(btnElem);\n        if (!this.createPopupOnClick) {\n            this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n            this.dropDown = this.secondaryBtnObj.dropDown;\n        }\n        this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n        this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    };\n    SplitButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'aria-expanded': 'false', 'aria-haspopup': 'true',\n            'aria-label': this.element.textContent + ' splitbutton', 'aria-owns': this.element.id + '_dropdownbtn-popup'\n        });\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    SplitButton.prototype.getModuleName = function () {\n        return 'split-btn';\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @returns {void}\n     */\n    SplitButton.prototype.toggle = function () {\n        this.secondaryBtnObj.toggle();\n    };\n    SplitButton.prototype.destroy = function () {\n        var _this = this;\n        var classList = [RTL];\n        if (this.cssClass) {\n            classList = classList.concat(this.cssClass.split(' '));\n        }\n        if (this.element) {\n            var element = document.getElementById(this.element.id);\n            if (element && element.parentElement === this.wrapper) {\n                if (this.wrapper.tagName === TAGNAME) {\n                    this.wrapper.innerHTML = '';\n                    removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n                    removeClass([this.wrapper], this.cssClass.split(' '));\n                }\n                else {\n                    removeClass([this.element], classList);\n                    ['aria-label', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n                        _this.element.removeAttribute(key);\n                    });\n                    this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n                    remove(this.wrapper);\n                }\n                this.unWireEvents();\n            }\n        }\n        this.primaryBtnObj.destroy();\n        this.secondaryBtnObj.destroy();\n        _super.prototype.destroy.call(this);\n        if (!this.element.getAttribute('class')) {\n            this.element.removeAttribute('class');\n        }\n    };\n    SplitButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n        new KeyboardEvents(this.element, {\n            keyAction: this.btnKeyBoardHandler.bind(this),\n            keyConfigs: {\n                altdownarrow: 'alt+downarrow'\n            }\n        });\n    };\n    SplitButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n        getInstance(this.element, KeyboardEvents).destroy();\n    };\n    SplitButton.prototype.primaryBtnClickHandler = function () {\n        this.trigger('click', { element: this.element });\n    };\n    SplitButton.prototype.btnKeyBoardHandler = function (e) {\n        switch (e.action) {\n            case 'altdownarrow':\n                this.clickHandler(e);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {SplitButtonModel} newProp - Specifies new properties\n     * @param  {SplitButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n    SplitButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var model = ['content', 'iconCss', 'iconPosition', 'cssClass', 'disabled', 'enableRtl'];\n        this.primaryBtnObj.setProperties(getModel(newProp, model));\n        model = ['beforeOpen', 'beforeItemRender', 'select', 'open',\n            'close', 'cssClass', 'disabled', 'enableRtl', 'createPopupOnClick'];\n        if (Object.keys(newProp).indexOf('items') > -1) {\n            this.secondaryBtnObj.items = newProp.items;\n            this.secondaryBtnObj.dataBind();\n        }\n        this.secondaryBtnObj.setProperties(getModel(newProp, model));\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.wrapper], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.wrapper], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        addClass([this.wrapper], RTL);\n                    }\n                    else {\n                        removeClass([this.wrapper], RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Sets the focus to SplitButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    SplitButton.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], SplitButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], SplitButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"created\", void 0);\n    SplitButton = __decorate([\n        NotifyPropertyChanges\n    ], SplitButton);\n    return SplitButton;\n}(DropDownButton));\nexport { SplitButton };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit, select, selectAll } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /* eslint-enable */\n    /**\n     * Constructor for creating the Tooltip Component\n     *\n     * @param {TooltipModel} options - specifies the options for the constructor\n     * @param {string| HTMLElement} element - specifies the element for the constructor\n     *\n     */\n    function Tooltip(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseMoveEvent = null;\n        _this.mouseMoveTarget = null;\n        _this.containerElement = null;\n        _this.isBodyContainer = true;\n        return _this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        var _a, _b;\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.tooltipEle.classList.remove(POPUP_LIB);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: { X: elePos.left, Y: elePos.top },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'block';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n        var collisionLeft = collisionPosition[0];\n        var collisionTop = collisionPosition[1];\n        var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n        this.tooltipEle.style.display = '';\n        return elePos;\n    };\n    Tooltip.prototype.windowResize = function () {\n        this.reposition(this.findTarget());\n    };\n    Tooltip.prototype.reposition = function (target) {\n        if (this.popupObj && target) {\n            var elePos = this.getTooltipPosition(target);\n            this.popupObj.position = { X: elePos.left, Y: elePos.top };\n            this.popupObj.dataBind();\n        }\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        if (!this.mouseTrail && this.needTemplateReposition()) {\n            this.reposition(this.findTarget());\n        }\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clearTemplate(['content']);\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        this.tooltipEle.style.display = 'block';\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        this.tooltipEle.style.display = '';\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            if (target) {\n                var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n                if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                    leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n                }\n                else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                    leftValue = POINTER_ADJUST + 'px';\n                }\n                else {\n                    leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n                }\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n        if (this.cssClass) {\n            addClass([this.tooltipEle], this.cssClass.split(' '));\n        }\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                if (this.enableHtmlSanitizer) {\n                    this.setProperties({ content: SanitizeHtmlHelper.sanitize(this.content) }, true);\n                }\n                tooltipContent[this.enableHtmlParse ? 'innerHTML' : 'textContent'] = this.content;\n            }\n            else {\n                // eslint-disable-next-line\n                var templateFunction = compile(this.content);\n                var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    append(tempArr, tooltipContent);\n                }\n                this.renderReactTemplates();\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        // eslint-disable-next-line\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || (target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0)) {\n            return;\n        }\n        var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n    };\n    Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n        this.mouseMoveEvent = e;\n    };\n    Tooltip.prototype.mouseMoveBeforeRemove = function () {\n        if (this.mouseMoveTarget) {\n            EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n        }\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        if (this.openDelay && this.mouseTrail) {\n            this.mouseMoveBeforeRemove();\n            this.mouseMoveTarget = target;\n            EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // eslint-disable-next-line\n        var observeCallback = function (beforeRenderArgs) {\n            _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n        };\n        this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n    };\n    Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n        if (beforeRenderArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n        }\n        else {\n            this.isHidden = false;\n            if (isNullOrUndefined(this.tooltipEle)) {\n                this.ctrlId = this.element.getAttribute('id') ?\n                    getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n                this.tooltipEle = this.createElement('div', {\n                    className: TOOLTIP_WRAP + ' ' + POPUP_ROOT + ' ' + POPUP_LIB, attrs: {\n                        role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                    }, styles: 'width:' +\n                        formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n                });\n                this.tooltipBeforeRender(target, this);\n                this.tooltipAfterRender(target, e, showAnimation, this);\n            }\n            else {\n                if (target) {\n                    this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n                    this.addDescribedBy(target, this.ctrlId + '_content');\n                    this.renderContent(target);\n                    PopupAnimation.stop(this.tooltipEle);\n                    this.reposition(target);\n                    this.tooltipAfterRender(target, e, showAnimation, this);\n                }\n            }\n        }\n    };\n    Tooltip.prototype.appendContainer = function (ctrlObj) {\n        if (typeof this.container == 'string') {\n            if (this.container === 'body') {\n                this.containerElement = document.body;\n            }\n            else {\n                this.isBodyContainer = false;\n                this.containerElement = select(this.container, document);\n            }\n        }\n        else if (this.container instanceof HTMLElement) {\n            this.containerElement = this.container;\n            this.isBodyContainer = this.containerElement.tagName === 'BODY';\n        }\n        if (!this.isBodyContainer) {\n            addClass([this.containerElement], POPUP_CONTAINER);\n        }\n        this.containerElement.appendChild(ctrlObj.tooltipEle);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n        if (target) {\n            if (Browser.isDevice) {\n                addClass([ctrlObj.tooltipEle], DEVICE);\n            }\n            if (ctrlObj.width !== 'auto') {\n                ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n            }\n            ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', { className: CONTENT }));\n            this.appendContainer(ctrlObj);\n            removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n            ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n            ctrlObj.renderContent(target);\n            addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            if (ctrlObj.showTipPointer) {\n                ctrlObj.renderArrow();\n            }\n            ctrlObj.renderCloseIcon();\n            ctrlObj.renderPopup(target);\n            ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n            PopupAnimation.stop(ctrlObj.tooltipEle);\n            ctrlObj.reposition(target);\n        }\n    };\n    Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n        if (target) {\n            removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n            ctrlObj.tooltipEventArgs = {\n                type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n                element: ctrlObj.tooltipEle, isInteracted: !isNullOrUndefined(e)\n            };\n            if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n                ctrlObj.tooltipEle.style.display = 'none';\n            }\n            // eslint-disable-next-line\n            var observeCallback = function (observedArgs) {\n                ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n            };\n            ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n        }\n    };\n    Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n        var _this = this;\n        if (observedArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n            this.restoreElement(target);\n        }\n        else {\n            // eslint-disable-next-line\n            var openAnimation_1 = {\n                name: showAnimation.effect,\n                duration: showAnimation.duration,\n                delay: showAnimation.delay,\n                timingFunction: 'easeOut'\n            };\n            if (showAnimation.effect === 'None') {\n                openAnimation_1 = undefined;\n            }\n            if (this.openDelay > 0) {\n                // eslint-disable-next-line\n                var show = function () {\n                    if (_this.mouseTrail) {\n                        EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n                    }\n                    if (_this.popupObj) {\n                        _this.popupObj.show(openAnimation_1, target);\n                        if (_this.mouseMoveEvent && _this.mouseTrail) {\n                            _this.onMouseMove(_this.mouseMoveEvent);\n                        }\n                    }\n                };\n                this.showTimer = setTimeout(show, this.openDelay);\n            }\n            else {\n                if (this.popupObj) {\n                    this.popupObj.show(openAnimation_1, target);\n                }\n            }\n        }\n        if (e) {\n            this.wireMouseEvents(e, target);\n        }\n    };\n    Tooltip.prototype.needTemplateReposition = function () {\n        // eslint-disable-next-line\n        var tooltip = this;\n        return !isNullOrUndefined(tooltip.viewContainerRef)\n            && typeof tooltip.viewContainerRef !== 'string';\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n        return [this.isBodyContainer ? pos.left + offsetPos.left :\n                (pos.left - this.containerElement.offsetLeft) + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft,\n            this.isBodyContainer ? pos.top + offsetPos.top :\n                (pos.top - this.containerElement.offsetTop) + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        var elePosVertical = elePos.vertical;\n        var elePosHorizontal = elePos.horizontal;\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n            offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n            elePos.position = newpos;\n            var elePosition = this.calculateElementPosition(pos, offsetPos);\n            elePos.left = elePosition[0];\n            elePos.top = elePosition[1];\n        }\n        else {\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = this.isBodyContainer ?\n            fit(this.tooltipEle, this.checkCollideTarget(), { X: true, Y: false }, eleOffset).left : eleOffset.left;\n        this.tooltipEle.style.display = 'block';\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        this.tooltipEle.style.display = '';\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n        return ((positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n            (positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * offsetType) : 0;\n    };\n    Tooltip.prototype.checkCollideTarget = function () {\n        return !this.windowCollision && this.target ? this.element : null;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        if (this.closeDelay > 0) {\n            clearTimeout(this.hideTimer);\n            clearTimeout(this.showTimer);\n            // eslint-disable-next-line\n            var hide = function () {\n                if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n                    return;\n                }\n                _this.tooltipHide(hideAnimation, e, targetElement);\n            };\n            this.hideTimer = setTimeout(hide, this.closeDelay);\n        }\n        else {\n            this.tooltipHide(hideAnimation, e, targetElement);\n        }\n    };\n    Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n        }\n        else {\n            target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // this line commented for close the tooltip popup element even the target element destroyed in a page.\n        //if (isNullOrUndefined(target)) { return; }\n        this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.mouseMoveBeforeRemove();\n                _this.popupHide(hideAnimation, target);\n            }\n            else {\n                _this.isHidden = false;\n            }\n        });\n    };\n    Tooltip.prototype.popupHide = function (hideAnimation, target) {\n        if (target) {\n            this.restoreElement(target);\n        }\n        this.isHidden = true;\n        // eslint-disable-next-line\n        var closeAnimation = {\n            name: hideAnimation.effect,\n            duration: hideAnimation.duration,\n            delay: hideAnimation.delay,\n            timingFunction: 'easeIn'\n        };\n        if (hideAnimation.effect === 'None') {\n            closeAnimation = undefined;\n        }\n        if (this.popupObj) {\n            this.popupObj.hide(closeAnimation);\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.tooltipHover = function (e) {\n        if (this.tooltipEle) {\n            this.isTooltipOpen = true;\n        }\n    };\n    Tooltip.prototype.tooltipMouseOut = function (e) {\n        this.isTooltipOpen = false;\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        var enteredElement = e.relatedTarget;\n        // don't close the tooltip only if it is tooltip content element\n        if (enteredElement && !this.mouseTrail) {\n            var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT);\n            if (checkForTooltipElement) {\n                EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n            }\n            else {\n                this.hideTooltip(this.animation.close, e, this.findTarget());\n                if (this.closeDelay === 0) {\n                    this.clear();\n                }\n            }\n        }\n        else {\n            this.hideTooltip(this.animation.close, e, this.findTarget());\n            this.clear();\n        }\n    };\n    Tooltip.prototype.tooltipElementMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n        EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n        this.clear();\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null && !this.isSticky) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            if (!(closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT))) {\n                this.close();\n            }\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n        this.renderComplete();\n    };\n    /**\n     * Initializes the values of private members.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     *\n     * @hidden\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n                if (this.closeDelay) {\n                    EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n                    EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n                }\n            }\n            if (this.mouseTrail && this.openDelay === 0) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     *\n     * @hidden\n     *\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n            if (this.closeDelay) {\n                EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n                EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns persisted data.\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @private\n     *\n     * @param {TooltipModel} newProp - this param gives new property values to the method\n     * @param {TooltipModel} oldProp - this param gives old property values to the method\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n                case 'container':\n                    if (!isNullOrUndefined(this.containerElement)) {\n                        removeClass([this.containerElement], POPUP_CONTAINER);\n                    }\n                    this.container = newProp.container;\n                    if (this.tooltipEle && targetElement) {\n                        this.appendContainer(this);\n                        this.reposition(targetElement);\n                    }\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     *\n     * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (isNullOrUndefined(animation)) {\n            animation = this.animation.open;\n        }\n        if (isNullOrUndefined(element)) {\n            element = this.element;\n        }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     *\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (!animation) {\n            animation = this.animation.close;\n        }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     *\n     * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n     * @returns {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @returns {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        this.unwireMouseEvents(this.element);\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('body')\n    ], Tooltip.prototype, \"container\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"enableHtmlParse\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"windowCollision\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\nvar NUMERIC_FOCUS = 'e-input-focus';\nvar HIDDENELEMENT = 'e-numeric-hidden';\nvar wrapperAttributes = ['title', 'style', 'class'];\n/**\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\n * ```html\n * <input type='text' id=\"numeric\"/>\n * ```\n * ```typescript\n * <script>\n *   var numericObj = new NumericTextBox({ value: 10 });\n *   numericObj.appendTo(\"#numeric\");\n * </script>\n * ```\n */\nvar NumericTextBox = /** @class */ (function (_super) {\n    __extends(NumericTextBox, _super);\n    /**\n     *\n     * @param {NumericTextBoxModel} options - Specifies the NumericTextBox model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function NumericTextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isVue = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isDynamicChange = false;\n        _this.numericOptions = options;\n        return _this;\n    }\n    NumericTextBox.prototype.preRender = function () {\n        this.isPrevFocused = false;\n        this.decimalSeparator = '.';\n        // eslint-disable-next-line no-useless-escape\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n        this.isCalled = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT, 'e-lib']);\n        this.angularTagName = null;\n        this.formEle = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (attributeName !== 'id') {\n                    input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                    input.innerHTML = this.element.innerHTML;\n                }\n            }\n            if (this.element.hasAttribute('name')) {\n                this.element.removeAttribute('name');\n            }\n            this.element.classList.remove('e-control', 'e-numerictextbox');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\n        var localeText = {\n            incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: this.placeholder\n        };\n        this.l10n = new L10n('numerictextbox', localeText, this.locale);\n        if (this.l10n.getConstant('placeholder') !== '') {\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        this.isValidState = true;\n        this.inputStyle = null;\n        this.inputName = null;\n        this.cultureInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.prevValue = this.value;\n        this.updateHTMLAttrToElement();\n        this.checkAttributes(false);\n        if (this.formEle) {\n            this.inputEleValue = this.value;\n        }\n        this.validateMinMax();\n        this.validateStep();\n        if (this.placeholder === null) {\n            this.updatePlaceholder();\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    NumericTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            this.createWrapper();\n            if (this.showSpinButton) {\n                this.spinBtnCreation();\n            }\n            this.setElementWidth(this.width);\n            if (!this.container.classList.contains('e-input-group')) {\n                this.container.classList.add('e-input-group');\n            }\n            this.changeValue(this.value === null || isNaN(this.value) ?\n                null : this.strictMode ? this.trimValue(this.value) : this.value);\n            this.wireEvents();\n            if (this.value !== null && !isNaN(this.value)) {\n                if (this.decimals) {\n                    this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\n                }\n            }\n            if (this.element.getAttribute('value') || this.value) {\n                this.element.setAttribute('value', this.element.value);\n                this.hiddenInput.setAttribute('value', this.hiddenInput.value);\n            }\n            this.elementPrevValue = this.element.value;\n            if (this.element.hasAttribute('data-val')) {\n                this.element.setAttribute('data-val', 'false');\n            }\n            this.renderComplete();\n        }\n    };\n    NumericTextBox.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name', 'placeholder'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.element.getAttribute(prop) === 'disabled' || this.element.getAttribute(prop) === ''\n                                || this.element.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.element.getAttribute(prop) === 'readonly' || this.element.getAttribute(prop) === ''\n                                || this.element.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.element.placeholder }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['value'] === undefined)) || isDynamic) {\n                            var setNumber = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            this.setProperties(setValue(prop, setNumber, {}), !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['min'] === undefined)) || isDynamic) {\n                            var minValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (minValue !== null && !isNaN(minValue)) {\n                                this.setProperties(setValue(prop, minValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['max'] === undefined)) || isDynamic) {\n                            var maxValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (maxValue !== null && !isNaN(maxValue)) {\n                                this.setProperties(setValue(prop, maxValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'step':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['step'] === undefined)) || isDynamic) {\n                            var stepValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (stepValue !== null && !isNaN(stepValue)) {\n                                this.setProperties(setValue(prop, stepValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.element.getAttribute(prop);\n                        break;\n                    case 'name':\n                        this.inputName = this.element.getAttribute(prop);\n                        break;\n                    default:\n                        {\n                            var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if ((value !== null && !isNaN(value)) || (prop === 'value')) {\n                                this.setProperties(setValue(prop, value, {}), true);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updatePlaceholder = function () {\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n    };\n    NumericTextBox.prototype.initCultureFunc = function () {\n        this.instance = new Internationalization(this.locale);\n    };\n    NumericTextBox.prototype.initCultureInfo = function () {\n        this.cultureInfo.format = this.format;\n        if (getValue('currency', this) !== null) {\n            setValue('currency', this.currency, this.cultureInfo);\n            this.setProperties({ currencyCode: this.currency }, true);\n        }\n    };\n    /* Wrapper creation */\n    NumericTextBox.prototype.createWrapper = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = this.getNumericValidClassList(this.cssClass);\n        }\n        var inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n                enabled: this.enabled\n            }\n        }, this.createElement);\n        this.inputWrapper = inputObj;\n        this.container = inputObj.container;\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n        this.updateHTMLAttrToWrapper();\n        if (this.readonly) {\n            attributes(this.element, { 'aria-readonly': 'true' });\n        }\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'text',\n                'validateHidden': 'true', 'class': HIDDENELEMENT } }));\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n        this.element.removeAttribute('name');\n        attributes(this.hiddenInput, { 'name': this.inputName });\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n        this.updateDataAttribute(false);\n        if (this.inputStyle !== null) {\n            attributes(this.container, { 'style': this.inputStyle });\n        }\n    };\n    NumericTextBox.prototype.updateDataAttribute = function (isDynamic) {\n        var attr = {};\n        if (!isDynamic) {\n            for (var a = 0; a < this.element.attributes.length; a++) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        else {\n            attr = this.htmlAttributes;\n        }\n        for (var _i = 0, _a = Object.keys(attr); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key.indexOf('data') === 0) {\n                this.hiddenInput.setAttribute(key, attr[key]);\n            }\n        }\n    };\n    NumericTextBox.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttributes.indexOf(pro) < 0) {\n                    this.element.setAttribute(pro, this.htmlAttributes[pro]);\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updateCssClass = function (newClass, oldClass) {\n        Input.setCssClass(this.getNumericValidClassList(newClass), [this.container], this.getNumericValidClassList(oldClass));\n    };\n    NumericTextBox.prototype.getNumericValidClassList = function (numericClassName) {\n        var result = numericClassName;\n        if (!isNullOrUndefined(numericClassName) && numericClassName !== '') {\n            result = (numericClassName.replace(/\\s+/g, ' ')).trim();\n        }\n        return result;\n    };\n    NumericTextBox.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttributes.indexOf(pro) > -1) {\n                    if (pro === 'class') {\n                        var updatedClassValue = this.getNumericValidClassList(this.htmlAttributes[pro]);\n                        if (updatedClassValue !== '') {\n                            addClass([this.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (pro === 'style') {\n                        var numericStyle = this.container.getAttribute(pro);\n                        numericStyle = !isNullOrUndefined(numericStyle) ? (numericStyle + this.htmlAttributes[pro]) :\n                            this.htmlAttributes[pro];\n                        this.container.setAttribute(pro, numericStyle);\n                    }\n                    else {\n                        this.container.setAttribute(pro, this.htmlAttributes[pro]);\n                    }\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.setElementWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    /* Spinner creation */\n    NumericTextBox.prototype.spinBtnCreation = function () {\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n        attributes(this.spinDown, {\n            'title': this.l10n.getConstant('decrementTitle'),\n            'aria-label': this.l10n.getConstant('decrementTitle')\n        });\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n        attributes(this.spinUp, {\n            'title': this.l10n.getConstant('incrementTitle'),\n            'aria-label': this.l10n.getConstant('incrementTitle')\n        });\n        this.wireSpinBtnEvents();\n    };\n    NumericTextBox.prototype.validateMinMax = function () {\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\n        }\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\n            this.setProperties({ max: Number.MAX_VALUE }, true);\n        }\n        if (this.decimals !== null) {\n            if (this.min !== -(Number.MAX_VALUE)) {\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\n            }\n            if (this.max !== (Number.MAX_VALUE)) {\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\n            }\n        }\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\n    };\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals, useGrouping: false\n        })(value);\n    };\n    NumericTextBox.prototype.validateStep = function () {\n        if (this.decimals !== null) {\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\n        }\n    };\n    NumericTextBox.prototype.action = function (operation, event) {\n        this.isInteract = true;\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\n        this.changeValue(this.performAction(value, this.step, operation));\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.checkErrorClass = function () {\n        if (this.isValidState) {\n            removeClass([this.container], ERROR);\n        }\n        else {\n            addClass([this.container], ERROR);\n        }\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    NumericTextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    NumericTextBox.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide')) || this.inputWrapper.container.classList.contains('e-static-clear')) {\n            this.clear(e);\n        }\n        this.isInteract = true;\n        this.raiseChangeEvent(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NumericTextBox.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.setElementValue('');\n        this.hiddenInput.value = '';\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.resetFormHandler = function () {\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.updateValue(null);\n        }\n        else {\n            this.updateValue(this.inputEleValue);\n        }\n    };\n    NumericTextBox.prototype.setSpinButton = function () {\n        if (!isNullOrUndefined(this.spinDown)) {\n            attributes(this.spinDown, {\n                'title': this.l10n.getConstant('decrementTitle'),\n                'aria-label': this.l10n.getConstant('decrementTitle')\n            });\n        }\n        if (!isNullOrUndefined(this.spinUp)) {\n            attributes(this.spinUp, {\n                'title': this.l10n.getConstant('incrementTitle'),\n                'aria-label': this.l10n.getConstant('incrementTitle')\n            });\n        }\n    };\n    NumericTextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n            if (this.formEle) {\n                EventHandler.add(this.formEle, 'reset', this.resetFormHandler, this);\n            }\n        }\n    };\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\n        /* bind spin button events */\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    };\n    NumericTextBox.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\n        if (this.formEle) {\n            EventHandler.remove(this.formEle, 'reset', this.resetFormHandler);\n        }\n    };\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n        /* unbind spin button events */\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    };\n    NumericTextBox.prototype.changeHandler = function (event) {\n        event.stopPropagation();\n        if (!this.element.value.length) {\n            this.setProperties({ value: null }, true);\n        }\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        this.updateValue(parsedInput, event);\n    };\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\n        if (this.prevValue !== this.value) {\n            var eventArgs = {};\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteracted: this.isInteract,\n                isInteraction: this.isInteract, event: event };\n            if (event) {\n                this.changeEventArgs.event = event;\n            }\n            if (this.changeEventArgs.event === undefined) {\n                this.changeEventArgs.isInteracted = false;\n                this.changeEventArgs.isInteraction = false;\n            }\n            merge(eventArgs, this.changeEventArgs);\n            this.prevValue = this.value;\n            this.isInteract = false;\n            this.elementPrevValue = this.element.value;\n            this.preventChange = false;\n            this.trigger('change', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.pasteHandler = function () {\n        var _this = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var beforeUpdate = this.element.value;\n        setTimeout(function () {\n            if (!_this.numericRegex().test(_this.element.value)) {\n                _this.setElementValue(beforeUpdate);\n            }\n        });\n    };\n    NumericTextBox.prototype.preventHandler = function () {\n        var _this = this;\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        setTimeout(function () {\n            if (_this.element.selectionStart > 0) {\n                var currentPos = _this.element.selectionStart;\n                var prevPos = _this.element.selectionStart - 1;\n                var start = 0;\n                var valArray = _this.element.value.split('');\n                var numericObject = getNumericObject(_this.locale);\n                var decimalSeparator = getValue('decimal', numericObject);\n                var ignoreKeyCode = decimalSeparator.charCodeAt(0);\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n                    if (isNullOrUndefined(_this.prevVal)) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    else if (prevPos !== 0) {\n                        _this.element.value = _this.prevVal;\n                    }\n                    else if (prevPos === 0) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    _this.element.setSelectionRange(prevPos, prevPos);\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\n                            && _this.element.value.length) {\n                            _this.preventHandler();\n                        }\n                    }\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\n                        _this.cursorPosChanged = true;\n                        _this.preventHandler();\n                    }\n                }\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n                    _this.cursorPosChanged = false;\n                    _this.nextEle = null;\n                }\n                if (_this.element.value.trim() === '') {\n                    _this.element.setSelectionRange(start, start);\n                }\n                if (_this.element.selectionStart > 0) {\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\n                        if (isNullOrUndefined(_this.prevVal)) {\n                            // eslint-disable-next-line no-self-assign\n                            _this.element.value = _this.element.value;\n                        }\n                        else {\n                            _this.element.value = _this.prevVal;\n                        }\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n                    }\n                    if (_this.element.value[_this.element.selectionStart - 1] === decimalSeparator && _this.decimals === 0 && _this.validateDecimalOnType) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                    }\n                }\n                _this.prevVal = _this.element.value;\n            }\n        });\n    };\n    NumericTextBox.prototype.keyUpHandler = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        if (!iOS && Browser.isDevice) {\n            this.preventHandler();\n        }\n        var parseValue = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        parseValue = parseValue === null || isNaN(parseValue) ? null : parseValue;\n        this.hiddenInput.value = parseValue || parseValue === 0 ? parseValue.toString() : null;\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.inputHandler = function (event) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-this-alias\n        var numerictextboxObj = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        if ((fireFox || iOS) && Browser.isDevice) {\n            this.preventHandler();\n        }\n        /* istanbul ignore next */\n        if (this.isAngular\n            && this.element.value !== getValue('decimal', getNumericObject(this.locale))\n            && this.element.value !== getValue('minusSign', getNumericObject(this.locale))) {\n            var parsedValue = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            parsedValue = isNaN(parsedValue) ? null : parsedValue;\n            numerictextboxObj.localChange({ value: parsedValue });\n            this.preventChange = true;\n        }\n        if (this.isVue) {\n            var current = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            var previous = this.instance.getNumberParser({ format: 'n' })(this.elementPrevValue);\n            //EJ2-54963-if type \".\" or \".0\" or \"-.0\" it converts to \"0\" automatically when binding v-model\n            var nonZeroRegex = new RegExp('[^1-9]+$');\n            if (nonZeroRegex.test(this.element.value)) {\n                current = this.value;\n            }\n            var eventArgs = {\n                event: event,\n                value: (current === null || isNaN(current) ? null : current),\n                previousValue: (previous === null || isNaN(previous) ? null : previous)\n            };\n            this.preventChange = true;\n            this.elementPrevValue = this.element.value;\n            this.trigger('input', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.keyDownHandler = function (event) {\n        if (!this.readonly) {\n            switch (event.keyCode) {\n                case 38:\n                    event.preventDefault();\n                    this.action(INCREMENT, event);\n                    break;\n                case 40:\n                    event.preventDefault();\n                    this.action(DECREMENT, event);\n                    break;\n                default: break;\n            }\n        }\n    };\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\n        if (value === null || isNaN(value)) {\n            value = 0;\n        }\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\n        updatedValue = this.correctRounding(value, step, updatedValue);\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n    };\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\n        var floatExp = new RegExp('[,.](.*)');\n        var floatValue = floatExp.test(value.toString());\n        var floatStep = floatExp.test(step.toString());\n        if (floatValue || floatStep) {\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n            var max = Math.max(valueCount, stepCount);\n            return value = this.roundValue(result, max);\n        }\n        return result;\n    };\n    NumericTextBox.prototype.roundValue = function (result, precision) {\n        precision = precision || 0;\n        var divide = Math.pow(10, precision);\n        return result *= divide, result = Math.round(result) / divide;\n    };\n    NumericTextBox.prototype.updateValue = function (value, event) {\n        if (event) {\n            this.isInteract = true;\n        }\n        if (value !== null && !isNaN(value)) {\n            if (this.decimals) {\n                value = this.roundNumber(value, this.decimals);\n            }\n        }\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n        /* istanbul ignore next */\n        if (!this.isDynamicChange) {\n            this.raiseChangeEvent(event);\n        }\n    };\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n        setValue(prop, propVal, this.cultureInfo);\n        this.updateValue(this.value);\n    };\n    NumericTextBox.prototype.changeValue = function (value) {\n        if (!(value || value === 0)) {\n            value = null;\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            var numberOfDecimals = this.getNumberOfDecimals(value);\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\n        }\n        this.modifyText();\n        if (!this.strictMode) {\n            this.validateState();\n        }\n    };\n    NumericTextBox.prototype.modifyText = function () {\n        if (this.value || this.value === 0) {\n            var value = this.formatNumber();\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n            this.setElementValue(elementValue);\n            attributes(this.element, { 'aria-valuenow': value });\n            this.hiddenInput.value = this.value.toString();\n            if (this.value !== null && this.serverDecimalSeparator) {\n                this.hiddenInput.value = this.hiddenInput.value.replace('.', this.serverDecimalSeparator);\n            }\n        }\n        else {\n            this.setElementValue('');\n            this.element.removeAttribute('aria-valuenow');\n            this.hiddenInput.value = null;\n        }\n    };\n    NumericTextBox.prototype.setElementValue = function (val, element) {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    };\n    NumericTextBox.prototype.validateState = function () {\n        this.isValidState = true;\n        if (this.value || this.value === 0) {\n            this.isValidState = !(this.value > this.max || this.value < this.min);\n        }\n        this.checkErrorClass();\n    };\n    NumericTextBox.prototype.getNumberOfDecimals = function (value) {\n        var numberOfDecimals;\n        // eslint-disable-next-line no-useless-escape\n        var EXPREGEXP = new RegExp('[eE][\\-+]?([0-9]+)');\n        var valueString = value.toString();\n        if (EXPREGEXP.test(valueString)) {\n            var result = EXPREGEXP.exec(valueString);\n            if (!isNullOrUndefined(result)) {\n                valueString = value.toFixed(Math.min(parseInt(result[1], 10), 20));\n            }\n        }\n        var decimalPart = valueString.split('.')[1];\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        if (this.decimals !== null) {\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n        }\n        return numberOfDecimals;\n    };\n    NumericTextBox.prototype.formatNumber = function () {\n        var numberOfDecimals = this.getNumberOfDecimals(this.value);\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(this.value);\n    };\n    NumericTextBox.prototype.trimValue = function (value) {\n        if (value > this.max) {\n            return this.max;\n        }\n        if (value < this.min) {\n            return this.min;\n        }\n        return value;\n    };\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\n        var result = value;\n        var decimals = precision || 0;\n        var result1 = result.toString().split('e');\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\n        var result2 = result.toString().split('e');\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\n        return Number(result.toFixed(decimals));\n    };\n    NumericTextBox.prototype.cancelEvent = function (event) {\n        event.preventDefault();\n        return false;\n    };\n    NumericTextBox.prototype.keyPressHandler = function (event) {\n        if (!this.enabled || this.readonly) {\n            return true;\n        }\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput, event);\n            return true;\n        }\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n            return true;\n        }\n        var currentChar = String.fromCharCode(event.which);\n        var text = this.element.value;\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n        if (!this.numericRegex().test(text)) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    NumericTextBox.prototype.numericRegex = function () {\n        var numericObject = getNumericObject(this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        var fractionRule = '*';\n        if (decimalSeparator === DECIMALSEPARATOR) {\n            decimalSeparator = '\\\\' + decimalSeparator;\n        }\n        if (this.decimals === 0 && this.validateDecimalOnType) {\n            return INTREGEXP;\n        }\n        if (this.decimals && this.validateDecimalOnType) {\n            fractionRule = '{0,' + this.decimals + '}';\n        }\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n    };\n    NumericTextBox.prototype.mouseWheel = function (event) {\n        event.preventDefault();\n        var delta;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var rawEvent = event;\n        if (rawEvent.wheelDelta) {\n            delta = rawEvent.wheelDelta / 120;\n        }\n        else if (rawEvent.detail) {\n            delta = -rawEvent.detail / 3;\n        }\n        if (delta > 0) {\n            this.action(INCREMENT, event);\n        }\n        else if (delta < 0) {\n            this.action(DECREMENT, event);\n        }\n        this.cancelEvent(event);\n    };\n    NumericTextBox.prototype.focusHandler = function (event) {\n        var _this = this;\n        this.focusEventArgs = { event: event, value: this.value, container: this.container };\n        this.trigger('focus', this.focusEventArgs);\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.isFocused = true;\n        removeClass([this.container], ERROR);\n        this.prevValue = this.value;\n        if ((this.value || this.value === 0)) {\n            var formatValue_1 = this.formatNumber();\n            this.setElementValue(formatValue_1);\n            if (!this.isPrevFocused) {\n                if (!Browser.isDevice && Browser.info.version === '11.0') {\n                    this.element.setSelectionRange(0, formatValue_1.length);\n                }\n                else {\n                    var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\n                    setTimeout(function () {\n                        _this.element.setSelectionRange(0, formatValue_1.length);\n                    }, delay);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n        }\n    };\n    NumericTextBox.prototype.focusOutHandler = function (event) {\n        var _this = this;\n        this.blurEventArgs = { event: event, value: this.value, container: this.container };\n        this.trigger('blur', this.blurEventArgs);\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isPrevFocused) {\n            event.preventDefault();\n            if (Browser.isDevice) {\n                var value_1 = this.element.value;\n                this.element.focus();\n                this.isPrevFocused = false;\n                var ele_1 = this.element;\n                setTimeout(function () {\n                    _this.setElementValue(value_1, ele_1);\n                }, 200);\n            }\n        }\n        else {\n            this.isFocused = false;\n            if (!this.element.value.length) {\n                this.setProperties({ value: null }, true);\n            }\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n            }\n        }\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var focusEvent = document.createEvent('FocusEvent');\n            focusEvent.initEvent('focusout', false, true);\n            element.dispatchEvent(focusEvent);\n        }\n    };\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n        var _this = this;\n        if (this.isFocused) {\n            this.isPrevFocused = true;\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var result = this.getElementData(event);\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n        this.timeOut = setInterval(function () {\n            _this.isCalled = true;\n            _this.action(action, event);\n        }, 150);\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n    };\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n        var target;\n        if (event.type === \"touchmove\") {\n            var touchEvent = event.touches;\n            target = touchEvent.length && document.elementFromPoint(touchEvent[0].pageX, touchEvent[0].pageY);\n        }\n        else {\n            target = document.elementFromPoint(event.clientX, event.clientY);\n        }\n        if (!(target.classList.contains(SPINICON))) {\n            clearInterval(this.timeOut);\n        }\n    };\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n        this.prevValue = this.value;\n        if (this.isPrevFocused) {\n            this.element.focus();\n            if (!Browser.isDevice) {\n                this.isPrevFocused = false;\n            }\n        }\n        if (!Browser.isDevice) {\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n        if (!this.isCalled) {\n            this.action(action, event);\n        }\n        this.isCalled = false;\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.getElementData = function (event) {\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\n            || !this.enabled || this.readonly) {\n            return false;\n        }\n        clearInterval(this.timeOut);\n        return true;\n    };\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n        Input.removeFloating(this.inputWrapper);\n        var hiddenInput = this.hiddenInput;\n        this.hiddenInput.remove();\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n    };\n    NumericTextBox.prototype.mouseUpClick = function (event) {\n        event.stopPropagation();\n        clearInterval(this.timeOut);\n        this.isCalled = false;\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n    };\n    /**\n     * Increments the NumericTextBox value with the specified step value.\n     *\n     * @param {number} step - Specifies the value used to increment the NumericTextBox value.\n     * if its not given then numeric value will be incremented based on the step property value.\n     * @returns {void}\n     */\n    NumericTextBox.prototype.increment = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Decrements the NumericTextBox value with specified step value.\n     *\n     * @param {number} step - Specifies the value used to decrement the NumericTextBox value.\n     * if its not given then numeric value will be decremented based on the step property value.\n     * @returns {void}\n     */\n    NumericTextBox.prototype.decrement = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    NumericTextBox.prototype.destroy = function () {\n        this.unwireEvents();\n        detach(this.hiddenInput);\n        if (this.showSpinButton) {\n            this.unwireSpinBtnEvents();\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n        var attrArray = ['aria-labelledby', 'role', 'autocomplete', 'aria-readonly',\n            'autocorrect', 'aria-disabled', 'aria-placeholder', 'autocapitalize',\n            'spellcheck', 'aria-autocomplete', 'tabindex', 'aria-valuemin',\n            'aria-valuemax', 'aria-live', 'aria-valuenow', 'aria-invalid'];\n        for (var i = 0; i < attrArray.length; i++) {\n            this.element.removeAttribute(attrArray[i]);\n        }\n        this.element.classList.remove('e-input');\n        this.container.insertAdjacentElement('afterend', this.element);\n        detach(this.container);\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\n     *\n     */\n    NumericTextBox.prototype.getText = function () {\n        return this.element.value;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    NumericTextBox.prototype.focusIn = function () {\n        if (document.activeElement !== this.element && this.enabled) {\n            this.element.focus();\n            addClass([this.container], [NUMERIC_FOCUS]);\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    NumericTextBox.prototype.focusOut = function () {\n        if (document.activeElement === this.element && this.enabled) {\n            this.element.blur();\n            removeClass([this.container], [NUMERIC_FOCUS]);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     */\n    NumericTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Calls internally if any of the property value is changed.\n     *\n     * @param {NumericTextBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {NumericTextBoxModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.element);\n                    if (this.readonly) {\n                        attributes(this.element, { 'aria-readonly': 'true' });\n                    }\n                    else {\n                        this.element.removeAttribute('aria-readonly');\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttrToElement();\n                    this.updateHTMLAttrToWrapper();\n                    this.updateDataAttribute(true);\n                    this.checkAttributes(true);\n                    Input.validateInputType(this.container, this.element);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.element);\n                    break;\n                case 'step':\n                    this.step = newProp.step;\n                    this.validateStep();\n                    break;\n                case 'showSpinButton':\n                    this.updateSpinButton(newProp);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    this.floatLabelTypeUpdate();\n                    break;\n                case 'value':\n                    this.isDynamicChange = (this.isAngular || this.isVue) && this.preventChange;\n                    this.updateValue(newProp.value);\n                    if (this.isDynamicChange) {\n                        this.preventChange = false;\n                        this.isDynamicChange = false;\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.validateMinMax();\n                    this.updateValue(this.value);\n                    break;\n                case 'strictMode':\n                    this.strictMode = newProp.strictMode;\n                    this.updateValue(this.value);\n                    this.validateState();\n                    break;\n                case 'locale':\n                    this.initCultureFunc();\n                    this.l10n.setLocale(this.locale);\n                    this.setSpinButton();\n                    this.updatePlaceholder();\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    this.updateValue(this.value);\n                    break;\n                case 'currency':\n                    {\n                        var propVal = getValue(prop, newProp);\n                        this.setProperties({ currencyCode: propVal }, true);\n                        this.updateCurrency(prop, propVal);\n                    }\n                    break;\n                case 'currencyCode':\n                    {\n                        var propValue = getValue(prop, newProp);\n                        this.setProperties({ currency: propValue }, true);\n                        this.updateCurrency('currency', propValue);\n                    }\n                    break;\n                case 'format':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.initCultureInfo();\n                    this.updateValue(this.value);\n                    break;\n                case 'decimals':\n                    this.decimals = newProp.decimals;\n                    this.updateValue(this.value);\n            }\n        }\n    };\n    NumericTextBox.prototype.updateClearButton = function (newProp) {\n        Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n        this.bindClearEvent();\n    };\n    NumericTextBox.prototype.updateSpinButton = function (newProp) {\n        if (newProp.showSpinButton) {\n            this.spinBtnCreation();\n        }\n        else {\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n    };\n    /**\n     * Gets the component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    NumericTextBox.prototype.getModuleName = function () {\n        return 'numerictextbox';\n    };\n    __decorate([\n        Property('')\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(-(Number.MAX_VALUE))\n    ], NumericTextBox.prototype, \"min\", void 0);\n    __decorate([\n        Property(Number.MAX_VALUE)\n    ], NumericTextBox.prototype, \"max\", void 0);\n    __decorate([\n        Property(1)\n    ], NumericTextBox.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property({})\n    ], NumericTextBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('n2')\n    ], NumericTextBox.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"decimals\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currency\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n    __decorate([\n        Property('Never')\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"blur\", void 0);\n    NumericTextBox = __decorate([\n        NotifyPropertyChanges\n    ], NumericTextBox);\n    return NumericTextBox;\n}(Component));\nexport { NumericTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Tooltip, getZindexPartial } from '@syncfusion/ej2-popups';\n/**\n * Configures the ticks data of the Slider.\n */\nvar TicksData = /** @class */ (function (_super) {\n    __extends(TicksData, _super);\n    function TicksData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('None')\n    ], TicksData.prototype, \"placement\", void 0);\n    __decorate([\n        Property(10)\n    ], TicksData.prototype, \"largeStep\", void 0);\n    __decorate([\n        Property(1)\n    ], TicksData.prototype, \"smallStep\", void 0);\n    __decorate([\n        Property(false)\n    ], TicksData.prototype, \"showSmallTicks\", void 0);\n    __decorate([\n        Property(null)\n    ], TicksData.prototype, \"format\", void 0);\n    return TicksData;\n}(ChildProperty));\nexport { TicksData };\n/**\n * It illustrates the color track data in slider.\n * {% codeBlock src='slider/colorrange/index.md' %}{% endcodeBlock %}\n */\nvar ColorRangeData = /** @class */ (function (_super) {\n    __extends(ColorRangeData, _super);\n    function ColorRangeData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"end\", void 0);\n    return ColorRangeData;\n}(ChildProperty));\nexport { ColorRangeData };\n/**\n * It illustrates the limit data in slider.\n * {% codeBlock src='slider/limits/index.md' %}{% endcodeBlock %}\n */\nvar LimitData = /** @class */ (function (_super) {\n    __extends(LimitData, _super);\n    function LimitData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minEnd\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxEnd\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"startHandleFixed\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"endHandleFixed\", void 0);\n    return LimitData;\n}(ChildProperty));\nexport { LimitData };\n/**\n * It illustrates the tooltip data in slider.\n */\nvar TooltipData = /** @class */ (function (_super) {\n    __extends(TooltipData, _super);\n    function TooltipData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipData.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Before')\n    ], TooltipData.prototype, \"placement\", void 0);\n    __decorate([\n        Property('Focus')\n    ], TooltipData.prototype, \"showOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipData.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipData.prototype, \"format\", void 0);\n    return TooltipData;\n}(ChildProperty));\nexport { TooltipData };\nvar bootstrapTooltipOffset = 6;\nvar bootstrap4TooltipOffset = 3;\nvar classNames = {\n    root: 'e-slider',\n    rtl: 'e-rtl',\n    sliderHiddenInput: 'e-slider-input',\n    controlWrapper: 'e-control-wrapper',\n    sliderHandle: 'e-handle',\n    rangeBar: 'e-range',\n    sliderButton: 'e-slider-button',\n    firstButton: 'e-first-button',\n    secondButton: 'e-second-button',\n    scale: 'e-scale',\n    tick: 'e-tick',\n    large: 'e-large',\n    tickValue: 'e-tick-value',\n    sliderTooltip: 'e-slider-tooltip',\n    sliderHover: 'e-slider-hover',\n    sliderFirstHandle: 'e-handle-first',\n    sliderSecondHandle: 'e-handle-second',\n    sliderDisabled: 'e-disabled',\n    sliderContainer: 'e-slider-container',\n    horizontalTooltipBefore: 'e-slider-horizontal-before',\n    horizontalTooltipAfter: 'e-slider-horizontal-after',\n    verticalTooltipBefore: 'e-slider-vertical-before',\n    verticalTooltipAfter: 'e-slider-vertical-after',\n    materialTooltip: 'e-material-tooltip',\n    materialTooltipOpen: 'e-material-tooltip-open',\n    materialTooltipActive: 'e-tooltip-active',\n    materialSlider: 'e-material-slider',\n    sliderTrack: 'e-slider-track',\n    sliderHorizantalColor: 'e-slider-horizantal-color',\n    sliderVerticalColor: 'e-slider-vertical-color',\n    sliderHandleFocused: 'e-handle-focused',\n    verticalSlider: 'e-vertical',\n    horizontalSlider: 'e-horizontal',\n    sliderHandleStart: 'e-handle-start',\n    sliderTooltipStart: 'e-material-tooltip-start',\n    sliderTabHandle: 'e-tab-handle',\n    sliderButtonIcon: 'e-button-icon',\n    sliderSmallSize: 'e-small-size',\n    sliderTickPosition: 'e-tick-pos',\n    sliderFirstTick: 'e-first-tick',\n    sliderLastTick: 'e-last-tick',\n    sliderButtonClass: 'e-slider-btn',\n    sliderTooltipWrapper: 'e-tooltip-wrap',\n    sliderTabTrack: 'e-tab-track',\n    sliderTabRange: 'e-tab-range',\n    sliderActiveHandle: 'e-handle-active',\n    sliderMaterialHandle: 'e-material-handle',\n    sliderMaterialRange: 'e-material-range',\n    sliderMaterialDefault: 'e-material-default',\n    materialTooltipShow: 'e-material-tooltip-show',\n    materialTooltipHide: 'e-material-tooltip-hide',\n    readonly: 'e-read-only',\n    limits: 'e-limits',\n    limitBarDefault: 'e-limit-bar',\n    limitBarFirst: 'e-limit-first',\n    limitBarSecond: 'e-limit-second',\n    dragHorizontal: 'e-drag-horizontal',\n    dragVertical: 'e-drag-vertical'\n};\n/**\n * The Slider component allows the user to select a value or range\n * of values in-between a min and max range, by dragging the handle over the slider bar.\n * ```html\n * <div id='slider'></div>\n * ```\n * ```typescript\n * <script>\n *   var sliderObj = new Slider({ value: 10 });\n *   sliderObj.appendTo('#slider');\n * </script>\n * ```\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.horDir = 'left';\n        _this.verDir = 'bottom';\n        _this.transition = {\n            handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' +\n                'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\n            rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\n        };\n        _this.transitionOnMaterialTooltip = {\n            handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out',\n            rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\n        };\n        _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\n        _this.customAriaText = null;\n        _this.drag = true;\n        _this.isDragComplete = false;\n        _this.initialTooltip = true;\n        return _this;\n    }\n    Slider.prototype.preRender = function () {\n        // eslint-disable-next-line\n        var localeText = { incrementTitle: 'Increase', decrementTitle: 'Decrease' };\n        this.l10n = new L10n('slider', localeText, this.locale);\n        this.isElementFocused = false;\n        this.tickElementCollection = [];\n        this.tooltipFormatInfo = {};\n        this.ticksFormatInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.formChecker();\n    };\n    Slider.prototype.formChecker = function () {\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            this.isForm = true;\n            // this condition needs to be checked, if the slider is going to be refreshed by `refresh()`\n            // then we need to revert the slider `value` back to `formResetValue` to preserve the initial value\n            if (!isNullOrUndefined(this.formResetValue)) {\n                this.setProperties({ 'value': this.formResetValue }, true);\n            }\n            this.formResetValue = this.value;\n            if (this.type === 'Range' &&\n                (isNullOrUndefined(this.formResetValue) || typeof (this.formResetValue) !== 'object')) {\n                this.formResetValue = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n            }\n            else if (isNullOrUndefined(this.formResetValue)) {\n                this.formResetValue = parseFloat(formatUnit(this.min));\n            }\n            this.formElement = formElement;\n        }\n        else {\n            this.isForm = false;\n        }\n    };\n    Slider.prototype.initCultureFunc = function () {\n        this.internationalization = new Internationalization(this.locale);\n    };\n    Slider.prototype.initCultureInfo = function () {\n        this.tooltipFormatInfo.format = (!isNullOrUndefined(this.tooltip.format)) ? this.tooltip.format : null;\n        this.ticksFormatInfo.format = (!isNullOrUndefined(this.ticks.format)) ? this.ticks.format : null;\n    };\n    Slider.prototype.formatString = function (value, formatInfo) {\n        var formatValue = null;\n        var formatString = null;\n        if ((value || value === 0)) {\n            formatValue = this.formatNumber(value);\n            var numberOfDecimals = this.numberOfDecimals(value);\n            formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\n        }\n        return { elementVal: formatValue, formatString: formatString };\n    };\n    Slider.prototype.formatNumber = function (value) {\n        var numberOfDecimals = this.numberOfDecimals(value);\n        return this.internationalization.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(value);\n    };\n    Slider.prototype.numberOfDecimals = function (value) {\n        var decimalPart = value.toString().split('.')[1];\n        var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        return numberOfDecimals;\n    };\n    Slider.prototype.makeRoundNumber = function (value, precision) {\n        var decimals = precision || 0;\n        return Number(value.toFixed(decimals));\n    };\n    Slider.prototype.fractionalToInteger = function (value) {\n        value = (this.numberOfDecimals(value) === 0) ? Number(value).toFixed(this.noOfDecimals) : value;\n        var tens = 1;\n        for (var i = 0; i < this.noOfDecimals; i++) {\n            tens *= 10;\n        }\n        value = Number((value * tens).toFixed(0));\n        return value;\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Slider.prototype.render = function () {\n        var _this = this;\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        this.setZindex();\n        this.renderComplete();\n        if (this.element.tagName === 'EJS-SLIDER') {\n            if (this.getTheme(this.sliderContainer) == \"none\") {\n                setTimeout(function () {\n                    _this.refresh();\n                }, 0);\n            }\n        }\n    };\n    Slider.prototype.initialize = function () {\n        addClass([this.element], classNames.root);\n        this.setCSSClass();\n    };\n    Slider.prototype.setElementWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.sliderContainer.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.sliderContainer.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    Slider.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Slider.prototype.setEnabled = function () {\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\n                this.tooltipElement.classList.add(classNames.sliderDisabled);\n            }\n            this.unwireEvents();\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\n                this.tooltipElement.classList.remove(classNames.sliderDisabled);\n            }\n            this.wireEvents();\n        }\n    };\n    Slider.prototype.getTheme = function (container) {\n        var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n        return theme.replace(/['\"]+/g, '');\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Slider.prototype.initRender = function () {\n        this.sliderContainer = this.createElement('div', { className: classNames.sliderContainer + ' ' + classNames.controlWrapper });\n        this.element.parentNode.insertBefore(this.sliderContainer, this.element);\n        this.sliderContainer.appendChild(this.element);\n        this.sliderTrack = this.createElement('div', { className: classNames.sliderTrack });\n        this.element.appendChild(this.sliderTrack);\n        this.setElementWidth(this.width);\n        this.element.tabIndex = -1;\n        this.getThemeInitialization();\n        this.setHandler();\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setOrientClass();\n        this.hiddenInput = (this.createElement('input', {\n            attrs: {\n                type: 'hidden', value: (isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString()),\n                name: this.element.getAttribute('name') || this.element.getAttribute('id') ||\n                    '_' + (Math.random() * 1000).toFixed(0) + 'slider', class: classNames.sliderHiddenInput\n            }\n        }));\n        this.hiddenInput.tabIndex = -1;\n        this.sliderContainer.appendChild(this.hiddenInput);\n        if (this.showButtons) {\n            this.setButtons();\n        }\n        this.setEnableRTL();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        else {\n            this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\n        }\n        this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) :\n            [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))),\n                this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\n        this.previousChanged = this.previousVal;\n        if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\n            this.element.removeAttribute('name');\n        }\n        this.setValue();\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n        }\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n        }\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        if (this.readonly) {\n            addClass([this.sliderContainer], [classNames.readonly]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.readonly]);\n        }\n    };\n    Slider.prototype.getThemeInitialization = function () {\n        this.isMaterial = this.getTheme(this.sliderContainer) === 'material'\n            || this.getTheme(this.sliderContainer) === 'material-dark';\n        this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap'\n            || this.getTheme(this.sliderContainer) === 'bootstrap-dark';\n        this.isBootstrap4 = this.getTheme(this.sliderContainer) === 'bootstrap4';\n        this.isTailwind = this.getTheme(this.sliderContainer) === 'tailwind' || this.getTheme(this.sliderContainer) === 'tailwind-dark';\n        this.isBootstrap5 = this.getTheme(this.sliderContainer) === 'bootstrap5';\n        this.isMaterialTooltip = this.isMaterial && this.type !== 'Range' && this.tooltip.isVisible;\n    };\n    Slider.prototype.createRangeBar = function () {\n        if (this.type !== 'Default') {\n            this.rangeBar = (this.createElement('div', { attrs: { class: classNames.rangeBar } }));\n            this.element.appendChild(this.rangeBar);\n            if (this.drag && this.type === 'Range') {\n                if (this.orientation === 'Horizontal') {\n                    this.rangeBar.classList.add(classNames.dragHorizontal);\n                }\n                else {\n                    this.rangeBar.classList.add(classNames.dragVertical);\n                }\n            }\n        }\n    };\n    Slider.prototype.createLimitBar = function () {\n        var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault :\n            classNames.limitBarFirst;\n        firstElementClassName += ' ' + classNames.limits;\n        this.limitBarFirst = (this.createElement('div', {\n            attrs: { class: firstElementClassName }\n        }));\n        this.element.appendChild(this.limitBarFirst);\n        if (this.type === 'Range') {\n            this.limitBarSecond = (this.createElement('div', {\n                attrs: {\n                    class: classNames.limitBarSecond + ' ' + classNames.limits\n                }\n            }));\n            this.element.appendChild(this.limitBarSecond);\n        }\n    };\n    Slider.prototype.setOrientClass = function () {\n        if (this.orientation !== 'Vertical') {\n            this.sliderContainer.classList.remove(classNames.verticalSlider);\n            this.sliderContainer.classList.add(classNames.horizontalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'horizontal');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'horizontal');\n            }\n        }\n        else {\n            this.sliderContainer.classList.remove(classNames.horizontalSlider);\n            this.sliderContainer.classList.add(classNames.verticalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'vertical');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'vertical');\n            }\n        }\n    };\n    Slider.prototype.setAriaAttributes = function (element) {\n        var _this = this;\n        var min = this.min;\n        var max = this.max;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            min = this.customValues[0];\n            max = this.customValues[this.customValues.length - 1];\n        }\n        if (this.type !== 'Range') {\n            attributes(element, {\n                'aria-valuemin': min.toString(), 'aria-valuemax': max.toString()\n            });\n        }\n        else {\n            var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n                [[min.toString(), (this.customValues[this.value[1]]).toString()],\n                    [(this.customValues[this.value[0]]).toString(), max.toString()]] :\n                [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\n            range.forEach(function (range, index) {\n                var element = index === 0 ? _this.firstHandle : _this.secondHandle;\n                if (element) {\n                    attributes(element, {\n                        'aria-valuemin': range[0], 'aria-valuemax': range[1]\n                    });\n                }\n            });\n        }\n    };\n    Slider.prototype.createSecondHandle = function () {\n        this.secondHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', tabIndex: '0'\n            }\n        });\n        this.secondHandle.classList.add(classNames.sliderSecondHandle);\n        this.element.appendChild(this.secondHandle);\n    };\n    Slider.prototype.createFirstHandle = function () {\n        this.firstHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', tabIndex: '0'\n            }\n        });\n        this.firstHandle.classList.add(classNames.sliderFirstHandle);\n        this.element.appendChild(this.firstHandle);\n        if (this.isMaterialTooltip) {\n            this.materialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.materialHandle);\n        }\n    };\n    Slider.prototype.wireFirstHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.wireSecondHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.handleStart = function () {\n        if (this.type !== 'Range') {\n            this.firstHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\n            if (this.isMaterialTooltip) {\n                this.materialHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\n                if (this.tooltipElement) {\n                    this.tooltipElement.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderTooltipStart);\n                }\n            }\n        }\n    };\n    Slider.prototype.transitionEnd = function (e) {\n        if (e.propertyName !== 'transform') {\n            this.handleStart();\n            this.getHandle().style.transition = 'none';\n            if (this.type !== 'Default') {\n                this.rangeBar.style.transition = 'none';\n            }\n            if (this.isMaterial && this.tooltip.isVisible && this.type === 'Default') {\n                this.tooltipElement.style.transition = this.transition.handle;\n            }\n            this.tooltipToggle(this.getHandle());\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.handleFocusOut = function () {\n        if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\n            this.firstHandle.classList.remove(classNames.sliderHandleFocused);\n        }\n        if (this.type === 'Range') {\n            if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\n                this.secondHandle.classList.remove(classNames.sliderHandleFocused);\n            }\n        }\n    };\n    Slider.prototype.handleFocus = function (e) {\n        this.focusSliderElement();\n        this.sliderBarClick(e);\n        if (e.currentTarget === this.firstHandle) {\n            this.firstHandle.classList.add(classNames.sliderHandleFocused);\n            this.firstHandle.classList.add(classNames.sliderTabHandle);\n        }\n        else {\n            this.secondHandle.classList.add(classNames.sliderHandleFocused);\n            this.secondHandle.classList.add(classNames.sliderTabHandle);\n        }\n        EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n    };\n    Slider.prototype.handleOver = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\n            this.tooltipToggle(e.currentTarget);\n        }\n        if (this.type === 'Default') {\n            this.tooltipToggle(this.getHandle());\n        }\n    };\n    Slider.prototype.handleLeave = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' &&\n            !e.currentTarget.classList.contains(classNames.sliderHandleFocused) &&\n            !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.setHandler = function () {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        this.createFirstHandle();\n        if (this.type === 'Range') {\n            this.createSecondHandle();\n        }\n    };\n    Slider.prototype.setEnableRTL = function () {\n        this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) :\n            removeClass([this.sliderContainer], classNames.rtl);\n        var preDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (this.enableRtl) {\n            this.horDir = 'right';\n            this.verDir = 'bottom';\n        }\n        else {\n            this.horDir = 'left';\n            this.verDir = 'bottom';\n        }\n        var currDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (preDir !== currDir) {\n            if (this.orientation === 'Horizontal') {\n                setStyleAttribute(this.firstHandle, { 'right': '', 'left': 'auto' });\n                if (this.type === 'Range') {\n                    setStyleAttribute(this.secondHandle, { 'top': '', 'left': 'auto' });\n                }\n            }\n        }\n        this.setBarColor();\n    };\n    Slider.prototype.tooltipValue = function () {\n        var _this = this;\n        var text;\n        var args = {\n            value: this.value,\n            text: ''\n        };\n        if (this.initialTooltip) {\n            this.initialTooltip = false;\n            this.setTooltipContent();\n            args.text = text = this.tooltipObj.content;\n            this.trigger('tooltipChange', args, function (observedArgs) {\n                _this.addTooltipClass(observedArgs.text);\n                if (text !== observedArgs.text) {\n                    _this.customAriaText = observedArgs.text;\n                    _this.tooltipObj.content = observedArgs.text;\n                    _this.setAriaAttrValue(_this.firstHandle);\n                    if (_this.type === 'Range') {\n                        _this.setAriaAttrValue(_this.secondHandle);\n                    }\n                }\n            });\n            if (this.isMaterialTooltip) {\n                this.setPreviousVal('change', this.value);\n            }\n        }\n    };\n    Slider.prototype.setTooltipContent = function () {\n        var content;\n        content = this.formatContent(this.tooltipFormatInfo, false);\n        this.tooltipObj.content = content;\n    };\n    Slider.prototype.formatContent = function (formatInfo, ariaContent) {\n        var content = '';\n        var handle1 = this.handleVal1;\n        var handle2 = this.handleVal2;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            handle1 = this.customValues[this.handleVal1];\n            handle2 = this.customValues[this.handleVal2];\n        }\n        if (!ariaContent) {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle2, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle1, formatInfo).formatString) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle1, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle2, formatInfo).formatString) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(formatInfo.format)) ?\n                        this.formatString(handle1, formatInfo).formatString : handle1.toString();\n                }\n            }\n            return content;\n        }\n        else {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle2, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle1, formatInfo).elementVal) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle1, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle2, formatInfo).elementVal) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        this.formatString(handle1, formatInfo).elementVal : handle1.toString();\n                }\n            }\n            return content;\n        }\n    };\n    Slider.prototype.addTooltipClass = function (content) {\n        if (this.isMaterialTooltip) {\n            var count = content.toString().length;\n            if (!this.tooltipElement) {\n                var cssClass = count > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\n                this.tooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\n            }\n            else {\n                var cssClass = count > 4 ?\n                    { oldCss: classNames.sliderMaterialDefault, newCss: classNames.sliderMaterialRange } :\n                    { oldCss: classNames.sliderMaterialRange, newCss: classNames.sliderMaterialDefault };\n                this.tooltipElement.classList.remove(cssClass.oldCss);\n                if (!this.tooltipElement.classList.contains(cssClass.newCss)) {\n                    this.tooltipElement.classList.add(cssClass.newCss);\n                    this.tooltipElement.style.transform = count > 4 ? 'scale(1)' :\n                        this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipPlacement = function () {\n        return this.orientation === 'Horizontal' ? (this.tooltip.placement === 'Before' ? 'TopCenter' : 'BottomCenter') :\n            (this.tooltip.placement === 'Before' ? 'LeftCenter' : 'RightCenter');\n    };\n    Slider.prototype.tooltipBeforeOpen = function (args) {\n        this.tooltipElement = args.element;\n        if (this.tooltip.cssClass) {\n            addClass([this.tooltipElement], this.tooltip.cssClass.split(' ').filter(function (css) { return css; }));\n        }\n        args.target.removeAttribute('aria-describedby');\n        if (this.isMaterialTooltip) {\n            this.tooltipElement.firstElementChild.classList.add(classNames.materialTooltipHide);\n            this.handleStart();\n            this.setTooltipTransform();\n        }\n    };\n    Slider.prototype.tooltipCollision = function (position) {\n        if (this.isBootstrap || this.isBootstrap4 || (this.isMaterial && !this.isMaterialTooltip)) {\n            var tooltipOffsetValue = this.isBootstrap4 ? bootstrap4TooltipOffset : bootstrapTooltipOffset;\n            switch (position) {\n                case 'TopCenter':\n                    this.tooltipObj.setProperties({ 'offsetY': -(tooltipOffsetValue) }, false);\n                    break;\n                case 'BottomCenter':\n                    this.tooltipObj.setProperties({ 'offsetY': tooltipOffsetValue }, false);\n                    break;\n                case 'LeftCenter':\n                    this.tooltipObj.setProperties({ 'offsetX': -(tooltipOffsetValue) }, false);\n                    break;\n                case 'RightCenter':\n                    this.tooltipObj.setProperties({ 'offsetX': tooltipOffsetValue }, false);\n                    break;\n            }\n        }\n    };\n    Slider.prototype.materialTooltipEventCallBack = function (event) {\n        this.sliderBarClick(event);\n        EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n    };\n    Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\n        if (this.isMaterialTooltip) {\n            if (!destroy) {\n                EventHandler.add(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack, this);\n            }\n            else {\n                EventHandler.remove(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack);\n            }\n        }\n    };\n    Slider.prototype.tooltipPositionCalculation = function (position) {\n        var cssClass;\n        switch (position) {\n            case 'TopCenter':\n                cssClass = classNames.horizontalTooltipBefore;\n                break;\n            case 'BottomCenter':\n                cssClass = classNames.horizontalTooltipAfter;\n                break;\n            case 'LeftCenter':\n                cssClass = classNames.verticalTooltipBefore;\n                break;\n            case 'RightCenter':\n                cssClass = classNames.verticalTooltipAfter;\n                break;\n        }\n        return cssClass;\n    };\n    Slider.prototype.getTooltipTransformProperties = function (className) {\n        var transformProperties;\n        if (this.tooltipElement) {\n            var position = this.orientation === 'Horizontal' ?\n                ((this.tooltipElement.clientHeight + 14) - (this.tooltipElement.clientHeight / 2)) :\n                ((this.tooltipElement.clientWidth + 14) - (this.tooltipElement.clientWidth / 2));\n            transformProperties = this.orientation === 'Horizontal' ?\n                (className === classNames.horizontalTooltipBefore ? { rotate: 'rotate(45deg)', translate: \"translateY(\" + position + \"px)\" } :\n                    { rotate: 'rotate(225deg)', translate: \"translateY(\" + -(position) + \"px)\" }) :\n                (className === classNames.verticalTooltipBefore ? { rotate: 'rotate(-45deg)', translate: \"translateX(\" + position + \"px)\" } :\n                    { rotate: 'rotate(-225deg)', translate: \"translateX(\" + (-position) + \"px)\" });\n        }\n        return transformProperties;\n    };\n    Slider.prototype.openMaterialTooltip = function () {\n        var _this = this;\n        if (this.isMaterialTooltip) {\n            this.refreshTooltip(this.firstHandle);\n            var tooltipContentElement = this.tooltipElement.firstElementChild;\n            tooltipContentElement.classList.remove(classNames.materialTooltipHide);\n            tooltipContentElement.classList.add(classNames.materialTooltipShow);\n            this.firstHandle.style.cursor = 'default';\n            this.tooltipElement.style.transition = this.scaleTransform;\n            this.tooltipElement.classList.add(classNames.materialTooltipOpen);\n            this.materialHandle.style.transform = 'scale(0)';\n            if (tooltipContentElement.innerText.length > 4) {\n                this.tooltipElement.style.transform = 'scale(1)';\n            }\n            else {\n                this.tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n            }\n            if (this.type === 'Default') {\n                setTimeout(function () { _this.tooltipElement.style.transition = _this.transition.handle; }, 2500);\n            }\n            else {\n                setTimeout(function () { _this.tooltipElement.style.transition = 'none'; }, 2500);\n            }\n        }\n    };\n    Slider.prototype.closeMaterialTooltip = function () {\n        var _this = this;\n        if (this.isMaterialTooltip) {\n            var tooltipContentElement = this.tooltipElement.firstElementChild;\n            this.tooltipElement.style.transition = this.scaleTransform;\n            tooltipContentElement.classList.remove(classNames.materialTooltipShow);\n            tooltipContentElement.classList.add(classNames.materialTooltipHide);\n            this.firstHandle.style.cursor = '-webkit-grab';\n            this.firstHandle.style.cursor = 'grab';\n            if (this.materialHandle) {\n                this.materialHandle.style.transform = 'scale(1)';\n            }\n            this.tooltipElement.classList.remove(classNames.materialTooltipOpen);\n            this.setTooltipTransform();\n            this.tooltipTarget = undefined;\n            setTimeout(function () { _this.tooltipElement.style.transition = 'none'; }, 2500);\n        }\n    };\n    Slider.prototype.checkTooltipPosition = function (args) {\n        var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\n        if (this.tooltipCollidedPosition === undefined ||\n            this.tooltipCollidedPosition !== args.collidedPosition || !args.element.classList.contains(tooltipClass)) {\n            if (this.isMaterialTooltip) {\n                if (tooltipClass !== undefined) {\n                    args.element.classList.remove(this.previousTooltipClass);\n                    args.element.classList.add(tooltipClass);\n                    this.previousTooltipClass = tooltipClass;\n                }\n                if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) &&\n                    args.element.firstElementChild.innerText.length <= 4) {\n                    args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n                }\n            }\n            this.tooltipCollidedPosition = args.collidedPosition;\n        }\n        if (this.isMaterialTooltip && this.tooltipElement && this.tooltipElement.style.transform.indexOf('translate') !== -1) {\n            this.setTooltipTransform();\n        }\n    };\n    Slider.prototype.setTooltipTransform = function () {\n        var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\n        if (this.tooltipElement.firstElementChild.innerText.length > 4) {\n            this.tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\n        }\n        else {\n            this.tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\n        }\n    };\n    Slider.prototype.renderTooltip = function () {\n        this.tooltipObj = new Tooltip({\n            showTipPointer: this.isBootstrap || this.isMaterial || this.isBootstrap4 || this.isTailwind || this.isBootstrap5,\n            cssClass: classNames.sliderTooltip,\n            height: this.isMaterial ? 30 : 'auto',\n            animation: { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } },\n            opensOn: 'Custom',\n            beforeOpen: this.tooltipBeforeOpen.bind(this),\n            beforeCollision: this.checkTooltipPosition.bind(this),\n            beforeClose: this.tooltipBeforeClose.bind(this),\n            enableHtmlSanitizer: this.enableHtmlSanitizer\n        });\n        this.tooltipObj.appendTo(this.firstHandle);\n        this.initializeTooltipProps();\n    };\n    Slider.prototype.initializeTooltipProps = function () {\n        var tooltipShowOn = (this.tooltip.showOn === 'Auto' ? 'Hover' : this.tooltip.showOn);\n        this.setProperties({ tooltip: { showOn: tooltipShowOn } }, true);\n        this.tooltipObj.position = this.tooltipPlacement();\n        this.tooltipCollision(this.tooltipObj.position);\n        [this.firstHandle, this.rangeBar, this.secondHandle].forEach(function (handle) {\n            if (!isNullOrUndefined(handle)) {\n                handle.style.transition = 'none';\n            }\n        });\n        if (this.isMaterialTooltip) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n            this.tooltipValue();\n            this.tooltipObj.animation.close.effect = 'None';\n            this.tooltipObj.open(this.firstHandle);\n        }\n    };\n    Slider.prototype.tooltipBeforeClose = function () {\n        this.tooltipElement = undefined;\n        this.tooltipCollidedPosition = undefined;\n    };\n    Slider.prototype.setButtons = function () {\n        this.firstBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.firstButton });\n        this.firstBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        if (this.isTailwind) {\n            this.firstBtn.querySelector('span').classList.add('e-icons');\n        }\n        this.firstBtn.tabIndex = -1;\n        this.secondBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.secondButton });\n        this.secondBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        if (this.isTailwind) {\n            this.secondBtn.querySelector('span').classList.add('e-icons');\n        }\n        this.secondBtn.tabIndex = -1;\n        this.sliderContainer.classList.add(classNames.sliderButtonClass);\n        this.sliderContainer.appendChild(this.firstBtn);\n        this.sliderContainer.appendChild(this.secondBtn);\n        this.sliderContainer.appendChild(this.element);\n        this.buttonTitle();\n    };\n    Slider.prototype.buttonTitle = function () {\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        this.l10n.setLocale(this.locale);\n        var decrementTitle = this.l10n.getConstant('decrementTitle');\n        var incrementTitle = this.l10n.getConstant('incrementTitle');\n        attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': decrementTitle, title: decrementTitle });\n        attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': incrementTitle, title: incrementTitle });\n    };\n    Slider.prototype.buttonFocusOut = function () {\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatButton = function (args) {\n        var hVal = this.handleValueUpdate();\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var value;\n        if (args.target.parentElement.classList.contains(classNames.firstButton)\n            || args.target.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if (args.target.parentElement.classList.contains(classNames.secondButton)\n            || (args.target.classList.contains(classNames.secondButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        if (value >= this.min && value <= this.max) {\n            this.changeHandleValue(value);\n            this.tooltipToggle(this.getHandle());\n        }\n    };\n    Slider.prototype.repeatHandlerMouse = function (args) {\n        args.preventDefault();\n        if (args.type === ('mousedown') || args.type === ('touchstart')) {\n            this.buttonClick(args);\n            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\n        }\n    };\n    Slider.prototype.materialChange = function () {\n        if (!this.getHandle().classList.contains('e-large-thumb-size')) {\n            this.getHandle().classList.add('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.focusHandle = function () {\n        if (!this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.getHandle().classList.add(classNames.sliderTabHandle);\n        }\n    };\n    Slider.prototype.repeatHandlerUp = function (e) {\n        this.changeEvent('changed', e);\n        this.closeTooltip();\n        clearInterval(this.repeatInterval);\n        this.getHandle().focus();\n    };\n    Slider.prototype.customTickCounter = function (bigNum) {\n        var tickCount = 4;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            if (bigNum > 4) {\n                tickCount = 3;\n            }\n            if (bigNum > 7) {\n                tickCount = 2;\n            }\n            if (bigNum > 14) {\n                tickCount = 1;\n            }\n            if (bigNum > 28) {\n                tickCount = 0;\n            }\n        }\n        return tickCount;\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Slider.prototype.renderScale = function () {\n        var liElementPosition = 0;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        var spanText;\n        this.noOfDecimals = this.numberOfDecimals(this.step);\n        this.ul = this.createElement('ul', {\n            className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        this.ul.style.zIndex = '-1';\n        if (Browser.isAndroid && orien === 'h') {\n            this.ul.classList.add(classNames.sliderTickPosition);\n        }\n        var smallStep = this.ticks.smallStep;\n        if (!this.ticks.showSmallTicks) {\n            this.ticks.largeStep > 0 ? (smallStep = this.ticks.largeStep) :\n                (smallStep = (parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        }\n        else if (smallStep <= 0) {\n            smallStep = parseFloat(formatUnit(this.step));\n        }\n        var min = this.fractionalToInteger(this.min);\n        var max = this.fractionalToInteger(this.max);\n        var steps = this.fractionalToInteger(smallStep);\n        var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\n        var customStep = this.customTickCounter(bigNum);\n        var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            (bigNum * customStep) + bigNum : Math.abs((max - min) / steps);\n        this.element.appendChild(this.ul);\n        var li;\n        var start = parseFloat(this.min.toString());\n        if (orien === 'v') {\n            start = parseFloat(this.max.toString());\n        }\n        var left = 0;\n        var islargeTick;\n        var tickWidth = 100 / count;\n        if (tickWidth === Infinity) {\n            tickWidth = 5;\n        }\n        for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\n            li = (this.createElement('li', {\n                attrs: {\n                    class: classNames.tick, role: 'presentation', tabIndex: '-1',\n                    'aria-hidden': 'true'\n                }\n            }));\n            if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n                islargeTick = i % (customStep + 1) === 0;\n                if (islargeTick) {\n                    if (orien === 'h') {\n                        start = this.customValues[k];\n                        k++;\n                    }\n                    else {\n                        start = this.customValues[y];\n                        y--;\n                    }\n                    li.setAttribute('title', start.toString());\n                }\n            }\n            else {\n                li.setAttribute('title', start.toString());\n                if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 &&\n                    this.numberOfDecimals(this.step) === 0) {\n                    if (orien === 'h') {\n                        islargeTick = ((start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                }\n                else {\n                    var largestep = this.fractionalToInteger(this.ticks.largeStep);\n                    var startValue = this.fractionalToInteger(start);\n                    if (orien === 'h') {\n                        islargeTick = ((startValue - min) % largestep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(startValue - parseFloat(max.toString())) % largestep === 0) ? true : false;\n                    }\n                }\n            }\n            if (islargeTick) {\n                li.classList.add(classNames.large);\n            }\n            (orien === 'h') ? (li.style.width = tickWidth + '%') : (li.style.height = tickWidth + '%');\n            var repeat = islargeTick ? (this.ticks.placement === 'Both' ? 2 : 1) : 0;\n            if (islargeTick) {\n                for (var j = 0; j < repeat; j++) {\n                    this.createTick(li, start, tickWidth);\n                }\n            }\n            else if (isNullOrUndefined(this.customValues)) {\n                this.formatTicksValue(li, start);\n            }\n            this.ul.appendChild(li);\n            this.tickElementCollection.push(li);\n            var decimalPoints = void 0;\n            if (isNullOrUndefined(this.customValues)) {\n                if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\n                    decimalPoints = this.numberOfDecimals(smallStep);\n                }\n                else {\n                    decimalPoints = this.numberOfDecimals(start);\n                }\n                if (orien === 'h') {\n                    start = this.makeRoundNumber(start + smallStep, decimalPoints);\n                }\n                else {\n                    start = this.makeRoundNumber(start - smallStep, decimalPoints);\n                }\n                left = this.makeRoundNumber(left + smallStep, decimalPoints);\n            }\n        }\n        this.ticksAlignment(orien, tickWidth);\n    };\n    Slider.prototype.ticksAlignment = function (orien, tickWidth, triggerEvent) {\n        if (triggerEvent === void 0) { triggerEvent = true; }\n        this.firstChild = this.ul.firstElementChild;\n        this.lastChild = this.ul.lastElementChild;\n        this.firstChild.classList.add(classNames.sliderFirstTick);\n        this.lastChild.classList.add(classNames.sliderLastTick);\n        this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\n        if (orien === 'h') {\n            this.firstChild.style.width = tickWidth / 2 + '%';\n            this.lastChild.style.width = tickWidth / 2 + '%';\n        }\n        else {\n            this.firstChild.style.height = tickWidth / 2 + '%';\n            this.lastChild.style.height = tickWidth / 2 + '%';\n        }\n        var eventArgs = { ticksWrapper: this.ul, tickElements: this.tickElementCollection };\n        if (triggerEvent) {\n            this.trigger('renderedTicks', eventArgs);\n        }\n        this.scaleAlignment();\n    };\n    Slider.prototype.createTick = function (li, start, tickWidth) {\n        var span = this.createElement('span', {\n            className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        li.appendChild(span);\n        if (isNullOrUndefined(this.customValues)) {\n            this.formatTicksValue(li, start, span, tickWidth);\n        }\n        else {\n            if (this.enableHtmlSanitizer) {\n                span.innerHTML = SanitizeHtmlHelper.sanitize(start.toString());\n            }\n            else {\n                span.innerHTML = start.toString();\n            }\n        }\n    };\n    Slider.prototype.formatTicksValue = function (li, start, spanElement, tickWidth) {\n        var _this = this;\n        var tickText = this.formatNumber(start);\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n        var eventArgs = { value: start, text: text, tickElement: li };\n        this.trigger('renderingTicks', eventArgs, function (observedArgs) {\n            li.setAttribute('title', observedArgs.text.toString());\n            if (spanElement) {\n                if (_this.enableHtmlSanitizer) {\n                    spanElement.innerHTML = SanitizeHtmlHelper.sanitize(observedArgs.text.toString());\n                }\n                else {\n                    spanElement.innerHTML = observedArgs.text.toString();\n                }\n            }\n        });\n    };\n    Slider.prototype.scaleAlignment = function () {\n        this.tickValuePosition();\n        var smallTick = 12;\n        var largeTick = 20;\n        var half = largeTick / 2;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        if (this.orientation === 'Vertical') {\n            (this.element.getBoundingClientRect().width <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n        else {\n            (this.element.getBoundingClientRect().height <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n    };\n    Slider.prototype.tickValuePosition = function () {\n        this.firstChild = this.element.querySelector('ul').children[0];\n        var first = this.firstChild.getBoundingClientRect();\n        var firstChild;\n        var otherChild;\n        var smallStep = this.ticks.smallStep;\n        var count = Math.abs((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min)))) / smallStep;\n        if (this.firstChild.children.length > 0) {\n            firstChild = this.firstChild.children[0].getBoundingClientRect();\n        }\n        var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' +\n                classNames.large + ' .' + classNames.tickValue)];\n        var other;\n        if (this.ticks.placement === 'Both') {\n            other = [].slice.call(tickElements[0], 2);\n        }\n        else {\n            other = [].slice.call(tickElements[0], 1);\n        }\n        var tickWidth = this.orientation === 'Vertical' ?\n            (first.height * 2) : (first.width * 2);\n        for (var i = 0; i < this.firstChild.children.length; i++) {\n            if (this.orientation === 'Vertical') {\n                this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\n            }\n            else {\n                if (!this.enableRtl) {\n                    this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\n                }\n                else {\n                    this.firstChild.children[i].style.left = (tickWidth -\n                        this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\n                }\n            }\n        }\n        for (var i = 0; i < other.length; i++) {\n            otherChild = other[i].getBoundingClientRect();\n            if (this.orientation === 'Vertical') {\n                setStyleAttribute(other[i], { top: (tickWidth - otherChild.height) / 2 + 'px' });\n            }\n            else {\n                setStyleAttribute(other[i], { left: (tickWidth - otherChild.width) / 2 + 'px' });\n            }\n        }\n        if (this.enableRtl && this.lastChild.children.length && count !== 0) {\n            this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            if (this.ticks.placement === 'Both') {\n                this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            }\n        }\n        if (count === 0) {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.left = this.firstHandle.style.left;\n                }\n                else {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.right = this.firstHandle.style.right;\n                    this.firstChild.children[0].style.left =\n                        (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    if (this.ticks.placement === 'Both') {\n                        this.firstChild.children[1].style.left =\n                            (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    }\n                }\n            }\n            if (this.orientation === 'Vertical') {\n                this.firstChild.classList.remove(classNames.sliderLastTick);\n            }\n        }\n    };\n    Slider.prototype.setAriaAttrValue = function (element) {\n        var ariaValueText;\n        var isTickFormatted = ((!isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format))) ? true : false;\n        var text = !isTickFormatted ?\n            this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\n        var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) :\n            this.formatContent(this.tooltipFormatInfo, true);\n        text = (!this.customAriaText) ? (text) : (this.customAriaText);\n        if (text.split(' - ').length === 2) {\n            ariaValueText = text.split(' - ');\n        }\n        else {\n            ariaValueText = [text, text];\n        }\n        this.setAriaAttributes(element);\n        if (this.type !== 'Range') {\n            attributes(element, { 'aria-valuenow': valuenow, 'aria-valuetext': text });\n        }\n        else {\n            // eslint-disable-next-line\n            (!this.enableRtl) ? ((element === this.firstHandle) ?\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }) :\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] })) :\n                ((element === this.firstHandle) ?\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] }) :\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }));\n        }\n    };\n    Slider.prototype.handleValueUpdate = function () {\n        var hVal;\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                hVal = this.handleVal1;\n            }\n            else {\n                hVal = this.handleVal2;\n            }\n        }\n        else {\n            hVal = this.handleVal1;\n        }\n        return hVal;\n    };\n    Slider.prototype.getLimitCorrectedValues = function (value) {\n        if (this.type === 'MinRange' || this.type === 'Default') {\n            value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n        }\n        else {\n            if (this.activeHandle === 1) {\n                value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n            }\n            else {\n                value = (this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd))[0];\n            }\n        }\n        return value;\n    };\n    Slider.prototype.focusSliderElement = function () {\n        if (!this.isElementFocused) {\n            this.element.focus();\n            this.isElementFocused = true;\n        }\n    };\n    Slider.prototype.buttonClick = function (args) {\n        this.focusSliderElement();\n        var value;\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var hVal = this.handleValueUpdate();\n        if ((args.keyCode === 40) || (args.keyCode === 37)\n            || args.currentTarget.classList.contains(classNames.firstButton)) {\n            // eslint-disable-next-line\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if ((args.keyCode === 38) || (args.keyCode === 39) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            // eslint-disable-next-line\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        else if ((args.keyCode === 33\n            || args.currentTarget.classList.contains(classNames.firstButton))) {\n            // eslint-disable-next-line\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true));\n        }\n        else if ((args.keyCode === 34) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            // eslint-disable-next-line\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false));\n        }\n        else if ((args.keyCode === 36)) {\n            value = parseFloat(this.min.toString());\n        }\n        else if ((args.keyCode === 35)) {\n            value = parseFloat(this.max.toString());\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        this.changeHandleValue(value);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipToggle(this.getHandle());\n        this.getHandle().focus();\n        this.focusHandle();\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n    };\n    Slider.prototype.tooltipToggle = function (target) {\n        if (this.isMaterialTooltip) {\n            // eslint-disable-next-line\n            !this.tooltipElement.classList.contains(classNames.materialTooltipOpen) ?\n                this.openMaterialTooltip() : this.refreshTooltip(this.firstHandle);\n        }\n        else {\n            // eslint-disable-next-line\n            !this.tooltipElement ? this.openTooltip(target) : this.refreshTooltip(target);\n        }\n    };\n    Slider.prototype.buttonUp = function (args) {\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\n        }\n    };\n    Slider.prototype.setRangeBar = function () {\n        if (this.orientation === 'Horizontal') {\n            if (this.type === 'MinRange') {\n                // eslint-disable-next-line\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                // eslint-disable-next-line\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n    };\n    Slider.prototype.checkValidValueAndPos = function (value) {\n        value = this.checkHandleValue(value);\n        value = this.checkHandlePosition(value);\n        return value;\n    };\n    Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\n        if (this.orientation === 'Horizontal') {\n            if (!this.enableRtl) {\n                this.limitBarFirst.style.left = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n            else {\n                this.limitBarFirst.style.right = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n        }\n        else {\n            this.limitBarFirst.style.bottom = fromMinPostion + 'px';\n            this.limitBarFirst.style.height = (fromMaxpostion - fromMinPostion) + 'px';\n        }\n        if (this.type === 'Range') {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.limitBarSecond.style.left = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n                else {\n                    this.limitBarSecond.style.right = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n            }\n            else {\n                this.limitBarSecond.style.bottom = toMinPostion + 'px';\n                this.limitBarSecond.style.height = (toMaxpostion - toMinPostion) + 'px';\n            }\n        }\n    };\n    Slider.prototype.setLimitBar = function () {\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            var fromPosition = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromPosition = this.checkValidValueAndPos(fromPosition);\n            var toPosition = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            toPosition = this.checkValidValueAndPos(toPosition);\n            this.setLimitBarPositions(fromPosition, toPosition);\n        }\n        else if (this.type === 'Range') {\n            var fromMinPostion = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\n            var fromMaxpostion = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\n            var toMinPostion = (this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMinPostion = this.checkValidValueAndPos(toMinPostion);\n            var toMaxpostion = (this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\n            this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\n        }\n    };\n    Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\n        if (isNullOrUndefined(minValue)) {\n            minValue = this.min;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = minValue;\n            }\n        }\n        if (isNullOrUndefined(maxValue)) {\n            maxValue = this.max;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = maxValue;\n            }\n        }\n        if (currentValue < minValue) {\n            currentValue = minValue;\n        }\n        if (currentValue > maxValue) {\n            currentValue = maxValue;\n        }\n        return [currentValue, this.checkHandlePosition(currentValue)];\n    };\n    Slider.prototype.setValue = function () {\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            this.min = 0;\n            this.max = this.customValues.length - 1;\n            this.setBarColor();\n        }\n        this.setAriaAttributes(this.firstHandle);\n        this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) :\n            this.checkHandleValue(parseFloat(this.value.toString()));\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.preHandlePos1 = this.handlePos1;\n        // eslint-disable-next-line\n        isNullOrUndefined(this.activeHandle) ? (this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1) :\n            // eslint-disable-next-line no-self-assign\n            this.activeHandle = this.activeHandle;\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            if (this.limits.enabled) {\n                var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = values[0];\n                this.handlePos1 = values[1];\n                this.preHandlePos1 = this.handlePos1;\n            }\n            this.setHandlePosition(null);\n            this.handleStart();\n            this.value = this.handleVal1;\n            this.setAriaAttrValue(this.firstHandle);\n            this.changeEvent('changed', null);\n        }\n        else {\n            this.validateRangeValue();\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n    };\n    Slider.prototype.rangeValueUpdate = function () {\n        if (this.value === null || typeof (this.value) !== 'object') {\n            this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n        }\n    };\n    Slider.prototype.validateRangeValue = function () {\n        this.rangeValueUpdate();\n        this.setRangeValue();\n    };\n    Slider.prototype.modifyZindex = function () {\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.style.zIndex = (this.zIndex + 4) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 3) + '';\n            }\n            else {\n                this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n            }\n        }\n        else if (this.isMaterialTooltip && this.tooltipElement) {\n            this.tooltipElement.style.zIndex = getZindexPartial(this.element) + '';\n        }\n    };\n    Slider.prototype.setHandlePosition = function (event) {\n        var _this = this;\n        var handle;\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        if (this.isMaterialTooltip) {\n            handle = [this.firstHandle, this.materialHandle];\n        }\n        else {\n            handle = [this.getHandle()];\n        }\n        this.handleStart();\n        handle.forEach(function (handle) {\n            if (_this.orientation === 'Horizontal') {\n                // eslint-disable-next-line\n                _this.enableRtl ? (handle.style.right =\n                    pos + \"px\") : (handle.style.left = pos + \"px\");\n            }\n            else {\n                handle.style.bottom = pos + \"px\";\n            }\n        });\n        this.changeEvent('change', event);\n    };\n    Slider.prototype.getHandle = function () {\n        return (this.activeHandle === 1) ? this.firstHandle : this.secondHandle;\n    };\n    Slider.prototype.setRangeValue = function () {\n        this.updateRangeValue();\n        this.activeHandle = 1;\n        this.setHandlePosition(null);\n        this.activeHandle = 2;\n        this.setHandlePosition(null);\n        this.activeHandle = 1;\n    };\n    Slider.prototype.changeEvent = function (eventName, e) {\n        var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\n        if (this.type !== 'Range') {\n            this.setProperties({ 'value': this.handleVal1 }, true);\n            if (previous !== this.value && (!this.isMaterialTooltip || !this.initialTooltip)) {\n                this.trigger(eventName, this.changeEventArgs(eventName, e));\n                this.initialTooltip = true;\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.firstHandle);\n        }\n        else {\n            var value = this.value = [this.handleVal1, this.handleVal2];\n            this.setProperties({ 'value': value }, true);\n            if (previous.length === this.value.length\n                && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\n                this.initialTooltip = false;\n                this.trigger(eventName, this.changeEventArgs(eventName, e));\n                this.initialTooltip = true;\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.getHandle());\n        }\n        this.hiddenInput.value = this.value.toString();\n    };\n    Slider.prototype.changeEventArgs = function (eventName, e) {\n        var eventArgs;\n        if (this.tooltip.isVisible && this.tooltipObj && this.initialTooltip) {\n            this.tooltipValue();\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: this.tooltipObj.content, isInteracted: isNullOrUndefined(e) ? false : true\n            };\n        }\n        else {\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() :\n                    (this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString :\n                        (this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' +\n                            this.formatString(this.value[1], this.ticksFormatInfo).formatString)),\n                isInteracted: isNullOrUndefined(e) ? false : true\n            };\n        }\n        return eventArgs;\n    };\n    Slider.prototype.setPreviousVal = function (eventName, value) {\n        if (eventName === 'change') {\n            this.previousVal = value;\n        }\n        else {\n            this.previousChanged = value;\n        }\n    };\n    Slider.prototype.updateRangeValue = function () {\n        var values = this.value.toString().split(',').map(Number);\n        if ((this.enableRtl && this.orientation !== 'Vertical') || this.rtl) {\n            this.value = [values[1], values[0]];\n        }\n        else {\n            this.value = [values[0], values[1]];\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            this.handleVal1 = this.checkHandleValue(this.value[1]);\n            this.handleVal2 = this.checkHandleValue(this.value[0]);\n        }\n        else {\n            this.handleVal1 = this.checkHandleValue(this.value[0]);\n            this.handleVal2 = this.checkHandleValue(this.value[1]);\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        if (this.handlePos1 > this.handlePos2) {\n            this.handlePos1 = this.handlePos2;\n            this.handleVal1 = this.handleVal2;\n        }\n        this.preHandlePos1 = this.handlePos1;\n        this.preHandlePos2 = this.handlePos2;\n        if (this.limits.enabled) {\n            this.activeHandle = 1;\n            var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n            this.handleVal1 = values_1[0];\n            this.handlePos1 = values_1[1];\n            this.preHandlePos1 = this.handlePos1;\n            this.activeHandle = 2;\n            values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n            this.handleVal2 = values_1[0];\n            this.handlePos2 = values_1[1];\n            this.preHandlePos2 = this.handlePos2;\n        }\n    };\n    Slider.prototype.checkHandlePosition = function (value) {\n        var pos;\n        value = (100 *\n            (value - (parseFloat(formatUnit(this.min))))) / ((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (value / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (value / 100);\n        }\n        if (((parseFloat(formatUnit(this.max))) === (parseFloat(formatUnit(this.min))))) {\n            if (this.orientation === 'Horizontal') {\n                pos = this.element.getBoundingClientRect().width;\n            }\n            else {\n                pos = this.element.getBoundingClientRect().height;\n            }\n        }\n        return pos;\n    };\n    Slider.prototype.checkHandleValue = function (value) {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        if (this.min === this.max) {\n            return (parseFloat(formatUnit(this.max)));\n        }\n        var handle = this.tempStartEnd();\n        if (value < handle.start) {\n            value = handle.start;\n        }\n        else if (value > handle.end) {\n            value = handle.end;\n        }\n        return value;\n    };\n    /**\n     * It is used to reposition slider.\n     * @returns void\n     */\n    Slider.prototype.reposition = function () {\n        var _this = this;\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        if (this.handleVal2) {\n            this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        }\n        if (this.orientation === 'Horizontal') {\n            // eslint-disable-next-line\n            this.enableRtl ? this.firstHandle.style.right =\n                this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\n            if (this.isMaterialTooltip) {\n                // eslint-disable-next-line\n                this.enableRtl ? this.materialHandle.style.right =\n                    this.handlePos1 + \"px\" : this.materialHandle.style.left = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                // eslint-disable-next-line\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                // eslint-disable-next-line\n                this.enableRtl ? this.secondHandle.style.right =\n                    this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\";\n                // eslint-disable-next-line\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            this.firstHandle.style.bottom = this.handlePos1 + \"px\";\n            if (this.isMaterialTooltip) {\n                this.materialHandle.style.bottom = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.secondHandle.style.bottom = this.handlePos2 + \"px\";\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None' && this.ul) {\n            this.removeElement(this.ul);\n            this.ul = undefined;\n            this.renderScale();\n        }\n        this.handleStart();\n        if (!this.tooltip.isVisible) {\n            setTimeout(function () {\n                _this.firstHandle.style.transition = _this.scaleTransform;\n                if (_this.type === 'Range') {\n                    _this.secondHandle.style.transition = _this.scaleTransform;\n                }\n            });\n        }\n        this.refreshTooltip(this.tooltipTarget);\n        this.setBarColor();\n    };\n    Slider.prototype.changeHandleValue = function (value) {\n        var position = null;\n        if (this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                this.handleVal1 = this.checkHandleValue(value);\n                this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n                if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\n                    this.handlePos1 = this.handlePos2;\n                    this.handleVal1 = this.handleVal2;\n                }\n                if (this.handlePos1 !== this.preHandlePos1) {\n                    position = this.preHandlePos1 = this.handlePos1;\n                }\n            }\n            this.modifyZindex();\n        }\n        else {\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                this.handleVal2 = this.checkHandleValue(value);\n                this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n                if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\n                    this.handlePos2 = this.handlePos1;\n                    this.handleVal2 = this.handleVal1;\n                }\n                if (this.handlePos2 !== this.preHandlePos2) {\n                    position = this.preHandlePos2 = this.handlePos2;\n                }\n            }\n            this.modifyZindex();\n        }\n        if (position !== null) {\n            if (this.type !== 'Default') {\n                this.setRangeBar();\n            }\n            this.setHandlePosition(null);\n        }\n    };\n    // eslint-disable-next-line\n    Slider.prototype.tempStartEnd = function () {\n        if (this.min > this.max) {\n            return {\n                start: this.max,\n                end: this.min\n            };\n        }\n        else {\n            return {\n                start: this.min,\n                end: this.max\n            };\n        }\n    };\n    // eslint-disable-next-line\n    Slider.prototype.xyToPosition = function (position) {\n        var pos;\n        if (this.min === this.max) {\n            return 100;\n        }\n        if (this.orientation === 'Horizontal') {\n            var left = position.x - this.element.getBoundingClientRect().left;\n            var num = this.element.offsetWidth / 100;\n            this.val = (left / num);\n        }\n        else {\n            var top_1 = position.y - this.element.getBoundingClientRect().top;\n            var num = this.element.offsetHeight / 100;\n            this.val = 100 - (top_1 / num);\n        }\n        var val = this.stepValueCalculation(this.val);\n        if (val < 0) {\n            val = 0;\n        }\n        else if (val > 100) {\n            val = 100;\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            val = 100 - val;\n        }\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (val / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (val / 100);\n        }\n        return pos;\n    };\n    Slider.prototype.stepValueCalculation = function (value) {\n        if (this.step === 0) {\n            this.step = 1;\n        }\n        var percentStep = (parseFloat(formatUnit(this.step))) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\n        var remain = value % Math.abs(percentStep);\n        if (remain !== 0) {\n            if ((percentStep / 2) > remain) {\n                value -= remain;\n            }\n            else {\n                value += Math.abs(percentStep) - remain;\n            }\n        }\n        return value;\n    };\n    Slider.prototype.add = function (a, b, addition) {\n        var precision;\n        var x = Math.pow(10, precision || 3);\n        var val;\n        if (addition) {\n            val = (Math.round(a * x) + Math.round(b * x)) / x;\n        }\n        else {\n            val = (Math.round(a * x) - Math.round(b * x)) / x;\n        }\n        return val;\n    };\n    Slider.prototype.positionToValue = function (pos) {\n        var val;\n        var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n        if (this.orientation === 'Horizontal') {\n            val = (pos / this.element.getBoundingClientRect().width) * diff;\n        }\n        else {\n            val = (pos / this.element.getBoundingClientRect().height) * diff;\n        }\n        var total = this.add(val, parseFloat(this.min.toString()), true);\n        return (total);\n    };\n    Slider.prototype.sliderBarClick = function (evt) {\n        evt.preventDefault();\n        // eslint-disable-next-line\n        var pos;\n        if (evt.type === 'mousedown' || evt.type === 'mouseup' || evt.type === 'click') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else if (evt.type === 'touchend' || evt.type === 'touchstart') {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        if (this.type === 'Range' && (this.handlePos2 - handlepos) < (handlepos - this.handlePos1)) {\n            this.activeHandle = 2;\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos2 = this.preHandlePos2 = handlepos;\n                this.handleVal2 = handleVal;\n            }\n            this.modifyZindex();\n            this.secondHandle.focus();\n        }\n        else {\n            this.activeHandle = 1;\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos1 = this.preHandlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.modifyZindex();\n            this.firstHandle.focus();\n        }\n        if (this.isMaterialTooltip) {\n            this.tooltipElement.classList.add(classNames.materialTooltipActive);\n        }\n        var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n        if (focusedElement && this.getHandle() !== focusedElement) {\n            focusedElement.classList.remove(classNames.sliderTabHandle);\n        }\n        var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n        if (evt.target === handle) {\n            if (this.isMaterial && !this.tooltip.isVisible &&\n                !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n                this.materialChange();\n            }\n            this.sliderBarUp(evt);\n            this.tooltipToggle(this.getHandle());\n            return;\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        var transition = this.isMaterial && this.tooltip.isVisible ?\n            this.transitionOnMaterialTooltip : this.transition;\n        this.getHandle().style.transition = transition.handle;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = transition.rangeBar;\n        }\n        this.setHandlePosition(evt);\n        if (this.isMaterialTooltip) {\n            this.initialTooltip = false;\n        }\n        this.changeEvent('changed', evt);\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\n        if (handleNumber === 1) {\n            this.handleVal1 = assignValue;\n            this.handleVal2 = this.handleVal1 + this.minDiff;\n        }\n        else if (handleNumber === 2) {\n            this.handleVal2 = assignValue;\n            this.handleVal1 = this.handleVal2 - this.minDiff;\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n    };\n    Slider.prototype.dragRangeBarMove = function (event) {\n        var _a, _b;\n        if (event.type !== 'touchmove') {\n            event.preventDefault();\n        }\n        this.rangeBarDragged = true;\n        var pos;\n        this.rangeBar.style.transition = 'none';\n        this.firstHandle.style.transition = 'none';\n        this.secondHandle.style.transition = 'none';\n        var xPostion;\n        var yPostion;\n        if (event.type === 'mousemove') {\n            _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n        }\n        else {\n            _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n        }\n        if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\n            if (!this.enableRtl) {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            else {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            this.handlePos1 = this.xyToPosition(pos);\n            this.handleVal1 = this.positionToValue(this.handlePos1);\n            if (!this.enableRtl) {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            else {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            this.handlePos2 = this.xyToPosition(pos);\n            this.handleVal2 = this.positionToValue(this.handlePos2);\n            if (this.limits.enabled) {\n                var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = value[0];\n                this.handlePos1 = value[1];\n                if (this.handleVal1 === this.limits.minEnd) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\n                }\n                if (this.handleVal1 === this.limits.minStart) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\n                }\n                value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n                this.handleVal2 = value[0];\n                this.handlePos2 = value[1];\n                if (this.handleVal2 === this.limits.maxStart) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\n                }\n                if (this.handleVal2 === this.limits.maxEnd) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\n                }\n            }\n            if (this.handleVal2 === this.max) {\n                this.handleValueAdjust(this.handleVal2, this.max, 2);\n            }\n            if (this.handleVal1 === this.min) {\n                this.handleValueAdjust(this.handleVal1, this.min, 1);\n            }\n        }\n        this.activeHandle = 1;\n        this.setHandlePosition(event);\n        this.activeHandle = 2;\n        this.setHandlePosition(event);\n        this.tooltipToggle(this.rangeBar);\n        this.setRangeBar();\n    };\n    Slider.prototype.sliderBarUp = function (event) {\n        this.changeEvent('changed', event);\n        this.handleFocusOut();\n        this.firstHandle.classList.remove(classNames.sliderActiveHandle);\n        if (this.type === 'Range') {\n            this.initialTooltip = false;\n            this.secondHandle.classList.remove(classNames.sliderActiveHandle);\n        }\n        this.closeTooltip();\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n            if (this.isMaterialTooltip) {\n                this.tooltipElement.classList.remove(classNames.materialTooltipActive);\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\n    };\n    Slider.prototype.sliderBarMove = function (evt) {\n        if (evt.type !== 'touchmove') {\n            evt.preventDefault();\n        }\n        var pos;\n        if (evt.type === 'mousemove') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        handlepos = Math.round(handlepos);\n        if (this.type !== 'Range' && this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handlepos = valueAndPostion[1];\n                    handleVal = valueAndPostion[0];\n                }\n                this.handlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.firstHandle.classList.add(classNames.sliderActiveHandle);\n        }\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                    if (handlepos > this.handlePos2) {\n                        handlepos = this.handlePos2;\n                        handleVal = this.handleVal2;\n                    }\n                    if (handlepos !== this.preHandlePos1) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos1 = this.preHandlePos1 = handlepos;\n                        this.handleVal1 = handleVal;\n                        this.activeHandle = 1;\n                    }\n                }\n            }\n            else if (this.activeHandle === 2) {\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                    if (handlepos < this.handlePos1) {\n                        handlepos = this.handlePos1;\n                        handleVal = this.handleVal1;\n                    }\n                    if (handlepos !== this.preHandlePos2) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos2 = this.preHandlePos2 = handlepos;\n                        this.handleVal2 = handleVal;\n                        this.activeHandle = 2;\n                    }\n                }\n            }\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        this.getHandle().style.transition = this.scaleTransform;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        this.setHandlePosition(evt);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipToggle(this.getHandle());\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.dragRangeBarUp = function (event) {\n        if (!this.rangeBarDragged) {\n            this.focusSliderElement();\n            this.sliderBarClick(event);\n        }\n        else {\n            this.isDragComplete = true;\n        }\n        this.changeEvent('changed', event);\n        this.closeTooltip();\n        EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\n        this.rangeBarDragged = false;\n    };\n    Slider.prototype.checkRepeatedValue = function (currentValue) {\n        if (this.type === 'Range') {\n            var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? (this.activeHandle === 1 ?\n                this.previousVal[1] : this.previousVal[0]) :\n                (this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1]);\n            if (currentValue === previousVal) {\n                return 0;\n            }\n        }\n        else {\n            if (currentValue === this.previousVal) {\n                return 0;\n            }\n        }\n        return 1;\n    };\n    Slider.prototype.refreshTooltip = function (target) {\n        if (this.tooltip.isVisible && this.tooltipObj) {\n            this.tooltipValue();\n            if (target) {\n                this.tooltipObj.refresh(target);\n                this.tooltipTarget = target;\n            }\n        }\n    };\n    Slider.prototype.openTooltip = function (target) {\n        if (this.tooltip.isVisible && this.tooltipObj && !this.isMaterialTooltip) {\n            this.tooltipValue();\n            this.tooltipObj.open(target);\n            this.tooltipTarget = target;\n        }\n    };\n    Slider.prototype.closeTooltip = function () {\n        if (this.tooltip.isVisible && this.tooltipObj && this.tooltip.showOn !== 'Always' && !this.isMaterialTooltip) {\n            this.tooltipValue();\n            this.tooltipObj.close();\n            this.tooltipTarget = undefined;\n        }\n    };\n    Slider.prototype.keyDown = function (event) {\n        switch (event.keyCode) {\n            case 37:\n            case 38:\n            case 39:\n            case 40:\n            case 33:\n            case 34:\n            case 36:\n            case 35:\n                event.preventDefault();\n                this.buttonClick(event);\n                break;\n        }\n    };\n    Slider.prototype.wireButtonEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\n        }\n        else {\n            EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\n            EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\n        }\n    };\n    Slider.prototype.rangeBarMousedown = function (event) {\n        var _a, _b;\n        event.preventDefault();\n        this.focusSliderElement();\n        if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\n            var xPostion = void 0;\n            var yPostion = void 0;\n            if (event.type === 'mousedown') {\n                _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n            }\n            else if (event.type === 'touchstart') {\n                _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n            }\n            if (this.orientation === 'Horizontal') {\n                this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\n            }\n            else {\n                this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\n            }\n            this.minDiff = this.handleVal2 - this.handleVal1;\n            this.tooltipToggle(this.rangeBar);\n            var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n            if (focusedElement) {\n                focusedElement.classList.remove(classNames.sliderTabHandle);\n            }\n            EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\n        }\n    };\n    Slider.prototype.elementClick = function (event) {\n        if (this.isDragComplete) {\n            this.isDragComplete = false;\n            return;\n        }\n        event.preventDefault();\n        this.focusSliderElement();\n        this.sliderBarClick(event);\n        this.focusHandle();\n    };\n    Slider.prototype.wireEvents = function () {\n        this.onresize = this.reposition.bind(this);\n        window.addEventListener('resize', this.onresize);\n        if (this.enabled && !this.readonly) {\n            EventHandler.add(this.element, 'click', this.elementClick, this);\n            if (this.type === 'Range' && this.drag) {\n                EventHandler.add(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown, this);\n            }\n            EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\n            EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\n            EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\n            this.wireFirstHandleEvt(false);\n            if (this.type === 'Range') {\n                this.wireSecondHandleEvt(false);\n            }\n            if (this.showButtons) {\n                this.wireButtonEvt(false);\n            }\n            this.wireMaterialTooltipEvent(false);\n            if (this.isForm) {\n                EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n            }\n        }\n    };\n    Slider.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.elementClick);\n        if (this.type === 'Range' && this.drag) {\n            EventHandler.remove(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown);\n        }\n        EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\n        EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\n        EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\n        EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\n        this.wireFirstHandleEvt(true);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(true);\n        }\n        if (this.showButtons) {\n            this.wireButtonEvt(true);\n        }\n        this.wireMaterialTooltipEvent(true);\n        EventHandler.remove(this.element, 'reset', this.formResetHandler);\n    };\n    Slider.prototype.formResetHandler = function () {\n        this.setProperties({ 'value': this.formResetValue }, true);\n        this.setValue();\n    };\n    Slider.prototype.keyUp = function (event) {\n        if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\n            this.focusSliderElement();\n            if (!event.target.classList.contains(classNames.sliderTabHandle)) {\n                if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                    this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n                }\n                event.target.classList.add(classNames.sliderTabHandle);\n                var parentElement = event.target.parentElement;\n                if (parentElement === this.element) {\n                    parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\n                    if (this.type === 'Range' || this.type === 'MinRange') {\n                        parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\n                    }\n                }\n                if (this.type === 'Range') {\n                    (event.target.previousSibling).classList.contains(classNames.sliderHandle) ?\n                        this.activeHandle = 2 : this.activeHandle = 1;\n                }\n                this.getHandle().focus();\n                this.tooltipToggle(this.getHandle());\n            }\n        }\n        this.closeTooltip();\n        this.changeEvent('changed', event);\n    };\n    Slider.prototype.hover = function (event) {\n        if (!isNullOrUndefined(event)) {\n            if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' ||\n                event.type === 'pointermove' || event.type === 'touchstart') {\n                this.sliderContainer.classList.add(classNames.sliderHover);\n            }\n            else {\n                this.sliderContainer.classList.remove(classNames.sliderHover);\n                var curTarget = event.currentTarget;\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && this.tooltipObj && this.isMaterialTooltip &&\n                    !curTarget.classList.contains(classNames.sliderHandleFocused) &&\n                    !curTarget.classList.contains(classNames.sliderTabHandle)) {\n                    this.closeMaterialTooltip();\n                }\n            }\n        }\n    };\n    Slider.prototype.sliderFocusOut = function (event) {\n        if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle &&\n            event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\n            this.closeMaterialTooltip();\n            this.closeTooltip();\n            if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\n                this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\n                if ((this.type === 'Range' || this.type === 'MinRange') &&\n                    this.element.querySelector('.' + classNames.sliderTabRange)) {\n                    this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\n                }\n            }\n            this.hiddenInput.focus();\n            this.hiddenInput.blur();\n            this.isElementFocused = false;\n        }\n    };\n    Slider.prototype.removeElement = function (element) {\n        if (element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    };\n    Slider.prototype.changeSliderType = function (type, args) {\n        if (this.isMaterialTooltip && this.materialHandle) {\n            this.sliderContainer.classList.remove(classNames.materialSlider);\n            this.removeElement(this.materialHandle);\n            this.materialHandle = undefined;\n        }\n        this.removeElement(this.firstHandle);\n        this.firstHandle = undefined;\n        if (type !== 'Default') {\n            if (type === 'Range') {\n                this.removeElement(this.secondHandle);\n                this.secondHandle = undefined;\n            }\n            this.removeElement(this.rangeBar);\n            this.rangeBar = undefined;\n        }\n        if (this.tooltip.isVisible && !isNullOrUndefined(this.tooltipObj)) {\n            this.tooltipObj.destroy();\n            this.tooltipElement = undefined;\n            this.tooltipCollidedPosition = undefined;\n        }\n        if (this.limits.enabled) {\n            if (type === 'MinRange' || type === 'Default') {\n                if (!isNullOrUndefined(this.limitBarFirst)) {\n                    this.removeElement(this.limitBarFirst);\n                    this.limitBarFirst = undefined;\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.limitBarSecond)) {\n                    this.removeElement(this.limitBarSecond);\n                    this.limitBarSecond = undefined;\n                }\n            }\n        }\n        this.activeHandle = 1;\n        this.getThemeInitialization();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setHandler();\n        this.setOrientClass();\n        this.wireFirstHandleEvt(false);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(false);\n        }\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n            this.wireMaterialTooltipEvent(false);\n        }\n        this.setBarColor();\n        if (args !== 'tooltip') {\n            this.updateConfig();\n        }\n    };\n    Slider.prototype.changeRtl = function () {\n        if (!this.enableRtl && this.type === 'Range') {\n            this.value = [this.handleVal2, this.handleVal1];\n        }\n        this.updateConfig();\n        if (this.tooltip.isVisible) {\n            this.tooltipObj.refresh(this.firstHandle);\n        }\n        if (this.showButtons) {\n            var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n            attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': 'Decrease', title: 'Decrease' });\n            attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': 'Increase', title: 'Increase' });\n        }\n    };\n    Slider.prototype.changeOrientation = function () {\n        this.changeSliderType(this.type, 'null');\n    };\n    Slider.prototype.updateConfig = function () {\n        this.setEnableRTL();\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.refreshTooltip(this.tooltipTarget);\n        }\n        if (this.ticks.placement !== 'None') {\n            if (this.ul) {\n                this.removeElement(this.ul);\n                this.ul = undefined;\n                this.renderScale();\n            }\n        }\n        this.limitsPropertyChange();\n    };\n    Slider.prototype.limitsPropertyChange = function () {\n        if (this.limits.enabled) {\n            if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\n                this.createLimitBar();\n            }\n            if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\n                this.createLimitBar();\n            }\n            this.setLimitBar();\n            this.setValue();\n        }\n        else {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                detach(this.limitBarFirst);\n            }\n            if (!isNullOrUndefined(this.limitBarSecond)) {\n                detach(this.limitBarSecond);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Slider.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}\n     */\n    Slider.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        window.removeEventListener('resize', this.onresize);\n        removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        this.firstHandle.removeAttribute('aria-orientation');\n        if (this.type === 'Range') {\n            this.secondHandle.removeAttribute('aria-orientation');\n        }\n        this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\n        detach(this.sliderContainer);\n        if (this.tooltip.isVisible) {\n            this.tooltipObj.destroy();\n        }\n        this.element.innerHTML = '';\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    // tslint:disable-next-line\n    Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'value':\n                    if (newProp && oldProp) {\n                        var value = isNullOrUndefined(newProp.value) ?\n                            (this.type === 'Range' ? [this.min, this.max] : this.min) : newProp.value;\n                        this.setProperties({ 'value': value }, true);\n                        if (!isNullOrUndefined(oldProp.value) && oldProp.value.toString() !== value.toString()) {\n                            this.setValue();\n                            this.refreshTooltip(this.tooltipTarget);\n                            if (this.type === 'Range') {\n                                if (isNullOrUndefined(newProp.value) || oldProp.value[1] === value[1]) {\n                                    this.activeHandle = 1;\n                                }\n                                else {\n                                    this.activeHandle = 2;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'min':\n                case 'step':\n                case 'max':\n                    this.setMinMaxValue();\n                    break;\n                case 'tooltip':\n                    if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\n                        this.setTooltip(prop);\n                    }\n                    break;\n                case 'type':\n                    if (!isNullOrUndefined(oldProp) && Object.keys(oldProp).length\n                        && !isNullOrUndefined(oldProp.type)) {\n                        this.changeSliderType(oldProp.type, prop);\n                        this.setZindex();\n                    }\n                    break;\n                case 'enableRtl':\n                    if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\n                        this.rtl = oldProp.enableRtl;\n                        this.changeRtl();\n                    }\n                    break;\n                case 'limits':\n                    this.limitsPropertyChange();\n                    break;\n                case 'orientation':\n                    this.changeOrientation();\n                    break;\n                case 'ticks':\n                    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n                        detach(this.ul);\n                        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                            if (className.match(/e-scale-/)) {\n                                _this.sliderContainer.classList.remove(className);\n                            }\n                        });\n                    }\n                    if (this.ticks.placement !== 'None') {\n                        this.renderScale();\n                        this.setZindex();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showButtons) {\n                        this.buttonTitle();\n                    }\n                    break;\n                case 'showButtons':\n                    if (newProp.showButtons) {\n                        this.setButtons();\n                        this.reposition();\n                        if (this.enabled && !this.readonly) {\n                            this.wireButtonEvt(false);\n                        }\n                    }\n                    else {\n                        if (this.firstBtn && this.secondBtn) {\n                            this.sliderContainer.removeChild(this.firstBtn);\n                            this.sliderContainer.removeChild(this.secondBtn);\n                            this.sliderContainer.classList.remove(classNames.sliderButtonClass);\n                            this.firstBtn = undefined;\n                            this.secondBtn = undefined;\n                            this.reposition();\n                        }\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'readonly':\n                    this.setReadOnly();\n                    break;\n                case 'customValues':\n                    this.setValue();\n                    this.reposition();\n                    break;\n                case 'colorRange':\n                    this.reposition();\n                    break;\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    this.setMinMaxValue();\n                    if (this.limits) {\n                        this.limitsPropertyChange();\n                    }\n                    break;\n            }\n        }\n    };\n    Slider.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            this.unwireEvents();\n            this.sliderContainer.classList.add(classNames.readonly);\n        }\n        else {\n            this.wireEvents();\n            this.sliderContainer.classList.remove(classNames.readonly);\n        }\n    };\n    Slider.prototype.setMinMaxValue = function () {\n        var _this = this;\n        this.setValue();\n        this.refreshTooltip(this.tooltipTarget);\n        if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n            if (this.ul) {\n                detach(this.ul);\n                Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                    if (className.match(/e-scale-/)) {\n                        _this.sliderContainer.classList.remove(className);\n                    }\n                });\n            }\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n            this.setZindex();\n        }\n    };\n    Slider.prototype.setZindex = function () {\n        this.zIndex = 6;\n        if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\n            this.ul.style.zIndex = (this.zIndex + -7) + '';\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n        if (this.type === 'Range') {\n            this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setTooltip = function (args) {\n        this.changeSliderType(this.type, args);\n    };\n    Slider.prototype.setBarColor = function () {\n        var trackPosition;\n        var trackClassName;\n        var child = this.sliderTrack.lastElementChild;\n        while (child) {\n            this.sliderTrack.removeChild(child);\n            child = this.sliderTrack.lastElementChild;\n        }\n        for (var i = 0; i < this.colorRange.length; i++) {\n            if (!isNullOrUndefined(this.colorRange[i].start) && !isNullOrUndefined(this.colorRange[i].end)) {\n                if (this.colorRange[i].end > this.colorRange[i].start) {\n                    if (this.colorRange[i].start < this.min) {\n                        this.colorRange[i].start = this.min;\n                    }\n                    if (this.colorRange[i].end > this.max) {\n                        this.colorRange[i].end = this.max;\n                    }\n                    var startingPosition = this.checkHandlePosition(this.colorRange[i].start);\n                    var endPosition = this.checkHandlePosition(this.colorRange[i].end);\n                    var trackContainer = this.createElement('div');\n                    trackContainer.style.backgroundColor = this.colorRange[i].color;\n                    trackContainer.style.border = '1px solid ' + this.colorRange[i].color;\n                    if (this.orientation === 'Horizontal') {\n                        trackClassName = classNames.sliderHorizantalColor;\n                        if (this.enableRtl) {\n                            if (isNullOrUndefined(this.customValues)) {\n                                trackPosition = this.checkHandlePosition(this.max) - this.checkHandlePosition(this.colorRange[i].end);\n                            }\n                            else {\n                                trackPosition = this.checkHandlePosition(this.customValues.length - this.colorRange[i].end - 1);\n                            }\n                        }\n                        else {\n                            trackPosition = this.checkHandlePosition(this.colorRange[i].start);\n                        }\n                        trackContainer.style.width = endPosition - startingPosition + 'px';\n                        trackContainer.style.left = trackPosition + 'px';\n                    }\n                    else {\n                        trackClassName = classNames.sliderVerticalColor;\n                        trackPosition = this.checkHandlePosition(this.colorRange[i].start);\n                        trackContainer.style.height = endPosition - startingPosition + 'px';\n                        trackContainer.style.bottom = trackPosition + 'px';\n                    }\n                    trackContainer.classList.add(trackClassName);\n                    this.sliderTrack.appendChild(trackContainer);\n                }\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    Slider.prototype.getModuleName = function () {\n        return 'slider';\n    };\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"customValues\", void 0);\n    __decorate([\n        Property(1)\n    ], Slider.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"width\", void 0);\n    __decorate([\n        Property(0)\n    ], Slider.prototype, \"min\", void 0);\n    __decorate([\n        Property(100)\n    ], Slider.prototype, \"max\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"readonly\", void 0);\n    __decorate([\n        Property('Default')\n    ], Slider.prototype, \"type\", void 0);\n    __decorate([\n        Collection([{}], ColorRangeData)\n    ], Slider.prototype, \"colorRange\", void 0);\n    __decorate([\n        Complex({}, TicksData)\n    ], Slider.prototype, \"ticks\", void 0);\n    __decorate([\n        Complex({}, LimitData)\n    ], Slider.prototype, \"limits\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, TooltipData)\n    ], Slider.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Slider.prototype, \"orientation\", void 0);\n    __decorate([\n        Property('')\n    ], Slider.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"changed\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderingTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderedTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"tooltipChange\", void 0);\n    Slider = __decorate([\n        NotifyPropertyChanges\n    ], Slider);\n    return Slider;\n}(Component));\nexport { Slider };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable prefer-spread */\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Deferred } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HIDEHEX = 'e-hide-hex-value';\nvar HIDEOPACITY = 'e-hide-opacity';\nvar HIDERGBA = 'e-hide-switchable-value';\nvar HIDEVALUE = 'e-hide-value';\nvar HIDEVALUESWITCH = 'e-hide-valueswitcher';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar OPACITY = 'e-opacity-value';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SHOWVALUE = 'e-show-value';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar presets = {\n    default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b',\n        '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7',\n        '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4',\n        '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d',\n        '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176',\n        '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58',\n        '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835',\n        '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d',\n        '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825',\n        '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */ (function (_super) {\n    __extends(ColorPicker, _super);\n    function ColorPicker(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ColorPicker.prototype.preRender = function () {\n        var ele = this.element;\n        this.formElement = closest(this.element, 'form');\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        var localeText = { Apply: 'Apply', Cancel: 'Cancel', ModeSwitcher: 'Switch Mode' };\n        this.l10n = new L10n('colorpicker', localeText, this.locale);\n        if (ele.getAttribute('ejs-for') && !ele.getAttribute('name')) {\n            ele.setAttribute('name', ele.id);\n        }\n    };\n    /**\n     * To Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    ColorPicker.prototype.render = function () {\n        this.initWrapper();\n        if (this.inline) {\n            this.createWidget();\n        }\n        else {\n            this.createSplitBtn();\n        }\n        if (!this.enableOpacity) {\n            addClass([this.container.parentElement], HIDEOPACITY);\n        }\n        this.renderComplete();\n    };\n    ColorPicker.prototype.initWrapper = function () {\n        var wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n        this.element.parentNode.insertBefore(wrapper, this.element);\n        wrapper.appendChild(this.element);\n        attributes(this.element, { 'tabindex': '-1', 'spellcheck': 'false' });\n        this.container = this.createElement('div', { className: CONTAINER });\n        this.getWrapper().appendChild(this.container);\n        var value = this.value ? this.roundValue(this.value).toLowerCase() : '#008000ff';\n        if (this.noColor && this.mode === 'Palette' && this.value === '') {\n            value = '';\n        }\n        var slicedValue = value.slice(0, 7);\n        if (isNullOrUndefined(this.initialInputValue)) {\n            this.initialInputValue = slicedValue;\n        }\n        this.element.value = slicedValue;\n        if (this.enableOpacity) {\n            this.setProperties({ 'value': value }, true);\n        }\n        else {\n            this.setProperties({ 'value': slicedValue }, true);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        this.tileRipple = rippleEffect(this.container, { selector: '.' + TILE });\n        this.ctrlBtnRipple = rippleEffect(this.container, { selector: '.e-btn' });\n    };\n    ColorPicker.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    ColorPicker.prototype.createWidget = function () {\n        if (this.mode === 'Palette') {\n            this.createPalette();\n            if (!this.inline) {\n                this.firstPaletteFocus();\n            }\n        }\n        else {\n            this.createPicker();\n            if (!this.inline) {\n                this.getDragHandler().focus();\n            }\n        }\n        this.isRgb = true;\n        this.createInput();\n        this.createCtrlBtn();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        if (this.inline && this.disabled) {\n            this.toggleDisabled(true);\n        }\n        if (Browser.isDevice) {\n            this.refreshPopupPos();\n        }\n    };\n    ColorPicker.prototype.createSplitBtn = function () {\n        var _this = this;\n        var splitButton = this.createElement('button', { className: 'e-split-colorpicker' });\n        this.getWrapper().appendChild(splitButton);\n        this.splitBtn = new SplitButton({\n            iconCss: 'e-selected-color',\n            target: this.container,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            createPopupOnClick: this.createPopupOnClick,\n            open: this.onOpen.bind(this),\n            click: function () {\n                _this.trigger('change', {\n                    currentValue: { hex: _this.value.slice(0, 7), rgba: _this.convertToRgbString(_this.hexToRgb(_this.value)) },\n                    previousValue: { hex: null, rgba: null }, value: _this.value\n                });\n            }\n        });\n        this.splitBtn.createElement = this.createElement;\n        this.splitBtn.appendTo(splitButton);\n        var preview = this.createElement('span', { className: SPLITPREVIEW });\n        select('.e-selected-color', splitButton).appendChild(preview);\n        preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n        var popupEle = this.getPopupEle();\n        addClass([popupEle], 'e-colorpicker-popup');\n        if (this.cssClass) {\n            addClass([popupEle], this.cssClass.split(' '));\n        }\n        if (Browser.isDevice) {\n            var popupInst = this.getPopupInst();\n            popupInst.relateTo = document.body;\n            popupInst.position = { X: 'center', Y: 'center' };\n            popupInst.targetType = 'container';\n            popupInst.collision = { X: 'fit', Y: 'fit' };\n            popupInst.offsetY = 4;\n            popupEle.style.zIndex = getZindexPartial(this.splitBtn.element).toString();\n        }\n        this.bindCallBackEvent();\n    };\n    ColorPicker.prototype.onOpen = function () {\n        this.trigger('open', { element: this.container });\n    };\n    ColorPicker.prototype.getPopupInst = function () {\n        return getInstance(this.getPopupEle(), Popup);\n    };\n    ColorPicker.prototype.bindCallBackEvent = function () {\n        var _this = this;\n        this.splitBtn.beforeOpen = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeOpen', args, function (observeOpenArgs) {\n                if (!observeOpenArgs.cancel) {\n                    var popupEle = _this.getPopupEle();\n                    popupEle.style.top = formatUnit(0 + pageYOffset);\n                    popupEle.style.left = formatUnit(0 + pageXOffset);\n                    popupEle.style.display = 'block';\n                    _this.createWidget();\n                    popupEle.style.display = '';\n                    if (Browser.isDevice) {\n                        _this.modal = _this.createElement('div');\n                        _this.modal.className = 'e-' + _this.getModuleName() + ' e-modal';\n                        _this.modal.style.display = 'none';\n                        document.body.insertBefore(_this.modal, popupEle);\n                        document.body.className += ' e-colorpicker-overflow';\n                        _this.modal.style.display = 'block';\n                        _this.modal.style.zIndex = (Number(popupEle.style.zIndex) - 1).toString();\n                    }\n                }\n                args.cancel = observeOpenArgs.cancel;\n                callBackPromise.resolve(observeOpenArgs);\n            });\n            return callBackPromise;\n        };\n        this.splitBtn.beforeClose = function (args) {\n            var callBackPromise = new Deferred();\n            if (!isNullOrUndefined(args.event)) {\n                var beforeCloseArgs = { element: _this.container, event: args.event, cancel: false };\n                _this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n                    if (Browser.isDevice && args.event.target === _this.modal) {\n                        observedCloseArgs.cancel = true;\n                    }\n                    if (!observedCloseArgs.cancel) {\n                        _this.onPopupClose();\n                    }\n                    args.cancel = observedCloseArgs.cancel;\n                    callBackPromise.resolve(observedCloseArgs);\n                });\n            }\n            else {\n                callBackPromise.resolve(args);\n            }\n            return callBackPromise;\n        };\n    };\n    ColorPicker.prototype.onPopupClose = function () {\n        this.unWireEvents();\n        this.destroyOtherComp();\n        this.container.style.width = '';\n        select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n        this.container.innerHTML = '';\n        removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n        if (Browser.isDevice && this.modal) {\n            removeClass([document.body], 'e-colorpicker-overflow');\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    ColorPicker.prototype.createPalette = function () {\n        classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n        if (this.presetColors) {\n            var paletteGroup = this.createElement('div', { className: 'e-custom-palette' });\n            this.appendElement(paletteGroup);\n            var keys = Object.keys(this.presetColors);\n            if (keys.length === 1) {\n                this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n            }\n            else {\n                for (var i = 0, len = keys.length; i < len; i++) {\n                    this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n                }\n            }\n            if (selectAll('.e-row', paletteGroup).length > 10) {\n                addClass([paletteGroup], 'e-palette-group');\n            }\n        }\n        else {\n            this.appendPalette(presets.default, 'default');\n        }\n        if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n            this.setNoColor();\n        }\n        var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n        this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n        this.rgb = this.hexToRgb(this.roundValue(this.value));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    };\n    ColorPicker.prototype.firstPaletteFocus = function () {\n        if (!select('.' + SELECT, this.container.children[0])) {\n            selectAll('.' + PALETTES, this.container)[0].focus();\n        }\n    };\n    ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n        var palette = this.createElement('div', { className: PALETTES, attrs: { 'tabindex': '0' } });\n        if (refEle) {\n            refEle.appendChild(palette);\n        }\n        else {\n            this.appendElement(palette);\n        }\n        var row;\n        var tile;\n        var roundedColor;\n        for (var i = 0, len = colors.length; i < len; i++) {\n            if (i === 0 || i % this.columns === 0) {\n                row = this.createElement('div', {\n                    className: 'e-row', attrs: { 'role': 'presentation' }\n                });\n                palette.appendChild(row);\n            }\n            roundedColor = this.roundValue(colors[i]).toLowerCase();\n            tile = this.createElement('span', {\n                className: TILE, attrs: { 'role': 'gridcell', 'aria-label': roundedColor, 'aria-selected': 'false' }\n            });\n            this.trigger('beforeTileRender', { element: tile, presetName: key, value: colors[i] });\n            row.appendChild(tile);\n            if (this.value === roundedColor) {\n                this.addTileSelection(tile);\n                palette.focus();\n            }\n            tile.style.backgroundColor = this.convertToRgbString(this.hexToRgb(roundedColor));\n        }\n    };\n    ColorPicker.prototype.setNoColor = function () {\n        var noColorEle = this.container.querySelector('.e-row').children[0];\n        noColorEle.classList.add(NOCOLOR);\n        if (!this.value) {\n            noColorEle.classList.add(SELECT);\n            closest(noColorEle, '.' + PALETTES).focus();\n        }\n        ['aria-selected', 'aria-label'].forEach(function (attr) { noColorEle.removeAttribute(attr); });\n        noColorEle.style.backgroundColor = '';\n    };\n    ColorPicker.prototype.appendElement = function (ele, insertPos) {\n        if (insertPos === void 0) { insertPos = 0; }\n        var refEle = this.container.children[insertPos];\n        if (refEle) {\n            this.container.insertBefore(ele, refEle);\n        }\n        else {\n            this.container.appendChild(ele);\n        }\n    };\n    ColorPicker.prototype.addTileSelection = function (ele) {\n        ele.classList.add(SELECT);\n        ele.setAttribute('aria-selected', 'true');\n    };\n    ColorPicker.prototype.createPicker = function () {\n        classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n        var hsvContainer = this.createElement('div', { className: HSVCONTAINER });\n        this.appendElement(hsvContainer);\n        hsvContainer.appendChild(this.createElement('div', { className: HSVAREA }));\n        var dragHandler = this.createElement('span', { className: HANDLER, attrs: { 'tabindex': '0' } });\n        hsvContainer.appendChild(dragHandler);\n        if (this.value === null) {\n            this.value = '#008000ff';\n        }\n        this.rgb = this.hexToRgb(this.value);\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        this.setHsvContainerBg();\n        this.setHandlerPosition();\n        this.createSlider();\n        this.createDragTooltip();\n    };\n    ColorPicker.prototype.setHsvContainerBg = function (h) {\n        if (h === void 0) { h = this.hsv[0]; }\n        this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n    };\n    ColorPicker.prototype.getHsvContainer = function () {\n        return select('.' + HSVCONTAINER, this.container);\n    };\n    ColorPicker.prototype.setHandlerPosition = function () {\n        var dragHandler = this.getDragHandler();\n        var hsvArea = select('.' + HSVAREA, this.container);\n        if (this.enableRtl) {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * Math.abs(100 - this.hsv[1]) / 100);\n        }\n        else {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * this.hsv[1] / 100);\n        }\n        dragHandler.style.top = formatUnit(hsvArea.offsetHeight * (100 - this.hsv[2]) / 100);\n    };\n    ColorPicker.prototype.createSlider = function () {\n        var sliderPreviewWrapper = this.createElement('div', { className: 'e-slider-preview' });\n        this.appendElement(sliderPreviewWrapper, 1);\n        this.createPreview(sliderPreviewWrapper);\n        var sliderWrapper = this.createElement('div', { className: 'e-colorpicker-slider' });\n        sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n        var slider = this.createElement('div', { className: 'e-hue-slider' });\n        sliderWrapper.appendChild(slider);\n        this.hueSlider = new Slider({\n            value: this.hsv[0],\n            min: 0,\n            max: 359,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.hueChange.bind(this)\n        });\n        this.hueSlider.createElement = this.createElement;\n        this.hueSlider.appendTo(slider);\n        if (this.enableOpacity) {\n            slider = this.createElement('div', { className: 'e-opacity-slider' });\n            sliderWrapper.appendChild(slider);\n            this.createOpacitySlider(slider);\n        }\n    };\n    ColorPicker.prototype.createOpacitySlider = function (slider) {\n        this.opacitySlider = new Slider({\n            value: this.rgb[3] * 100,\n            min: 0,\n            max: 100,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.opacityChange.bind(this)\n        });\n        this.opacitySlider.createElement = this.createElement;\n        this.opacitySlider.appendTo(slider);\n        var opacityBgTrack = this.createElement('div', { className: 'e-opacity-empty-track' });\n        slider.appendChild(opacityBgTrack);\n        this.updateOpacitySliderBg();\n    };\n    ColorPicker.prototype.updateOpacitySliderBg = function () {\n        var direction = this.enableRtl ? 'to left' : 'to right';\n        var opacityEle = select('.e-opacity-empty-track', this.opacitySlider.element);\n        if (opacityEle) {\n            opacityEle.style.background =\n                'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' +\n                    this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n        }\n    };\n    ColorPicker.prototype.hueChange = function (args) {\n        this.hsv[0] = args.value;\n        this.setHsvContainerBg();\n        this.convertToOtherFormat();\n    };\n    ColorPicker.prototype.opacityChange = function (args) {\n        var value = args.value;\n        var pValue = this.rgbToHex(this.rgb);\n        this.hsv[3] = value / 100;\n        this.rgb[3] = value / 100;\n        var cValue = this.rgbToHex(this.rgb);\n        this.updateOpacityInput(value);\n        var rgb = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgb);\n        this.triggerEvent(cValue, pValue, rgb);\n    };\n    ColorPicker.prototype.updateOpacityInput = function (value) {\n        if (this.enableOpacity && !this.getWrapper().classList.contains(HIDEVALUE)) {\n            var opacityTextBoxInst = getInstance(select('.' + OPACITY, this.container), NumericTextBox);\n            opacityTextBoxInst.value = value;\n            opacityTextBoxInst.dataBind();\n        }\n    };\n    ColorPicker.prototype.createPreview = function (parentEle) {\n        var previewContainer = this.createElement('div', { className: PREVIEW });\n        parentEle.appendChild(previewContainer);\n        var preview = this.createElement('span', { className: 'e-preview ' + CURRENT });\n        previewContainer.appendChild(preview);\n        var colorValue = this.convertToRgbString(this.rgb);\n        preview.style.backgroundColor = colorValue;\n        preview = this.createElement('span', { className: 'e-preview ' + PREVIOUS });\n        previewContainer.appendChild(preview);\n        preview.style.backgroundColor = colorValue;\n    };\n    ColorPicker.prototype.isPicker = function () {\n        return !this.container.classList.contains(PALETTECONTENT);\n    };\n    ColorPicker.prototype.getPopupEle = function () {\n        return this.container.parentElement;\n    };\n    ColorPicker.prototype.createNumericInput = function (element, value, label, max) {\n        var _this = this;\n        var numericInput = new NumericTextBox({\n            value: value,\n            placeholder: label,\n            min: 0,\n            max: max,\n            format: '###.##',\n            showSpinButton: false,\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true,\n            change: function (args) {\n                if (args.event) {\n                    _this.inputHandler(args.event);\n                }\n            }\n        });\n        numericInput.createElement = this.createElement;\n        numericInput.appendTo(element);\n    };\n    ColorPicker.prototype.createInput = function () {\n        var isPicker = this.isPicker();\n        var wrapper = this.getWrapper();\n        if ((isPicker && !wrapper.classList.contains(HIDEVALUE)) || (!isPicker && wrapper.classList.contains(SHOWVALUE))) {\n            var inputWrap = this.createElement('div', { className: INPUTWRAPPER });\n            if (isPicker) {\n                this.appendElement(inputWrap, 2);\n            }\n            else {\n                this.appendElement(inputWrap, 1);\n            }\n            var container = this.createElement('div', { className: 'e-input-container' });\n            inputWrap.appendChild(container);\n            if (!wrapper.classList.contains(HIDEVALUESWITCH)) {\n                this.appendValueSwitchBtn(inputWrap);\n            }\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                var hexInput = this.createElement('input', {\n                    className: HEX,\n                    attrs: { 'maxlength': '7', 'spellcheck': 'false' }\n                });\n                container.appendChild(hexInput);\n                Input.createInput({\n                    element: hexInput,\n                    floatLabelType: 'Always',\n                    properties: {\n                        placeholder: 'HEX',\n                        enableRtl: this.enableRtl,\n                        enabled: !this.disabled,\n                        readonly: this.isPicker() ? false : true\n                    }\n                }, this.createElement);\n                Input.setValue(this.value.slice(0, 7), hexInput);\n                hexInput.addEventListener('input', this.inputHandler.bind(this));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                var label = void 0;\n                var value = void 0;\n                if (this.isRgb) {\n                    label = 'RGB';\n                    value = this.rgb;\n                }\n                else {\n                    label = 'HSV';\n                    value = this.hsv;\n                }\n                var clsName = ['rh', 'gs', 'bv'];\n                for (var i = 0; i < 3; i++) {\n                    this.createNumericInput(container.appendChild(this.createElement('input', { className: 'e-' + clsName[i] + '-value' })), value[i], label[i], 255);\n                }\n                if (this.enableOpacity) {\n                    this.appendOpacityValue(container);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.appendOpacityValue = function (container) {\n        this.createNumericInput(container.appendChild(this.createElement('input', { className: OPACITY })), this.rgb[3] * 100, 'A', 100);\n    };\n    ColorPicker.prototype.appendValueSwitchBtn = function (targetEle) {\n        var valueSwitchBtn = this.createElement('button', {\n            className: 'e-icons e-css e-btn e-flat e-icon-btn ' + FORMATSWITCH\n        });\n        targetEle.appendChild(valueSwitchBtn);\n        if (this.isPicker() && !this.getWrapper().classList.contains(HIDERGBA)) {\n            valueSwitchBtn.addEventListener('click', this.formatSwitchHandler.bind(this));\n        }\n    };\n    ColorPicker.prototype.createCtrlBtn = function () {\n        if (this.modeSwitcher || this.showButtons) {\n            this.l10n.setLocale(this.locale);\n            var btnWrapper = this.createElement('div', { className: CTRLSWITCH });\n            this.container.appendChild(btnWrapper);\n            if (this.showButtons) {\n                var controlBtnWrapper = this.createElement('div', { className: CTRLBTN });\n                btnWrapper.appendChild(controlBtnWrapper);\n                var apply = this.l10n.getConstant('Apply');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: apply,\n                    className: 'e-btn e-css e-flat e-primary e-small ' + APPLY,\n                    attrs: { 'title': apply }\n                }));\n                var cancel = this.l10n.getConstant('Cancel');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: cancel,\n                    className: 'e-btn e-css e-flat e-small ' + CANCEL,\n                    attrs: { 'title': cancel }\n                }));\n            }\n            if (this.modeSwitcher) {\n                this.appendModeSwitchBtn();\n            }\n        }\n    };\n    ColorPicker.prototype.appendModeSwitchBtn = function () {\n        var modeSwitcher = this.createElement('button', {\n            className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH, attrs: { title: this.l10n.getConstant('ModeSwitcher') }\n        });\n        select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n    };\n    ColorPicker.prototype.createDragTooltip = function () {\n        var _this = this;\n        var tooltip = new Tooltip({\n            opensOn: 'Custom',\n            showTipPointer: false,\n            cssClass: 'e-color-picker-tooltip',\n            beforeOpen: function (args) {\n                _this.tooltipEle = args.element;\n            },\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        tooltip.createElement = this.createElement;\n        tooltip.appendTo(this.container);\n        tooltip.open(this.container);\n        this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n        select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', { className: 'e-tip-transparent' }));\n    };\n    ColorPicker.prototype.getTooltipInst = function () {\n        return getInstance(this.container, Tooltip);\n    };\n    ColorPicker.prototype.setTooltipOffset = function (value) {\n        this.getTooltipInst().offsetY = value;\n    };\n    ColorPicker.prototype.toggleDisabled = function (enable) {\n        if (enable) {\n            this.getWrapper().classList.add(DISABLED);\n        }\n        else {\n            this.getWrapper().classList.remove(DISABLED);\n        }\n        if (this.showButtons) {\n            ([].slice.call(selectAll('.e-btn', this.container))).forEach(function (ele) {\n                if (enable) {\n                    attributes(ele, { 'disabled': '' });\n                }\n                else {\n                    ele.removeAttribute('disabled');\n                }\n            });\n        }\n    };\n    ColorPicker.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    ColorPicker.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    ColorPicker.prototype.updateHsv = function () {\n        this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n        this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n        this.setHandlerPosition();\n    };\n    ColorPicker.prototype.convertToOtherFormat = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hsvToRgb.apply(this, this.hsv);\n        var cValue = this.rgbToHex(this.rgb);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.updateInput(cValue);\n        this.triggerEvent(cValue, pValue, rgba, isKey);\n    };\n    ColorPicker.prototype.updateInput = function (value) {\n        var wrapper = this.getWrapper();\n        if (!wrapper.classList.contains(HIDEVALUE)) {\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                if (this.isRgb) {\n                    this.updateValue(this.rgb, false);\n                }\n                else {\n                    this.updateValue(this.hsv, false);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.updatePreview = function (value) {\n        if (this.enableOpacity) {\n            this.updateOpacitySliderBg();\n        }\n        select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n    };\n    ColorPicker.prototype.getDragHandler = function () {\n        return select('.' + HANDLER, this.container);\n    };\n    ColorPicker.prototype.removeTileSelection = function () {\n        var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container.children[0]));\n        selectedEle.forEach(function (ele) {\n            ele.classList.remove(SELECT);\n            ele.setAttribute('aria-selected', 'false');\n        });\n    };\n    ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    /**\n     * To get color value in specified type.\n     *\n     * @param {string} value - Specify the color value.\n     * @param {string} type - Specify the type to which the specified color needs to be converted.\n     * @method getValue\n     * @returns {string} - Color value\n     */\n    ColorPicker.prototype.getValue = function (value, type) {\n        if (!value) {\n            value = this.value;\n        }\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     *\n     * @method toggle\n     * @returns {void}\n     */\n    ColorPicker.prototype.toggle = function () {\n        if (this.container.parentElement.classList.contains('e-popup-close')) {\n            this.splitBtn.toggle();\n        }\n        else {\n            this.closePopup(null);\n        }\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    ColorPicker.prototype.getModuleName = function () {\n        return 'colorpicker';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    ColorPicker.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ColorPicker.prototype.wireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n            EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n            if (this.modeSwitcher || this.showButtons) {\n                this.addCtrlSwitchEvent();\n            }\n            EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n        }\n        else {\n            EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n            EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n        }\n    };\n    ColorPicker.prototype.formResetHandler = function () {\n        this.value = this.initialInputValue;\n        attributes(this.element, { 'value': this.initialInputValue });\n    };\n    ColorPicker.prototype.addCtrlSwitchEvent = function () {\n        var ctrlSwitchBtn = select('.' + CTRLSWITCH, this.container);\n        if (ctrlSwitchBtn) {\n            EventHandler.add(ctrlSwitchBtn, 'click', this.btnClickHandler, this);\n        }\n    };\n    ColorPicker.prototype.pickerKeyDown = function (e) {\n        switch (e.keyCode) {\n            case 39:\n                this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n                break;\n            case 37:\n                this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n                break;\n            case 38:\n                this.handlerDragPosition(2, 1, e);\n                break;\n            case 40:\n                this.handlerDragPosition(2, -1, e);\n                break;\n            case 13: {\n                e.preventDefault();\n                var cValue = this.rgbToHex(this.rgb);\n                this.enterKeyHandler(cValue, e);\n            }\n        }\n    };\n    ColorPicker.prototype.enterKeyHandler = function (value, e) {\n        this.triggerChangeEvent(value);\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.closePopup = function (e) {\n        var _this = this;\n        var beforeCloseArgs = { element: this.container, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedcloseArgs) {\n            if (!observedcloseArgs.cancel) {\n                _this.splitBtn.toggle();\n                _this.onPopupClose();\n            }\n        });\n    };\n    ColorPicker.prototype.triggerChangeEvent = function (value) {\n        var hex = value.slice(0, 7);\n        this.trigger('change', {\n            currentValue: { hex: hex, rgba: this.convertToRgbString(this.rgb) },\n            previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) },\n            value: this.enableOpacity ? value : hex\n        });\n        if (this.enableOpacity) {\n            this.setProperties({ 'value': value }, true);\n        }\n        else {\n            this.setProperties({ 'value': hex }, true);\n        }\n        this.element.value = hex ? hex : '#000000';\n    };\n    ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n        e.preventDefault();\n        this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n        if (this.hsv[prob] < 0) {\n            this.hsv[prob] = 0;\n        }\n        this.updateHsv();\n        this.convertToOtherFormat(true);\n    };\n    ColorPicker.prototype.handlerDown = function (e) {\n        e.preventDefault();\n        if (e.type === 'mousedown') {\n            this.clientX = Math.abs(e.pageX - pageXOffset);\n            this.clientY = Math.abs(e.pageY - pageYOffset);\n            this.setTooltipOffset(8);\n        }\n        else {\n            this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n            this.setTooltipOffset(-8);\n        }\n        this.setHsv(this.clientX, this.clientY);\n        this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getDragHandler().focus();\n        EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n    };\n    ColorPicker.prototype.handlerMove = function (e) {\n        if (e.type !== 'touchmove') {\n            e.preventDefault();\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = Math.abs(e.pageX - pageXOffset);\n            y = Math.abs(e.pageY - pageYOffset);\n        }\n        else {\n            x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n        }\n        this.setHsv(x, y);\n        var dragHandler = this.getDragHandler();\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getTooltipInst().refresh(dragHandler);\n        if (!this.tooltipEle.style.transform) {\n            if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n                select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n                dragHandler.style.transition = 'none';\n                if (!this.inline) {\n                    this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n                }\n                this.tooltipEle.style.transform = 'rotate(45deg)';\n                dragHandler.classList.add('e-hide-handler');\n            }\n        }\n    };\n    ColorPicker.prototype.setHsv = function (clientX, clientY) {\n        var ele = select('.' + HSVAREA, this.container);\n        var position = ele.getBoundingClientRect();\n        if (this.enableRtl) {\n            clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n        }\n        else {\n            clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n        }\n        clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n        this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight -\n            Math.max(0, Math.min(ele.offsetHeight, (clientY - ele.offsetTop)))) / ele.offsetHeight) * 10) / 10;\n        this.hsv[1] =\n            Math.round(Number(100 * (Math.max(0, Math.min(ele.offsetWidth, (clientX - ele.offsetLeft)))) / ele.offsetWidth) * 10) / 10;\n    };\n    ColorPicker.prototype.handlerEnd = function (e) {\n        if (e.type !== 'touchend') {\n            e.preventDefault();\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n        EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n        var dragHandler = this.getDragHandler();\n        select('.' + HSVAREA, this.container).style.cursor = '';\n        if (this.tooltipEle.style.transform) {\n            this.tooltipEle.style.transform = '';\n            dragHandler.classList.remove('e-hide-handler');\n        }\n        if (!this.inline && !this.showButtons) {\n            this.closePopup(e);\n        }\n    };\n    ColorPicker.prototype.btnClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.' + MODESWITCH)) {\n            e.stopPropagation();\n            this.switchToPalette();\n        }\n        else {\n            if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                this.ctrlBtnClick(target, e);\n            }\n        }\n    };\n    ColorPicker.prototype.switchToPalette = function () {\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Palette' });\n        this.unWireEvents();\n        this.destroyOtherComp();\n        detach(select('.e-slider-preview', this.container));\n        if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n            remove(select('.' + INPUTWRAPPER, this.container));\n        }\n        detach(this.getHsvContainer());\n        this.createPalette();\n        this.firstPaletteFocus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n        this.trigger('onModeSwitch', { element: this.container, mode: 'Palette' });\n    };\n    ColorPicker.prototype.refreshPopupPos = function () {\n        if (!this.inline) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n        }\n    };\n    ColorPicker.prototype.formatSwitchHandler = function () {\n        if (this.isRgb) {\n            this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n            this.isRgb = false;\n        }\n        else {\n            this.updateValue(this.rgb, true, 2);\n            this.isRgb = true;\n        }\n    };\n    ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n        var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n        var inst;\n        for (var i = 0, len = clsName.length; i < len; i++) {\n            inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n            inst.value = Math.round(value[i]);\n            if (format) {\n                inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n                inst.max = max ? max[i] : 255;\n            }\n            inst.dataBind();\n        }\n    };\n    ColorPicker.prototype.previewHandler = function (e) {\n        var target = e.target;\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n        if (!this.rgb[3]) {\n            this.rgb[3] = 1;\n        }\n        var cValue = this.rgbToHex(this.rgb);\n        var hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n        }\n        this.setHsvContainerBg(hsv[0]);\n        if (this.enableOpacity && hsv[3] !== this.hsv[3]) {\n            this.opacitySlider.setProperties({ 'value': hsv[3] * 100 }, true);\n            this.opacitySlider.refresh();\n            this.updateOpacitySliderBg();\n        }\n        this.hsv = hsv;\n        this.setHandlerPosition();\n        this.updateInput(cValue);\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n    };\n    ColorPicker.prototype.paletteClickHandler = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        if (target.classList.contains(TILE)) {\n            this.removeTileSelection();\n            this.addTileSelection(target);\n            if (target.classList.contains(NOCOLOR)) {\n                this.noColorTile();\n            }\n            else {\n                var cValue = target.getAttribute('aria-label');\n                var pValue = this.rgbToHex(this.rgb);\n                this.rgb = this.hexToRgb(this.roundValue(cValue));\n                this.hsv = this.rgbToHsv.apply(this, this.rgb);\n                if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                    this.updateInput(cValue);\n                }\n                this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n            }\n            if (!this.inline && !this.showButtons) {\n                this.closePopup(e);\n            }\n        }\n        else {\n            if (closest(target, '.' + MODESWITCH)) {\n                this.switchToPicker();\n            }\n            else {\n                if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                    this.ctrlBtnClick(target, e);\n                }\n                else {\n                    if (this.getWrapper().classList.contains(SHOWVALUE) && closest(target, '.' + FORMATSWITCH)) {\n                        this.formatSwitchHandler();\n                    }\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.noColorTile = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = [];\n        this.hsv = [];\n        this.triggerEvent('', pValue, '', isKey);\n    };\n    ColorPicker.prototype.switchToPicker = function () {\n        var wrapper = this.getWrapper();\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Picker' });\n        this.unWireEvents();\n        ([].slice.call(selectAll('.' + PALETTES, this.container))).forEach(function (ele) {\n            detach(ele);\n        });\n        if (wrapper.classList.contains(SHOWVALUE)) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        this.container.style.width = '';\n        var grpEle = select('.e-custom-palette', this.container);\n        if (this.presetColors) {\n            remove(grpEle);\n        }\n        this.createPicker();\n        this.getDragHandler().focus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n        this.trigger('onModeSwitch', { element: this.container, mode: 'Picker' });\n    };\n    ColorPicker.prototype.ctrlBtnClick = function (ele, e) {\n        if (ele.classList.contains(APPLY)) {\n            var cValue = this.rgbToHex(this.rgb);\n            this.triggerChangeEvent(cValue);\n        }\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.paletteKeyDown = function (e) {\n        var target = e.target;\n        if (!target.classList.contains(PALETTES)) {\n            return;\n        }\n        var selectedEle;\n        var idx;\n        var tiles = [].slice.call(selectAll('.' + TILE, target));\n        var prevSelectedEle = (tiles.filter(function (tile) { return tile.classList.contains('e-selected'); })).pop();\n        switch (!e.altKey && e.keyCode) {\n            case 39:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)]\n                    : tiles[this.enableRtl ? tiles.length - 1 : 0];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 37:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)]\n                    : tiles[this.enableRtl ? 0 : tiles.length - 1];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 38:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n                selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 40:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n                if (tiles[idx]) {\n                    selectedEle = tiles[idx];\n                }\n                else {\n                    idx %= tiles.length;\n                    idx += tiles[tiles.length - 1].parentElement.childElementCount;\n                    selectedEle = tiles[idx];\n                }\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 13:\n                e.preventDefault();\n                if (prevSelectedEle) {\n                    var cValue = prevSelectedEle.getAttribute('aria-label');\n                    this.enterKeyHandler(cValue ? cValue : '', e);\n                }\n        }\n    };\n    ColorPicker.prototype.keySelectionChanges = function (newEle) {\n        this.removeTileSelection();\n        this.addTileSelection(newEle);\n        if (newEle.classList.contains(NOCOLOR)) {\n            this.noColorTile(true);\n        }\n        else {\n            var cValue = newEle.getAttribute('aria-label');\n            var pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(cValue);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                this.updateInput(cValue);\n            }\n            this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n        }\n    };\n    ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n        items = Array.prototype.slice.call(items);\n        var n = items.length;\n        var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n        var idx = items.indexOf(element);\n        idx += cIdx;\n        if (idx < 0) {\n            idx += n + emptyCount;\n        }\n        else {\n            idx %= n + emptyCount;\n        }\n        return idx;\n    };\n    ColorPicker.prototype.inputHandler = function (e) {\n        var target = e.target;\n        if (!target.value.length) {\n            return;\n        }\n        var hsv;\n        var pValue;\n        var label = select('.e-float-text', target.parentElement).textContent;\n        switch (label) {\n            case 'HEX': {\n                var value = '';\n                if ((target.value[0] === '#' && target.value.length !== 5) || (target.value[0] !== '#' && target.value.length !== 4)) {\n                    value = this.roundValue(target.value);\n                }\n                if (value.length === 9) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb = this.hexToRgb(value + value.substr(-2));\n                    this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value);\n                }\n                else {\n                    return;\n                }\n                break;\n            }\n            case 'R':\n                if (this.rgb[0] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[0] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'G':\n                if (this.rgb[1] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[1] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'B':\n                if (this.rgb[2] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[2] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'H':\n                this.hueSlider.value = Number(target.value);\n                break;\n            case 'S':\n                if (this.hsv[1] !== Number(target.value)) {\n                    this.hsv[1] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'V':\n                if (this.hsv[2] !== Number(target.value)) {\n                    this.hsv[2] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'A':\n                this.opacitySlider.value = Number(target.value);\n                break;\n        }\n    };\n    ColorPicker.prototype.inputValueChange = function (hsv, pValue, value) {\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n            this.setHsvContainerBg(hsv[0]);\n        }\n        this.hsv = hsv;\n        var cValue = this.rgbToHex(this.rgb);\n        this.setHandlerPosition();\n        this.updateInput(value ? value : cValue);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.triggerEvent(cValue, pValue, rgba);\n    };\n    ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var hex = cValue.slice(0, 7);\n        if (!this.showButtons && !isKey) {\n            this.trigger('change', { currentValue: { hex: hex, rgba: rgba },\n                previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) }, value: cValue });\n            if (this.enableOpacity) {\n                this.setProperties({ 'value': cValue }, true);\n            }\n            else {\n                this.setProperties({ 'value': hex }, true);\n            }\n            this.element.value = hex ? hex : '#000000';\n        }\n        else {\n            this.trigger('select', {\n                currentValue: { hex: hex, rgba: rgba },\n                previousValue: { hex: pValue.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(pValue)) }\n            });\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    ColorPicker.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        ['tabindex', 'spellcheck'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        if (this.inline) {\n            this.unWireEvents();\n            this.destroyOtherComp();\n        }\n        else {\n            if (this.isPopupOpen()) {\n                this.unWireEvents();\n                this.destroyOtherComp();\n            }\n            this.splitBtn.destroy();\n            this.splitBtn = null;\n        }\n        this.tileRipple();\n        this.tileRipple = null;\n        this.ctrlBtnRipple();\n        this.ctrlBtnRipple = null;\n        if (this.element.nextElementSibling) {\n            detach(this.element.nextElementSibling);\n        }\n        if (wrapper) {\n            wrapper.parentElement.insertBefore(this.element, wrapper);\n            detach(wrapper);\n        }\n        this.container = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    ColorPicker.prototype.destroyOtherComp = function () {\n        if (this.isPicker()) {\n            this.hueSlider.destroy();\n            if (this.enableOpacity) {\n                this.opacitySlider.destroy();\n                this.opacitySlider = null;\n            }\n            this.hueSlider = null;\n            var tooltipInst = this.getTooltipInst();\n            tooltipInst.close();\n            tooltipInst.destroy();\n            this.tooltipEle = null;\n        }\n    };\n    ColorPicker.prototype.isPopupOpen = function () {\n        return this.getPopupEle().classList.contains('e-popup-open');\n    };\n    ColorPicker.prototype.unWireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n            EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n            if (this.modeSwitcher || this.showButtons) {\n                EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n            }\n            EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n        }\n        else {\n            EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n            EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n        }\n    };\n    ColorPicker.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    ColorPicker.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n        if (this.rgb && !this.rgb.length) {\n            return [];\n        }\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var v = max;\n        var d = max - min;\n        var s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        var i = Math.floor(h);\n        var f = h - i;\n        var p = v * (1 - s);\n        var q = v * (1 - s * f);\n        var t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    ColorPicker.prototype.rgbToHex = function (rgb) {\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    ColorPicker.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n        var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlSwitchWrapper) {\n                this.appendModeSwitchBtn();\n            }\n            else {\n                this.createCtrlBtn();\n                if (this.isPicker() && !this.disabled) {\n                    this.addCtrlSwitchEvent();\n                }\n            }\n        }\n        else {\n            if (ctrlSwitchWrapper) {\n                if (this.showButtons) {\n                    detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n                }\n                else {\n                    remove(ctrlSwitchWrapper);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.changeShowBtnProps = function (prop) {\n        var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlBtnWrapper) {\n                remove(ctrlBtnWrapper);\n            }\n            this.createCtrlBtn();\n            if (this.isPicker() && !this.disabled) {\n                this.addCtrlSwitchEvent();\n            }\n        }\n        else {\n            if (this.modeSwitcher) {\n                detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n            }\n            else {\n                remove(ctrlBtnWrapper);\n            }\n        }\n    };\n    ColorPicker.prototype.changeValueProp = function (newProp) {\n        if (this.isPicker()) {\n            this.rgb = this.hexToRgb(newProp);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            this.setHandlerPosition();\n            detach(closest(this.hueSlider.element, '.e-slider-preview'));\n            this.createSlider();\n            this.setHsvContainerBg();\n            this.updateInput(newProp);\n            if (this.rgb.length === 4) {\n                this.updateOpacityInput(this.rgb[3] * 100);\n            }\n        }\n        else {\n            this.removeTileSelection();\n            var ele = this.container.querySelector('span[aria-label=\"' + this.roundValue(newProp) + '\"]');\n            if (ele) {\n                this.addTileSelection(ele);\n            }\n        }\n    };\n    ColorPicker.prototype.setInputEleProps = function () {\n        remove(select('.' + INPUTWRAPPER, this.container));\n        this.createInput();\n    };\n    ColorPicker.prototype.changeDisabledProp = function (newProp) {\n        if (this.isPicker()) {\n            this.hueSlider.enabled = !newProp;\n            this.opacitySlider.enabled = !newProp;\n            this.setInputEleProps();\n        }\n        if (newProp) {\n            this.toggleDisabled(true);\n            this.unWireEvents();\n        }\n        else {\n            this.toggleDisabled(false);\n            this.wireEvents();\n        }\n    };\n    ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        var popupWrapper = this.getPopupEle();\n        if (oldProp) {\n            removeClass([wrapper, popupWrapper], oldProp.split(' '));\n        }\n        if (newProp) {\n            addClass([wrapper, popupWrapper], newProp.split(' '));\n        }\n    };\n    ColorPicker.prototype.changeRtlProps = function (newProp) {\n        if (newProp) {\n            addClass([this.getWrapper()], 'e-rtl');\n        }\n        else {\n            removeClass([this.getWrapper()], 'e-rtl');\n        }\n    };\n    ColorPicker.prototype.changePaletteProps = function () {\n        detach(this.container.children[0]);\n        this.container.style.width = '';\n        this.createPalette();\n    };\n    ColorPicker.prototype.changeOpacityProps = function (newProp) {\n        var wrapper = this.getWrapper();\n        if (newProp) {\n            removeClass([this.container.parentElement], HIDEOPACITY);\n            this.createOpacitySlider(select('.e-colorpicker-slider', this.container).appendChild(this.createElement('div', { className: 'e-opacity-slider' })));\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                this.appendOpacityValue(select('.e-input-container', this.container));\n            }\n        }\n        else {\n            addClass([this.container.parentElement], HIDEOPACITY);\n            this.opacitySlider.destroy();\n            remove(this.opacitySlider.element);\n            this.opacitySlider = null;\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                remove(select('.' + OPACITY, this.container).parentElement);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {ColorPickerModel} newProp - Specifies new properties\n     * @param  {ColorPickerModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (!isNullOrUndefined(newProp.value)) {\n            var value = this.roundValue(newProp.value);\n            if (value.length === 9) {\n                this.element.value = this.roundValue(value).slice(0, 7);\n                var preview = this.splitBtn && select('.' + SPLITPREVIEW, this.splitBtn.element);\n                if (preview) {\n                    preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(newProp.value));\n                }\n            }\n            else {\n                this.value = oldProp.value;\n            }\n        }\n        if (!this.inline && isNullOrUndefined(newProp.inline)) {\n            var otherCompModel = ['disabled', 'enableRtl'];\n            this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n            if (!this.isPopupOpen()) {\n                this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                this.changeRtlProps(newProp.enableRtl);\n                return;\n            }\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'inline':\n                    if (newProp.inline) {\n                        this_1.getWrapper().appendChild(this_1.container);\n                        this_1.splitBtn.destroy();\n                        detach(this_1.element.nextElementSibling);\n                        if (!this_1.container.children.length) {\n                            this_1.createWidget();\n                        }\n                    }\n                    else {\n                        this_1.destroyOtherComp();\n                        this_1.unWireEvents();\n                        this_1.container.innerHTML = '';\n                        this_1.createSplitBtn();\n                    }\n                    break;\n                case 'cssClass': {\n                    this_1.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                    var props = newProp.cssClass.split(' ').concat(oldProp.cssClass.split(' '));\n                    props = props.reduce(function (a, b) { if (a.indexOf(b) < 0) {\n                        a.push(b);\n                    } return a; }, []);\n                    var count_1 = 0;\n                    props.forEach(function (cls) {\n                        if (count_1 === 0 &&\n                            (cls === HIDEVALUE || cls === HIDEVALUESWITCH || cls === SHOWVALUE || cls === HIDEHEX || cls === HIDERGBA)) {\n                            var inputWrap = select('.' + INPUTWRAPPER, _this.container);\n                            if (inputWrap) {\n                                remove(select('.' + INPUTWRAPPER, _this.container));\n                            }\n                            _this.createInput();\n                            count_1++;\n                        }\n                    });\n                    break;\n                }\n                case 'enableRtl':\n                    if (this_1.isPicker()) {\n                        this_1.hueSlider.enableRtl = newProp.enableRtl;\n                        if (this_1.enableOpacity) {\n                            this_1.opacitySlider.enableRtl = newProp.enableRtl;\n                        }\n                        this_1.setInputEleProps();\n                    }\n                    this_1.changeRtlProps(newProp.enableRtl);\n                    break;\n                case 'disabled':\n                    this_1.changeDisabledProp(newProp.disabled);\n                    break;\n                case 'value':\n                    if (this_1.value !== oldProp.value) {\n                        this_1.changeValueProp(newProp.value);\n                    }\n                    break;\n                case 'showButtons':\n                    this_1.changeShowBtnProps(newProp.showButtons);\n                    break;\n                case 'mode':\n                    if (newProp.mode === 'Picker') {\n                        this_1.switchToPicker();\n                    }\n                    else {\n                        this_1.switchToPalette();\n                    }\n                    break;\n                case 'modeSwitcher':\n                    this_1.changeModeSwitcherProp(newProp.modeSwitcher);\n                    break;\n                case 'columns':\n                case 'presetColors':\n                    if (!this_1.isPicker()) {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'noColor':\n                    if (newProp.noColor) {\n                        if (this_1.mode === 'Palette' && !this_1.modeSwitcher) {\n                            this_1.setNoColor();\n                        }\n                    }\n                    else {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'enableOpacity':\n                    this_1.changeOpacityProps(newProp.enableOpacity);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    /**\n     * Sets the focus to Colorpicker\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    ColorPicker.prototype.focusIn = function () {\n        this.element.parentElement.focus();\n    };\n    __decorate([\n        Property('#008000ff')\n    ], ColorPicker.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ColorPicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('Picker')\n    ], ColorPicker.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorPicker.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(10)\n    ], ColorPicker.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"inline\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"onModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"created\", void 0);\n    ColorPicker = __decorate([\n        NotifyPropertyChanges\n    ], ColorPicker);\n    return ColorPicker;\n}(Component));\nexport { ColorPicker };\n","import { addClass, Browser, removeClass, EventHandler, formatUnit, isNullOrUndefined, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { getInstance, closest, selectAll, detach } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as classes from '../base/classes';\nimport * as events from '../base/constant';\nimport { CLS_TOOLBAR, CLS_DROPDOWN_BTN, CLS_RTE_ELEMENTS, CLS_TB_BTN, CLS_INLINE_DROPDOWN, CLS_COLOR_CONTENT, CLS_FONT_COLOR_DROPDOWN, CLS_BACKGROUND_COLOR_DROPDOWN, CLS_COLOR_PALETTE, CLS_FONT_COLOR_PICKER, CLS_BACKGROUND_COLOR_PICKER, CLS_CUSTOM_TILE, CLS_NOCOLOR_ITEM, CLS_BULLETFORMATLIST_TB_BTN, CLS_NUMBERFORMATLIST_TB_BTN, CLS_LIST_PRIMARY_CONTENT } from '../base/classes';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { hasClass } from '../base/util';\n/**\n * `Toolbar renderer` module is used to render toolbar in RichTextEditor.\n *\n * @hidden\n\n */\nvar ToolbarRenderer = /** @class */ (function () {\n    /**\n     * Constructor for toolbar renderer module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent element.\n     */\n    function ToolbarRenderer(parent) {\n        this.parent = parent;\n        this.wireEvent();\n    }\n    ToolbarRenderer.prototype.wireEvent = function () {\n        this.parent.on(events.destroy, this.unWireEvent, this);\n    };\n    ToolbarRenderer.prototype.unWireEvent = function () {\n        this.parent.off(events.destroy, this.unWireEvent);\n        if (this.popupOverlay) {\n            EventHandler.remove(this.popupOverlay, 'click touchmove', this.onPopupOverlay);\n        }\n        this.removePopupContainer();\n    };\n    ToolbarRenderer.prototype.toolbarBeforeCreate = function (e) {\n        if (this.mode === 'Extended') {\n            e.enableCollision = false;\n        }\n    };\n    ToolbarRenderer.prototype.toolbarCreated = function () {\n        this.parent.notify(events.toolbarCreated, this);\n    };\n    ToolbarRenderer.prototype.toolbarClicked = function (args) {\n        if (!this.parent.enabled) {\n            return;\n        }\n        if (!this.parent.readonly || isNullOrUndefined(args.item)) {\n            this.parent.notify(events.toolbarClick, args);\n        }\n        this.parent.trigger('toolbarClick', args);\n    };\n    ToolbarRenderer.prototype.dropDownSelected = function (args) {\n        this.parent.notify(events.dropDownSelect, args);\n        this.onPopupOverlay();\n    };\n    ToolbarRenderer.prototype.beforeDropDownItemRender = function (args) {\n        if (this.parent.readonly || !this.parent.enabled) {\n            return;\n        }\n        this.parent.notify(events.beforeDropDownItemRender, args);\n    };\n    ToolbarRenderer.prototype.dropDownOpen = function (args) {\n        if (args.element.parentElement.getAttribute('id').indexOf('TableCell') > -1 && !isNOU(args.element.parentElement.querySelector('.e-cell-merge')) &&\n            (!isNOU(args.element.parentElement.querySelector('.e-cell-horizontal-split')) || !isNOU(args.element.parentElement.querySelector('.e-cell-vertical-split')))) {\n            var listEle = args.element.querySelectorAll('li');\n            if (this.parent.inputElement.querySelectorAll('.e-cell-select').length === 1) {\n                addClass([listEle[0]], 'e-disabled');\n                removeClass([listEle[1], listEle[2]], 'e-disabled');\n            }\n            else if (this.parent.inputElement.querySelectorAll('.e-cell-select').length > 1) {\n                removeClass([listEle[0]], 'e-disabled');\n                addClass([listEle[1], listEle[2]], 'e-disabled');\n            }\n        }\n        if (Browser.isDevice && !args.element.parentElement.classList.contains(classes.CLS_QUICK_DROPDOWN)) {\n            this.popupModal(args.element.parentElement);\n        }\n        this.parent.notify(events.selectionSave, args);\n    };\n    ToolbarRenderer.prototype.dropDownClose = function (args) {\n        this.removePopupContainer();\n        this.parent.notify(events.selectionRestore, args);\n    };\n    ToolbarRenderer.prototype.removePopupContainer = function () {\n        if (Browser.isDevice && !isNullOrUndefined(this.popupContainer)) {\n            var popupEle = this.popupContainer.querySelector('.e-dropdown-popup.e-tbar-btn.e-control');\n            if (popupEle) {\n                this.popupContainer.parentNode.insertBefore(popupEle, this.popupContainer.nextSibling);\n                popupEle.style.removeProperty('position');\n                removeClass([popupEle], 'e-popup-modal');\n            }\n            detach(this.popupContainer);\n            this.popupContainer = undefined;\n        }\n    };\n    /**\n     * renderToolbar method\n     *\n     * @param {IToolbarOptions} args - specifies the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderToolbar = function (args) {\n        this.setPanel(args.target);\n        this.renderPanel();\n        this.mode = args.overflowMode;\n        args.rteToolbarObj.toolbarObj = new Toolbar({\n            items: args.items,\n            width: '100%',\n            overflowMode: args.overflowMode,\n            beforeCreate: this.toolbarBeforeCreate.bind(this),\n            created: this.toolbarCreated.bind(this),\n            clicked: this.toolbarClicked.bind(this),\n            enablePersistence: args.enablePersistence,\n            enableRtl: args.enableRtl\n        });\n        args.rteToolbarObj.toolbarObj.isStringTemplate = true;\n        args.rteToolbarObj.toolbarObj.createElement = this.parent.createElement;\n        args.rteToolbarObj.toolbarObj.appendTo(args.target);\n    };\n    /**\n     * renderDropDownButton method\n     *\n     * @param {IDropDownModel} args - specifies the the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderDropDownButton = function (args) {\n        var _this = this;\n        var css;\n        args.element.classList.add(CLS_DROPDOWN_BTN);\n        css = args.cssClass + ' ' + CLS_RTE_ELEMENTS + ' ' + CLS_TB_BTN;\n        if (this.parent.inlineMode.enable && Browser.isDevice) {\n            css = css + ' ' + CLS_INLINE_DROPDOWN;\n        }\n        // eslint-disable-next-line\n        var proxy = this;\n        var dropDown = new DropDownButton({\n            items: args.items,\n            iconCss: args.iconCss,\n            cssClass: css,\n            content: args.content,\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            select: this.dropDownSelected.bind(this),\n            beforeOpen: function (args) {\n                if (proxy.parent.readonly || !proxy.parent.enabled) {\n                    args.cancel = true;\n                    return;\n                }\n                // eslint-disable-next-line\n                for (var index = 0; index < args.element.childNodes.length; index++) {\n                    var divNode = _this.parent.createElement('div');\n                    divNode.innerHTML = dropDown.content.trim();\n                    if (divNode.textContent.trim() !== ''\n                        && args.element.childNodes[index].textContent.trim() === divNode.textContent.trim()) {\n                        if (!args.element.childNodes[index].classList.contains('e-active')) {\n                            addClass([args.element.childNodes[index]], 'e-active');\n                        }\n                    }\n                    else {\n                        removeClass([args.element.childNodes[index]], 'e-active');\n                    }\n                }\n                proxy.parent.notify(events.beforeDropDownOpen, args);\n            },\n            close: this.dropDownClose.bind(this),\n            open: this.dropDownOpen.bind(this),\n            beforeItemRender: this.beforeDropDownItemRender.bind(this)\n        });\n        dropDown.isStringTemplate = true;\n        dropDown.createElement = proxy.parent.createElement;\n        dropDown.appendTo(args.element);\n        args.element.tabIndex = -1;\n        var popupElement = document.getElementById(dropDown.element.id + '-popup');\n        popupElement.setAttribute('aria-owns', this.parent.getID());\n        return dropDown;\n    };\n    /**\n     * renderListDropDown method\n     *\n     * @param {IDropDownModel} args - specifies the the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderListDropDown = function (args) {\n        // eslint-disable-next-line\n        var proxy = this;\n        var css = CLS_RTE_ELEMENTS + ' ' + CLS_TB_BTN + ((this.parent.inlineMode) ? (' ' + CLS_INLINE_DROPDOWN) : '');\n        css += (' ' + ((args.itemName === 'NumberFormatList') ? CLS_NUMBERFORMATLIST_TB_BTN : CLS_BULLETFORMATLIST_TB_BTN));\n        var content = proxy.parent.createElement('span', { className: CLS_LIST_PRIMARY_CONTENT });\n        var inlineEle = proxy.parent.createElement('span', { className: args.cssClass });\n        content.appendChild(inlineEle);\n        var dropDown = new DropDownButton({\n            items: args.items,\n            cssClass: css,\n            content: args.content,\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            select: this.dropDownSelected.bind(this),\n            beforeOpen: function (args) {\n                if (proxy.parent.readonly || !proxy.parent.enabled) {\n                    args.cancel = true;\n                    return;\n                }\n                var element = (args.event) ? args.event.target : null;\n                proxy.currentElement = dropDown.element;\n                proxy.currentDropdown = dropDown;\n                if (args.event && args.event.type === 'click' && (element.classList.contains(CLS_LIST_PRIMARY_CONTENT)\n                    || element.parentElement.classList.contains(CLS_LIST_PRIMARY_CONTENT))) {\n                    args.cancel = true;\n                    return;\n                }\n                proxy.parent.notify(events.beforeDropDownOpen, args);\n            },\n            close: this.dropDownClose.bind(this),\n            open: this.dropDownOpen.bind(this),\n            beforeItemRender: this.beforeDropDownItemRender.bind(this)\n        });\n        dropDown.isStringTemplate = true;\n        dropDown.createElement = proxy.parent.createElement;\n        dropDown.appendTo(args.element);\n        args.element.tabIndex = -1;\n        var popupElement = document.getElementById(dropDown.element.id + '-popup');\n        popupElement.setAttribute('aria-owns', this.parent.getID());\n        if (args.element.childElementCount === 1) {\n            dropDown.element.insertBefore(content, dropDown.element.querySelector('.e-caret'));\n        }\n        args.element.tabIndex = -1;\n        dropDown.element.removeAttribute('type');\n        return dropDown;\n    };\n    // eslint-disable-next-line\n    ToolbarRenderer.prototype.onPopupOverlay = function (args) {\n        if (!isNullOrUndefined(this.popupOverlay)) {\n            closest(this.popupOverlay, '.e-popup-container').style.display = 'none';\n            this.popupOverlay.style.display = 'none';\n            removeClass([this.popupOverlay], 'e-popup-overlay');\n        }\n    };\n    ToolbarRenderer.prototype.setIsModel = function (element) {\n        if (!closest(element, '.e-popup-container')) {\n            this.popupContainer = this.parent.createElement('div', {\n                className: 'e-rte-modal-popup e-popup-container e-center'\n            });\n            element.parentNode.insertBefore(this.popupContainer, element);\n            this.popupContainer.appendChild(element);\n            this.popupContainer.style.zIndex = element.style.zIndex;\n            this.popupContainer.style.display = 'flex';\n            element.style.position = 'relative';\n            addClass([element], 'e-popup-modal');\n            this.popupOverlay = this.parent.createElement('div', { className: 'e-popup-overlay' });\n            // eslint-disable-next-line\n            this.popupOverlay.style.zIndex = (parseInt(element.style.zIndex, null) - 1).toString();\n            this.popupOverlay.style.display = 'block';\n            this.popupContainer.appendChild(this.popupOverlay);\n            EventHandler.add(this.popupOverlay, 'click touchmove', this.onPopupOverlay, this);\n        }\n        else {\n            element.parentElement.style.display = 'flex';\n            this.popupOverlay = element.nextElementSibling;\n            this.popupOverlay.style.display = 'block';\n            addClass([this.popupOverlay], 'e-popup-overlay');\n        }\n    };\n    ToolbarRenderer.prototype.paletteSelection = function (dropDownArgs, currentElement) {\n        var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n        var colorbox = [].slice.call(selectAll('.e-tile', ele.parentElement));\n        removeClass(colorbox, 'e-selected');\n        var style = currentElement.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n        (colorbox.filter(function (colorbox) {\n            if (colorbox.style.backgroundColor === style) {\n                addClass([colorbox], 'e-selected');\n            }\n        }));\n    };\n    /**\n     * renderColorPickerDropDown method\n     *\n     * @param {IColorPickerModel} args - specifies the arguments.\n     * @param {string} item - specifies the item.\n     * @param {ColorPicker} colorPicker - specifies the colorpicker.\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderColorPickerDropDown = function (args, item, colorPicker, defaultColor) {\n        var _this = this;\n        // eslint-disable-next-line\n        var proxy = this;\n        var css = CLS_RTE_ELEMENTS + ' ' + CLS_TB_BTN + ((this.parent.inlineMode) ? (' ' + CLS_INLINE_DROPDOWN) : '');\n        css += (' ' + ((item === 'backgroundcolor') ? CLS_BACKGROUND_COLOR_DROPDOWN : CLS_FONT_COLOR_DROPDOWN));\n        var content = proxy.parent.createElement('span', { className: CLS_COLOR_CONTENT });\n        var inlineEle = proxy.parent.createElement('span', { className: args.cssClass });\n        var range;\n        var initialBackgroundColor = (isNullOrUndefined(defaultColor)) ? proxy.parent.backgroundColor.default : defaultColor;\n        inlineEle.style.borderBottomColor = (item === 'backgroundcolor') ?\n            initialBackgroundColor : proxy.parent.fontColor.default;\n        content.appendChild(inlineEle);\n        var dropDown = new DropDownButton({\n            target: colorPicker.element.parentElement, cssClass: css,\n            enablePersistence: this.parent.enablePersistence, enableRtl: this.parent.enableRtl,\n            beforeOpen: function (dropDownArgs) {\n                if (proxy.parent.readonly || !proxy.parent.enabled) {\n                    dropDownArgs.cancel = true;\n                    return;\n                }\n                var element = (dropDownArgs.event) ? dropDownArgs.event.target : null;\n                proxy.currentElement = dropDown.element;\n                proxy.currentDropdown = dropDown;\n                proxy.paletteSelection(dropDownArgs, proxy.currentElement);\n                if (dropDownArgs.event && dropDownArgs.event.type === 'click' && (element.classList.contains(CLS_COLOR_CONTENT)\n                    || element.parentElement.classList.contains(CLS_COLOR_CONTENT))) {\n                    dropDownArgs.cancel = true;\n                    var colorpickerValue = element.classList.contains(CLS_RTE_ELEMENTS) ? element.style.borderBottomColor :\n                        element.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n                    proxy.parent.notify(events.selectionRestore, {});\n                    range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                    var parentNode = range.startContainer.parentNode;\n                    if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' ||\n                        (closest(range.startContainer.parentNode, 'td,th')) ||\n                        (proxy.parent.iframeSettings.enable && !hasClass(parentNode.ownerDocument.querySelector('body'), 'e-lib')))\n                        && range.collapsed && args.subCommand === 'BackgroundColor') {\n                        proxy.parent.notify(events.tableColorPickerChanged, {\n                            item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    else {\n                        proxy.parent.notify(events.colorPickerChanged, { item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    return;\n                }\n                else {\n                    var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n                    var inst = getInstance(ele, ColorPicker);\n                    inst.showButtons = (dropDownArgs.element.querySelector('.e-color-palette')) ? false : true;\n                    inst.dataBind();\n                }\n                dropDownArgs.element.onclick = function (args) {\n                    if (args.target.classList.contains('e-cancel')) {\n                        dropDown.toggle();\n                    }\n                };\n            },\n            open: function (dropDownArgs) {\n                _this.setColorPickerContentWidth(colorPicker);\n                var focusEle;\n                var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n                if (dropDownArgs.element.querySelector('.e-color-palette')) {\n                    focusEle = ele.parentElement.querySelector('.e-palette');\n                }\n                else {\n                    focusEle = ele.parentElement.querySelector('e-handler');\n                }\n                if (focusEle) {\n                    focusEle.focus();\n                }\n                if (Browser.isDevice) {\n                    _this.popupModal(dropDownArgs.element.parentElement);\n                }\n                _this.pickerRefresh(dropDownArgs);\n            },\n            beforeClose: function (dropDownArgs) {\n                var element = (dropDownArgs.event) ? dropDownArgs.event.target : null;\n                if (dropDownArgs.event && dropDownArgs.event.type === 'click' && (element.classList.contains(CLS_COLOR_CONTENT)\n                    || element.parentElement.classList.contains(CLS_COLOR_CONTENT))) {\n                    var colorpickerValue = element.classList.contains(CLS_RTE_ELEMENTS) ? element.style.borderBottomColor :\n                        element.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n                    range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                    if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' ||\n                        closest(range.startContainer.parentNode, 'td,th')) && range.collapsed) {\n                        proxy.parent.notify(events.tableColorPickerChanged, { item: {\n                                command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue\n                            }\n                        });\n                    }\n                    else {\n                        proxy.parent.notify(events.colorPickerChanged, { item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    return;\n                }\n            },\n            close: function (dropDownArgs) {\n                proxy.parent.notify(events.selectionRestore, {});\n                var dropElement = closest(dropDownArgs.element.parentElement, '.e-popup-container');\n                if (dropElement) {\n                    dropElement.style.display = 'none';\n                    dropElement.lastElementChild.style.display = 'none';\n                    removeClass([dropElement.lastElementChild], 'e-popup-overlay');\n                }\n                if (Browser.isDevice && !isNullOrUndefined(dropElement)) {\n                    var popupEle = dropElement.querySelector('.e-dropdown-popup.e-tbar-btn.e-control');\n                    if (popupEle) {\n                        dropElement.parentNode.insertBefore(popupEle, dropElement.nextSibling);\n                        popupEle.style.removeProperty('position');\n                        removeClass([popupEle], 'e-popup-modal');\n                    }\n                    detach(dropElement);\n                    proxy.popupContainer = undefined;\n                }\n            }\n        });\n        dropDown.isStringTemplate = true;\n        dropDown.createElement = proxy.parent.createElement;\n        args.element.setAttribute('role', 'button');\n        dropDown.appendTo(args.element);\n        var popupElement = document.getElementById(dropDown.element.id + '-popup');\n        popupElement.setAttribute('aria-owns', this.parent.getID());\n        dropDown.element.insertBefore(content, dropDown.element.querySelector('.e-caret'));\n        args.element.tabIndex = -1;\n        dropDown.element.removeAttribute('type');\n        dropDown.element.onmousedown = function () {\n            proxy.parent.notify(events.selectionSave, {});\n        };\n        dropDown.element.onkeydown = function () {\n            proxy.parent.notify(events.selectionSave, {});\n        };\n        return dropDown;\n    };\n    ToolbarRenderer.prototype.pickerRefresh = function (dropDownArgs) {\n        if (this.parent.backgroundColor.mode === 'Picker') {\n            var popupElem = dropDownArgs.element.parentElement;\n            popupElem.style.width = (popupElem.offsetWidth + 5).toString() + 'px';\n            getInstance(popupElem, Popup).refreshPosition(popupElem);\n            popupElem.style.width = (popupElem.offsetWidth - 5).toString() + 'px';\n        }\n    };\n    ToolbarRenderer.prototype.popupModal = function (element) {\n        var popupInst = getInstance(element, Popup);\n        popupInst.relateTo = document.body;\n        popupInst.position = { X: 0, Y: 0 };\n        popupInst.targetType = 'container';\n        popupInst.collision = { X: 'fit', Y: 'fit' };\n        popupInst.offsetY = 4;\n        popupInst.dataBind();\n        this.setIsModel(element);\n    };\n    ToolbarRenderer.prototype.setColorPickerContentWidth = function (colorPicker) {\n        var colorPickerContent = colorPicker.element.nextSibling;\n        if (colorPickerContent.style.width === '0px') {\n            colorPickerContent.style.width = '';\n            var borderWidth = parseInt(getComputedStyle(colorPickerContent).borderBottomWidth, 10);\n            colorPickerContent.style.width = formatUnit(colorPickerContent.children[0].offsetWidth\n                + borderWidth + borderWidth);\n        }\n    };\n    /**\n     * renderColorPicker method\n     *\n     * @param {IColorPickerModel} args - specifies the arguments\n     * @param {string} item - specifies the string values\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderColorPicker = function (args, item) {\n        // eslint-disable-next-line\n        var proxy = this;\n        var value;\n        var colorPicker = new ColorPicker({\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            inline: true,\n            value: '#fff',\n            created: function () {\n                var value = (item === 'backgroundcolor') ? proxy.parent.backgroundColor.default : proxy.parent.fontColor.default;\n                colorPicker.setProperties({ value: value });\n            },\n            mode: ((item === 'backgroundcolor') ? proxy.parent.backgroundColor.mode : proxy.parent.fontColor.mode),\n            modeSwitcher: ((item === 'backgroundcolor') ? proxy.parent.backgroundColor.modeSwitcher : proxy.parent.fontColor.modeSwitcher),\n            beforeTileRender: function (args) {\n                args.element.classList.add(CLS_COLOR_PALETTE);\n                args.element.classList.add(CLS_CUSTOM_TILE);\n                if (args.value === '') {\n                    args.element.classList.add(CLS_NOCOLOR_ITEM);\n                }\n            },\n            change: function (colorPickerArgs) {\n                var colorpickerValue = colorPickerArgs.currentValue.rgba;\n                colorPickerArgs.item = {\n                    command: args.command,\n                    subCommand: args.subCommand,\n                    value: colorpickerValue\n                };\n                proxy.parent.notify(events.selectionRestore, {});\n                proxy.currentElement.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor = colorpickerValue;\n                var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' || range.startContainer.nodeName === 'BODY' ||\n                    closest(range.startContainer.parentNode, 'td,th')) && range.collapsed && args.subCommand === 'BackgroundColor') {\n                    proxy.parent.notify(events.tableColorPickerChanged, colorPickerArgs);\n                }\n                else {\n                    proxy.parent.notify(events.colorPickerChanged, colorPickerArgs);\n                }\n                proxy.currentDropdown.toggle();\n            },\n            beforeModeSwitch: function (args) {\n                value = colorPicker.value;\n                if (value === '') {\n                    colorPicker.setProperties({ value: ((args.mode === 'Picker') ? '#008000ff' : '') }, true);\n                }\n                colorPicker.showButtons = args.mode === 'Palette' ? false : true;\n            }\n        });\n        colorPicker.isStringTemplate = true;\n        colorPicker.columns = (item === 'backgroundcolor') ? this.parent.backgroundColor.columns : this.parent.fontColor.columns;\n        colorPicker.presetColors = (item === 'backgroundcolor') ? this.parent.backgroundColor.colorCode :\n            this.parent.fontColor.colorCode;\n        colorPicker.cssClass = (item === 'backgroundcolor') ? CLS_BACKGROUND_COLOR_PICKER : CLS_FONT_COLOR_PICKER;\n        colorPicker.createElement = this.parent.createElement;\n        colorPicker.appendTo(document.getElementById(args.target));\n        return colorPicker;\n    };\n    /**\n     * The function is used to render Rich Text Editor toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderPanel = function () {\n        this.getPanel().classList.add(CLS_TOOLBAR);\n    };\n    /**\n     * Get the toolbar element of RichTextEditor\n     *\n     * @returns {Element} - specifies the element.\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.getPanel = function () {\n        return this.toolbarPanel;\n    };\n    /**\n     * Set the toolbar element of RichTextEditor\n     *\n     * @returns {void}\n     * @param  {Element} panel - specifies the element.\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.setPanel = function (panel) {\n        this.toolbarPanel = panel;\n    };\n    return ToolbarRenderer;\n}());\nexport { ToolbarRenderer };\n","import { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { ServiceLocator } from '../services/service-locator';\nimport { RendererFactory } from '../services/renderer-factory';\n/**\n * `ToolbarAction` module is used to toolbar click action\n */\nvar ToolbarAction = /** @class */ (function () {\n    function ToolbarAction(parent) {\n        this.parent = parent;\n        this.addEventListener();\n        this.serviceLocator = new ServiceLocator;\n        this.serviceLocator.register('rendererFactory', new RendererFactory);\n    }\n    ToolbarAction.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarClick, this.toolbarClick, this);\n        this.parent.on(events.dropDownSelect, this.dropDownSelect, this);\n        this.parent.on(events.colorPickerChanged, this.renderSelection, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    ToolbarAction.prototype.toolbarClick = function (args) {\n        if (isNOU(args.item)) {\n            return;\n        }\n        if (!isNOU(args.item.controlParent)) {\n            // eslint-disable-next-line\n            var activeEle = args.item.controlParent\n                .activeEle;\n            if (activeEle) {\n                activeEle.tabIndex = -1;\n            }\n        }\n        if (args.item.command === 'NumberFormatList' || args.item.command === 'BulletFormatList') {\n            if (args.originalEvent.target.classList.contains('e-order-list') || args.originalEvent.target.classList.contains('e-unorder-list')) {\n                args.item.command = 'Lists';\n                args.item.subCommand = args.item.subCommand === 'NumberFormatList' ? 'OL' : 'UL';\n            }\n        }\n        if (args.item.command === 'Lists') {\n            if (args.originalEvent.target.classList.contains('e-caret') &&\n                (args.originalEvent.target.parentElement.classList.contains('e-rte-bulletformatlist-dropdown') || args.originalEvent.target.parentElement.classList.contains('e-rte-numberformatlist-dropdown'))) {\n                args.item.command = args.item.subCommand = null;\n            }\n        }\n        this.parent.notify(events.htmlToolbarClick, args);\n        this.parent.notify(events.markdownToolbarClick, args);\n    };\n    ToolbarAction.prototype.dropDownSelect = function (e) {\n        this.parent.notify(events.selectionRestore, {});\n        if (!(document.body.contains(document.body.querySelector('.e-rte-quick-toolbar'))\n            && e.item && (e.item.command === 'Images' || e.item.command === 'Display' || e.item.command === 'Table'))) {\n            var value = e.item.controlParent && this.parent.quickToolbarModule && this.parent.quickToolbarModule.tableQTBar\n                && this.parent.quickToolbarModule.tableQTBar.element.contains(e.item.controlParent.element) ? 'Table' : null;\n            if (e.item.command === 'Lists') {\n                var listItem = { listStyle: e.item.value, listImage: e.item.listImage, type: e.item.subCommand };\n                this.parent.formatter.process(this.parent, e, e.originalEvent, listItem);\n            }\n            else {\n                this.parent.formatter.process(this.parent, e, e.originalEvent, value);\n            }\n        }\n        this.parent.notify(events.selectionSave, {});\n    };\n    ToolbarAction.prototype.renderSelection = function (args) {\n        this.parent.notify(events.selectionRestore, {});\n        this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n        this.parent.notify(events.selectionSave, {});\n    };\n    ToolbarAction.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarClick, this.toolbarClick);\n        this.parent.off(events.dropDownSelect, this.dropDownSelect);\n        this.parent.off(events.colorPickerChanged, this.renderSelection);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    return ToolbarAction;\n}());\nexport { ToolbarAction };\n","import { addClass, Browser, EventHandler, detach, removeClass, select, selectAll, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { RenderType, ToolbarType } from '../base/enum';\nimport { setToolbarStatus, updateUndoRedoStatus, getTBarItemsIndex, getCollection, toObjectLowerCase, isIDevice } from '../base/util';\nimport { updateDropDownFontFormatLocale } from '../base/util';\nimport * as model from '../models/items';\nimport { ToolbarRenderer } from '../renderer/toolbar-renderer';\nimport { BaseToolbar } from './base-toolbar';\nimport { DropDownButtons } from './dropdown-buttons';\nimport { ToolbarAction } from './toolbar-action';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent, serviceLocator) {\n        this.parent = parent;\n        this.isToolbar = false;\n        this.locator = serviceLocator;\n        this.isTransformChild = false;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        model.updateDropDownLocale(this.parent);\n        updateDropDownFontFormatLocale(this.parent);\n        this.renderFactory.addRenderer(RenderType.Toolbar, new ToolbarRenderer(this.parent));\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n        this.baseToolbar = new BaseToolbar(this.parent, this.locator);\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, model.tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = model.tools;\n        }\n    }\n    Toolbar.prototype.initializeInstance = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.editableElement = this.contentRenderer.getEditPanel();\n        this.editPanel = this.contentRenderer.getPanel();\n    };\n    Toolbar.prototype.toolbarBindEvent = function () {\n        if (!this.parent.inlineMode.enable) {\n            this.keyBoardModule = new KeyboardEvents(this.getToolbarElement(), {\n                keyAction: this.toolBarKeyDown.bind(this), keyConfigs: this.parent.formatter.keyConfig, eventName: 'keydown'\n            });\n        }\n    };\n    Toolbar.prototype.toolBarKeyDown = function (e) {\n        switch (e.action) {\n            case 'escape':\n                this.parent.contentModule.getEditPanel().focus();\n                break;\n        }\n    };\n    Toolbar.prototype.createToolbarElement = function () {\n        this.tbElement = this.parent.createElement('div', { id: this.parent.getID() + '_toolbar' });\n        if (!Browser.isDevice && this.parent.inlineMode.enable && isIDevice()) {\n            return;\n        }\n        else {\n            if (this.parent.toolbarSettings.enableFloating && !this.parent.inlineMode.enable) {\n                this.tbWrapper = this.parent.createElement('div', {\n                    id: this.parent.getID() + '_toolbar_wrapper',\n                    innerHTML: this.tbElement.outerHTML,\n                    className: classes.CLS_TB_WRAP\n                });\n                this.tbElement = this.tbWrapper.firstElementChild;\n                this.parent.element.insertBefore(this.tbWrapper, this.editPanel);\n            }\n            else {\n                this.parent.element.insertBefore(this.tbElement, this.editPanel);\n            }\n        }\n    };\n    Toolbar.prototype.getToolbarMode = function () {\n        var tbMode;\n        switch (this.parent.toolbarSettings.type) {\n            case ToolbarType.Expand:\n                tbMode = 'Extended';\n                break;\n            case ToolbarType.Scrollable:\n                tbMode = 'Scrollable';\n                break;\n            default:\n                tbMode = 'MultiRow';\n        }\n        if (isIDevice() && this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            tbMode = ToolbarType.Scrollable;\n        }\n        return tbMode;\n    };\n    Toolbar.prototype.checkToolbarResponsive = function (ele) {\n        if (!Browser.isDevice || isIDevice()) {\n            return false;\n        }\n        var tBarMode;\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            tBarMode = ToolbarType.MultiRow;\n        }\n        else {\n            tBarMode = this.parent.toolbarSettings.type;\n        }\n        this.baseToolbar.render({\n            container: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items,\n            mode: tBarMode,\n            target: ele\n        });\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            addClass([ele], ['e-rte-tb-mobile']);\n            if (this.parent.inlineMode.enable) {\n                this.addFixedTBarClass();\n            }\n            else {\n                addClass([ele], [classes.CLS_TB_STATIC]);\n            }\n        }\n        this.wireEvents();\n        this.dropDownModule.renderDropDowns({\n            container: ele,\n            containerType: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items\n        });\n        this.parent.notify(events.renderColorPicker, {\n            container: this.tbElement,\n            containerType: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items\n        });\n        return true;\n    };\n    Toolbar.prototype.checkIsTransformChild = function () {\n        this.isTransformChild = false;\n        var transformElements = selectAll('[style*=\"transform\"]', document);\n        for (var i = 0; i < transformElements.length; i++) {\n            if (!isNullOrUndefined(transformElements[i].contains) && transformElements[i].contains(this.parent.element)) {\n                this.isTransformChild = true;\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.toggleFloatClass = function (e) {\n        var topValue;\n        var isBody = false;\n        var isFloat = false;\n        var scrollParent;\n        var floatOffset = this.parent.floatingToolbarOffset;\n        if (e && this.parent.iframeSettings.enable && this.parent.inputElement.ownerDocument === e.target) {\n            scrollParent = e.target.body;\n        }\n        else if (e && e.target !== document) {\n            scrollParent = e.target;\n        }\n        else {\n            isBody = true;\n            scrollParent = document.body;\n        }\n        var tbHeight = this.getToolbarHeight() + this.getExpandTBarPopHeight();\n        if (this.isTransformChild) {\n            topValue = 0;\n            var scrollParentRelativeTop = 0;\n            var trgHeight = this.parent.element.offsetHeight;\n            if (isBody) {\n                var bodyStyle = window.getComputedStyle(scrollParent);\n                scrollParentRelativeTop = parseFloat(bodyStyle.marginTop.split('px')[0]) + parseFloat(bodyStyle.paddingTop.split('px')[0]);\n            }\n            var targetTop = this.parent.element.getBoundingClientRect().top;\n            var scrollParentYOffset = (Browser.isMSPointer && isBody) ? window.pageYOffset : scrollParent.parentElement.scrollTop;\n            var scrollParentRect = scrollParent.getBoundingClientRect();\n            var scrollParentTop = (!isBody) ? scrollParentRect.top : (scrollParentRect.top + scrollParentYOffset);\n            var outOfRange = ((targetTop - ((!isBody) ? scrollParentTop : 0))\n                + trgHeight > tbHeight + floatOffset) ? false : true;\n            if (targetTop > (scrollParentTop + floatOffset) || targetTop < -trgHeight || ((targetTop < 0) ? outOfRange : false)) {\n                isFloat = false;\n                removeClass([this.tbElement], [classes.CLS_TB_ABS_FLOAT]);\n            }\n            else if (targetTop < (scrollParentTop + floatOffset)) {\n                if (targetTop < 0) {\n                    topValue = (-targetTop) + scrollParentTop;\n                }\n                else {\n                    topValue = scrollParentTop - targetTop;\n                }\n                topValue = (isBody) ? topValue - scrollParentRelativeTop : topValue;\n                addClass([this.tbElement], [classes.CLS_TB_ABS_FLOAT]);\n                isFloat = true;\n            }\n        }\n        else {\n            var parent_1 = this.parent.element.getBoundingClientRect();\n            if (window.innerHeight < parent_1.top) {\n                return;\n            }\n            topValue = (e && e.target !== document) ? scrollParent.getBoundingClientRect().top : 0;\n            if ((parent_1.bottom < (floatOffset + tbHeight + topValue)) || parent_1.bottom < 0 || parent_1.top > floatOffset + topValue) {\n                isFloat = false;\n            }\n            else if (parent_1.top < floatOffset) {\n                isFloat = true;\n            }\n        }\n        if (!isFloat) {\n            removeClass([this.tbElement], [classes.CLS_TB_FLOAT]);\n            setStyleAttribute(this.tbElement, { top: 0 + 'px', width: '100%' });\n        }\n        else {\n            addClass([this.tbElement], [classes.CLS_TB_FLOAT]);\n            setStyleAttribute(this.tbElement, { width: this.parent.element.offsetWidth + 'px', top: (floatOffset + topValue) + 'px' });\n        }\n    };\n    Toolbar.prototype.renderToolbar = function () {\n        this.initializeInstance();\n        this.createToolbarElement();\n        if (this.checkToolbarResponsive(this.tbElement)) {\n            return;\n        }\n        if (this.parent.inlineMode.enable) {\n            this.parent.notify(events.renderInlineToolbar, {});\n        }\n        else {\n            this.baseToolbar.render({\n                container: 'toolbar',\n                items: this.parent.toolbarSettings.items,\n                mode: this.getToolbarMode(),\n                target: this.tbElement\n            });\n            if (!this.parent.inlineMode.enable) {\n                if (this.parent.toolbarSettings.enableFloating) {\n                    this.checkIsTransformChild();\n                    this.toggleFloatClass();\n                }\n                addClass([this.parent.element], [classes.CLS_RTE_TB_ENABLED]);\n                if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n                    addClass([this.parent.element], [classes.CLS_RTE_EXPAND_TB]);\n                }\n            }\n        }\n        this.wireEvents();\n        if (this.parent.inlineMode.enable && !isIDevice()) {\n            this.addFixedTBarClass();\n        }\n        if (!this.parent.inlineMode.enable) {\n            this.dropDownModule.renderDropDowns({\n                container: this.tbElement,\n                containerType: 'toolbar',\n                items: this.parent.toolbarSettings.items\n            });\n            this.parent.notify(events.renderColorPicker, {\n                container: this.tbElement,\n                containerType: 'toolbar',\n                items: this.parent.toolbarSettings.items\n            });\n            this.refreshToolbarOverflow();\n        }\n        var divEle = this.parent.element.querySelector('.e-rte-srctextarea');\n        var iframeEle = this.parent.element.querySelector('.e-source-content');\n        if ((!this.parent.iframeSettings.enable && (!isNOU(divEle) && divEle.style.display === 'block')) ||\n            (this.parent.iframeSettings.enable && (!isNOU(iframeEle) && iframeEle.style.display === 'block'))) {\n            this.parent.notify(events.updateToolbarItem, {\n                targetItem: 'SourceCode', updateItem: 'Preview',\n                baseToolbar: this.parent.getBaseToolbarObject()\n            });\n            this.parent.disableToolbarItem(this.parent.toolbarSettings.items);\n        }\n    };\n    /**\n     * addFixedTBarClass method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.addFixedTBarClass = function () {\n        addClass([this.tbElement], [classes.CLS_TB_FIXED]);\n    };\n    /**\n     * removeFixedTBarClass method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.removeFixedTBarClass = function () {\n        removeClass([this.tbElement], [classes.CLS_TB_FIXED]);\n    };\n    Toolbar.prototype.showFixedTBar = function () {\n        addClass([this.tbElement], [classes.CLS_SHOW]);\n        if (Browser.isIos) {\n            addClass([this.tbElement], [classes.CLS_TB_IOS_FIX]);\n        }\n    };\n    Toolbar.prototype.hideFixedTBar = function () {\n        // eslint-disable-next-line\n        (!this.isToolbar) ? removeClass([this.tbElement], [classes.CLS_SHOW, classes.CLS_TB_IOS_FIX]) : this.isToolbar = false;\n    };\n    /**\n     * updateItem method\n     *\n     * @param {IUpdateItemsModel} args - specifies the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.updateItem = function (args) {\n        var item = this.tools[args.updateItem.toLocaleLowerCase()];\n        var trgItem = this.tools[args.targetItem.toLocaleLowerCase()];\n        var index = getTBarItemsIndex(getCollection(trgItem.subCommand), args.baseToolbar.toolbarObj.items)[0];\n        if (!isNOU(index)) {\n            var prefixId = this.parent.inlineMode.enable ? '_quick_' : '_toolbar_';\n            args.baseToolbar.toolbarObj.items[index].id = this.parent.getID() + prefixId + item.id;\n            args.baseToolbar.toolbarObj.items[index].prefixIcon = item.icon;\n            args.baseToolbar.toolbarObj.items[index].tooltipText = item.tooltip;\n            args.baseToolbar.toolbarObj.items[index].subCommand = item.subCommand;\n            args.baseToolbar.toolbarObj.dataBind();\n        }\n        else {\n            this.addTBarItem(args, 0);\n        }\n    };\n    Toolbar.prototype.updateToolbarStatus = function (args) {\n        if (!this.tbElement || (this.parent.inlineMode.enable && (isIDevice() || !Browser.isDevice))) {\n            return;\n        }\n        var options = {\n            args: args,\n            dropDownModule: this.dropDownModule,\n            parent: this.parent,\n            tbElements: selectAll('.' + classes.CLS_TB_ITEM, this.tbElement),\n            tbItems: this.baseToolbar.toolbarObj.items\n        };\n        setToolbarStatus(options, (this.parent.inlineMode.enable ? true : false), this.parent);\n    };\n    Toolbar.prototype.fullScreen = function (e) {\n        this.parent.fullScreenModule.showFullScreen(e);\n    };\n    Toolbar.prototype.hideScreen = function (e) {\n        this.parent.fullScreenModule.hideFullScreen(e);\n    };\n    /**\n     * getBaseToolbar method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.getBaseToolbar = function () {\n        return this.baseToolbar;\n    };\n    /**\n     * addTBarItem method\n     *\n     * @param {IUpdateItemsModel} args - specifies the arguments.\n     * @param {number} index - specifies the index value.\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.addTBarItem = function (args, index) {\n        args.baseToolbar.toolbarObj.addItems([args.baseToolbar.getObject(args.updateItem, 'toolbar')], index);\n    };\n    /**\n     * enableTBarItems method\n     *\n     * @param {BaseToolbar} baseToolbar - specifies the toolbar.\n     * @param {string} items - specifies the string value.\n     * @param {boolean} isEnable - specifies the boolean value.\n     * @param {boolean} muteToolbarUpdate - specifies the toolbar.\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.enableTBarItems = function (baseToolbar, items, isEnable, muteToolbarUpdate) {\n        var trgItems = getTBarItemsIndex(getCollection(items), baseToolbar.toolbarObj.items);\n        this.tbItems = selectAll('.' + classes.CLS_TB_ITEM, baseToolbar.toolbarObj.element);\n        for (var i = 0; i < trgItems.length; i++) {\n            var item = this.tbItems[trgItems[i]];\n            if (item) {\n                baseToolbar.toolbarObj.enableItems(item, isEnable);\n            }\n        }\n        if (!select('.e-rte-srctextarea', this.parent.element) && !muteToolbarUpdate) {\n            updateUndoRedoStatus(baseToolbar, this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n        }\n    };\n    /**\n     * removeTBarItems method\n     *\n     * @param {string} items - specifies the string value.\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.removeTBarItems = function (items) {\n        if (isNullOrUndefined(this.baseToolbar.toolbarObj)) {\n            this.baseToolbar = this.parent.getBaseToolbarObject();\n        }\n        var trgItems = getTBarItemsIndex(getCollection(items), this.baseToolbar.toolbarObj.items);\n        this.tbItems = (this.parent.inlineMode.enable) ? selectAll('.' + classes.CLS_TB_ITEM, this.baseToolbar.toolbarObj.element)\n            : selectAll('.' + classes.CLS_TB_ITEM, this.parent.element);\n        for (var i = 0; i < trgItems.length; i++) {\n            this.baseToolbar.toolbarObj.removeItems(this.tbItems[trgItems[i]]);\n        }\n    };\n    /**\n     * getExpandTBarPopHeight method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.getExpandTBarPopHeight = function () {\n        var popHeight = 0;\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand && this.tbElement.classList.contains('e-extended-toolbar')) {\n            var expandPopup = select('.e-toolbar-extended', this.tbElement);\n            if (expandPopup && this.tbElement.classList.contains('e-expand-open')\n                || expandPopup && expandPopup.classList.contains('e-popup-open')) {\n                addClass([expandPopup], [classes.CLS_VISIBLE]);\n                popHeight = popHeight + expandPopup.offsetHeight;\n                removeClass([expandPopup], [classes.CLS_VISIBLE]);\n            }\n            else {\n                removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n            }\n        }\n        return popHeight;\n    };\n    /**\n     * getToolbarHeight method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.getToolbarHeight = function () {\n        return this.tbElement.offsetHeight;\n    };\n    /**\n     * getToolbarElement method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.getToolbarElement = function () {\n        return select('.' + classes.CLS_TOOLBAR, this.parent.element);\n    };\n    /**\n     * refreshToolbarOverflow method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.refreshToolbarOverflow = function () {\n        this.baseToolbar.toolbarObj.refreshOverflow();\n    };\n    Toolbar.prototype.isToolbarDestroyed = function () {\n        return this.baseToolbar.toolbarObj && !this.baseToolbar.toolbarObj.isDestroyed;\n    };\n    Toolbar.prototype.destroyToolbar = function () {\n        if (this.isToolbarDestroyed()) {\n            this.parent.unWireScrollElementsEvents();\n            this.unWireEvents();\n            this.parent.notify(events.destroyColorPicker, {});\n            this.dropDownModule.destroyDropDowns();\n            this.baseToolbar.toolbarObj.destroy();\n            this.removeEventListener();\n            removeClass([this.parent.element], [classes.CLS_RTE_TB_ENABLED]);\n            removeClass([this.parent.element], [classes.CLS_RTE_EXPAND_TB]);\n            var tbWrapper = select('.' + classes.CLS_TB_WRAP, this.parent.element);\n            var tbElement = select('.' + classes.CLS_TOOLBAR, this.parent.element);\n            if (!isNullOrUndefined(tbWrapper)) {\n                detach(tbWrapper);\n            }\n            else if (!isNullOrUndefined(tbElement)) {\n                detach(tbElement);\n            }\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.isToolbarDestroyed()) {\n            this.destroyToolbar();\n            if (this.keyBoardModule) {\n                this.keyBoardModule.destroy();\n            }\n        }\n    };\n    Toolbar.prototype.scrollHandler = function (e) {\n        if (!this.parent.inlineMode.enable) {\n            if (this.parent.toolbarSettings.enableFloating && this.getDOMVisibility(this.tbElement)) {\n                this.toggleFloatClass(e.args);\n            }\n        }\n    };\n    Toolbar.prototype.getDOMVisibility = function (el) {\n        if (!el.offsetParent && el.offsetWidth === 0 && el.offsetHeight === 0) {\n            return false;\n        }\n        return true;\n    };\n    Toolbar.prototype.mouseDownHandler = function () {\n        if (Browser.isDevice && this.parent.inlineMode.enable && !isIDevice()) {\n            this.showFixedTBar();\n        }\n    };\n    Toolbar.prototype.focusChangeHandler = function () {\n        if (Browser.isDevice && this.parent.inlineMode.enable && !isIDevice()) {\n            this.isToolbar = false;\n            this.hideFixedTBar();\n        }\n    };\n    Toolbar.prototype.dropDownBeforeOpenHandler = function () {\n        this.isToolbar = true;\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.tbFocusHandler = function (e) {\n        var activeElm = document.activeElement;\n        var isToolbaractive = closest(activeElm, '.e-rte-toolbar');\n        if (activeElm === this.parent.getToolbarElement() || isToolbaractive === this.parent.getToolbarElement()) {\n            var toolbarItem = this.parent.getToolbarElement().querySelectorAll('.e-expended-nav');\n            for (var i = 0; i < toolbarItem.length; i++) {\n                if (isNOU(this.parent.getToolbarElement().querySelector('.e-insert-table-btn'))) {\n                    toolbarItem[i].setAttribute('tabindex', '0');\n                }\n                else {\n                    toolbarItem[i].setAttribute('tabindex', '1');\n                }\n            }\n        }\n    };\n    Toolbar.prototype.tbKeydownHandler = function (e) {\n        if (e.target.classList.contains('e-dropdown-btn') ||\n            e.target.getAttribute('id') === this.parent.getID() + '_toolbar_CreateTable') {\n            e.target.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.toolbarClickHandler = function (e) {\n        var trg = closest(e.originalEvent.target, '.e-hor-nav');\n        if (trg && this.parent.toolbarSettings.type === ToolbarType.Expand && !isNOU(trg)) {\n            if (!trg.classList.contains('e-nav-active')) {\n                removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n                this.parent.setContentHeight('toolbar', false);\n            }\n            else {\n                addClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n                this.parent.setContentHeight('toolbar', true);\n            }\n        }\n        else if (Browser.isDevice || this.parent.inlineMode.enable) {\n            this.isToolbar = true;\n        }\n        if (isNOU(trg) && this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        if (this.parent.inlineMode.enable && isIDevice()) {\n            return;\n        }\n        EventHandler.add(this.tbElement, 'focusin', this.tbFocusHandler, this);\n        EventHandler.add(this.tbElement, 'keydown', this.tbKeydownHandler, this);\n    };\n    Toolbar.prototype.unWireEvents = function () {\n        EventHandler.remove(this.tbElement, 'focusin', this.tbFocusHandler);\n        EventHandler.remove(this.tbElement, 'keydown', this.tbKeydownHandler);\n    };\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.dropDownModule = new DropDownButtons(this.parent, this.locator);\n        this.toolbarActionModule = new ToolbarAction(this.parent);\n        this.parent.on(events.initialEnd, this.renderToolbar, this);\n        this.parent.on(events.scroll, this.scrollHandler, this);\n        this.parent.on(events.bindOnEnd, this.toolbarBindEvent, this);\n        this.parent.on(events.toolbarUpdated, this.updateToolbarStatus, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.refreshBegin, this.onRefresh, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.enableFullScreen, this.fullScreen, this);\n        this.parent.on(events.disableFullScreen, this.hideScreen, this);\n        this.parent.on(events.updateToolbarItem, this.updateItem, this);\n        this.parent.on(events.beforeDropDownOpen, this.dropDownBeforeOpenHandler, this);\n        this.parent.on(events.expandPopupClick, this.parent.setContentHeight, this.parent);\n        this.parent.on(events.focusChange, this.focusChangeHandler, this);\n        this.parent.on(events.mouseDown, this.mouseDownHandler, this);\n        this.parent.on(events.sourceCodeMouseDown, this.mouseDownHandler, this);\n        if (!this.parent.inlineMode.enable && !isIDevice()) {\n            this.parent.on(events.toolbarClick, this.toolbarClickHandler, this);\n        }\n    };\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.renderToolbar);\n        this.parent.off(events.scroll, this.scrollHandler);\n        this.parent.off(events.bindOnEnd, this.toolbarBindEvent);\n        this.parent.off(events.toolbarUpdated, this.updateToolbarStatus);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.refreshBegin, this.onRefresh);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.enableFullScreen, this.parent.fullScreenModule.showFullScreen);\n        this.parent.off(events.disableFullScreen, this.parent.fullScreenModule.hideFullScreen);\n        this.parent.off(events.updateToolbarItem, this.updateItem);\n        this.parent.off(events.beforeDropDownOpen, this.dropDownBeforeOpenHandler);\n        this.parent.off(events.expandPopupClick, this.parent.setContentHeight);\n        this.parent.off(events.focusChange, this.focusChangeHandler);\n        this.parent.off(events.mouseDown, this.mouseDownHandler);\n        this.parent.off(events.sourceCodeMouseDown, this.mouseDownHandler);\n        if (!this.parent.inlineMode.enable && !isIDevice()) {\n            this.parent.off(events.toolbarClick, this.toolbarClickHandler);\n        }\n    };\n    Toolbar.prototype.onRefresh = function () {\n        this.refreshToolbarOverflow();\n        this.parent.setContentHeight('', true);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the string value\n     * @returns {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.inlineMode)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.inlineMode); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'enable':\n                        this.refreshToolbar();\n                        break;\n                }\n            }\n        }\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        this.refreshToolbar();\n    };\n    Toolbar.prototype.refreshToolbar = function () {\n        if (isNullOrUndefined(this.baseToolbar.toolbarObj)) {\n            this.baseToolbar = this.parent.getBaseToolbarObject();\n        }\n        var tbWrapper = select('.' + classes.CLS_TB_WRAP, this.parent.element);\n        var tbElement = select('.' + classes.CLS_TOOLBAR, this.parent.element);\n        if (tbElement || tbWrapper) {\n            this.destroyToolbar();\n        }\n        if (this.parent.toolbarSettings.enable) {\n            this.addEventListener();\n            this.renderToolbar();\n            this.parent.wireScrollElementsEvents();\n            if (!select('.e-rte-srctextarea', this.parent.element)) {\n                updateUndoRedoStatus(this.baseToolbar, this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n            }\n            this.parent.notify(events.dynamicModule, {});\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","import { keyboardKey } from '../../keyboard-key';\nimport { Accessibility } from '../../types';\n\n/**\n * @specification\n * Adds attribute 'role=presentation' to 'root' slot.\n * Triggers 'moveNext' action with 'ArrowDown' on 'root'.\n * Triggers 'movePrevious' action with 'ArrowUp' on 'root'.\n * Triggers 'moveFirst' action with 'Home' on 'root'.\n * Triggers 'moveLast' action with 'End' on 'root'.\n */\nexport const accordionBehavior: Accessibility<AccordionBehaviorProps> = () => ({\n  attributes: {\n    root: {\n      role: 'presentation',\n    },\n  },\n  keyActions: {\n    root: {\n      moveNext: {\n        keyCombinations: [{ keyCode: keyboardKey.ArrowDown }],\n      },\n      movePrevious: {\n        keyCombinations: [{ keyCode: keyboardKey.ArrowUp }],\n      },\n      moveFirst: {\n        keyCombinations: [{ keyCode: keyboardKey.Home }],\n      },\n      moveLast: {\n        keyCombinations: [{ keyCode: keyboardKey.End }],\n      },\n    },\n  },\n});\n\nexport type AccordionBehaviorProps = never;\n","import { keyboardKey, SpacebarKey } from '../../keyboard-key';\nimport { Accessibility } from '../../types';\n\n/**\n * @description\n * Adds accessibility attributed to implement the Accordion design pattern.\n * Adds 'aria-disabled' to the 'content' slot with a value based on disabled, active and canBeCollapsed props.\n * Adds role='heading' and aria-level='3' if the element type is not a header.\n *\n * @specification\n * Adds attribute 'role=button' to 'content' slot.\n * Adds attribute 'tabIndex=0' to 'content' slot.\n * Adds attribute 'aria-expanded=true' based on the property 'active' to 'content' slot.\n * Adds attribute 'aria-controls=content-id' based on the property 'accordionContentId' to 'content' slot.\n * Triggers 'performClick' action with 'Enter' or 'Spacebar' on 'content'.\n */\nexport const accordionTitleBehavior: Accessibility<AccordionTitleBehaviorProps> = props => {\n  const isHeading = /(h\\d{1})$/.test(props.as);\n  const forcedOpen = props.active && !props.canBeCollapsed;\n  return {\n    attributes: {\n      root: {\n        role: isHeading ? undefined : 'heading',\n        'aria-level': isHeading ? undefined : 3,\n      },\n      content: {\n        'aria-expanded': !!props.active,\n        'aria-disabled': !!(forcedOpen || props.disabled),\n        'aria-controls': props.accordionContentId,\n        role: 'button',\n        tabIndex: 0,\n      },\n    },\n    keyActions: {\n      content: {\n        performClick: {\n          keyCombinations: [{ keyCode: keyboardKey.Enter }, { keyCode: SpacebarKey }],\n        },\n      },\n    },\n  };\n};\n\nexport type AccordionTitleBehaviorProps = {\n  /** Element type. */\n  as?: string;\n  /** Whether or not the title is in the open state. */\n  active?: boolean;\n  /** If at least one panel needs to stay active and this title does not correspond to the last active one. */\n  canBeCollapsed?: boolean;\n  /** An accordion title can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n  /** Id of the content it owns. */\n  accordionContentId?: string;\n};\n","import { accordionTitleBehavior, Accessibility, AccordionTitleBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  childrenExist,\n  createShorthandFactory,\n  UIComponentProps,\n  ContentComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n} from '../../utils';\nimport { ComponentEventHandler, ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport { Box, BoxProps } from '../Box/Box';\nimport {\n  getElementType,\n  useTelemetry,\n  useFluentContext,\n  useUnhandledProps,\n  useAccessibility,\n  useStyles,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface AccordionTitleSlotClassNames {\n  contentWrapper: string;\n}\n\nexport interface AccordionTitleProps\n  extends UIComponentProps,\n    ContentComponentProps<ShorthandValue<BoxProps>>,\n    ChildrenComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<AccordionTitleBehaviorProps>;\n\n  /** Id of the content it owns. */\n  accordionContentId?: string;\n\n  /** Whether or not the title is in the open state. */\n  active?: boolean;\n\n  /** If at least one panel needs to stay active and this title does not correspond to the last active one. */\n  canBeCollapsed?: boolean;\n\n  /** Shorthand for the content wrapper element. */\n  contentWrapper?: ShorthandValue<BoxProps>;\n\n  /** An accordion title can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n\n  /** AccordionTitle index inside Accordion. */\n  index?: number;\n\n  /** Ref to the clickable element that contains the title. */\n  contentRef?: React.Ref<HTMLElement>;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<AccordionTitleProps>;\n\n  /**\n   * Called after user's focus.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<AccordionTitleProps>;\n\n  /** Shorthand for the active indicator. */\n  indicator?: ShorthandValue<BoxProps>;\n}\n\nexport const accordionTitleClassName = 'ui-accordion__title';\nexport const accordionTitleSlotClassNames: AccordionTitleSlotClassNames = {\n  contentWrapper: `${accordionTitleClassName}__content-wrapper`,\n};\n\nexport type AccordionTitleStylesProps = Required<Pick<AccordionTitleProps, 'disabled' | 'active'>> & {\n  content: boolean;\n};\n\n/**\n * An AccordionTitle represents the title of Accordion's item that can be interacted with to expand or collapse the item's content.\n */\nexport const AccordionTitle = (React.forwardRef<HTMLDListElement, AccordionTitleProps & { as: React.ReactNode }>(\n  (props, ref) => {\n    const context = useFluentContext();\n    const { setStart, setEnd } = useTelemetry(AccordionTitle.displayName, context.telemetry);\n    setStart();\n    const {\n      contentRef,\n      children,\n      content,\n      indicator,\n      contentWrapper,\n      disabled,\n      accessibility,\n      canBeCollapsed,\n      as,\n      active,\n      accordionContentId,\n      className,\n      design,\n      styles,\n      variables,\n    } = props;\n    const ElementType = getElementType(props);\n    const unhandledProps = useUnhandledProps(AccordionTitle.handledProps, props);\n\n    const getA11yProps = useAccessibility<AccordionTitleBehaviorProps>(accessibility, {\n      debugName: AccordionTitle.displayName,\n      actionHandlers: {\n        performClick: e => {\n          e.preventDefault();\n          e.stopPropagation();\n          handleClick(e);\n        },\n      },\n      mapPropsToBehavior: () => ({\n        hasContent: !!content,\n        canBeCollapsed,\n        as: String(as),\n        active,\n        disabled,\n        accordionContentId,\n      }),\n      rtl: context.rtl,\n    });\n\n    const { classes, styles: resolvedStyles } = useStyles<AccordionTitleStylesProps>(AccordionTitle.displayName, {\n      className: accordionTitleClassName,\n      mapPropsToStyles: () => ({\n        disabled,\n        content: !!content,\n        active,\n      }),\n      mapPropsToInlineStyles: () => ({\n        className,\n        design,\n        styles,\n        variables,\n      }),\n      rtl: context.rtl,\n    });\n\n    const handleClick = (e: React.SyntheticEvent) => {\n      if (!disabled) {\n        _.invoke(props, 'onClick', e, props);\n      }\n    };\n\n    const handleFocus = (e: React.SyntheticEvent) => {\n      e.stopPropagation();\n      _.invoke(props, 'onFocus', e, props);\n    };\n\n    const handleWrapperOverrides = predefinedProps => ({\n      onFocus: (e: React.FocusEvent) => {\n        handleFocus(e);\n        _.invoke(predefinedProps, 'onFocus', e, props);\n      },\n      onClick: (e: React.MouseEvent) => {\n        handleClick(e);\n        _.invoke(predefinedProps, 'onClick', e, props);\n      },\n    });\n\n    const contentWrapperElement = (\n      <Ref innerRef={contentRef}>\n        {Box.create(contentWrapper, {\n          defaultProps: () =>\n            getA11yProps('content', {\n              className: accordionTitleSlotClassNames.contentWrapper,\n              styles: resolvedStyles.contentWrapper,\n            }),\n          overrideProps: predefinedProps => ({\n            children: (\n              <>\n                {Box.create(indicator, {\n                  defaultProps: () =>\n                    getA11yProps('indicator', {\n                      styles: resolvedStyles.indicator,\n                    }),\n                })}\n                {Box.create(content, {\n                  defaultProps: () => ({\n                    styles: resolvedStyles.content,\n                  }),\n                })}\n              </>\n            ),\n            ...handleWrapperOverrides(predefinedProps),\n          }),\n        })}\n      </Ref>\n    );\n\n    const element = (\n      <ElementType\n        {...rtlTextContainer.getAttributes({ forElements: [children] })}\n        {...getA11yProps('root', {\n          className: classes.root,\n          ref,\n          ...unhandledProps,\n        })}\n      >\n        {childrenExist(children) ? children : contentWrapperElement}\n      </ElementType>\n    );\n    setEnd();\n    return element;\n  },\n) as unknown) as ForwardRefWithAs<'div', HTMLDListElement, AccordionTitleProps> &\n  FluentComponentStaticProps<AccordionTitleProps>;\n\nAccordionTitle.displayName = 'AccordionTitle';\n\nAccordionTitle.shorthandConfig = {\n  mappedProp: 'content',\n};\n\nAccordionTitle.propTypes = {\n  ...commonPropTypes.createCommon({ content: 'shorthand' }),\n  accordionContentId: PropTypes.string,\n  active: PropTypes.bool,\n  contentRef: customPropTypes.ref,\n  contentWrapper: customPropTypes.wrapperShorthand,\n  canBeCollapsed: PropTypes.bool,\n  disabled: PropTypes.bool,\n  index: PropTypes.number,\n  onClick: PropTypes.func,\n  indicator: customPropTypes.shorthandAllowingChildren,\n};\n\nAccordionTitle.handledProps = Object.keys(AccordionTitle.propTypes) as any;\n\nAccordionTitle.defaultProps = {\n  accessibility: accordionTitleBehavior,\n  as: 'div',\n  contentRef: _.noop,\n  indicator: {},\n  contentWrapper: {},\n};\n\nAccordionTitle.create = createShorthandFactory({ Component: AccordionTitle, mappedProp: 'content' });\n","import { Accessibility } from '../../types';\n\n/**\n * @description\n * Optionally, an accordion content can have the 'role=region'. It is not applied by default.\n *\n * @specification\n * Adds attribute 'aria-labelledby' based on the property 'accordionTitleId' to 'root' slot.\n */\nexport const accordionContentBehavior: Accessibility<AccordionContentBehaviorProps> = props => {\n  return {\n    attributes: {\n      root: {\n        'aria-labelledby': props.accordionTitleId,\n      },\n    },\n  };\n};\n\nexport type AccordionContentBehaviorProps = {\n  /** id of the accordion title element. */\n  accordionTitleId?: string;\n};\n","import { accordionContentBehavior, Accessibility, AccordionContentBehaviorProps } from '@fluentui/accessibility';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as _ from 'lodash';\n\nimport {\n  childrenExist,\n  createShorthandFactory,\n  UIComponentProps,\n  ChildrenComponentProps,\n  ContentComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n} from '../../utils';\nimport { ComponentEventHandler, FluentComponentStaticProps } from '../../types';\n\nimport {\n  useTelemetry,\n  useFluentContext,\n  getElementType,\n  useAccessibility,\n  useUnhandledProps,\n  useStyles,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface AccordionContentProps extends UIComponentProps, ChildrenComponentProps, ContentComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<AccordionContentBehaviorProps>;\n\n  /** Id of the title it belongs to. */\n  accordionTitleId?: string;\n\n  /** Whether or not the content is visible. */\n  active?: boolean;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<AccordionContentProps>;\n}\n\nexport const accordionContentClassName = 'ui-accordion__content';\n\nexport type AccordionContentStylesProps = Required<Pick<AccordionContentProps, 'active'>>;\n\n/**\n * An AccordionContent displays content hosted in an Accordion.\n */\nexport const AccordionContent = (React.forwardRef<HTMLDListElement, AccordionContentProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(AccordionContent.displayName, context.telemetry);\n\n  setStart();\n  const { children, content, accordionTitleId, active, className, design, styles, variables } = props;\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(AccordionContent.handledProps, props);\n\n  const getA11yProps = useAccessibility(props.accessibility, {\n    debugName: AccordionContent.displayName,\n    mapPropsToBehavior: () => ({\n      accordionTitleId,\n    }),\n    rtl: context.rtl,\n  });\n  const handleClick = (e: React.SyntheticEvent) => {\n    _.invoke(props, 'onClick', e, props);\n  };\n\n  const { classes } = useStyles<AccordionContentStylesProps>(AccordionContent.displayName, {\n    className: accordionContentClassName,\n    mapPropsToStyles: () => ({\n      active,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const element = (\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        onClick: handleClick,\n        ref,\n        ...unhandledProps,\n      })}\n      {...rtlTextContainer.getAttributes({ forElements: [children, content] })}\n    >\n      {childrenExist(children) ? children : content}\n    </ElementType>\n  );\n\n  setEnd();\n\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDListElement, AccordionContentProps> &\n  FluentComponentStaticProps<AccordionContentProps>;\n\nAccordionContent.displayName = 'AccordionContent';\n\nAccordionContent.shorthandConfig = {\n  mappedProp: 'content',\n};\n\nAccordionContent.propTypes = {\n  ...commonPropTypes.createCommon(),\n  accordionTitleId: PropTypes.string,\n  active: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nAccordionContent.defaultProps = {\n  accessibility: accordionContentBehavior,\n  as: 'div',\n};\n\nAccordionContent.handledProps = Object.keys(AccordionContent.propTypes) as any;\n\nAccordionContent.create = createShorthandFactory({\n  Component: AccordionContent,\n  mappedProp: 'content',\n});\n","export class ContainerFocusHandler {\n  private focusedIndex = 0;\n\n  constructor(\n    private getItemsCount: () => number,\n    private readonly setFocusAt: (number) => void,\n    private circular = false,\n  ) {}\n\n  private noItems = (): boolean => this.getItemsCount() === 0;\n\n  private constrainFocusedIndex(): void {\n    const itemsCount = this.getItemsCount();\n    if (this.focusedIndex < 0) {\n      this.focusedIndex = this.circular ? itemsCount - 1 : 0;\n    }\n\n    if (this.focusedIndex >= itemsCount) {\n      this.focusedIndex = this.circular ? 0 : itemsCount - 1;\n    }\n  }\n\n  public getFocusedIndex(): number {\n    return this.focusedIndex;\n  }\n\n  public syncFocusedIndex(withCurrentIndex: number) {\n    this.focusedIndex = withCurrentIndex;\n  }\n\n  public movePrevious(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex -= 1;\n    this.constrainFocusedIndex();\n\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveNext(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex += 1;\n    this.constrainFocusedIndex();\n\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveFirst(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex = 0;\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveLast(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex = this.getItemsCount() - 1;\n    this.setFocusAt(this.focusedIndex);\n  }\n}\n","import { Accessibility, accordionBehavior, AccordionBehaviorProps } from '@fluentui/accessibility';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  childrenExist,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n  createShorthand,\n  createShorthandFactory,\n} from '../../utils';\nimport { AccordionTitle, AccordionTitleProps } from './AccordionTitle';\nimport { AccordionContent, AccordionContentProps } from './AccordionContent';\n\nimport {\n  ComponentEventHandler,\n  ShorthandValue,\n  ShorthandRenderFunction,\n  FluentComponentStaticProps,\n} from '../../types';\nimport { ContainerFocusHandler } from '../../utils/accessibility/FocusHandling/FocusContainer';\nimport {\n  useAutoControlled,\n  useAccessibility,\n  useTelemetry,\n  useFluentContext,\n  useUnhandledProps,\n  getElementType,\n  useStyles,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface AccordionSlotClassNames {\n  content: string;\n  title: string;\n}\n\nexport interface AccordionProps extends UIComponentProps, ChildrenComponentProps {\n  /** Index of the currently active panel. */\n  activeIndex?: number[] | number;\n\n  /** Initial activeIndex value. */\n  defaultActiveIndex?: number[] | number;\n\n  /** Only allow one panel to be expanded at a time. */\n  exclusive?: boolean;\n\n  /** At least one panel should be expanded at any time. */\n  expanded?: boolean;\n\n  /**\n   * Called when the active index of the Accordion changes.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props, with `activeIndex` reflecting the new state.\n   */\n  onActiveIndexChange?: ComponentEventHandler<AccordionProps>;\n\n  /**\n   * Called when a panel title is clicked.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All item props.\n   */\n  onTitleClick?: ComponentEventHandler<AccordionProps>;\n\n  /** Shorthand array of props for Accordion. */\n  panels?: {\n    content: ShorthandValue<AccordionContentProps>;\n    title: ShorthandValue<AccordionTitleProps>;\n  }[];\n\n  /**\n   * A custom renderer for each Accordion's panel title.\n   *\n   * @param Component - The panel's component type.\n   * @param props - The panel's computed props.\n   */\n  renderPanelTitle?: ShorthandRenderFunction<AccordionTitleProps>;\n\n  /**\n   * A custom renderer for each Accordion's panel content.\n   *\n   * @param Component - The panel's component type.\n   * @param props - The panel's computed props.\n   */\n  renderPanelContent?: ShorthandRenderFunction<AccordionContentProps>;\n\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<AccordionBehaviorProps>;\n}\n\nexport type AccordionStylesProps = never;\nexport const accordionClassName = 'ui-accordion';\nexport const accordionSlotClassNames: AccordionSlotClassNames = {\n  content: `${accordionClassName}__content`,\n  title: `${accordionClassName}__title`,\n};\n\n/**\n * An Accordion represents stacked set of content sections, with action elements to toggle the display of these sections.\n *\n * @accessibility\n * Implements [ARIA Accordion](https://www.w3.org/TR/wai-aria-practices-1.1/#accordion) design pattern (keyboard navigation not yet supported).\n */\nexport const Accordion = (React.forwardRef<HTMLDListElement, AccordionProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Accordion.displayName, context.telemetry);\n  setStart();\n  const {\n    expanded,\n    exclusive,\n    accessibility,\n    children,\n    className,\n    design,\n    styles,\n    variables,\n    panels,\n    renderPanelContent,\n    renderPanelTitle,\n  } = props;\n  const alwaysActiveIndex = expanded ? 0 : -1;\n\n  const [activeIndex, setActiveIndex] = useAutoControlled({\n    defaultValue: props.defaultActiveIndex,\n    value: props.activeIndex,\n    initialValue: exclusive ? alwaysActiveIndex : [alwaysActiveIndex],\n  });\n\n  const actionHandlers = {\n    moveNext: e => {\n      e.preventDefault();\n      focusHandler.moveNext();\n    },\n    movePrevious: e => {\n      e.preventDefault();\n      focusHandler.movePrevious();\n    },\n    moveFirst: e => {\n      e.preventDefault();\n      focusHandler.moveFirst();\n    },\n    moveLast: e => {\n      e.preventDefault();\n      focusHandler.moveLast();\n    },\n  };\n\n  const getA11yProps = useAccessibility<AccordionBehaviorProps>(accessibility, {\n    debugName: Accordion.displayName,\n    actionHandlers,\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<AccordionStylesProps>(Accordion.displayName, {\n    className: accordionClassName,\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const [focusedIndex, setfocusedIndex] = React.useState<number>();\n\n  const handleNavigationFocus = (index: number) => {\n    setfocusedIndex(index);\n  };\n\n  const getNavigationItemsSize = () => props.panels.length;\n  const unhandledProps = useUnhandledProps(Accordion.handledProps, props);\n  const ElementType = getElementType(props);\n\n  const focusHandler: ContainerFocusHandler = new ContainerFocusHandler(\n    getNavigationItemsSize,\n    handleNavigationFocus,\n    true,\n  );\n\n  const itemRefs = React.useMemo<React.RefObject<HTMLElement>[]>(\n    () => Array.from({ length: panels?.length }, () => React.createRef()),\n    // As we are using \"panels.length\" it's fine to have dependency on them\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [panels?.length],\n  );\n\n  React.useEffect(() => {\n    const targetComponent = itemRefs[focusedIndex] && itemRefs[focusedIndex].current;\n    targetComponent && targetComponent.focus();\n  }, [itemRefs, focusedIndex]);\n\n  const defaultAccordionTitleId = React.useMemo(() => _.uniqueId('accordion-title-'), []);\n  const defaultAccordionContentId = React.useMemo(() => _.uniqueId('accordion-content-'), []);\n\n  const computeNewIndex = (index: number): number | number[] => {\n    if (!isIndexActionable(index)) {\n      return activeIndex;\n    }\n\n    if (exclusive) return index === activeIndex ? -1 : index;\n    // check to see if index is in array, and remove it, if not then add it\n    return _.includes(activeIndex as number[], index)\n      ? _.without(activeIndex as number[], index)\n      : [...(activeIndex as number[]), index];\n  };\n\n  const handleTitleOverrides = (predefinedProps: AccordionTitleProps) => ({\n    onClick: (e: React.SyntheticEvent, titleProps: AccordionTitleProps) => {\n      const { index } = titleProps;\n      const activeIndex = computeNewIndex(index);\n      setActiveIndex(activeIndex);\n      setfocusedIndex(index);\n\n      _.invoke(props, 'onActiveIndexChange', e, { ...props, activeIndex });\n      _.invoke(predefinedProps, 'onClick', e, titleProps);\n      _.invoke(props, 'onTitleClick', e, titleProps);\n    },\n    onFocus: (e: React.SyntheticEvent, titleProps: AccordionTitleProps) => {\n      _.invoke(predefinedProps, 'onFocus', e, titleProps);\n      setfocusedIndex(predefinedProps.index);\n    },\n  });\n\n  const isIndexActive = (index: number): boolean => {\n    return exclusive ? activeIndex === index : _.includes(activeIndex as number[], index);\n  };\n\n  /**\n   * Checks if panel at index can be actioned upon. Used in the case of expanded accordion,\n   * when at least a panel needs to stay active. Will return false if expanded prop is true,\n   * index is active and either it's an exclusive accordion or if there are no other active\n   * panels open besides this one.\n   *\n   * @param index - The index of the panel.\n   * @returns If the panel can be set active/inactive.\n   */\n  const isIndexActionable = (index: number): boolean => {\n    if (!isIndexActive(index)) {\n      return true;\n    }\n\n    return !expanded || (!exclusive && (activeIndex as number[]).length > 1);\n  };\n\n  const renderPanels = () => {\n    const children: any[] = [];\n    focusHandler.syncFocusedIndex(focusedIndex);\n    _.each(panels, (panel, index) => {\n      const { content, title } = panel;\n      const active = isIndexActive(+index);\n      const canBeCollapsed = isIndexActionable(+index);\n      const titleId = title['id'] || `${defaultAccordionTitleId}${index}`;\n      const contentId = content['id'] || `${defaultAccordionContentId}${index}`;\n      const contentRef = itemRefs[index];\n\n      children.push(\n        createShorthand(AccordionTitle, title, {\n          defaultProps: () => ({\n            className: accordionSlotClassNames.title,\n            active,\n            index: +index,\n            contentRef,\n            canBeCollapsed,\n            id: titleId,\n            accordionContentId: contentId,\n          }),\n          overrideProps: handleTitleOverrides,\n          render: renderPanelTitle,\n        }),\n      );\n      if (active) {\n        children.push(\n          createShorthand(AccordionContent, content, {\n            defaultProps: () => ({\n              className: accordionSlotClassNames.content,\n              active,\n              id: contentId,\n              accordionTitleId: titleId,\n            }),\n            render: renderPanelContent,\n          }),\n        );\n      }\n    });\n    return children;\n  };\n\n  const element = (\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        ...unhandledProps,\n        ref,\n      })}\n      {...rtlTextContainer.getAttributes({ forElements: [children] })}\n    >\n      {childrenExist(children) ? children : renderPanels()}\n    </ElementType>\n  );\n\n  setEnd();\n\n  return element;\n}) as unknown) as ForwardRefWithAs<'dl', HTMLDListElement, AccordionProps> &\n  FluentComponentStaticProps<AccordionProps> & {\n    Title: typeof AccordionTitle;\n    Content: typeof AccordionContent;\n  };\n\nAccordion.displayName = 'Accordion';\n\nAccordion.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  activeIndex: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n  ]),\n  defaultActiveIndex: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n  ]),\n  exclusive: PropTypes.bool,\n  expanded: PropTypes.bool,\n  onTitleClick: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.func]),\n  onActiveIndexChange: PropTypes.func,\n  panels: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        content: customPropTypes.itemShorthand,\n        title: customPropTypes.itemShorthand,\n      }),\n    ),\n  ]),\n\n  renderPanelTitle: PropTypes.func,\n  renderPanelContent: PropTypes.func,\n};\n\nAccordion.defaultProps = {\n  accessibility: accordionBehavior,\n  as: 'dl',\n};\n\nAccordion.handledProps = Object.keys(Accordion.propTypes) as any;\nAccordion.Title = AccordionTitle;\nAccordion.Content = AccordionContent;\nAccordion.create = createShorthandFactory({\n  Component: Accordion,\n});\n","import { keyboardKey, SpacebarKey } from '../../keyboard-key';\n\nimport { IS_FOCUSABLE_ATTRIBUTE } from '../../attributes';\nimport { Accessibility } from '../../types';\n\n/**\n * @specification\n * Adds attribute 'tabIndex=0' to 'root' slot.\n * Triggers 'performClick' action with 'Enter' or 'Spacebar' on 'root'.\n */\nexport const attachmentBehavior: Accessibility<AttachmentBehaviorProps> = () => ({\n  attributes: {\n    root: {\n      tabIndex: 0,\n      [IS_FOCUSABLE_ATTRIBUTE]: true,\n    },\n  },\n  keyActions: {\n    root: {\n      performClick: {\n        keyCombinations: [{ keyCode: keyboardKey.Enter }, { keyCode: SpacebarKey }],\n      },\n    },\n  },\n});\n\nexport declare type AttachmentBehaviorProps = { actionable?: boolean };\n","import { compose } from '@fluentui/react-bindings';\n\nimport { commonPropTypes } from '../../utils';\nimport { Box, BoxProps, BoxStylesProps } from '../Box/Box';\n\nexport interface AttachmentBodyOwnProps {}\nexport interface AttachmentBodyProps extends AttachmentBodyOwnProps, BoxProps {}\n\nexport type AttachmentBodyStylesProps = never;\nexport const attachmentBodyClassName = 'ui-attachment__body';\n\n/**\n * An AttachmentBody provides a slot for header and description in the Attachment.\n */\nexport const AttachmentBody = compose<\n  'div',\n  AttachmentBodyOwnProps,\n  AttachmentBodyStylesProps,\n  BoxProps,\n  BoxStylesProps\n>(Box, {\n  className: attachmentBodyClassName,\n  displayName: 'AttachmentBody',\n\n  overrideStyles: true,\n  shorthandConfig: {\n    mappedProp: 'content',\n  },\n});\n\nAttachmentBody.propTypes = commonPropTypes.createCommon();\n","import { compose } from '@fluentui/react-bindings';\nimport { commonPropTypes } from '../../utils';\nimport { Box, BoxProps, BoxStylesProps } from '../Box/Box';\n\nexport interface AttachmentDescriptionOwnProps {}\nexport interface AttachmentDescriptionProps extends AttachmentDescriptionOwnProps, BoxProps {}\n\nexport type AttachmentDescriptionStylesProps = never;\nexport const attachmentDescriptionClassName = 'ui-attachment__description';\n\n/**\n * A AttachmentDescription provides more detailed information about the Attachment.\n */\nexport const AttachmentDescription = compose<\n  'span',\n  AttachmentDescriptionOwnProps,\n  AttachmentDescriptionStylesProps,\n  BoxProps,\n  BoxStylesProps\n>(Box, {\n  className: attachmentDescriptionClassName,\n  displayName: 'AttachmentDescription',\n\n  overrideStyles: true,\n  shorthandConfig: {\n    mappedProp: 'content',\n  },\n});\n\nAttachmentDescription.defaultProps = {\n  as: 'span',\n};\nAttachmentDescription.propTypes = commonPropTypes.createCommon();\n","import { compose } from '@fluentui/react-bindings';\nimport { commonPropTypes } from '../../utils';\nimport { Box, BoxProps, BoxStylesProps } from '../Box/Box';\n\nexport interface AttachmentHeaderOwnProps {}\nexport interface AttachmentHeaderProps extends AttachmentHeaderOwnProps, BoxProps {}\n\nexport type AttachmentHeaderStylesProps = never;\nexport const attachmentHeaderClassName = 'ui-attachment__header';\n\n/**\n * A AttachmentHeader provides a title for the Attachment.\n */\nexport const AttachmentHeader = compose<\n  'span',\n  AttachmentHeaderOwnProps,\n  AttachmentHeaderStylesProps,\n  BoxProps,\n  BoxStylesProps\n>(Box, {\n  className: attachmentHeaderClassName,\n  displayName: 'AttachmentHeader',\n\n  overrideStyles: true,\n  shorthandConfig: {\n    mappedProp: 'content',\n  },\n});\n\nAttachmentHeader.defaultProps = {\n  as: 'span',\n};\nAttachmentHeader.propTypes = commonPropTypes.createCommon();\n","import { compose } from '@fluentui/react-bindings';\nimport { commonPropTypes } from '../../utils';\nimport { Box, BoxProps, BoxStylesProps } from '../Box/Box';\n\nexport interface AttachmentIconOwnProps {}\nexport interface AttachmentIconProps extends AttachmentIconOwnProps, BoxProps {}\n\nexport type AttachmentIconStylesProps = never;\nexport const attachmentIconClassName = 'ui-attachment__icon';\n\n/**\n * An AttachmentIcon provides a slot for a glyph that describes content in the Attachment.\n */\nexport const AttachmentIcon = compose<\n  'span',\n  AttachmentIconOwnProps,\n  AttachmentIconStylesProps,\n  BoxProps,\n  BoxStylesProps\n>(Box, {\n  className: attachmentIconClassName,\n  displayName: 'AttachmentIcon',\n\n  overrideStyles: true,\n  shorthandConfig: {\n    mappedProp: 'content',\n  },\n});\n\nAttachmentIcon.defaultProps = {\n  as: 'span',\n};\nAttachmentIcon.propTypes = commonPropTypes.createCommon();\n","import { Accessibility, attachmentBehavior, AttachmentBehaviorProps } from '@fluentui/accessibility';\nimport {\n  ComponentWithAs,\n  compose,\n  getElementType,\n  mergeVariablesOverrides,\n  useAccessibility,\n  useStyles,\n  useFluentContext,\n  useTelemetry,\n  useUnhandledProps,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { ComponentEventHandler, ShorthandValue } from '../../types';\nimport {\n  createShorthandFactory,\n  commonPropTypes,\n  UIComponentProps,\n  ChildrenComponentProps,\n  createShorthand,\n  ShorthandFactory,\n} from '../../utils';\nimport { AttachmentAction, AttachmentActionProps } from './AttachmentAction';\nimport { AttachmentBody, AttachmentBodyProps } from './AttachmentBody';\nimport { AttachmentDescription, AttachmentDescriptionProps } from './AttachmentDescription';\nimport { AttachmentHeader, AttachmentHeaderProps } from './AttachmentHeader';\nimport { AttachmentIcon, AttachmentIconProps } from './AttachmentIcon';\n\nexport interface AttachmentProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<AttachmentBehaviorProps>;\n\n  /** Button shorthand for the action slot. */\n  action?: ShorthandValue<AttachmentActionProps>;\n\n  /** An Attachment can be styled to indicate possible user interaction. */\n  actionable?: boolean;\n\n  /** Contains a header and a description for an Attachment. */\n  body?: ShorthandValue<AttachmentBodyProps>;\n\n  /** A string describing the attachment. */\n  description?: ShorthandValue<AttachmentDescriptionProps>;\n\n  /** An attachment can show that it cannot be interacted with. */\n  disabled?: boolean;\n\n  /** The name of the attachment. */\n  header?: ShorthandValue<AttachmentHeaderProps>;\n\n  /** Shorthand for the icon. */\n  icon?: ShorthandValue<AttachmentIconProps>;\n\n  /** Value indicating percent complete. */\n  progress?: string | number;\n\n  /**\n   * Called after user's click.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<AttachmentProps>;\n}\n\nexport type AttachmentStylesProps = Required<Pick<AttachmentProps, 'actionable' | 'disabled'>>;\nexport const attachmentClassName = 'ui-attachment';\n\n/**\n * An Attachment represents a file or media attachment, which may contain some metadata or actions.\n */\nexport const Attachment = compose<'div', AttachmentProps, AttachmentStylesProps, {}, {}>(\n  (props, ref, composeOptions) => {\n    const context = useFluentContext();\n    const { setStart, setEnd } = useTelemetry(composeOptions.displayName, context.telemetry);\n    setStart();\n\n    const {\n      accessibility,\n      action,\n      actionable,\n      body,\n      className,\n      description,\n      design,\n      disabled,\n      header,\n      icon,\n      onClick,\n      progress,\n      styles,\n      variables,\n    } = props;\n\n    const getA11Props = useAccessibility(accessibility, {\n      debugName: composeOptions.displayName,\n      actionHandlers: {\n        performClick: e => {\n          if (e.currentTarget === e.target) {\n            e.stopPropagation();\n            handleClick(e);\n          }\n        },\n      },\n      mapPropsToBehavior: () => ({ actionable }),\n      rtl: context.rtl,\n    });\n\n    const { classes } = useStyles<AttachmentStylesProps>(composeOptions.displayName, {\n      className: attachmentClassName,\n      mapPropsToStyles: () => ({\n        actionable: actionable || !!onClick,\n        disabled,\n      }),\n      mapPropsToInlineStyles: () => ({\n        className,\n        design,\n        styles,\n        variables,\n      }),\n      rtl: context.rtl,\n      composeOptions,\n      unstable_props: props,\n    });\n\n    const slotProps = composeOptions.resolveSlotProps<AttachmentProps>(props);\n\n    const ElementType = getElementType(props);\n    const unhandledProps = useUnhandledProps(composeOptions.handledProps, props);\n\n    const handleClick = (e: React.KeyboardEvent | React.MouseEvent) => {\n      if (disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _.invoke(props, 'onClick', e, props);\n    };\n\n    const element = getA11Props.unstable_wrapWithFocusZone(\n      <ElementType {...getA11Props('root', { className: classes.root, onClick: handleClick, ref, ...unhandledProps })}>\n        {createShorthand(composeOptions.slots.icon, icon, {\n          defaultProps: () => slotProps.icon,\n          overrideProps: predefinedProps => ({\n            variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n          }),\n        })}\n\n        {(header || description) &&\n          createShorthand(composeOptions.slots.body, body, {\n            defaultProps: () => slotProps.body,\n            overrideProps: predefinedProps => ({\n              content: (\n                <>\n                  {createShorthand(composeOptions.slots.header, header, {\n                    defaultProps: () => slotProps.header,\n                    overrideProps: predefinedProps => ({\n                      variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n                    }),\n                  })}\n                  {createShorthand(composeOptions.slots.description, description, {\n                    defaultProps: () => slotProps.description,\n                    overrideProps: predefinedProps => ({\n                      variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n                    }),\n                  })}\n                </>\n              ),\n              variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n            }),\n          })}\n\n        {createShorthand(composeOptions.slots.action, action, {\n          defaultProps: () => slotProps.action,\n          overrideProps: predefinedProps => ({\n            variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n          }),\n        })}\n        {!_.isNil(progress) && <div className=\"ui-attachment__progress\" style={{ width: `${progress}%` }} />}\n      </ElementType>,\n    );\n    setEnd();\n\n    return element;\n  },\n  {\n    className: attachmentClassName,\n    displayName: 'Attachment',\n    slots: {\n      action: AttachmentAction,\n      body: AttachmentBody,\n      description: AttachmentDescription,\n      header: AttachmentHeader,\n      icon: AttachmentIcon,\n    },\n    handledProps: [\n      'accessibility',\n      'action',\n      'actionable',\n      'as',\n      'body',\n      'children',\n      'className',\n      'description',\n      'design',\n      'header',\n      'icon',\n      'onClick',\n      'progress',\n      'styles',\n      'variables',\n    ],\n  },\n) as ComponentWithAs<'div', AttachmentProps> & {\n  create: ShorthandFactory<AttachmentProps>;\n  Action: typeof AttachmentAction;\n  Body: typeof AttachmentBody;\n  Description: typeof AttachmentDescription;\n  Header: typeof AttachmentHeader;\n  Icon: typeof AttachmentIcon;\n};\n\nAttachment.create = createShorthandFactory({ Component: Attachment, mappedProp: 'header' });\n\nAttachment.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  action: customPropTypes.itemShorthand,\n  actionable: PropTypes.bool,\n  body: customPropTypes.itemShorthand,\n  description: customPropTypes.itemShorthand,\n  header: customPropTypes.itemShorthand,\n  icon: customPropTypes.shorthandAllowingChildren,\n  onClick: PropTypes.func,\n  progress: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\nAttachment.defaultProps = {\n  accessibility: attachmentBehavior,\n  body: {},\n};\n\nAttachment.Action = AttachmentAction;\nAttachment.Body = AttachmentBody;\nAttachment.Description = AttachmentDescription;\nAttachment.Header = AttachmentHeader;\nAttachment.Icon = AttachmentIcon;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, setValue, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, Internationalization, getUniqueID, closest } from '@syncfusion/ej2-base';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar HIDE_CLEAR = 'e-clear-icon-hide';\nvar TEXTBOX_FOCUS = 'e-input-focus';\nvar containerAttr = ['title', 'style', 'class'];\n/**\n * Represents the TextBox component that allows the user to enter the values based on it's type.\n * ```html\n * <input name='images' id='textbox'/>\n * ```\n * ```typescript\n * <script>\n *   var textboxObj = new TextBox();\n *   textboxObj.appendTo('#textbox');\n * </script>\n * ```\n */\nvar TextBox = /** @class */ (function (_super) {\n    __extends(TextBox, _super);\n    /**\n     *\n     * @param {TextBoxModel} options - Specifies the TextBox model.\n     * @param {string | HTMLInputElement | HTMLTextAreaElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function TextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousValue = null;\n        _this.isAngular = false;\n        _this.isHiddenInput = false;\n        _this.isForm = false;\n        _this.inputPreviousValue = null;\n        _this.isVue = false;\n        _this.textboxOptions = options;\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     *\n     * @param {TextBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {TextBoxModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    TextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'floatLabelType':\n                    Input.removeFloating(this.textboxWrapper);\n                    Input.addFloating(this.respectiveElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n                    this.bindClearEvent();\n                    break;\n                case 'width':\n                    Input.setWidth(newProp.width, this.textboxWrapper.container);\n                    break;\n                case 'value':\n                    {\n                        var prevOnChange = this.isProtectedOnChange;\n                        this.isProtectedOnChange = true;\n                        if (!this.isBlank(this.value)) {\n                            this.value = this.value.toString();\n                        }\n                        this.isProtectedOnChange = prevOnChange;\n                        Input.setValue(this.value, this.respectiveElement, this.floatLabelType, this.showClearButton);\n                        if (this.isHiddenInput) {\n                            this.element.value = this.respectiveElement.value;\n                        }\n                        this.inputPreviousValue = this.respectiveElement.value;\n                        /* istanbul ignore next */\n                        if ((this.isAngular || this.isVue) && this.preventChange === true) {\n                            this.previousValue = this.isAngular ? this.value : this.previousValue;\n                            this.preventChange = false;\n                        }\n                        else if (isNullOrUndefined(this.isAngular) || !this.isAngular\n                            || (this.isAngular && !this.preventChange) || (this.isAngular && isNullOrUndefined(this.preventChange))) {\n                            this.raiseChangeEvent();\n                        }\n                    }\n                    break;\n                case 'htmlAttributes':\n                    {\n                        this.updateHTMLAttrToElement();\n                        this.updateHTMLAttrToWrapper();\n                        this.checkAttributes(true);\n                        Input.validateInputType(this.textboxWrapper.container, this.element);\n                    }\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.respectiveElement);\n                    break;\n                case 'type':\n                    if (this.respectiveElement.tagName !== 'TEXTAREA') {\n                        this.respectiveElement.setAttribute('type', this.type);\n                        Input.validateInputType(this.textboxWrapper.container, this.element);\n                        this.raiseChangeEvent();\n                    }\n                    break;\n                case 'showClearButton':\n                    if (this.respectiveElement.tagName !== 'TEXTAREA') {\n                        Input.setClearButton(this.showClearButton, this.respectiveElement, this.textboxWrapper);\n                        this.bindClearEvent();\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.textboxWrapper.container]);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.respectiveElement);\n                    break;\n                case 'autocomplete':\n                    if (this.autocomplete !== 'on' && this.autocomplete !== '') {\n                        this.respectiveElement.autocomplete = this.autocomplete;\n                    }\n                    else {\n                        this.removeAttributes(['autocomplete']);\n                    }\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.respectiveElement);\n                    break;\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    TextBox.prototype.getModuleName = function () {\n        return 'textbox';\n    };\n    TextBox.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    TextBox.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        this.formElement = closest(this.element, 'form');\n        if (!isNullOrUndefined(this.formElement)) {\n            this.isForm = true;\n        }\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-TEXTBOX') {\n            var ejInstance = getValue('ej2_instances', this.element);\n            var inputElement = this.multiline ?\n                this.createElement('textarea') :\n                this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (attributeName !== 'id') {\n                    inputElement.setAttribute(attributeName, this.element.attributes[index].nodeValue);\n                    inputElement.innerHTML = this.element.innerHTML;\n                    if (attributeName === 'name') {\n                        this.element.removeAttribute('name');\n                    }\n                }\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        this.updateHTMLAttrToElement();\n        this.checkAttributes(false);\n        if (this.element.tagName !== 'TEXTAREA') {\n            this.element.setAttribute('type', this.type);\n        }\n        this.element.setAttribute('role', 'textbox');\n        this.globalize = new Internationalization(this.locale);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('textbox', localeText, this.locale);\n        if (this.l10n.getConstant('placeholder') !== '') {\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        if (!this.element.hasAttribute('id')) {\n            this.element.setAttribute('id', getUniqueID('textbox'));\n        }\n        if (!this.element.hasAttribute('name')) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (this.element.tagName === 'INPUT' && this.multiline) {\n            this.isHiddenInput = true;\n            this.textarea = this.createElement('textarea');\n            this.element.parentNode.insertBefore(this.textarea, this.element);\n            this.element.setAttribute('type', 'hidden');\n            this.textarea.setAttribute('name', this.element.getAttribute('name'));\n            this.element.removeAttribute('name');\n            this.textarea.setAttribute('role', this.element.getAttribute('role'));\n            this.element.removeAttribute('role');\n            this.textarea.setAttribute('id', getUniqueID('textarea'));\n            var apiAttributes = ['placeholder', 'disabled', 'value', 'readonly', 'type', 'autocomplete'];\n            for (var index = 0; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (this.element.hasAttribute(attributeName) && containerAttr.indexOf(attributeName) < 0 &&\n                    !(attributeName === 'id' || attributeName === 'type' || attributeName === 'e-mappinguid')) {\n                    // e-mappinguid attribute is handled for Grid component.\n                    this.textarea.setAttribute(attributeName, this.element.attributes[index].nodeValue);\n                    if (apiAttributes.indexOf(attributeName) < 0) {\n                        this.element.removeAttribute(attributeName);\n                        index--;\n                    }\n                }\n            }\n        }\n    };\n    TextBox.prototype.checkAttributes = function (isDynamic) {\n        var attrs = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['placeholder', 'disabled', 'value', 'readonly', 'type', 'autocomplete'];\n        for (var _i = 0, attrs_1 = attrs; _i < attrs_1.length; _i++) {\n            var key = attrs_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(key))) {\n                switch (key) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.element.getAttribute(key) === 'disabled' || this.element.getAttribute(key) === '' ||\n                                this.element.getAttribute(key) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.element.getAttribute(key) === 'readonly' || this.element.getAttribute(key) === ''\n                                || this.element.getAttribute(key) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.element.placeholder }, !isDynamic);\n                        }\n                        break;\n                    case 'autocomplete':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['autocomplete'] === undefined)) || isDynamic) {\n                            var autoCompleteTxt = this.element.autocomplete === 'off' ? 'off' : 'on';\n                            this.setProperties({ autocomplete: autoCompleteTxt }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['value'] === undefined)) || isDynamic) {\n                            this.setProperties({ value: this.element.value }, !isDynamic);\n                        }\n                        break;\n                    case 'type':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['type'] === undefined)) || isDynamic) {\n                            this.setProperties({ type: this.element.type }, !isDynamic);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    TextBox.prototype.render = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = this.getInputValidClassList(this.cssClass);\n        }\n        this.respectiveElement = (this.isHiddenInput) ? this.textarea : this.element;\n        this.textboxWrapper = Input.createInput({\n            element: this.respectiveElement,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                cssClass: updatedCssClassValue,\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        });\n        this.updateHTMLAttrToWrapper();\n        if (this.isHiddenInput) {\n            this.respectiveElement.parentNode.insertBefore(this.element, this.respectiveElement);\n        }\n        this.wireEvents();\n        if (!isNullOrUndefined(this.value)) {\n            Input.setValue(this.value, this.respectiveElement, this.floatLabelType, this.showClearButton);\n            if (this.isHiddenInput) {\n                this.element.value = this.respectiveElement.value;\n            }\n        }\n        if (!isNullOrUndefined(this.value)) {\n            this.initialValue = this.value;\n            this.setInitialValue();\n        }\n        if (this.autocomplete !== 'on' && this.autocomplete !== '') {\n            this.respectiveElement.autocomplete = this.autocomplete;\n        }\n        else if (!isNullOrUndefined(this.textboxOptions) && (this.textboxOptions['autocomplete'] !== undefined)) {\n            this.removeAttributes(['autocomplete']);\n        }\n        this.previousValue = this.value;\n        this.inputPreviousValue = this.value;\n        this.respectiveElement.defaultValue = this.respectiveElement.value;\n        Input.setWidth(this.width, this.textboxWrapper.container);\n        this.renderComplete();\n    };\n    TextBox.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassValues = this.getInputValidClassList(this.htmlAttributes[key]);\n                        if (updatedClassValues !== '') {\n                            addClass([this.textboxWrapper.container], updatedClassValues.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var setStyle = this.textboxWrapper.container.getAttribute(key);\n                        setStyle = !isNullOrUndefined(setStyle) ? (setStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.textboxWrapper.container.setAttribute(key, setStyle);\n                    }\n                    else {\n                        this.textboxWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    TextBox.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) < 0) {\n                    this.element.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    TextBox.prototype.updateCssClass = function (newClass, oldClass) {\n        Input.setCssClass(this.getInputValidClassList(newClass), [this.textboxWrapper.container], this.getInputValidClassList(oldClass));\n    };\n    TextBox.prototype.getInputValidClassList = function (inputClassName) {\n        var result = inputClassName;\n        if (!isNullOrUndefined(inputClassName) && inputClassName !== '') {\n            result = (inputClassName.replace(/\\s+/g, ' ')).trim();\n        }\n        return result;\n    };\n    TextBox.prototype.setInitialValue = function () {\n        if (!this.isAngular) {\n            this.respectiveElement.setAttribute('value', this.initialValue);\n        }\n    };\n    TextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.respectiveElement, 'focus', this.focusHandler, this);\n        EventHandler.add(this.respectiveElement, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.respectiveElement, 'input', this.inputHandler, this);\n        EventHandler.add(this.respectiveElement, 'change', this.changeHandler, this);\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n        this.bindClearEvent();\n        if (!isNullOrUndefined(this.textboxWrapper.container.querySelector('.e-float-text')) && this.floatLabelType === 'Auto'\n            && this.textboxWrapper.container.classList.contains('e-autofill') &&\n            this.textboxWrapper.container.classList.contains('e-outline')) {\n            EventHandler.add((this.textboxWrapper.container.querySelector('.e-float-text')), 'animationstart', this.animationHandler, this);\n        }\n    };\n    TextBox.prototype.animationHandler = function () {\n        this.textboxWrapper.container.classList.add('e-valid-input');\n        var label = this.textboxWrapper.container.querySelector('.e-float-text');\n        if (!isNullOrUndefined(label)) {\n            label.classList.add('e-label-top');\n            if (label.classList.contains('e-label-bottom')) {\n                label.classList.remove('e-label-bottom');\n            }\n        }\n    };\n    TextBox.prototype.resetValue = function (value) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.value = value;\n        this.isProtectedOnChange = prevOnChange;\n    };\n    TextBox.prototype.resetForm = function () {\n        if (this.isAngular) {\n            this.resetValue('');\n        }\n        else {\n            this.resetValue(this.initialValue);\n        }\n        if (!isNullOrUndefined(this.textboxWrapper)) {\n            var label = this.textboxWrapper.container.querySelector('.e-float-text');\n            if (!isNullOrUndefined(label)) {\n                if ((isNullOrUndefined(this.initialValue) || this.initialValue === '')) {\n                    label.classList.add('e-label-bottom');\n                    label.classList.remove('e-label-top');\n                }\n                else if (this.initialValue !== '') {\n                    label.classList.add('e-label-top');\n                    label.classList.remove('e-label-bottom');\n                }\n            }\n        }\n    };\n    TextBox.prototype.focusHandler = function (args) {\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('focus', eventArgs);\n    };\n    TextBox.prototype.focusOutHandler = function (args) {\n        if (!(this.previousValue === null && this.value === null && this.respectiveElement.value === '') &&\n            (this.previousValue !== this.respectiveElement.value)) {\n            this.raiseChangeEvent(args, true);\n        }\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('blur', eventArgs);\n    };\n    TextBox.prototype.inputHandler = function (args) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-this-alias\n        var textboxObj = this;\n        var eventArgs = {\n            event: args,\n            value: this.respectiveElement.value,\n            previousValue: this.inputPreviousValue,\n            container: this.textboxWrapper.container\n        };\n        this.inputPreviousValue = this.respectiveElement.value;\n        /* istanbul ignore next */\n        if (this.isAngular) {\n            textboxObj.localChange({ value: this.respectiveElement.value });\n            this.preventChange = true;\n        }\n        if (this.isVue) {\n            this.preventChange = true;\n        }\n        this.trigger('input', eventArgs);\n        args.stopPropagation();\n    };\n    TextBox.prototype.changeHandler = function (args) {\n        this.setProperties({ value: this.respectiveElement.value }, true);\n        this.raiseChangeEvent(args, true);\n        args.stopPropagation();\n    };\n    TextBox.prototype.raiseChangeEvent = function (event, interaction) {\n        var eventArgs = {\n            event: event,\n            value: this.value,\n            previousValue: this.previousValue,\n            container: this.textboxWrapper.container,\n            isInteraction: interaction ? interaction : false,\n            isInteracted: interaction ? interaction : false\n        };\n        this.preventChange = false;\n        this.trigger('change', eventArgs);\n        this.previousValue = this.value;\n    };\n    TextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.respectiveElement.tagName !== 'TEXTAREA') {\n            if (this.enabled) {\n                EventHandler.add(this.textboxWrapper.clearButton, 'mousedown touchstart', this.resetInputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.textboxWrapper.clearButton, 'mousedown touchstart', this.resetInputHandler);\n            }\n        }\n    };\n    TextBox.prototype.resetInputHandler = function (event) {\n        event.preventDefault();\n        if (!(this.textboxWrapper.clearButton.classList.contains(HIDE_CLEAR)) || this.textboxWrapper.container.classList.contains('e-static-clear')) {\n            Input.setValue('', this.respectiveElement, this.floatLabelType, this.showClearButton);\n            if (this.isHiddenInput) {\n                this.element.value = this.respectiveElement.value;\n            }\n            this.setProperties({ value: this.respectiveElement.value }, true);\n            var eventArgs = {\n                event: event,\n                value: this.respectiveElement.value,\n                previousValue: this.inputPreviousValue,\n                container: this.textboxWrapper.container\n            };\n            this.trigger('input', eventArgs);\n            this.inputPreviousValue = this.respectiveElement.value;\n            this.raiseChangeEvent(event, true);\n        }\n    };\n    TextBox.prototype.unWireEvents = function () {\n        EventHandler.remove(this.respectiveElement, 'focus', this.focusHandler);\n        EventHandler.remove(this.respectiveElement, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.respectiveElement, 'input', this.inputHandler);\n        EventHandler.remove(this.respectiveElement, 'change', this.changeHandler);\n        if (this.isForm) {\n            EventHandler.remove(this.formElement, 'reset', this.resetForm);\n        }\n        if (!isNullOrUndefined(this.textboxWrapper.container.querySelector('.e-float-text')) && this.floatLabelType === 'Auto'\n            && this.textboxWrapper.container.classList.contains('e-outline') &&\n            this.textboxWrapper.container.classList.contains('e-autofill')) {\n            EventHandler.remove((this.textboxWrapper.container.querySelector('.e-float-text')), 'animationstart', this.animationHandler);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also, it maintains the initial TextBox element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    TextBox.prototype.destroy = function () {\n        this.unWireEvents();\n        if (this.element.tagName === 'INPUT' && this.multiline) {\n            detach(this.textboxWrapper.container.getElementsByTagName('textarea')[0]);\n            this.respectiveElement = this.element;\n            this.element.removeAttribute('type');\n        }\n        this.respectiveElement.value = this.respectiveElement.defaultValue;\n        this.respectiveElement.classList.remove('e-input');\n        this.removeAttributes(['aria-placeholder', 'aria-disabled', 'aria-readonly', 'aria-labelledby']);\n        if (!isNullOrUndefined(this.textboxWrapper)) {\n            this.textboxWrapper.container.insertAdjacentElement('afterend', this.respectiveElement);\n            detach(this.textboxWrapper.container);\n        }\n        this.textboxWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adding the icons to the TextBox component.\n     *\n     * @param { string } position - Specify the icon placement on the TextBox. Possible values are append and prepend.\n     * @param { string | string[] } icons - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for TextBox.\n     * @returns {void}\n     */\n    TextBox.prototype.addIcon = function (position, icons) {\n        Input.addIcon(position, icons, this.textboxWrapper.container, this.respectiveElement, this.createElement);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     */\n    TextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Adding the multiple attributes as key-value pair to the TextBox element.\n     *\n     * @param {string} attributes - Specifies the attributes to be add to TextBox element.\n     * @returns {void}\n     */\n    TextBox.prototype.addAttributes = function (attributes) {\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: false }, true);\n                Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: true }, true);\n                Input.setReadonly(this.readonly, this.respectiveElement);\n            }\n            else if (key === 'class') {\n                this.respectiveElement.classList.add(attributes[key]);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: attributes[key] }, true);\n                Input.setPlaceholder(this.placeholder, this.respectiveElement);\n            }\n            else if (key === 'rows' && this.respectiveElement.tagName === 'TEXTAREA') {\n                this.respectiveElement.setAttribute(key, attributes[key]);\n            }\n            else {\n                this.respectiveElement.setAttribute(key, attributes[key]);\n            }\n        }\n    };\n    /**\n     * Removing the multiple attributes as key-value pair to the TextBox element.\n     *\n     * @param { string[] } attributes - Specifies the attributes name to be removed from TextBox element.\n     * @returns {void}\n     */\n    TextBox.prototype.removeAttributes = function (attributes) {\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var key = attributes_1[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: true }, true);\n                Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: false }, true);\n                Input.setReadonly(this.readonly, this.respectiveElement);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: null }, true);\n                Input.setPlaceholder(this.placeholder, this.respectiveElement);\n            }\n            else {\n                this.respectiveElement.removeAttribute(key);\n            }\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    TextBox.prototype.focusIn = function () {\n        if (document.activeElement !== this.respectiveElement && this.enabled) {\n            this.respectiveElement.focus();\n            if (this.textboxWrapper.container.classList.contains('e-input-group')\n                || this.textboxWrapper.container.classList.contains('e-outline')\n                || this.textboxWrapper.container.classList.contains('e-filled')) {\n                addClass([this.textboxWrapper.container], [TEXTBOX_FOCUS]);\n            }\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    TextBox.prototype.focusOut = function () {\n        if (document.activeElement === this.respectiveElement && this.enabled) {\n            this.respectiveElement.blur();\n            if (this.textboxWrapper.container.classList.contains('e-input-group')\n                || this.textboxWrapper.container.classList.contains('e-outline')\n                || this.textboxWrapper.container.classList.contains('e-filled')) {\n                removeClass([this.textboxWrapper.container], [TEXTBOX_FOCUS]);\n            }\n        }\n    };\n    __decorate([\n        Property('text')\n    ], TextBox.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('Never')\n    ], TextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property('')\n    ], TextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('on')\n    ], TextBox.prototype, \"autocomplete\", void 0);\n    __decorate([\n        Property({})\n    ], TextBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"multiline\", void 0);\n    __decorate([\n        Property(true)\n    ], TextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"width\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"input\", void 0);\n    TextBox = __decorate([\n        NotifyPropertyChanges\n    ], TextBox);\n    return TextBox;\n}(Component));\nexport { TextBox };\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_TAIL_WIDTH = 24;\nvar DEFT_BOOT_WIDTH = 30;\nvar DEFT_BOOT4_WIDTH = 36;\nvar DEFT_BOOT5_WIDTH = 36;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_TAILWINDSPIN = 'e-spin-tailwind';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nvar CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\nvar spinTemplate = null;\nvar spinCSSClass = null;\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\nexport function Spinner(action, options, target, type) {\n    switch (action) {\n        case 'Create':\n            /* eslint-disable */\n            var element = document.querySelector(options.target);\n            var args = { type: type, target: element, cssClass: options.cssClass,\n                label: options.label, width: options.width };\n            /* eslint-enable */\n            createSpinner(args);\n            break;\n        case 'Show':\n            showSpinner(document.querySelector(target));\n            break;\n        case 'Hide':\n            hideSpinner(document.querySelector(target));\n            break;\n        case 'Set':\n            // eslint-disable-next-line\n            var setArgs = { cssClass: options.cssClass, type: type };\n            setSpinner(setArgs);\n            break;\n    }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    if (!args.target) {\n        return;\n    }\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    // eslint-disable-next-line\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.innerHTML = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n    mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap4', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap5', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    // eslint-disable-next-line\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\nfunction createTailwindSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Tailwind', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap4':\n            createBootstrap4Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap5':\n            createBootstrap5Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            createTailwindSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    svg.style.width = svg.style.height = radius + 'px';\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    // eslint-disable-next-line\n    var increment = false, count = 1;\n    formSeries(start);\n    /**\n     *\n     * @param {number} i - specifies the number\n     * @returns {void}\n     */\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    /**\n     *\n     * @param {SVGCircleElement} circle - specifies the circl element\n     * @param {number} start - specifies the number\n     * @param {number} end - specifies the end number\n     * @param {number} series - specifies the series\n     * @param {string} id - specifies the id\n     * @returns {void}\n     */\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        // eslint-disable-next-line\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                // eslint-disable-next-line\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\nfunction calculateRadius(width, theme) {\n    var defaultSize;\n    switch (theme) {\n        case 'Material':\n            defaultSize = DEFT_MAT_WIDTH;\n            break;\n        case 'Fabric':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Bootstrap4':\n            defaultSize = DEFT_BOOT4_WIDTH;\n            break;\n        case 'Bootstrap5':\n            defaultSize = DEFT_BOOT5_WIDTH;\n            break;\n        default:\n            defaultSize = DEFT_BOOT_WIDTH;\n    }\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    svgMaterial.setAttribute('class', cls);\n    svgMaterial.setAttribute('id', uniqueID);\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    // eslint-disable-next-line\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    // eslint-disable-next-line\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            // eslint-disable-next-line\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    /**\n     *\n     * @param {number} value - specifies the number value\n     * @param {HTMLElement} container - specifies the container\n     * @returns {void}\n     */\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction mat_calculate_attributes(radius, container, type, cls) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.' + cls);\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    if (type === 'Material') {\n        path.setAttribute('stroke-width', strokeSize + '');\n        path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n        path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n    }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    // eslint-disable-next-line\n    var startArc = 315, endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0\n    ].join(' ');\n    return d;\n}\n// eslint-disable-next-line\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap;\n    if (container) {\n        spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n            container.querySelector('.' + CLS_SPINWRAP);\n    }\n    if (container && spinnerWrap) {\n        var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n        var spinCheck = void 0;\n        // eslint-disable-next-line\n        spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n            !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n        if (spinCheck) {\n            var svgEle = spinnerWrap.querySelector('svg');\n            if (isNullOrUndefined(svgEle)) {\n                return;\n            }\n            var id = svgEle.getAttribute('id');\n            globalTimeOut[id].isAnimate = !isHide;\n            switch (globalTimeOut[id].type) {\n                case 'Material':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                    break;\n                case 'Bootstrap':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                    break;\n            }\n        }\n        // eslint-disable-next-line\n        isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n        container = null;\n    }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, Property, Event, EventHandler, L10n, compile, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, append, Animation } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, KeyboardEvents, setValue, getValue, ChildProperty } from '@syncfusion/ej2-base';\nimport { Collection, Complex, Browser, Ajax, getUniqueID, closest, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nvar CONTROL_WRAPPER = 'e-upload e-control-wrapper';\nvar INPUT_WRAPPER = 'e-file-select';\nvar DROP_AREA = 'e-file-drop';\nvar DROP_WRAPPER = 'e-file-select-wrap';\nvar LIST_PARENT = 'e-upload-files';\nvar FILE = 'e-upload-file-list';\nvar STATUS = 'e-file-status';\nvar ACTION_BUTTONS = 'e-upload-actions';\nvar UPLOAD_BUTTONS = 'e-file-upload-btn e-css e-btn e-flat e-primary';\nvar CLEAR_BUTTONS = 'e-file-clear-btn e-css e-btn e-flat';\nvar FILE_NAME = 'e-file-name';\nvar FILE_TYPE = 'e-file-type';\nvar FILE_SIZE = 'e-file-size';\nvar REMOVE_ICON = 'e-file-remove-btn';\nvar DELETE_ICON = 'e-file-delete-btn';\nvar SPINNER_PANE = 'e-spinner-pane';\nvar ABORT_ICON = 'e-file-abort-btn';\nvar RETRY_ICON = 'e-file-reload-btn';\nvar DRAG_HOVER = 'e-upload-drag-hover';\nvar PROGRESS_WRAPPER = 'e-upload-progress-wrap';\nvar PROGRESSBAR = 'e-upload-progress-bar';\nvar PROGRESSBAR_TEXT = 'e-progress-bar-text';\nvar UPLOAD_INPROGRESS = 'e-upload-progress';\nvar UPLOAD_SUCCESS = 'e-upload-success';\nvar UPLOAD_FAILED = 'e-upload-fails';\nvar TEXT_CONTAINER = 'e-file-container';\nvar VALIDATION_FAILS = 'e-validation-fails';\nvar RTL = 'e-rtl';\nvar DISABLED = 'e-disabled';\nvar RTL_CONTAINER = 'e-rtl-container';\nvar ICON_FOCUSED = 'e-clear-icon-focus';\nvar PROGRESS_INNER_WRAPPER = 'e-progress-inner-wrap';\nvar PAUSE_UPLOAD = 'e-file-pause-btn';\nvar RESUME_UPLOAD = 'e-file-play-btn';\nvar RESTRICT_RETRY = 'e-restrict-retry';\nvar wrapperAttr = ['title', 'style', 'class'];\nvar FORM_UPLOAD = 'e-form-upload';\nvar HIDDEN_INPUT = 'e-hidden-file-input';\nvar INVALID_FILE = 'e-file-invalid';\nvar INFORMATION = 'e-file-information';\nvar FilesProp = /** @class */ (function (_super) {\n    __extends(FilesProp, _super);\n    function FilesProp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], FilesProp.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"type\", void 0);\n    return FilesProp;\n}(ChildProperty));\nexport { FilesProp };\nvar ButtonsProps = /** @class */ (function (_super) {\n    __extends(ButtonsProps, _super);\n    function ButtonsProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Browse...')\n    ], ButtonsProps.prototype, \"browse\", void 0);\n    __decorate([\n        Property('Upload')\n    ], ButtonsProps.prototype, \"upload\", void 0);\n    __decorate([\n        Property('Clear')\n    ], ButtonsProps.prototype, \"clear\", void 0);\n    return ButtonsProps;\n}(ChildProperty));\nexport { ButtonsProps };\nvar AsyncSettings = /** @class */ (function (_super) {\n    __extends(AsyncSettings, _super);\n    function AsyncSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"saveUrl\", void 0);\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"removeUrl\", void 0);\n    __decorate([\n        Property(0)\n    ], AsyncSettings.prototype, \"chunkSize\", void 0);\n    __decorate([\n        Property(3)\n    ], AsyncSettings.prototype, \"retryCount\", void 0);\n    __decorate([\n        Property(500)\n    ], AsyncSettings.prototype, \"retryAfterDelay\", void 0);\n    return AsyncSettings;\n}(ChildProperty));\nexport { AsyncSettings };\n/**\n * The uploader component allows to upload images, documents, and other files from local to server.\n * ```html\n * <input type='file' name='images[]' id='upload'/>\n * ```\n * ```typescript\n * <script>\n *   var uploadObj = new Uploader();\n *   uploadObj.appendTo('#upload');\n * </script>\n * ```\n */\nvar Uploader = /** @class */ (function (_super) {\n    __extends(Uploader, _super);\n    /**\n     * Triggers when change the Uploader value.\n     *\n     * @param {UploaderModel} options - Specifies the Uploader model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Uploader(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.initialAttr = { accept: null, multiple: false, disabled: false };\n        _this.uploadedFilesData = [];\n        _this.base64String = [];\n        _this.isForm = false;\n        _this.allTypes = false;\n        _this.pausedData = [];\n        _this.uploadMetaData = [];\n        _this.tabIndex = '0';\n        _this.btnTabIndex = '0';\n        _this.disableKeyboardNavigation = false;\n        _this.count = -1;\n        _this.actionCompleteCount = 0;\n        _this.flag = true;\n        _this.selectedFiles = [];\n        _this.uploaderName = 'UploadFiles';\n        _this.fileStreams = [];\n        _this.newFileRef = 0;\n        _this.isFirstFileOnSelection = false;\n        _this.dragCounter = 0;\n        /**\n         * Get the file item(li) which are shown in file list.\n         *\n         * @private\n         */\n        _this.fileList = [];\n        /**\n         * Get the data of files which are shown in file list.\n         *\n         * @private\n         */\n        _this.filesData = [];\n        _this.uploaderOptions = options;\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     *\n     * @param {UploaderModel} newProp - Returns the dynamic property value of the component.\n     * @param {UploaderModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    Uploader.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowedExtensions':\n                    this.setExtensions(this.allowedExtensions);\n                    this.clearAll();\n                    break;\n                case 'enabled':\n                    this.setControlStatus();\n                    break;\n                case 'multiple':\n                    this.setMultipleSelection();\n                    break;\n                case 'enableRtl':\n                    this.setRTL();\n                    this.reRenderFileList();\n                    break;\n                case 'buttons':\n                    this.buttons.browse = isNullOrUndefined(this.buttons.browse) ? '' : this.buttons.browse;\n                    this.buttons.clear = isNullOrUndefined(this.buttons.clear) ? '' : this.buttons.clear;\n                    this.buttons.upload = isNullOrUndefined(this.buttons.upload) ? '' : this.buttons.upload;\n                    this.renderButtonTemplates();\n                    break;\n                case 'dropArea':\n                    this.unBindDropEvents();\n                    this.updateDropArea();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttrToElement();\n                    this.updateHTMLAttrToWrapper();\n                    this.checkHTMLAttributes(true);\n                    break;\n                case 'files':\n                    this.renderPreLoadFiles();\n                    break;\n                case 'directoryUpload':\n                    this.updateDirectoryAttributes();\n                    break;\n                case 'template':\n                    this.clearAll();\n                    break;\n                case 'minFileSize':\n                case 'maxFileSize':\n                case 'autoUpload':\n                    this.clearAll();\n                    break;\n                case 'sequentialUpload':\n                    this.clearAll();\n                    break;\n                case 'locale':\n                    this.l10n.setLocale(this.locale);\n                    this.setLocalizedTexts();\n                    this.preLocaleObj = getValue('currentLocale', this.l10n);\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n            }\n        }\n    };\n    Uploader.prototype.setLocalizedTexts = function () {\n        if (isNullOrUndefined(this.template)) {\n            if (typeof (this.buttons.browse) === 'string') {\n                this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                    this.localizedTexts('Browse') : this.buttons.browse;\n                this.browseButton.setAttribute('title', this.browseButton.innerText);\n                if (this.uploadWrapper && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + DROP_AREA))) {\n                    this.uploadWrapper.querySelector('.' + DROP_AREA).innerHTML = this.localizedTexts('dropFilesHint');\n                }\n            }\n            this.updateFileList();\n        }\n    };\n    Uploader.prototype.getKeyValue = function (val) {\n        var keyValue;\n        for (var _i = 0, _a = Object.keys(this.preLocaleObj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.preLocaleObj[key] === val) {\n                keyValue = key;\n            }\n        }\n        return keyValue;\n    };\n    Uploader.prototype.updateFileList = function () {\n        var element;\n        /* istanbul ignore next */\n        if (this.fileList.length > 0 && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + LIST_PARENT))) {\n            for (var i = 0; i < this.fileList.length; i++) {\n                element = this.fileList[i].querySelector('.e-file-status');\n                element.innerHTML = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                this.filesData[i].status = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                if (this.fileList[i].classList.contains(UPLOAD_SUCCESS)) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('delete'));\n                }\n                if (this.fileList[i].querySelector('.e-file-play-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('resume'));\n                }\n                if (this.fileList[i].querySelector('.e-file-remove-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('remove'));\n                }\n                if (this.fileList[i].querySelector('.e-file-reload-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('retry'));\n                }\n                if (!this.autoUpload) {\n                    this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                        this.localizedTexts('Upload') : this.buttons.upload;\n                    this.uploadButton.setAttribute('title', this.localizedTexts('Upload'));\n                    this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                        this.localizedTexts('Clear') : this.buttons.clear;\n                    this.clearButton.setAttribute('title', this.localizedTexts('Clear'));\n                }\n            }\n        }\n    };\n    Uploader.prototype.reRenderFileList = function () {\n        if (this.listParent) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createFileList(this.filesData);\n            if (this.actionButtons) {\n                this.removeActionButtons();\n                this.renderActionButtons();\n                this.checkActionButtonStatus();\n            }\n        }\n    };\n    Uploader.prototype.preRender = function () {\n        this.localeText = { Browse: 'Browse...', Clear: 'Clear', Upload: 'Upload',\n            dropFilesHint: 'Or drop files here', invalidMaxFileSize: 'File size is too large',\n            invalidMinFileSize: 'File size is too small', invalidFileType: 'File type is not allowed',\n            uploadFailedMessage: 'File failed to upload', uploadSuccessMessage: 'File uploaded successfully',\n            removedSuccessMessage: 'File removed successfully', removedFailedMessage: 'Unable to remove file', inProgress: 'Uploading',\n            readyToUploadMessage: 'Ready to upload', abort: 'Abort', remove: 'Remove', cancel: 'Cancel', delete: 'Delete file',\n            pauseUpload: 'File upload paused', pause: 'Pause', resume: 'Resume', retry: 'Retry',\n            fileUploadCancel: 'File upload canceled', invalidFileSelection: 'Invalid files selected', totalFiles: 'Total files',\n            size: 'Size'\n        };\n        this.l10n = new L10n('uploader', this.localeText, this.locale);\n        this.preLocaleObj = getValue('currentLocale', this.l10n);\n        this.formRendered();\n        this.updateHTMLAttrToElement();\n        this.checkHTMLAttributes(false);\n        var ejInstance = getValue('ej2_instances', this.element);\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-UPLOADER') {\n            var inputElement = this.createElement('input', { attrs: { type: 'file' } });\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                inputElement.innerHTML = this.element.innerHTML;\n            }\n            if (!inputElement.hasAttribute('name')) {\n                inputElement.setAttribute('name', 'UploadFiles');\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        /* istanbul ignore next */\n        if (ejInstance[0].isPureReactComponent) {\n            if (!isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.name);\n            }\n            else if (!isNullOrUndefined(ejInstance[0].props.id) && isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.id);\n            }\n            else {\n                this.element.setAttribute('name', 'UploadFiles');\n            }\n        }\n        if (isNullOrUndefined(this.element.getAttribute('name'))) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (!this.element.hasAttribute('type')) {\n            this.element.setAttribute('type', 'file');\n        }\n        this.updateDirectoryAttributes();\n        this.keyConfigs = {\n            enter: 'enter'\n        };\n        if (this.element.hasAttribute('tabindex')) {\n            this.tabIndex = this.element.getAttribute('tabindex');\n        }\n        this.browserName = Browser.info.name;\n        this.uploaderName = this.element.getAttribute('name');\n    };\n    Uploader.prototype.formRendered = function () {\n        var parentEle = closest(this.element, 'form');\n        if (!isNullOrUndefined(parentEle)) {\n            for (; parentEle && parentEle !== document.documentElement; parentEle = parentEle.parentElement) {\n                if (parentEle.tagName === 'FORM') {\n                    this.isForm = true;\n                    this.formElement = parentEle;\n                    parentEle.setAttribute('enctype', 'multipart/form-data');\n                    parentEle.setAttribute('encoding', 'multipart/form-data');\n                }\n            }\n        }\n    };\n    Uploader.prototype.getPersistData = function () {\n        return this.addOnPersist(['filesData']);\n    };\n    /**\n     * Return the module name of the component.\n     *\n     * @returns {string} Returns the component name.\n     */\n    Uploader.prototype.getModuleName = function () {\n        return 'uploader';\n    };\n    Uploader.prototype.updateDirectoryAttributes = function () {\n        if (this.directoryUpload) {\n            this.element.setAttribute('directory', 'true');\n            this.element.setAttribute('webkitdirectory', 'true');\n        }\n        else {\n            this.element.removeAttribute('directory');\n            this.element.removeAttribute('webkitdirectory');\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Uploader.prototype.render = function () {\n        this.renderBrowseButton();\n        this.initializeUpload();\n        this.updateHTMLAttrToWrapper();\n        this.wireEvents();\n        this.setMultipleSelection();\n        this.setExtensions(this.allowedExtensions);\n        this.setRTL();\n        this.renderPreLoadFiles();\n        this.setControlStatus();\n        this.setCSSClass();\n    };\n    Uploader.prototype.renderBrowseButton = function () {\n        this.browseButton = this.createElement('button', { className: 'e-css e-btn', attrs: { 'type': 'button' } });\n        this.browseButton.setAttribute('tabindex', this.tabIndex);\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.textContent = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        this.element.setAttribute('aria-label', 'Uploader');\n    };\n    Uploader.prototype.renderActionButtons = function () {\n        this.element.setAttribute('tabindex', '-1');\n        this.actionButtons = this.createElement('div', { className: ACTION_BUTTONS });\n        this.uploadButton = this.createElement('button', { className: UPLOAD_BUTTONS,\n            attrs: { 'type': 'button', 'tabindex': this.btnTabIndex } });\n        this.clearButton = this.createElement('button', { className: CLEAR_BUTTONS,\n            attrs: { 'type': 'button', 'tabindex': this.btnTabIndex } });\n        this.actionButtons.appendChild(this.clearButton);\n        this.actionButtons.appendChild(this.uploadButton);\n        this.renderButtonTemplates();\n        this.uploadWrapper.appendChild(this.actionButtons);\n        this.browseButton.blur();\n        if (!this.isPreloadFiles) {\n            this.uploadButton.focus();\n        }\n        this.wireActionButtonEvents();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.serverActionButtonsEventBind = function (element) {\n        if (element && !this.isForm) {\n            this.browseButton.blur();\n            this.actionButtons = element;\n            this.uploadButton = this.actionButtons.querySelector('.e-file-upload-btn');\n            this.clearButton = this.actionButtons.querySelector('.e-file-clear-btn');\n            this.uploadButton.focus();\n            this.unwireActionButtonEvents();\n            this.wireActionButtonEvents();\n            this.checkActionButtonStatus();\n        }\n    };\n    Uploader.prototype.wireActionButtonEvents = function () {\n        EventHandler.add(this.uploadButton, 'click', this.uploadButtonClick, this);\n        EventHandler.add(this.clearButton, 'click', this.clearButtonClick, this);\n    };\n    Uploader.prototype.unwireActionButtonEvents = function () {\n        EventHandler.remove(this.uploadButton, 'click', this.uploadButtonClick);\n        EventHandler.remove(this.clearButton, 'click', this.clearButtonClick);\n    };\n    Uploader.prototype.removeActionButtons = function () {\n        if (this.actionButtons) {\n            this.unwireActionButtonEvents();\n            detach(this.actionButtons);\n            this.actionButtons = null;\n        }\n    };\n    Uploader.prototype.renderButtonTemplates = function () {\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.textContent = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.textContent);\n        }\n        else {\n            this.browseButton.innerHTML = '';\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        if (this.uploadButton) {\n            var uploadText = isNullOrUndefined(this.buttons.upload) ? 'Upload' : this.buttons.upload;\n            this.buttons.upload = uploadText;\n            if (typeof (this.buttons.upload) === 'string') {\n                this.uploadButton.textContent = (this.buttons.upload === 'Upload') ?\n                    this.localizedTexts('Upload') : this.buttons.upload;\n                this.uploadButton.setAttribute('title', this.uploadButton.textContent);\n            }\n            else {\n                this.uploadButton.innerHTML = '';\n                this.uploadButton.appendChild(this.buttons.upload);\n            }\n        }\n        if (this.clearButton) {\n            var clearText = isNullOrUndefined(this.buttons.clear) ? 'Clear' : this.buttons.clear;\n            this.buttons.clear = clearText;\n            if (typeof (this.buttons.clear) === 'string') {\n                this.clearButton.textContent = (this.buttons.clear === 'Clear') ?\n                    this.localizedTexts('Clear') : this.buttons.clear;\n                this.clearButton.setAttribute('title', this.clearButton.textContent);\n            }\n            else {\n                this.clearButton.innerHTML = '';\n                this.clearButton.appendChild(this.buttons.clear);\n            }\n        }\n    };\n    Uploader.prototype.initializeUpload = function () {\n        this.element.setAttribute('tabindex', '-1');\n        var inputWrapper = this.createElement('span', { className: INPUT_WRAPPER });\n        this.element.parentElement.insertBefore(inputWrapper, this.element);\n        this.dropAreaWrapper = this.createElement('div', { className: DROP_WRAPPER });\n        this.element.parentElement.insertBefore(this.dropAreaWrapper, this.element);\n        inputWrapper.appendChild(this.element);\n        this.dropAreaWrapper.appendChild(this.browseButton);\n        this.dropAreaWrapper.appendChild(inputWrapper);\n        this.uploadWrapper = this.createElement('div', { className: CONTROL_WRAPPER });\n        this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper, this.dropAreaWrapper);\n        this.uploadWrapper.appendChild(this.dropAreaWrapper);\n        this.setDropArea();\n    };\n    Uploader.prototype.renderPreLoadFiles = function () {\n        if (this.files.length) {\n            if (this.enablePersistence && this.filesData.length) {\n                this.createFileList(this.filesData);\n                return;\n            }\n            if (isNullOrUndefined(this.files[0].size)) {\n                return;\n            }\n            this.isPreloadFiles = true;\n            var files = [].slice.call(this.files);\n            var filesData = [];\n            if (!this.multiple) {\n                this.clearData();\n                files = [files[0]];\n            }\n            for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\n                var data = files_1[_i];\n                var fileData = {\n                    name: data.name + '.' + data.type.split('.')[data.type.split('.').length - 1],\n                    rawFile: '',\n                    size: data.size,\n                    status: this.localizedTexts('uploadSuccessMessage'),\n                    type: data.type,\n                    validationMessages: { minSize: '', maxSize: '' },\n                    statusCode: '2'\n                };\n                filesData.push(fileData);\n                this.filesData.push(fileData);\n            }\n            this.createFileList(filesData);\n            if (!this.autoUpload && this.listParent && !this.actionButtons && (!this.isForm || this.allowUpload()) && this.showFileList) {\n                this.renderActionButtons();\n            }\n            this.checkActionButtonStatus();\n            if (this.sequentialUpload) {\n                this.count = this.filesData.length - 1;\n            }\n            this.isPreloadFiles = false;\n        }\n    };\n    Uploader.prototype.checkActionButtonStatus = function () {\n        if (this.actionButtons) {\n            var length_1 = this.uploadWrapper.querySelectorAll('.' + VALIDATION_FAILS).length +\n                this.uploadWrapper.querySelectorAll('.e-upload-fails:not(.e-upload-progress)').length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_SUCCESS).length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_INPROGRESS).length;\n            if (length_1 > 0 && length_1 === this.uploadWrapper.querySelectorAll('li').length) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n            else {\n                this.uploadButton.removeAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.setDropArea = function () {\n        var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n        if (this.dropArea) {\n            this.dropZoneElement = (typeof (this.dropArea) !== 'string') ? this.dropArea :\n                select(this.dropArea, document);\n            var element = this.element;\n            var enableDropText = false;\n            while (element.parentNode) {\n                element = element.parentNode;\n                if (element === this.dropZoneElement) {\n                    enableDropText = true;\n                    if (!dropTextArea) {\n                        this.createDropTextHint();\n                    }\n                    else {\n                        dropTextArea.innerHTML = this.localizedTexts('dropFilesHint');\n                    }\n                }\n            }\n            if (!enableDropText && dropTextArea) {\n                remove(dropTextArea);\n            }\n        }\n        else if (!isNullOrUndefined(this.uploaderOptions) && this.uploaderOptions.dropArea === undefined) {\n            this.createDropTextHint();\n            this.dropZoneElement = this.uploadWrapper;\n            this.setProperties({ dropArea: this.uploadWrapper }, true);\n        }\n        this.bindDropEvents();\n    };\n    Uploader.prototype.updateDropArea = function () {\n        if (this.dropArea) {\n            this.setDropArea();\n        }\n        else {\n            this.dropZoneElement = null;\n            var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n            if (dropTextArea) {\n                remove(dropTextArea);\n            }\n        }\n    };\n    Uploader.prototype.createDropTextHint = function () {\n        var fileDropArea = this.createElement('span', { className: DROP_AREA });\n        fileDropArea.innerHTML = this.localizedTexts('dropFilesHint');\n        this.dropAreaWrapper.appendChild(fileDropArea);\n    };\n    Uploader.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttr.indexOf(pro) < 0) {\n                    this.element.setAttribute(pro, this.htmlAttributes[pro]);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttr.indexOf(pro) > -1) {\n                    if (pro === 'class') {\n                        var updatedClassValues = (this.htmlAttributes[pro].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValues !== '') {\n                            addClass([this.uploadWrapper], updatedClassValues.split(' '));\n                        }\n                    }\n                    else if (pro === 'style') {\n                        var uploadStyle = this.uploadWrapper.getAttribute(pro);\n                        uploadStyle = !isNullOrUndefined(uploadStyle) ? (uploadStyle + this.htmlAttributes[pro]) :\n                            this.htmlAttributes[pro];\n                        this.uploadWrapper.setAttribute(pro, uploadStyle);\n                    }\n                    else {\n                        this.uploadWrapper.setAttribute(pro, this.htmlAttributes[pro]);\n                    }\n                }\n            }\n        }\n    };\n    Uploader.prototype.setMultipleSelection = function () {\n        if (this.multiple && !this.element.hasAttribute('multiple')) {\n            var newAttr = document.createAttribute('multiple');\n            newAttr.value = 'multiple';\n            this.element.setAttributeNode(newAttr);\n        }\n        else if (!this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n    };\n    Uploader.prototype.checkAutoUpload = function (fileData) {\n        if (this.autoUpload) {\n            if (this.sequentialUpload) {\n                /* istanbul ignore next */\n                this.sequenceUpload(fileData);\n            }\n            else {\n                this.upload(fileData);\n            }\n            this.removeActionButtons();\n        }\n        else if (!this.actionButtons) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.sequenceUpload = function (fileData) {\n        if (this.filesData.length - fileData.length === 0 ||\n            this.filesData[(this.filesData.length - fileData.length - 1)].statusCode !== '1') {\n            ++this.count;\n            var isFileListCreated = this.showFileList ? false : true;\n            if (typeof this.filesData[this.count] === 'object') {\n                this.isFirstFileOnSelection = false;\n                this.upload(this.filesData[this.count], isFileListCreated);\n                if (this.filesData[this.count].statusCode === '0') {\n                    this.sequenceUpload(fileData);\n                }\n            }\n            else {\n                --this.count;\n            }\n        }\n    };\n    Uploader.prototype.setCSSClass = function (oldCSSClass) {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(this.cssClass) && updatedCssClassValue !== '') {\n            addClass([this.uploadWrapper], updatedCssClassValue.split(updatedCssClassValue.indexOf(',') > -1 ? ',' : ' '));\n        }\n        var updatedOldCssClass = oldCSSClass;\n        if (!isNullOrUndefined(oldCSSClass)) {\n            updatedOldCssClass = (oldCSSClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCSSClass) && updatedOldCssClass !== '') {\n            removeClass([this.uploadWrapper], updatedOldCssClass.split(' '));\n        }\n    };\n    Uploader.prototype.wireEvents = function () {\n        EventHandler.add(this.browseButton, 'click', this.browseButtonClick, this);\n        EventHandler.add(this.element, 'change', this.onSelectFiles, this);\n        EventHandler.add(document, 'click', this.removeFocus, this);\n        this.keyboardModule = new KeyboardEvents(this.uploadWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n    };\n    Uploader.prototype.unWireEvents = function () {\n        EventHandler.remove(this.browseButton, 'click', this.browseButtonClick);\n        EventHandler.remove(this.element, 'change', this.onSelectFiles);\n        EventHandler.remove(document, 'click', this.removeFocus);\n        if (this.isForm) {\n            EventHandler.remove(this.formElement, 'reset', this.resetForm);\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n    };\n    Uploader.prototype.resetForm = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.keyActionHandler = function (e) {\n        var targetElement = e.target;\n        switch (e.action) {\n            case 'enter':\n                if (e.target === this.clearButton) {\n                    this.clearButtonClick();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButtonClick();\n                }\n                else if (e.target === this.browseButton) {\n                    this.browseButtonClick();\n                }\n                else if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '4';\n                    metaData.file.status = this.localizedTexts('pauseUpload');\n                    this.abortUpload(metaData, false);\n                }\n                else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n                    this.resumeUpload(this.getCurrentMetaData(null, e), e);\n                }\n                else if (targetElement.classList.contains(RETRY_ICON)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    if (!isNullOrUndefined(metaData)) {\n                        metaData.file.statusCode = '1';\n                        metaData.file.status = this.localizedTexts('readyToUploadMessage');\n                        this.chunkUpload(metaData.file);\n                    }\n                    else {\n                        var target = e.target.parentElement;\n                        var fileData = this.filesData[this.fileList.indexOf(target)];\n                        this.retry(fileData);\n                    }\n                }\n                else {\n                    this.removeFiles(e);\n                    if (!targetElement.classList.contains(ABORT_ICON)) {\n                        this.browseButton.focus();\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n        }\n    };\n    Uploader.prototype.getCurrentMetaData = function (fileInfo, e) {\n        var fileData;\n        var targetMetaData;\n        if (isNullOrUndefined(fileInfo)) {\n            var target = e.target.parentElement;\n            fileData = this.filesData[this.fileList.indexOf(target)];\n        }\n        else {\n            fileData = fileInfo;\n        }\n        for (var i = 0; i < this.uploadMetaData.length; i++) {\n            if (this.uploadMetaData[i].file.name === fileData.name) {\n                targetMetaData = this.uploadMetaData[i];\n            }\n        }\n        return targetMetaData;\n    };\n    Uploader.prototype.removeFocus = function () {\n        if (this.uploadWrapper && this.listParent && this.listParent.querySelector('.' + ICON_FOCUSED)) {\n            document.activeElement.blur();\n            this.listParent.querySelector('.' + ICON_FOCUSED).classList.remove(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.browseButtonClick = function () {\n        this.element.click();\n    };\n    Uploader.prototype.uploadButtonClick = function () {\n        if (this.sequentialUpload) {\n            this.sequenceUpload(this.filesData);\n        }\n        else {\n            this.upload(this.filesData);\n        }\n    };\n    Uploader.prototype.clearButtonClick = function () {\n        this.clearAll();\n        /* istanbul ignore next */\n        if (this.sequentialUpload) {\n            this.count = -1;\n        }\n        this.actionCompleteCount = 0;\n    };\n    Uploader.prototype.bindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.add(this.dropZoneElement, 'drop', this.dropElement, this);\n            EventHandler.add(this.dropZoneElement, 'dragover', this.dragHover, this);\n            EventHandler.add(this.dropZoneElement, 'dragleave', this.onDragLeave, this);\n            EventHandler.add(this.dropZoneElement, 'paste', this.onPasteFile, this);\n            EventHandler.add(this.dropZoneElement, 'dragenter', this.onDragEnter, this);\n        }\n    };\n    Uploader.prototype.unBindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.remove(this.dropZoneElement, 'drop', this.dropElement);\n            EventHandler.remove(this.dropZoneElement, 'dragover', this.dragHover);\n            EventHandler.remove(this.dropZoneElement, 'dragleave', this.onDragLeave);\n            EventHandler.remove(this.dropZoneElement, 'dragenter', this.onDragEnter);\n        }\n    };\n    Uploader.prototype.onDragEnter = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.dropZoneElement.classList.add(DRAG_HOVER);\n        this.dragCounter = this.dragCounter + 1;\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    Uploader.prototype.onDragLeave = function () {\n        if (!this.enabled) {\n            return;\n        }\n        this.dragCounter = this.dragCounter - 1;\n        if (!this.dragCounter) {\n            this.dropZoneElement.classList.remove(DRAG_HOVER);\n        }\n    };\n    Uploader.prototype.dragHover = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.dropEffect !== 'Default') {\n            e.dataTransfer.dropEffect = this.dropEffect.toLowerCase();\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.dropElement = function (e) {\n        this.dragCounter = 0;\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n        this.onSelectFiles(e);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.onPasteFile = function (event) {\n        var item = event.clipboardData.items;\n        if (item.length !== 1) {\n            return;\n        }\n        var pasteFile = [].slice.call(item)[0];\n        if ((pasteFile.kind === 'file') && pasteFile.type.match('^image/')) {\n            this.renderSelectedFiles(event, [pasteFile.getAsFile()], false, true);\n        }\n    };\n    Uploader.prototype.getSelectedFiles = function (index) {\n        var data = [];\n        var liElement = this.fileList[index];\n        var allFiles = this.getFilesData();\n        var nameElements = +liElement.getAttribute('data-files-count');\n        var startIndex = 0;\n        for (var i = 0; i < index; i++) {\n            startIndex += (+this.fileList[i].getAttribute('data-files-count'));\n        }\n        for (var j = startIndex; j < (startIndex + nameElements); j++) {\n            data.push(allFiles[j]);\n        }\n        return data;\n    };\n    Uploader.prototype.removeFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var selectedElement = args.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var liElement = this.fileList[index];\n        var formUpload = this.isFormUpload();\n        var fileData = formUpload ? this.getSelectedFiles(index) : this.getFilesInArray(this.filesData[index]);\n        if (isNullOrUndefined(fileData)) {\n            return;\n        }\n        if (args.target.classList.contains(ABORT_ICON) && !formUpload) {\n            fileData[0].statusCode = '5';\n            if (!isNullOrUndefined(liElement)) {\n                var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n            if (this.sequentialUpload) {\n                /* istanbul ignore next */\n                this.uploadSequential();\n            }\n            if (!(liElement.classList.contains(RESTRICT_RETRY))) {\n                this.checkActionComplete(true);\n            }\n        }\n        else if (!closest(args.target, '.' + SPINNER_PANE)) {\n            this.remove(fileData, false, false, true, args);\n        }\n        this.element.value = '';\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.removeFilesData = function (file, customTemplate) {\n        var index;\n        if (customTemplate) {\n            if (!this.showFileList) {\n                index = this.filesData.indexOf(file);\n                this.filesData.splice(index, 1);\n            }\n            return;\n        }\n        var selectedElement = this.getLiElement(file);\n        if (isNullOrUndefined(selectedElement)) {\n            return;\n        }\n        detach(selectedElement);\n        index = this.fileList.indexOf(selectedElement);\n        this.fileList.splice(index, 1);\n        this.filesData.splice(index, 1);\n        if (this.fileList.length === 0 && !isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.removeActionButtons();\n        }\n        if (this.sequentialUpload) {\n            /* istanbul ignore next */\n            if (index <= this.count) {\n                --this.count;\n            }\n        }\n    };\n    Uploader.prototype.removeUploadedFile = function (file, eventArgs, removeDirectly, custom) {\n        var _this = this;\n        var selectedFiles = file;\n        var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n        ajax.emitError = false;\n        var formData = new FormData();\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            if (!removeDirectly) {\n                _this.trigger('removing', eventArgs, function (eventArgs) {\n                    if (eventArgs.cancel) {\n                        e.cancel = true;\n                    }\n                    else {\n                        _this.removingEventCallback(eventArgs, formData, selectedFiles, file);\n                    }\n                });\n            }\n            else {\n                _this.removingEventCallback(eventArgs, formData, selectedFiles, file);\n            }\n        };\n        ajax.onLoad = function (e) {\n            _this.removeCompleted(e, selectedFiles, custom);\n            return {};\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) {\n            _this.removeFailed(e, selectedFiles, custom);\n            return {};\n        };\n        ajax.send(formData);\n    };\n    Uploader.prototype.removingEventCallback = function (eventArgs, formData, selectedFiles, file) {\n        /* istanbul ignore next */\n        var name = this.element.getAttribute('name');\n        var liElement = this.getLiElement(file);\n        if (!isNullOrUndefined(liElement) && (!isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON)) ||\n            !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON)))) {\n            var spinnerTarget = liElement.querySelector('.' + DELETE_ICON) ?\n                liElement.querySelector('.' + DELETE_ICON) :\n                liElement.querySelector('.' + REMOVE_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n        if (eventArgs.postRawFile && !isNullOrUndefined(selectedFiles.rawFile) && selectedFiles.rawFile !== '') {\n            formData.append(name, selectedFiles.rawFile, selectedFiles.name);\n        }\n        else {\n            formData.append(name, selectedFiles.name);\n        }\n        this.updateFormData(formData, eventArgs.customFormData);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateFormData = function (formData, customData) {\n        if (customData.length > 0 && customData[0]) {\n            var _loop_1 = function (i) {\n                var data = customData[i];\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                formData.append(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < customData.length; i++) {\n                _loop_1(i);\n            }\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateCustomheader = function (request, currentRequest) {\n        if (currentRequest.length > 0 && currentRequest[0]) {\n            var _loop_2 = function (i) {\n                var data = currentRequest[i];\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                request.setRequestHeader(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < currentRequest.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    Uploader.prototype.removeCompleted = function (e, files, customTemplate) {\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var args = {\n                e: e, response: response, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedSuccessMessage'), '2')\n            };\n            this.trigger('success', args);\n            this.removeFilesData(files, customTemplate);\n            var index = this.uploadedFilesData.indexOf(files);\n            this.uploadedFilesData.splice(index, 1);\n            this.trigger('change', { files: this.uploadedFilesData });\n        }\n        else {\n            this.removeFailed(e, files, customTemplate);\n        }\n    };\n    Uploader.prototype.removeFailed = function (e, files, customTemplate) {\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var args = {\n            e: e, response: response, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedFailedMessage'), '0')\n        };\n        if (!customTemplate) {\n            var index = this.filesData.indexOf(files);\n            var rootElement = this.fileList[index];\n            if (rootElement) {\n                rootElement.classList.remove(UPLOAD_SUCCESS);\n                rootElement.classList.add(UPLOAD_FAILED);\n                var statusElement = rootElement.querySelector('.' + STATUS);\n                if (statusElement) {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(UPLOAD_FAILED);\n                }\n            }\n            this.checkActionButtonStatus();\n        }\n        this.trigger('failure', args);\n        var liElement = this.getLiElement(files);\n        /* istanbul ignore next */\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + DELETE_ICON);\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getFilesFromFolder = function (event) {\n        this.filesEntries = [];\n        var items = this.multiple ?\n            event.dataTransfer.items : [event.dataTransfer.items[0]];\n        var validDirectoryUpload = this.checkDirectoryUpload(items);\n        if (!validDirectoryUpload) {\n            return;\n        }\n        var _loop_3 = function (i) {\n            var item = items[i].webkitGetAsEntry();\n            if (item.isFile) {\n                var files_2 = [];\n                (item).file(function (fileObj) {\n                    var path = item.fullPath;\n                    files_2.push({ 'path': path, 'file': fileObj });\n                });\n                this_1.renderSelectedFiles(event, files_2, true);\n            }\n            else if (item.isDirectory) {\n                this_1.traverseFileTree(item, event);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < items.length; i++) {\n            _loop_3(i);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.checkDirectoryUpload = function (items) {\n        for (var i = 0; items && i < items.length; i++) {\n            var item = items[i].webkitGetAsEntry();\n            if (item.isDirectory) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n    /* istanbul ignore next */\n    Uploader.prototype.traverseFileTree = function (item, event) {\n        /* eslint-enable @typescript-eslint/explicit-module-boundary-types */\n        if (item.isFile) {\n            this.filesEntries.push(item);\n        }\n        else if (item.isDirectory) {\n            var directoryReader = item.createReader();\n            this.readFileFromDirectory(directoryReader, event);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.readFileFromDirectory = function (directoryReader, event) {\n        var _this = this;\n        directoryReader.readEntries(function (entries) {\n            for (var i = 0; i < entries.length; i++) {\n                _this.traverseFileTree(entries[i], event);\n            }\n            _this.pushFilesEntries(event);\n            if (entries.length) {\n                _this.readFileFromDirectory(directoryReader);\n            }\n        });\n    };\n    Uploader.prototype.pushFilesEntries = function (event) {\n        var _this = this;\n        var files = [];\n        var _loop_4 = function (i) {\n            this_2.filesEntries[i].file(function (fileObj) {\n                if (_this.filesEntries.length) {\n                    var path = _this.filesEntries[i].fullPath;\n                    files.push({ 'path': path, 'file': fileObj });\n                    if (i === _this.filesEntries.length - 1) {\n                        _this.filesEntries = [];\n                        _this.renderSelectedFiles(event, files, true);\n                    }\n                }\n            });\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.filesEntries.length; i++) {\n            _loop_4(i);\n        }\n    };\n    Uploader.prototype.onSelectFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var targetFiles;\n        /* istanbul ignore next */\n        if (args.type === 'drop') {\n            if (this.directoryUpload) {\n                this.getFilesFromFolder(args);\n            }\n            else {\n                var files = this.sortFilesList = args.dataTransfer.files;\n                if (this.browserName !== 'msie' && this.browserName !== 'edge' && this.browserName !== 'safari') {\n                    this.element.files = files;\n                }\n                if (files.length > 0) {\n                    targetFiles = this.multiple ? this.sortFileList(files) : [files[0]];\n                    this.renderSelectedFiles(args, targetFiles);\n                }\n            }\n        }\n        else {\n            targetFiles = [].slice.call(args.target.files);\n            this.renderSelectedFiles(args, targetFiles);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getBase64 = function (file) {\n        return new Promise(function (resolve, reject) {\n            var fileReader = new FileReader();\n            fileReader.readAsDataURL(file);\n            fileReader.onload = function () { return resolve(fileReader.result); };\n            fileReader.onerror = function (error) { return reject(error); };\n        });\n    };\n    /* istanbul ignore next */\n    /* tslint:ignore */\n    Uploader.prototype.renderSelectedFiles = function (args, targetFiles, directory, paste) {\n        var _this = this;\n        this.base64String = [];\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            isModified: false,\n            modifiedFilesData: [],\n            progressInterval: '',\n            isCanceled: false,\n            currentRequest: null,\n            customFormData: null\n        };\n        /* istanbul ignore next */\n        if (targetFiles.length < 1) {\n            eventArgs.isCanceled = true;\n            this.trigger('selected', eventArgs);\n            return;\n        }\n        this.flag = true;\n        var fileData = [];\n        if (!this.multiple) {\n            this.clearData(true);\n            targetFiles = [targetFiles[0]];\n        }\n        for (var i = 0; i < targetFiles.length; i++) {\n            var file = directory ? targetFiles[i].file : targetFiles[i];\n            this.updateInitialFileDetails(args, targetFiles, file, i, fileData, directory, paste);\n        }\n        eventArgs.filesData = fileData;\n        if (this.allowedExtensions.indexOf('*') > -1) {\n            this.allTypes = true;\n        }\n        if (!this.allTypes) {\n            fileData = this.checkExtension(fileData);\n        }\n        this.trigger('selected', eventArgs, function (eventArgs) {\n            _this._internalRenderSelect(eventArgs, fileData);\n        });\n    };\n    Uploader.prototype.updateInitialFileDetails = function (args, \n    // eslint-disable-next-line @typescript-eslint/indent\n    targetFiles, file, i, fileData, directory, paste) {\n        var fileName = directory ? targetFiles[i].path.substring(1, targetFiles[i].path.length) : paste ?\n            getUniqueID(file.name.substring(0, file.name.lastIndexOf('.'))) + '.' + this.getFileType(file.name) :\n            this.directoryUpload ? targetFiles[i].webkitRelativePath : file.name;\n        var fileDetails = {\n            name: fileName,\n            rawFile: file,\n            size: file.size,\n            status: this.localizedTexts('readyToUploadMessage'),\n            type: this.getFileType(file.name),\n            validationMessages: this.validatedFileSize(file.size),\n            statusCode: '1',\n            id: getUniqueID(file.name.substring(0, file.name.lastIndexOf('.'))) + '.' + this.getFileType(file.name)\n        };\n        /* istanbul ignore next */\n        if (paste) {\n            fileDetails.fileSource = 'paste';\n        }\n        fileDetails.status = fileDetails.validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n            fileDetails.validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : fileDetails.status;\n        if (fileDetails.validationMessages.minSize !== '' || fileDetails.validationMessages.maxSize !== '') {\n            fileDetails.statusCode = '0';\n        }\n        fileData.push(fileDetails);\n    };\n    Uploader.prototype._internalRenderSelect = function (eventArgs, fileData) {\n        if (!eventArgs.cancel) {\n            /* istanbul ignore next */\n            this.selectedFiles = this.selectedFiles.concat(fileData);\n            this.btnTabIndex = this.disableKeyboardNavigation ? '-1' : '0';\n            if (this.showFileList) {\n                if (eventArgs.isModified && eventArgs.modifiedFilesData.length > 0) {\n                    for (var j = 0; j < eventArgs.modifiedFilesData.length; j++) {\n                        for (var k = 0; k < fileData.length; k++) {\n                            if (eventArgs.modifiedFilesData[j].id === fileData[k].id) {\n                                eventArgs.modifiedFilesData[j].rawFile = fileData[k].rawFile;\n                            }\n                        }\n                    }\n                    var dataFiles = this.allTypes ? eventArgs.modifiedFilesData :\n                        this.checkExtension(eventArgs.modifiedFilesData);\n                    this.updateSortedFileList(dataFiles);\n                    this.filesData = dataFiles;\n                    if (!this.isForm || this.allowUpload()) {\n                        this.checkAutoUpload(dataFiles);\n                    }\n                }\n                else {\n                    this.createFileList(fileData, true);\n                    this.filesData = this.filesData.concat(fileData);\n                    if (!this.isForm || this.allowUpload()) {\n                        this.checkAutoUpload(fileData);\n                    }\n                }\n                if (!isNullOrUndefined(eventArgs.progressInterval) && eventArgs.progressInterval !== '') {\n                    this.progressInterval = eventArgs.progressInterval;\n                }\n            }\n            else {\n                this.filesData = this.filesData.concat(fileData);\n                if (this.autoUpload) {\n                    this.upload(this.filesData, true);\n                }\n            }\n            this.raiseActionComplete();\n            this.isFirstFileOnSelection = true;\n        }\n    };\n    Uploader.prototype.allowUpload = function () {\n        var allowFormUpload = false;\n        if (this.isForm && (!isNullOrUndefined(this.asyncSettings.saveUrl) && this.asyncSettings.saveUrl !== '')) {\n            allowFormUpload = true;\n        }\n        return allowFormUpload;\n    };\n    Uploader.prototype.isFormUpload = function () {\n        var isFormUpload = false;\n        if (this.isForm && ((isNullOrUndefined(this.asyncSettings.saveUrl) || this.asyncSettings.saveUrl === '')\n            && (isNullOrUndefined(this.asyncSettings.removeUrl) || this.asyncSettings.removeUrl === ''))) {\n            isFormUpload = true;\n        }\n        return isFormUpload;\n    };\n    Uploader.prototype.clearData = function (singleUpload) {\n        if (!isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n        }\n        if (this.browserName !== 'msie' && !singleUpload) {\n            this.element.value = '';\n        }\n        this.fileList = [];\n        this.filesData = [];\n        this.removeActionButtons();\n    };\n    Uploader.prototype.updateSortedFileList = function (filesData) {\n        var previousListClone = this.createElement('div', { id: 'clonewrapper' });\n        var added = -1;\n        var removedList;\n        if (this.listParent) {\n            for (var i = 0; i < this.listParent.querySelectorAll('li').length; i++) {\n                var liElement = this.listParent.querySelectorAll('li')[i];\n                previousListClone.appendChild(liElement.cloneNode(true));\n            }\n            removedList = this.listParent.querySelectorAll('li');\n            for (var _i = 0, removedList_1 = removedList; _i < removedList_1.length; _i++) {\n                var item = removedList_1[_i];\n                detach(item);\n            }\n            this.removeActionButtons();\n            var oldList = [].slice.call(previousListClone.childNodes);\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createParentUL();\n            for (var index = 0; index < filesData.length; index++) {\n                for (var j = 0; j < this.filesData.length; j++) {\n                    if (this.filesData[j].name === filesData[index].name) {\n                        this.listParent.appendChild(oldList[j]);\n                        EventHandler.add(oldList[j].querySelector('.e-icons'), 'click', this.removeFiles, this);\n                        this.fileList.push(oldList[j]);\n                        added = index;\n                    }\n                }\n                if (added !== index) {\n                    this.createFileList([filesData[index]]);\n                }\n            }\n        }\n        else {\n            this.createFileList(filesData);\n        }\n    };\n    Uploader.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    Uploader.prototype.checkExtension = function (files) {\n        var dropFiles = files;\n        if (!this.isBlank(this.allowedExtensions)) {\n            var allowedExtensions = [];\n            var extensions = this.allowedExtensions.split(',');\n            for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n                var extension = extensions_1[_i];\n                allowedExtensions.push(extension.trim().toLocaleLowerCase());\n            }\n            for (var i = 0; i < files.length; i++) {\n                if (allowedExtensions.indexOf(('.' + files[i].type).toLocaleLowerCase()) === -1) {\n                    files[i].status = this.localizedTexts('invalidFileType');\n                    files[i].statusCode = '0';\n                }\n            }\n        }\n        return dropFiles;\n    };\n    Uploader.prototype.validatedFileSize = function (fileSize) {\n        var minSizeError = '';\n        var maxSizeError = '';\n        if (fileSize < this.minFileSize) {\n            minSizeError = this.localizedTexts('invalidMinFileSize');\n        }\n        else if (fileSize > this.maxFileSize) {\n            maxSizeError = this.localizedTexts('invalidMaxFileSize');\n        }\n        else {\n            minSizeError = '';\n            maxSizeError = '';\n        }\n        var errorMessage = { minSize: minSizeError, maxSize: maxSizeError };\n        return errorMessage;\n    };\n    Uploader.prototype.isPreLoadFile = function (fileData) {\n        var isPreload = false;\n        for (var i = 0; i < this.files.length; i++) {\n            if (this.files[i].name === fileData.name.slice(0, fileData.name.lastIndexOf('.')) && this.files[i].type === fileData.type) {\n                isPreload = true;\n            }\n        }\n        return isPreload;\n    };\n    Uploader.prototype.createCustomfileList = function (fileData) {\n        this.createParentUL();\n        for (var _i = 0, fileData_1 = fileData; _i < fileData_1.length; _i++) {\n            var listItem = fileData_1[_i];\n            var listElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n            this.uploadTemplateFn = this.templateComplier(this.template);\n            var liTempCompiler = this.uploadTemplateFn(listItem, this, 'template', this.element.id + 'Template', this.isStringTemplate, null, listElement);\n            if (liTempCompiler) {\n                var fromElements = [].slice.call(liTempCompiler);\n                append(fromElements, listElement);\n            }\n            var index = fileData.indexOf(listItem);\n            var eventArgs = {\n                element: listElement,\n                fileInfo: listItem,\n                index: index,\n                isPreload: this.isPreLoadFile(listItem)\n            };\n            var eventsArgs = {\n                element: listElement,\n                fileInfo: listItem,\n                index: index,\n                isPreload: this.isPreLoadFile(listItem)\n            };\n            this.trigger('rendering', eventArgs);\n            this.trigger('fileListRendering', eventsArgs);\n            this.listParent.appendChild(listElement);\n            this.fileList.push(listElement);\n        }\n        this.renderReactTemplates();\n    };\n    Uploader.prototype.createParentUL = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            this.listParent = this.createElement('ul', { className: LIST_PARENT });\n            this.uploadWrapper.appendChild(this.listParent);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Uploader.prototype.formFileList = function (fileData, files) {\n        var fileList = this.createElement('li', { className: FILE });\n        fileList.setAttribute('data-files-count', fileData.length + '');\n        var fileContainer = this.createElement('span', { className: TEXT_CONTAINER });\n        var statusMessage;\n        for (var _i = 0, fileData_2 = fileData; _i < fileData_2.length; _i++) {\n            var listItem = fileData_2[_i];\n            var fileNameEle = this.createElement('span', { className: FILE_NAME });\n            fileNameEle.innerHTML = this.getFileNameOnly(listItem.name);\n            var fileTypeEle = this.createElement('span', { className: FILE_TYPE });\n            var fileType = this.getFileType(listItem.name);\n            fileTypeEle.innerHTML = '.' + fileType;\n            if (!fileType) {\n                fileTypeEle.classList.add('e-hidden');\n            }\n            if (!this.enableRtl) {\n                fileContainer.appendChild(fileNameEle);\n                fileContainer.appendChild(fileTypeEle);\n            }\n            else {\n                var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                rtlContainer.appendChild(fileTypeEle);\n                rtlContainer.appendChild(fileNameEle);\n                fileContainer.appendChild(rtlContainer);\n            }\n            this.truncateName(fileNameEle);\n            statusMessage = this.formValidateFileInfo(listItem, fileList);\n        }\n        fileList.appendChild(fileContainer);\n        this.setListToFileInfo(fileData, fileList);\n        var index = this.listParent.querySelectorAll('li').length;\n        var infoEle = this.createElement('span');\n        if (fileList.classList.contains(INVALID_FILE)) {\n            infoEle.classList.add(STATUS);\n            infoEle.classList.add(INVALID_FILE);\n            infoEle.innerText = fileData.length > 1 ? this.localizedTexts('invalidFileSelection') : statusMessage;\n        }\n        else {\n            infoEle.classList.add(fileData.length > 1 ? INFORMATION : FILE_SIZE);\n            infoEle.innerText = fileData.length > 1 ? this.localizedTexts('totalFiles') + ': ' + fileData.length + ' , '\n                + this.localizedTexts('size') + ': ' +\n                this.bytesToSize(this.getFileSize(fileData)) : this.bytesToSize(fileData[0].size);\n            this.createFormInput(fileData);\n        }\n        fileContainer.appendChild(infoEle);\n        if (isNullOrUndefined(fileList.querySelector('.e-icons'))) {\n            var iconElement = this.createElement('span', { className: 'e-icons', attrs: { 'tabindex': this.btnTabIndex } });\n            /* istanbul ignore next */\n            if (this.browserName === 'msie') {\n                iconElement.classList.add('e-msie');\n            }\n            iconElement.setAttribute('title', this.localizedTexts('remove'));\n            fileList.appendChild(fileContainer);\n            fileList.appendChild(iconElement);\n            EventHandler.add(iconElement, 'click', this.removeFiles, this);\n            iconElement.classList.add(REMOVE_ICON);\n        }\n        var eventArgs = {\n            element: fileList,\n            fileInfo: this.mergeFileInfo(fileData, fileList),\n            index: index,\n            isPreload: this.isPreLoadFile(this.mergeFileInfo(fileData, fileList))\n        };\n        var eventsArgs = {\n            element: fileList,\n            fileInfo: this.mergeFileInfo(fileData, fileList),\n            index: index,\n            isPreload: this.isPreLoadFile(this.mergeFileInfo(fileData, fileList))\n        };\n        this.trigger('rendering', eventArgs);\n        this.trigger('fileListRendering', eventsArgs);\n        this.listParent.appendChild(fileList);\n        this.fileList.push(fileList);\n    };\n    Uploader.prototype.formValidateFileInfo = function (listItem, fileList) {\n        var statusMessage = listItem.status;\n        var validationMessages = this.validatedFileSize(listItem.size);\n        if (validationMessages.minSize !== '' || validationMessages.maxSize !== '') {\n            this.addInvalidClass(fileList);\n            statusMessage = validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : statusMessage;\n        }\n        var typeValidationMessage = this.checkExtension(this.getFilesInArray(listItem))[0].status;\n        if (typeValidationMessage === this.localizedTexts('invalidFileType')) {\n            this.addInvalidClass(fileList);\n            statusMessage = typeValidationMessage;\n        }\n        return statusMessage;\n    };\n    Uploader.prototype.addInvalidClass = function (fileList) {\n        fileList.classList.add(INVALID_FILE);\n    };\n    Uploader.prototype.createFormInput = function (fileData) {\n        var inputElement = this.element.cloneNode(true);\n        inputElement.classList.add(HIDDEN_INPUT);\n        for (var _i = 0, fileData_3 = fileData; _i < fileData_3.length; _i++) {\n            var listItem = fileData_3[_i];\n            listItem.input = inputElement;\n        }\n        inputElement.setAttribute('name', this.uploaderName);\n        this.uploadWrapper.querySelector('.' + INPUT_WRAPPER).appendChild(inputElement);\n        if (this.browserName !== 'msie' && this.browserName !== 'edge') {\n            this.element.value = '';\n        }\n    };\n    Uploader.prototype.getFileSize = function (fileData) {\n        var fileSize = 0;\n        for (var _i = 0, fileData_4 = fileData; _i < fileData_4.length; _i++) {\n            var file = fileData_4[_i];\n            fileSize += file.size;\n        }\n        return fileSize;\n    };\n    Uploader.prototype.mergeFileInfo = function (fileData, fileList) {\n        var result = {\n            name: '',\n            rawFile: '',\n            size: 0,\n            status: '',\n            type: '',\n            validationMessages: { minSize: '', maxSize: '' },\n            statusCode: '1',\n            list: fileList\n        };\n        var fileNames = [];\n        var type = '';\n        for (var _i = 0, fileData_5 = fileData; _i < fileData_5.length; _i++) {\n            var listItem = fileData_5[_i];\n            fileNames.push(listItem.name);\n            type = listItem.type;\n        }\n        result.name = fileNames.join(', ');\n        result.size = this.getFileSize(fileData);\n        result.type = type;\n        result.status = this.statusForFormUpload(fileData, fileList);\n        return result;\n    };\n    Uploader.prototype.statusForFormUpload = function (fileData, fileList) {\n        var isValid = true;\n        var statusMessage;\n        for (var _i = 0, fileData_6 = fileData; _i < fileData_6.length; _i++) {\n            var listItem = fileData_6[_i];\n            statusMessage = listItem.status;\n            var validationMessages = this.validatedFileSize(listItem.size);\n            if (validationMessages.minSize !== '' || validationMessages.maxSize !== '') {\n                isValid = false;\n                statusMessage = validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                    validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : statusMessage;\n            }\n            var typeValidationMessage = this.checkExtension(this.getFilesInArray(listItem))[0].status;\n            if (typeValidationMessage === this.localizedTexts('invalidFileType')) {\n                isValid = false;\n                statusMessage = typeValidationMessage;\n            }\n        }\n        if (!isValid) {\n            fileList.classList.add(INVALID_FILE);\n            statusMessage = fileData.length > 1 ? this.localizedTexts('invalidFileSelection') : statusMessage;\n        }\n        else {\n            statusMessage = this.localizedTexts('totalFiles') + ': ' + fileData.length + ' , '\n                + this.localizedTexts('size') + ': ' +\n                this.bytesToSize(this.getFileSize(fileData));\n        }\n        return statusMessage;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Uploader.prototype.formCustomFileList = function (fileData, files) {\n        this.createParentUL();\n        var fileList = this.createElement('li', { className: FILE });\n        fileList.setAttribute('data-files-count', fileData.length + '');\n        this.setListToFileInfo(fileData, fileList);\n        var result = this.mergeFileInfo(fileData, fileList);\n        fileList.setAttribute('data-file-name', result.name);\n        this.uploadTemplateFn = this.templateComplier(this.template);\n        var liTempCompiler = this.uploadTemplateFn(result, this, 'template', this.element.id + 'Template', this.isStringTemplate, null, fileList);\n        if (liTempCompiler) {\n            var fromElements = [].slice.call(liTempCompiler);\n            append(fromElements, fileList);\n        }\n        var index = this.listParent.querySelectorAll('li').length;\n        if (!fileList.classList.contains(INVALID_FILE)) {\n            this.createFormInput(fileData);\n        }\n        var eventArgs = {\n            element: fileList,\n            fileInfo: result,\n            index: index,\n            isPreload: this.isPreLoadFile(result)\n        };\n        var eventsArgs = {\n            element: fileList,\n            fileInfo: result,\n            index: index,\n            isPreload: this.isPreLoadFile(result)\n        };\n        this.trigger('rendering', eventArgs);\n        this.trigger('fileListRendering', eventsArgs);\n        this.listParent.appendChild(fileList);\n        this.fileList.push(fileList);\n        this.renderReactTemplates();\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Create the file list for specified files data.\n     *\n     * @param { FileInfo[] } fileData - Specifies the files data for file list creation.\n     * @returns {void}\n     */\n    Uploader.prototype.createFileList = function (fileData, isSelectedFile) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        this.createParentUL();\n        if (this.template !== '' && !isNullOrUndefined(this.template)) {\n            if (this.isFormUpload()) {\n                this.uploadWrapper.classList.add(FORM_UPLOAD);\n                this.formCustomFileList(fileData, this.element.files);\n            }\n            else {\n                this.createCustomfileList(fileData);\n            }\n        }\n        else if (this.isFormUpload()) {\n            this.uploadWrapper.classList.add(FORM_UPLOAD);\n            this.formFileList(fileData, this.element.files);\n        }\n        else {\n            for (var _i = 0, fileData_7 = fileData; _i < fileData_7.length; _i++) {\n                var listItem = fileData_7[_i];\n                var liElement = this.createElement('li', {\n                    className: FILE,\n                    attrs: { 'data-file-name': listItem.name, 'data-files-count': '1' }\n                });\n                var textContainer = this.createElement('span', { className: TEXT_CONTAINER });\n                var textElement = this.createElement('span', { className: FILE_NAME, attrs: { 'title': listItem.name } });\n                textElement.innerHTML = this.getFileNameOnly(listItem.name);\n                var fileExtension = this.createElement('span', { className: FILE_TYPE });\n                var fileType = this.getFileType(listItem.name);\n                fileExtension.innerHTML = '.' + fileType;\n                if (!fileType) {\n                    fileExtension.classList.add('e-hidden');\n                }\n                if (!this.enableRtl) {\n                    textContainer.appendChild(textElement);\n                    textContainer.appendChild(fileExtension);\n                }\n                else {\n                    var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                    rtlContainer.appendChild(fileExtension);\n                    rtlContainer.appendChild(textElement);\n                    textContainer.appendChild(rtlContainer);\n                }\n                var fileSize = this.createElement('span', { className: FILE_SIZE });\n                fileSize.innerHTML = this.bytesToSize(listItem.size);\n                textContainer.appendChild(fileSize);\n                var statusElement = this.createElement('span', { className: STATUS });\n                textContainer.appendChild(statusElement);\n                statusElement.innerHTML = listItem.status;\n                liElement.appendChild(textContainer);\n                var iconElement = this.createElement('span', { className: ' e-icons',\n                    attrs: { 'tabindex': this.btnTabIndex } });\n                /* istanbul ignore next */\n                if (this.browserName === 'msie') {\n                    iconElement.classList.add('e-msie');\n                }\n                iconElement.setAttribute('title', this.localizedTexts('remove'));\n                liElement.appendChild(iconElement);\n                EventHandler.add(iconElement, 'click', this.removeFiles, this);\n                if (listItem.statusCode === '2') {\n                    statusElement.classList.add(UPLOAD_SUCCESS);\n                    iconElement.classList.add(DELETE_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('delete'));\n                }\n                else if (listItem.statusCode !== '1') {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(VALIDATION_FAILS);\n                }\n                if (this.autoUpload && listItem.statusCode === '1' && this.asyncSettings.saveUrl !== '') {\n                    statusElement.innerHTML = '';\n                }\n                if (!iconElement.classList.contains(DELETE_ICON)) {\n                    iconElement.classList.add(REMOVE_ICON);\n                }\n                var index = fileData.indexOf(listItem);\n                var eventArgs = {\n                    element: liElement,\n                    fileInfo: listItem,\n                    index: index,\n                    isPreload: this.isPreLoadFile(listItem)\n                };\n                var eventsArgs = {\n                    element: liElement,\n                    fileInfo: listItem,\n                    index: index,\n                    isPreload: this.isPreLoadFile(listItem)\n                };\n                this.trigger('rendering', eventArgs);\n                this.trigger('fileListRendering', eventsArgs);\n                this.listParent.appendChild(liElement);\n                this.fileList.push(liElement);\n                this.truncateName(textElement);\n                var preventActionComplete = this.flag;\n                if (this.isPreLoadFile(listItem)) {\n                    this.flag = false;\n                    this.checkActionComplete(true);\n                    this.flag = preventActionComplete;\n                }\n            }\n        }\n    };\n    Uploader.prototype.getSlicedName = function (nameElement) {\n        var text = nameElement.textContent;\n        nameElement.dataset.tail = text.slice(text.length - 10);\n    };\n    Uploader.prototype.setListToFileInfo = function (fileData, fileList) {\n        for (var _i = 0, fileData_8 = fileData; _i < fileData_8.length; _i++) {\n            var listItem = fileData_8[_i];\n            listItem.list = fileList;\n        }\n    };\n    Uploader.prototype.truncateName = function (name) {\n        var nameElement = name;\n        if (this.browserName !== 'edge' && nameElement.offsetWidth < nameElement.scrollWidth) {\n            this.getSlicedName(nameElement);\n            /* istanbul ignore next */\n        }\n        else if (nameElement.offsetWidth + 1 < nameElement.scrollWidth) {\n            this.getSlicedName(nameElement);\n        }\n    };\n    Uploader.prototype.getFileType = function (name) {\n        var extension;\n        var index = name.lastIndexOf('.');\n        if (index >= 0) {\n            extension = name.substring(index + 1);\n        }\n        return extension ? extension : '';\n    };\n    Uploader.prototype.getFileNameOnly = function (name) {\n        var type = this.getFileType(name);\n        var names = name.split('.' + type);\n        return type = names[0];\n    };\n    Uploader.prototype.setInitialAttributes = function () {\n        if (this.initialAttr.accept) {\n            this.element.setAttribute('accept', this.initialAttr.accept);\n        }\n        if (this.initialAttr.disabled) {\n            this.element.setAttribute('disabled', 'disabled');\n        }\n        if (this.initialAttr.multiple) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n    };\n    Uploader.prototype.filterfileList = function (files) {\n        var filterFiles = [];\n        var li;\n        for (var i = 0; i < files.length; i++) {\n            li = this.getLiElement(files[i]);\n            if (!li.classList.contains(UPLOAD_SUCCESS)) {\n                filterFiles.push(files[i]);\n            }\n        }\n        return filterFiles;\n    };\n    Uploader.prototype.updateStatus = function (files, status, statusCode, updateLiStatus) {\n        if (updateLiStatus === void 0) { updateLiStatus = true; }\n        if (!(status === '' || isNullOrUndefined(status)) && !(statusCode === '' || isNullOrUndefined(statusCode))) {\n            files.status = status;\n            files.statusCode = statusCode;\n        }\n        if (updateLiStatus) {\n            var li = this.getLiElement(files);\n            if (!isNullOrUndefined(li)) {\n                if (!isNullOrUndefined(li.querySelector('.' + STATUS)) && !((status === '' || isNullOrUndefined(status)))) {\n                    li.querySelector('.' + STATUS).textContent = status;\n                }\n            }\n        }\n        return files;\n    };\n    Uploader.prototype.getLiElement = function (files) {\n        var index;\n        for (var i = 0; i < this.filesData.length; i++) {\n            if (!isNullOrUndefined(files) && ((!isNullOrUndefined(this.filesData[i].id) &&\n                !isNullOrUndefined(files.id)) ? (this.filesData[i].name === files.name &&\n                this.filesData[i].id === files.id) : this.filesData[i].name === files.name)) {\n                index = i;\n            }\n        }\n        return this.fileList[index];\n    };\n    Uploader.prototype.createProgressBar = function (liElement) {\n        var progressbarWrapper = this.createElement('span', { className: PROGRESS_WRAPPER });\n        var progressBar = this.createElement('progressbar', { className: PROGRESSBAR, attrs: { value: '0', max: '100' } });\n        var progressbarInnerWrapper = this.createElement('span', { className: PROGRESS_INNER_WRAPPER });\n        progressBar.setAttribute('style', 'width: 0%');\n        var progressbarText = this.createElement('span', { className: PROGRESSBAR_TEXT });\n        progressbarText.textContent = '0%';\n        progressbarInnerWrapper.appendChild(progressBar);\n        progressbarWrapper.appendChild(progressbarInnerWrapper);\n        progressbarWrapper.appendChild(progressbarText);\n        liElement.querySelector('.' + TEXT_CONTAINER).appendChild(progressbarWrapper);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateProgressbar = function (e, li) {\n        if (!isNaN(Math.round((e.loaded / e.total) * 100)) && !isNullOrUndefined(li.querySelector('.' + PROGRESSBAR))) {\n            if (!isNullOrUndefined(this.progressInterval) && this.progressInterval !== '') {\n                var value = (Math.round((e.loaded / e.total) * 100)) % parseInt(this.progressInterval, 10);\n                if (value === 0 || value === 100) {\n                    this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n                }\n            }\n            else {\n                this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n            }\n        }\n    };\n    Uploader.prototype.changeProgressValue = function (li, progressValue) {\n        li.querySelector('.' + PROGRESSBAR).setAttribute('style', 'width:' + progressValue);\n        li.querySelector('.' + PROGRESSBAR_TEXT).textContent = progressValue;\n    };\n    Uploader.prototype.uploadInProgress = function (e, files, customUI, request) {\n        var li = this.getLiElement(files);\n        if (isNullOrUndefined(li) && (!customUI)) {\n            return;\n        }\n        if (!isNullOrUndefined(li)) {\n            /* istanbul ignore next */\n            if (files.statusCode === '5') {\n                this.cancelUploadingFile(files, e, request, li);\n            }\n            if (!(li.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0) && li.querySelector('.' + STATUS)) {\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_INPROGRESS);\n                this.createProgressBar(li);\n                this.updateProgressBarClasses(li, UPLOAD_INPROGRESS);\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            this.updateProgressbar(e, li);\n            var iconEle = li.querySelector('.' + REMOVE_ICON);\n            if (!isNullOrUndefined(iconEle)) {\n                iconEle.classList.add(ABORT_ICON, UPLOAD_INPROGRESS);\n                iconEle.setAttribute('title', this.localizedTexts('abort'));\n                iconEle.classList.remove(REMOVE_ICON);\n            }\n        }\n        else {\n            this.cancelUploadingFile(files, e, request);\n        }\n        var args = { e: e, operation: 'upload', file: this.updateStatus(files, this.localizedTexts('inProgress'), '3') };\n        this.trigger('progress', args);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.cancelUploadingFile = function (files, e, request, li) {\n        var _this = this;\n        if (files.statusCode === '5') {\n            var eventArgs = {\n                event: e,\n                fileData: files,\n                cancel: false,\n                customFormData: []\n            };\n            this.trigger('canceling', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    files.statusCode = '3';\n                    if (!isNullOrUndefined(li)) {\n                        var spinnerTarget = li.querySelector('.' + ABORT_ICON);\n                        if (!isNullOrUndefined(spinnerTarget)) {\n                            hideSpinner(spinnerTarget);\n                            detach(li.querySelector('.e-spinner-pane'));\n                        }\n                    }\n                }\n                else {\n                    request.emitError = false;\n                    request.httpRequest.abort();\n                    var formData = new FormData();\n                    if (files.statusCode === '5') {\n                        var name_1 = _this.element.getAttribute('name');\n                        formData.append(name_1, files.name);\n                        formData.append('cancel-uploading', files.name);\n                        _this.updateFormData(formData, eventArgs.customFormData);\n                        var ajax = new Ajax(_this.asyncSettings.removeUrl, 'POST', true, null);\n                        ajax.emitError = false;\n                        ajax.onLoad = function (e) {\n                            _this.removecanceledFile(e, files);\n                            return {};\n                        };\n                        ajax.send(formData);\n                    }\n                }\n            });\n        }\n    };\n    Uploader.prototype.removecanceledFile = function (e, file) {\n        var liElement = this.getLiElement(file);\n        if (liElement.querySelector('.' + RETRY_ICON) || isNullOrUndefined(liElement.querySelector('.' + ABORT_ICON))) {\n            return;\n        }\n        this.updateStatus(file, this.localizedTexts('fileUploadCancel'), '5');\n        this.renderFailureState(e, file, liElement);\n        var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n        if (!isNullOrUndefined(liElement)) {\n            hideSpinner(spinnerTarget);\n            if (!isNullOrUndefined(liElement.querySelector('.e-spinner-pane'))) {\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n        var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n        var args = { event: e, response: requestResponse, operation: 'cancel', file: file };\n        this.trigger('success', args);\n    };\n    Uploader.prototype.renderFailureState = function (e, file, liElement) {\n        var _this = this;\n        this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        this.removeProgressbar(liElement, 'failure');\n        if (!isNullOrUndefined(liElement.querySelector('.e-file-status'))) {\n            liElement.querySelector('.e-file-status').classList.add(UPLOAD_FAILED);\n        }\n        var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n        if (isNullOrUndefined(deleteIcon)) {\n            return;\n        }\n        deleteIcon.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n        deleteIcon.classList.add(REMOVE_ICON);\n        deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': this.btnTabIndex } });\n        deleteIcon.parentElement.insertBefore(this.pauseButton, deleteIcon);\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        /* istanbul ignore next */\n        retryElement.addEventListener('click', function (e) {\n            _this.reloadcanceledFile(e, file, liElement, false);\n        }, false);\n    };\n    Uploader.prototype.reloadcanceledFile = function (e, file, liElement, custom) {\n        file.statusCode = '1';\n        file.status = this.localizedTexts('readyToUploadMessage');\n        if (!custom) {\n            if (!isNullOrUndefined(liElement.querySelector('.' + STATUS))) {\n                liElement.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            if (!isNullOrUndefined(liElement.querySelector('.' + RETRY_ICON))) {\n                detach(liElement.querySelector('.' + RETRY_ICON));\n            }\n            this.pauseButton = null;\n        }\n        /* istanbul ignore next */\n        liElement.classList.add(RESTRICT_RETRY);\n        this.upload([file]);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.uploadComplete = function (e, file, customUI) {\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var li = this.getLiElement(file);\n            if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n                return;\n            }\n            if (!isNullOrUndefined(li)) {\n                this.updateProgressBarClasses(li, UPLOAD_SUCCESS);\n                this.removeProgressbar(li, 'success');\n                var iconEle = li.querySelector('.' + ABORT_ICON);\n                if (!isNullOrUndefined(iconEle)) {\n                    iconEle.classList.add(DELETE_ICON);\n                    iconEle.setAttribute('title', this.localizedTexts('delete'));\n                    iconEle.classList.remove(ABORT_ICON);\n                    iconEle.classList.remove(UPLOAD_INPROGRESS);\n                }\n            }\n            this.raiseSuccessEvent(e, file);\n        }\n        else {\n            this.uploadFailed(e, file);\n        }\n    };\n    Uploader.prototype.getResponse = function (e) {\n        var target = e.currentTarget;\n        var response = {\n            readyState: target.readyState,\n            statusCode: target.status,\n            statusText: target.statusText,\n            headers: target.getAllResponseHeaders(),\n            withCredentials: target.withCredentials\n        };\n        return response;\n    };\n    Uploader.prototype.raiseSuccessEvent = function (e, file) {\n        var _this = this;\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var statusMessage = this.localizedTexts('uploadSuccessMessage');\n        var args = {\n            e: e, response: response, operation: 'upload', file: this.updateStatus(file, statusMessage, '2', false), statusText: statusMessage\n        };\n        var liElement = this.getLiElement(file);\n        if (!isNullOrUndefined(liElement)) {\n            var spinnerEle = liElement.querySelector('.' + SPINNER_PANE);\n            if (!isNullOrUndefined(spinnerEle)) {\n                hideSpinner(liElement);\n                detach(spinnerEle);\n            }\n        }\n        this.trigger('success', args, function (args) {\n            _this.updateStatus(file, args.statusText, '2');\n            _this.uploadedFilesData.push(file);\n            _this.trigger('change', { file: _this.uploadedFilesData });\n            _this.checkActionButtonStatus();\n            if (_this.fileList.length > 0) {\n                if ((!(_this.getLiElement(file)).classList.contains(RESTRICT_RETRY))) {\n                    _this.uploadSequential();\n                    _this.checkActionComplete(true);\n                }\n                else {\n                    /* istanbul ignore next */\n                    (_this.getLiElement(file)).classList.remove(RESTRICT_RETRY);\n                }\n            }\n        });\n    };\n    Uploader.prototype.uploadFailed = function (e, file) {\n        var _this = this;\n        var li = this.getLiElement(file);\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var statusMessage = this.localizedTexts('uploadFailedMessage');\n        var args = {\n            e: e, response: response, operation: 'upload', file: this.updateStatus(file, statusMessage, '0', false), statusText: statusMessage\n        };\n        if (!isNullOrUndefined(li)) {\n            this.renderFailureState(e, file, li);\n        }\n        this.trigger('failure', args, function (args) {\n            _this.updateStatus(file, args.statusText, '0');\n            _this.checkActionButtonStatus();\n            _this.uploadSequential();\n            _this.checkActionComplete(true);\n        });\n    };\n    Uploader.prototype.uploadSequential = function () {\n        if (this.sequentialUpload) {\n            if (this.autoUpload) {\n                /* istanbul ignore next */\n                this.checkAutoUpload(this.filesData);\n            }\n            else {\n                this.uploadButtonClick();\n            }\n        }\n    };\n    Uploader.prototype.checkActionComplete = function (increment) {\n        if (increment) {\n            ++this.actionCompleteCount;\n        }\n        else {\n            --this.actionCompleteCount;\n        }\n        this.raiseActionComplete();\n    };\n    Uploader.prototype.raiseActionComplete = function () {\n        if ((this.filesData.length === this.actionCompleteCount) && this.flag) {\n            this.flag = false;\n            var eventArgs = {\n                fileData: []\n            };\n            eventArgs.fileData = this.getSelectedFileStatus(this.selectedFiles);\n            this.trigger('actionComplete', eventArgs);\n        }\n    };\n    Uploader.prototype.getSelectedFileStatus = function (selectedFiles) {\n        var matchFiles = [];\n        var matchFilesIndex = 0;\n        for (var selectFileIndex = 0; selectFileIndex < selectedFiles.length; selectFileIndex++) {\n            var selectedFileData = selectedFiles[selectFileIndex];\n            for (var fileDataIndex = 0; fileDataIndex < this.filesData.length; fileDataIndex++) {\n                if (this.filesData[fileDataIndex].name === selectedFileData.name) {\n                    matchFiles[matchFilesIndex] = this.filesData[fileDataIndex];\n                    ++matchFilesIndex;\n                }\n            }\n        }\n        return matchFiles;\n    };\n    Uploader.prototype.updateProgressBarClasses = function (li, className) {\n        var progressBar = li.querySelector('.' + PROGRESSBAR);\n        if (!isNullOrUndefined(progressBar)) {\n            progressBar.classList.add(className);\n        }\n    };\n    Uploader.prototype.removeProgressbar = function (li, callType) {\n        var _this = this;\n        if (!isNullOrUndefined(li.querySelector('.' + PROGRESS_WRAPPER))) {\n            this.progressAnimation = new Animation({ duration: 1250 });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESS_WRAPPER), { name: 'FadeOut' });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESSBAR_TEXT), { name: 'FadeOut' });\n            setTimeout(function () {\n                _this.animateProgressBar(li, callType);\n            }, 750);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.animateProgressBar = function (li, callType) {\n        if (callType === 'success') {\n            li.classList.add(UPLOAD_SUCCESS);\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_SUCCESS);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n        }\n        if (li.querySelector('.' + PROGRESS_WRAPPER)) {\n            detach(li.querySelector('.' + PROGRESS_WRAPPER));\n        }\n    };\n    Uploader.prototype.setExtensions = function (extensions) {\n        if (extensions !== '' && !isNullOrUndefined(extensions)) {\n            this.element.setAttribute('accept', extensions);\n        }\n        else {\n            this.element.removeAttribute('accept');\n        }\n    };\n    Uploader.prototype.templateComplier = function (uploadTemplate) {\n        if (uploadTemplate) {\n            try {\n                if (selectAll(uploadTemplate, document).length) {\n                    return compile(select(uploadTemplate, document).innerHTML.trim());\n                }\n            }\n            catch (exception) {\n                return compile(uploadTemplate);\n            }\n        }\n        return undefined;\n    };\n    Uploader.prototype.setRTL = function () {\n        if (this.enableRtl) {\n            addClass([this.uploadWrapper], RTL);\n        }\n        else {\n            removeClass([this.uploadWrapper], RTL);\n        }\n    };\n    Uploader.prototype.localizedTexts = function (localeText) {\n        this.l10n.setLocale(this.locale);\n        return this.l10n.getConstant(localeText);\n    };\n    Uploader.prototype.setControlStatus = function () {\n        if (!this.enabled) {\n            this.uploadWrapper.classList.add(DISABLED);\n            this.element.setAttribute('disabled', 'disabled');\n            this.browseButton.setAttribute('disabled', 'disabled');\n            if (!isNullOrUndefined(this.clearButton)) {\n                this.clearButton.setAttribute('disabled', 'disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton)) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n        }\n        else {\n            if (this.uploadWrapper.classList.contains(DISABLED)) {\n                this.uploadWrapper.classList.remove(DISABLED);\n            }\n            if (!isNullOrUndefined(this.browseButton) && this.element.hasAttribute('disabled')) {\n                this.element.removeAttribute('disabled');\n                this.browseButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.clearButton) && this.clearButton.hasAttribute('disabled')) {\n                this.clearButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton) && this.uploadButton.hasAttribute('disabled')) {\n                this.uploadButton.hasAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.checkHTMLAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['accept', 'multiple', 'disabled'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'accept':\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['allowedExtensions'] === undefined))\n                            || isDynamic) {\n                            this.setProperties({ allowedExtensions: this.element.getAttribute('accept') }, !isDynamic);\n                            this.initialAttr.accept = this.allowedExtensions;\n                        }\n                        break;\n                    case 'multiple':\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['multiple'] === undefined)) || isDynamic) {\n                            var isMutiple = this.element.getAttribute(prop) === 'multiple' ||\n                                this.element.getAttribute(prop) === '' || this.element.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ multiple: isMutiple }, !isDynamic);\n                            this.initialAttr.multiple = true;\n                        }\n                        break;\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['enabled'] === undefined)) || isDynamic) {\n                            var isDisabled = this.element.getAttribute(prop) === 'disabled' ||\n                                this.element.getAttribute(prop) === '' || this.element.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: isDisabled }, !isDynamic);\n                            this.initialAttr.disabled = true;\n                        }\n                }\n            }\n        }\n    };\n    Uploader.prototype.chunkUpload = function (file, custom, fileIndex) {\n        var start = 0;\n        var end = Math.min(this.asyncSettings.chunkSize, file.size);\n        var index = 0;\n        var blob = file.rawFile.slice(start, end);\n        var metaData = { chunkIndex: index, blob: blob, file: file, start: start, end: end, retryCount: 0, request: null };\n        this.sendRequest(file, metaData, custom, fileIndex);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Uploader.prototype.sendRequest = function (file, metaData, custom, fileIndex) {\n        var _this = this;\n        var formData = new FormData();\n        var blob = file.rawFile.slice(metaData.start, metaData.end);\n        formData.append('chunkFile', blob, file.name);\n        formData.append(this.uploaderName, blob, file.name);\n        formData.append('chunk-index', metaData.chunkIndex.toString());\n        formData.append('chunkIndex', metaData.chunkIndex.toString());\n        var totalChunk = Math.max(Math.ceil(file.size / this.asyncSettings.chunkSize), 1);\n        formData.append('total-chunk', totalChunk.toString());\n        formData.append('totalChunk', totalChunk.toString());\n        var ajax = new Ajax({ url: this.asyncSettings.saveUrl, type: 'POST', async: true, contentType: null });\n        ajax.emitError = false;\n        ajax.onLoad = function (e) {\n            _this.chunkUploadComplete(e, metaData, custom);\n            return {};\n        };\n        ajax.onUploadProgress = function (e) {\n            _this.chunkUploadInProgress(e, metaData, custom);\n            return {};\n        };\n        var eventArgs = {\n            fileData: file,\n            customFormData: [],\n            cancel: false,\n            chunkSize: this.asyncSettings.chunkSize === 0 ? null : this.asyncSettings.chunkSize\n        };\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            eventArgs.currentChunkIndex = metaData.chunkIndex;\n            if (eventArgs.currentChunkIndex === 0) {\n                // This event is currently not required but to avoid breaking changes for previous customer, we have included.\n                _this.trigger('uploading', eventArgs, function (eventArgs) {\n                    _this.uploadingEventCallback(formData, eventArgs, e, file);\n                });\n            }\n            else {\n                _this.trigger('chunkUploading', eventArgs, function (eventArgs) {\n                    _this.uploadingEventCallback(formData, eventArgs, e, file);\n                });\n            }\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) {\n            _this.chunkUploadFailed(e, metaData, custom);\n            return {};\n        };\n        ajax.send(formData);\n        metaData.request = ajax;\n    };\n    Uploader.prototype.uploadingEventCallback = function (formData, eventArgs, e, file) {\n        if (eventArgs.cancel) {\n            this.eventCancelByArgs(e, eventArgs, file);\n        }\n        else {\n            this.updateFormData(formData, eventArgs.customFormData);\n        }\n    };\n    Uploader.prototype.eventCancelByArgs = function (e, eventArgs, file) {\n        var _this = this;\n        e.cancel = true;\n        if (eventArgs.fileData.statusCode === '5') {\n            return;\n        }\n        eventArgs.fileData.statusCode = '5';\n        eventArgs.fileData.status = this.localizedTexts('fileUploadCancel');\n        var liElement = this.getLiElement(eventArgs.fileData);\n        if (liElement) {\n            if (!isNullOrUndefined(liElement.querySelector('.' + STATUS))) {\n                liElement.querySelector('.' + STATUS).innerHTML = this.localizedTexts('fileUploadCancel');\n                liElement.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': this.btnTabIndex } });\n            var removeIcon = liElement.querySelector('.' + REMOVE_ICON);\n            if (removeIcon) {\n                removeIcon.parentElement.insertBefore(this.pauseButton, removeIcon);\n            }\n            this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n            /* istanbul ignore next */\n            this.pauseButton.addEventListener('click', function (e) {\n                _this.reloadcanceledFile(e, file, liElement);\n            }, false);\n            this.checkActionButtonStatus();\n        }\n    };\n    Uploader.prototype.checkChunkUpload = function () {\n        return (this.asyncSettings.chunkSize <= 0 || isNullOrUndefined(this.asyncSettings.chunkSize)) ? false : true;\n    };\n    Uploader.prototype.chunkUploadComplete = function (e, metaData, custom) {\n        var _this = this;\n        var response = e.target;\n        var liElement;\n        if (response.readyState === 4 && response.status >= 200 && response.status < 300) {\n            var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n            var totalChunk = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n            var eventArgs = {\n                event: e,\n                file: metaData.file,\n                chunkIndex: metaData.chunkIndex,\n                totalChunk: totalChunk,\n                chunkSize: this.asyncSettings.chunkSize,\n                response: requestResponse\n            };\n            this.trigger('chunkSuccess', eventArgs);\n            if (isNullOrUndefined(custom) || !custom) {\n                liElement = this.getLiElement(metaData.file);\n            }\n            this.updateMetaData(metaData);\n            if (metaData.end === metaData.file.size) {\n                metaData.file.statusCode = '3';\n            }\n            if (metaData.file.statusCode === '5') {\n                var eventArgs_1 = { event: e, fileData: metaData.file, cancel: false, customFormData: [] };\n                this.trigger('canceling', eventArgs_1, function (eventArgs) {\n                    /* istanbul ignore next */\n                    if (eventArgs.cancel) {\n                        metaData.file.statusCode = '3';\n                        var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(spinnerTarget)) {\n                            hideSpinner(spinnerTarget);\n                            detach(liElement.querySelector('.e-spinner-pane'));\n                        }\n                        _this.sendNextRequest(metaData);\n                    }\n                    else {\n                        metaData.request.emitError = false;\n                        response.abort();\n                        var formData = new FormData();\n                        var name_2 = _this.element.getAttribute('name');\n                        formData.append(name_2, metaData.file.name);\n                        formData.append('cancel-uploading', metaData.file.name);\n                        formData.append('cancelUploading', metaData.file.name);\n                        _this.updateFormData(formData, eventArgs.customFormData);\n                        var ajax = new Ajax(_this.asyncSettings.removeUrl, 'POST', true, null);\n                        ajax.emitError = false;\n                        ajax.onLoad = function (e) {\n                            _this.removeChunkFile(e, metaData, custom);\n                            return {};\n                        };\n                        ajax.send(formData);\n                    }\n                });\n            }\n            else {\n                if ((totalChunk - 1) === metaData.chunkIndex && totalChunk > metaData.chunkIndex) {\n                    var index = this.pausedData.indexOf(metaData);\n                    if (index >= 0) {\n                        this.pausedData.splice(index, 1);\n                    }\n                    if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n                        if (liElement && !isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        this.removeChunkProgressBar(metaData);\n                    }\n                    this.raiseSuccessEvent(e, metaData.file);\n                    return;\n                }\n                if (metaData.file.statusCode !== '4') {\n                    this.sendNextRequest(metaData);\n                }\n            }\n        }\n        else {\n            this.chunkUploadFailed(e, metaData);\n        }\n    };\n    Uploader.prototype.sendNextRequest = function (metaData) {\n        metaData.start = metaData.end;\n        metaData.end += this.asyncSettings.chunkSize;\n        metaData.end = Math.min(metaData.end, metaData.file.size);\n        metaData.chunkIndex += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.removeChunkFile = function (e, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) && !custom)) {\n            var liElement = this.getLiElement(metaData.file);\n            var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n            var spinnerTarget = deleteIcon;\n            this.updateStatus(metaData.file, this.localizedTexts('fileUploadCancel'), '5');\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n            this.removeProgressbar(liElement, 'failure');\n            deleteIcon && deleteIcon.classList.remove(ABORT_ICON);\n            deleteIcon && deleteIcon.classList.add(REMOVE_ICON);\n            deleteIcon && deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n            var pauseIcon = liElement.querySelector('.' + PAUSE_UPLOAD);\n            pauseIcon && pauseIcon.classList.add(RETRY_ICON);\n            pauseIcon && pauseIcon.classList.remove(PAUSE_UPLOAD);\n            pauseIcon && pauseIcon.setAttribute('title', this.localizedTexts('retry'));\n            if (!isNullOrUndefined(liElement) && !isNullOrUndefined(deleteIcon)\n                && !isNullOrUndefined(liElement.querySelector('.e-spinner-pane'))) {\n                hideSpinner(spinnerTarget);\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n    };\n    Uploader.prototype.pauseUpload = function (metaData, e, custom) {\n        metaData.file.statusCode = '4';\n        metaData.file.status = this.localizedTexts('pause');\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.abortUpload(metaData, custom, eventArgs);\n    };\n    Uploader.prototype.abortUpload = function (metaData, custom, eventArgs) {\n        if (metaData.file.statusCode !== '4') {\n            metaData.request.emitError = false;\n            metaData.request.httpRequest.abort();\n        }\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            var targetElement = liElement.querySelector('.' + PAUSE_UPLOAD);\n            targetElement.classList.remove(PAUSE_UPLOAD);\n            targetElement.classList.add(RESUME_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('resume'));\n            targetElement.nextElementSibling.classList.add(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.remove(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('remove'));\n        }\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].file.name === metaData.file.name) {\n                this.pausedData.splice(i, 1);\n            }\n        }\n        this.pausedData.push(metaData);\n        this.trigger('pausing', eventArgs);\n    };\n    Uploader.prototype.resumeUpload = function (metaData, e, custom) {\n        var liElement = this.getLiElement(metaData.file);\n        var targetElement;\n        if (!isNullOrUndefined(liElement)) {\n            targetElement = liElement.querySelector('.' + RESUME_UPLOAD);\n        }\n        if (!isNullOrUndefined(targetElement) && (isNullOrUndefined(custom) || !custom)) {\n            targetElement.classList.remove(RESUME_UPLOAD);\n            targetElement.classList.add(PAUSE_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('pause'));\n            targetElement.nextElementSibling.classList.remove(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.add(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('abort'));\n        }\n        metaData.file.status = this.localizedTexts('inProgress');\n        metaData.file.statusCode = '3';\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('resuming', eventArgs);\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].end === this.pausedData[i].file.size) {\n                this.chunkUploadComplete(e, metaData, custom);\n            }\n            else {\n                if (this.pausedData[i].file.name === metaData.file.name) {\n                    this.pausedData[i].start = this.pausedData[i].end;\n                    this.pausedData[i].end = this.pausedData[i].end + this.asyncSettings.chunkSize;\n                    this.pausedData[i].end = Math.min(this.pausedData[i].end, this.pausedData[i].file.size);\n                    this.pausedData[i].chunkIndex = this.pausedData[i].chunkIndex + 1;\n                    this.sendRequest(this.pausedData[i].file, this.pausedData[i], custom);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateMetaData = function (metaData) {\n        if (this.uploadMetaData.indexOf(metaData) === -1) {\n            this.uploadMetaData.push(metaData);\n        }\n        else {\n            this.uploadMetaData.splice(this.uploadMetaData.indexOf(metaData), 1);\n            this.uploadMetaData.push(metaData);\n        }\n    };\n    Uploader.prototype.removeChunkProgressBar = function (metaData) {\n        var liElement = this.getLiElement(metaData.file);\n        if (!isNullOrUndefined(liElement)) {\n            this.updateProgressBarClasses(liElement, UPLOAD_SUCCESS);\n            this.removeProgressbar(liElement, 'success');\n            var cancelButton = liElement.querySelector('.' + ABORT_ICON);\n            if (!isNullOrUndefined(cancelButton)) {\n                cancelButton.classList.add(DELETE_ICON);\n                cancelButton.setAttribute('title', this.localizedTexts('delete'));\n                cancelButton.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n            }\n        }\n    };\n    Uploader.prototype.chunkUploadFailed = function (e, metaData, custom) {\n        var _this = this;\n        var chunkCount = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n        var liElement;\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            liElement = this.getLiElement(metaData.file);\n        }\n        var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n        var eventArgs = {\n            event: e,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            totalChunk: chunkCount,\n            chunkSize: this.asyncSettings.chunkSize,\n            cancel: false,\n            response: requestResponse\n        };\n        this.trigger('chunkFailure', eventArgs, function (eventArgs) {\n            // To prevent triggering of failure event\n            if (!eventArgs.cancel) {\n                if (metaData.retryCount < _this.asyncSettings.retryCount) {\n                    setTimeout(function () {\n                        _this.retryRequest(liElement, metaData, custom);\n                    }, _this.asyncSettings.retryAfterDelay);\n                }\n                else {\n                    if (!isNullOrUndefined(liElement)) {\n                        var pauseButton = liElement.querySelector('.' + PAUSE_UPLOAD) ?\n                            liElement.querySelector('.' + PAUSE_UPLOAD) : liElement.querySelector('.' + RESUME_UPLOAD);\n                        if (!isNullOrUndefined(pauseButton)) {\n                            pauseButton.classList.add(RETRY_ICON);\n                            pauseButton.classList.remove(PAUSE_UPLOAD, RESUME_UPLOAD);\n                        }\n                        _this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n                        _this.removeProgressbar(liElement, 'failure');\n                        liElement.querySelector('.e-icons').classList.remove(UPLOAD_INPROGRESS);\n                        var iconElement = liElement.querySelector('.' + ABORT_ICON) ?\n                            liElement.querySelector('.' + ABORT_ICON) : liElement.querySelector('.' + REMOVE_ICON);\n                        iconElement.classList.remove(ABORT_ICON);\n                        if (!isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        if (metaData.start > 0) {\n                            iconElement.classList.add(DELETE_ICON);\n                            iconElement.setAttribute('title', _this.localizedTexts('delete'));\n                        }\n                        else {\n                            iconElement.classList.add(REMOVE_ICON);\n                            iconElement.setAttribute('title', _this.localizedTexts('remove'));\n                        }\n                    }\n                    metaData.retryCount = 0;\n                    var file_1 = metaData.file;\n                    var failureMessage = _this.localizedTexts('uploadFailedMessage');\n                    var args = {\n                        e: e, response: requestResponse,\n                        operation: 'upload',\n                        file: _this.updateStatus(file_1, failureMessage, '0', false),\n                        statusText: failureMessage\n                    };\n                    _this.trigger('failure', args, function (args) {\n                        _this.updateStatus(file_1, args.statusText, '0');\n                        _this.uploadSequential();\n                        _this.checkActionComplete(true);\n                    });\n                }\n            }\n        });\n    };\n    Uploader.prototype.retryRequest = function (liElement, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        }\n        metaData.retryCount += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.checkPausePlayAction = function (e) {\n        var targetElement = e.target;\n        var selectedElement = e.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var fileData = this.filesData[index];\n        var metaData = this.getCurrentMetaData(fileData);\n        if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n            /* istanbul ignore next */\n            this.pauseUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n            /* istanbul ignore next */\n            this.resumeUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RETRY_ICON)) {\n            if (metaData.file.status === this.localizedTexts('fileUploadCancel')) {\n                this.retryUpload(metaData, false);\n            }\n            else {\n                this.retryUpload(metaData, true);\n            }\n        }\n    };\n    Uploader.prototype.retryUpload = function (metaData, fromcanceledStage) {\n        if (fromcanceledStage) {\n            metaData.end = metaData.end + this.asyncSettings.chunkSize;\n            metaData.start = metaData.start + this.asyncSettings.chunkSize;\n            this.sendRequest(metaData.file, metaData);\n        }\n        else {\n            metaData.file.statusCode = '1';\n            metaData.file.status = this.localizedTexts('readyToUploadMessage');\n            this.chunkUpload(metaData.file);\n        }\n        /* istanbul ignore next */\n        (this.getLiElement(metaData.file)).classList.add(RESTRICT_RETRY);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Uploader.prototype.chunkUploadInProgress = function (e, metaData, custom) {\n        var _this = this;\n        if (metaData.file.statusCode === '4') {\n            return;\n        }\n        if (metaData.file.statusCode !== '4' && metaData.file.statusCode !== '5') {\n            metaData.file.statusCode = '3';\n            metaData.file.status = this.localizedTexts('inProgress');\n        }\n        this.updateMetaData(metaData);\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(liElement)) {\n            return;\n        }\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        if (!isNullOrUndefined(retryElement)) {\n            retryElement.classList.add(PAUSE_UPLOAD);\n            retryElement.setAttribute('title', this.localizedTexts('pause'));\n            retryElement.classList.remove(RETRY_ICON);\n        }\n        if (!isNullOrUndefined(liElement)) {\n            if (!(liElement.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0)) {\n                var statusElement = liElement.querySelector('.' + STATUS);\n                if (isNullOrUndefined(this.template)) {\n                    statusElement.classList.add(UPLOAD_INPROGRESS);\n                    statusElement.classList.remove(UPLOAD_FAILED);\n                    this.createProgressBar(liElement);\n                    this.updateProgressBarClasses(liElement, UPLOAD_INPROGRESS);\n                }\n                var clearIcon = liElement.querySelector('.' + REMOVE_ICON) ? liElement.querySelector('.' + REMOVE_ICON) :\n                    liElement.querySelector('.' + DELETE_ICON);\n                if (!isNullOrUndefined(clearIcon)) {\n                    clearIcon.classList.add(ABORT_ICON);\n                    clearIcon.setAttribute('title', this.localizedTexts('abort'));\n                    clearIcon.classList.remove(REMOVE_ICON);\n                }\n            }\n            if (!isNaN(Math.round((e.loaded / e.total) * 100)) && isNullOrUndefined(this.template) && metaData.file.statusCode !== '4') {\n                var progressVal = void 0;\n                var totalChunks = Math.ceil(metaData.file.size / this.asyncSettings.chunkSize) - 1;\n                if (this.asyncSettings.chunkSize && totalChunks) {\n                    progressVal = Math.round(metaData.chunkIndex / totalChunks * 100);\n                    this.changeProgressValue(liElement, progressVal.toString() + '%');\n                }\n            }\n            if (metaData.chunkIndex === 0) {\n                this.checkActionButtonStatus();\n            }\n        }\n        if (isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD)) && isNullOrUndefined(this.template)\n            && isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON))) {\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-pause-btn', attrs: { 'tabindex': this.btnTabIndex } });\n            if (this.browserName === 'msie') {\n                this.pauseButton.classList.add('e-msie');\n            }\n            var abortIcon = liElement.querySelector('.' + ABORT_ICON);\n            abortIcon.parentElement.insertBefore(this.pauseButton, abortIcon);\n            this.pauseButton.setAttribute('title', this.localizedTexts('pause'));\n            this.pauseButton.addEventListener('click', function (e) {\n                _this.checkPausePlayAction(e);\n            }, false);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * It is used to convert bytes value into kilobytes or megabytes depending on the size based\n     * on [binary prefix](https://en.wikipedia.org/wiki/Binary_prefix).\n     *\n     * @param { number } bytes - Specifies the file size in bytes.\n     * @returns {string}\n     */\n    Uploader.prototype.bytesToSize = function (bytes) {\n        var i = -1;\n        if (!bytes) {\n            return '0.0 KB';\n        }\n        do {\n            bytes = bytes / 1024;\n            i++;\n        } while (bytes > 99);\n        if (i >= 2) {\n            bytes = bytes * 1024;\n            i = 1;\n        }\n        return Math.max(bytes, 0).toFixed(1) + ' ' + ['KB', 'MB'][i];\n    };\n    /**\n     * Allows you to sort the file data alphabetically based on its file name clearly.\n     *\n     * @param { FileList } filesData - specifies the files data for upload.\n     * @returns {File[]}\n     */\n    /* istanbul ignore next */\n    Uploader.prototype.sortFileList = function (filesData) {\n        filesData = filesData ? filesData : this.sortFilesList;\n        var files = filesData;\n        var fileNames = [];\n        for (var i = 0; i < files.length; i++) {\n            fileNames.push(files[i].name);\n        }\n        var sortedFileNames = fileNames.sort();\n        var sortedFilesData = [];\n        for (var _i = 0, sortedFileNames_1 = sortedFileNames; _i < sortedFileNames_1.length; _i++) {\n            var name_3 = sortedFileNames_1[_i];\n            for (var i = 0; i < files.length; i++) {\n                if (name_3 === files[i].name) {\n                    sortedFilesData.push(files[i]);\n                }\n            }\n        }\n        return sortedFilesData;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Uploader.prototype.destroy = function () {\n        this.element.value = null;\n        this.clearTemplate();\n        this.clearAll();\n        this.unWireEvents();\n        this.unBindDropEvents();\n        if (this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n        if (!this.enabled) {\n            this.element.removeAttribute('disabled');\n        }\n        this.element.removeAttribute('accept');\n        this.setInitialAttributes();\n        var attributes = ['aria-label', 'directory', 'webkitdirectory', 'tabindex'];\n        for (var _i = 0, attributes_2 = attributes; _i < attributes_2.length; _i++) {\n            var key = attributes_2[_i];\n            this.element.removeAttribute(key);\n        }\n        if (!isNullOrUndefined(this.uploadWrapper)) {\n            this.uploadWrapper.parentElement.appendChild(this.element);\n            detach(this.uploadWrapper);\n        }\n        this.uploadWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Allows you to call the upload process manually by calling save URL action.\n     * To process the selected files (added in upload queue), pass an empty argument otherwise\n     * upload the specific file based on its argument.\n     *\n     * @param { FileInfo | FileInfo[] } files - Specifies the files data for upload.\n     * @param {boolean} custom - Specifies whether the uploader is rendered with custom file list.\n     * @returns {void}\n     */\n    Uploader.prototype.upload = function (files, custom) {\n        var _this = this;\n        files = files ? files : this.filesData;\n        if (this.sequentialUpload && (this.isFirstFileOnSelection || custom)) {\n            this.sequenceUpload(files);\n        }\n        else {\n            var uploadFiles_1 = this.getFilesInArray(files);\n            var eventArgs = {\n                customFormData: [],\n                currentRequest: null,\n                cancel: false\n            };\n            this.trigger('beforeUpload', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.uploadFiles(uploadFiles_1, custom);\n                }\n            });\n        }\n    };\n    Uploader.prototype.getFilesInArray = function (files) {\n        var uploadFiles = [];\n        if (files instanceof Array) {\n            uploadFiles = files;\n        }\n        else {\n            uploadFiles.push(files);\n        }\n        return uploadFiles;\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.serverReadFileBase64 = function (fileIndex, position, totalCount) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var file = _this.fileStreams[fileIndex].rawFile;\n            try {\n                var reader = new FileReader();\n                reader.onload = (function (args) {\n                    return function () {\n                        try {\n                            var contents = args.result;\n                            var data = contents ? contents.split(';base64,')[1] : null;\n                            resolve(data);\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    };\n                })(reader);\n                reader.readAsDataURL(file.slice(position, position + totalCount));\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    /* istanbul ignore next */\n    Uploader.prototype.uploadFileCount = function (ele) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return -1;\n        }\n        var result = files.length;\n        return result;\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    /* istanbul ignore next */\n    Uploader.prototype.getFileRead = function (index, ele) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return -1;\n        }\n        var file = files[index];\n        var fileCount = this.newFileRef++;\n        this.fileStreams[fileCount] = file;\n        return fileCount;\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    /* istanbul ignore next */\n    Uploader.prototype.getFileInfo = function (index, ele) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return null;\n        }\n        var file = files[index];\n        if (!file) {\n            return null;\n        }\n        return this.filesData[index];\n    };\n    Uploader.prototype.uploadFiles = function (files, custom) {\n        var selectedFiles = [];\n        if (this.asyncSettings.saveUrl === '' || isNullOrUndefined(this.asyncSettings.saveUrl)) {\n            return;\n        }\n        if (!custom || isNullOrUndefined(custom)) {\n            if (!this.multiple) {\n                var file = [];\n                file.push(files[0]);\n                selectedFiles = this.filterfileList(file);\n            }\n            else {\n                selectedFiles = this.filterfileList(files);\n            }\n        }\n        else {\n            selectedFiles = files;\n        }\n        for (var i = 0; i < selectedFiles.length; i++) {\n            this.uploadFilesRequest(selectedFiles, i, custom);\n        }\n    };\n    Uploader.prototype.uploadFilesRequest = function (selectedFiles, i, custom) {\n        var _this = this;\n        var cloneFiles = [];\n        var chunkEnabled = this.checkChunkUpload();\n        var ajax = new Ajax(this.asyncSettings.saveUrl, 'POST', true, null);\n        ajax.emitError = false;\n        var getFileData;\n        var eventArgs = {\n            fileData: selectedFiles[i],\n            customFormData: [],\n            cancel: false\n        };\n        var formData = new FormData();\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            _this.trigger('uploading', eventArgs, function (eventArgs) {\n                /* istanbul ignore next */\n                if (eventArgs.cancel) {\n                    _this.eventCancelByArgs(e, eventArgs, selectedFiles[i]);\n                }\n                _this.updateFormData(formData, eventArgs.customFormData);\n            });\n        };\n        if (selectedFiles[i].statusCode === '1') {\n            var name_4 = this.element.getAttribute('name');\n            formData.append(name_4, selectedFiles[i].rawFile, selectedFiles[i].name);\n            if (chunkEnabled && selectedFiles[i].size > this.asyncSettings.chunkSize) {\n                this.chunkUpload(selectedFiles[i], custom, i);\n            }\n            else {\n                ajax.onLoad = function (e) {\n                    if (eventArgs.cancel) {\n                        return {};\n                    }\n                    else {\n                        _this.uploadComplete(e, selectedFiles[i], custom);\n                        return {};\n                    }\n                };\n                ajax.onUploadProgress = function (e) {\n                    if (eventArgs.cancel) {\n                        return {};\n                    }\n                    else {\n                        _this.uploadInProgress(e, selectedFiles[i], custom, ajax);\n                        return {};\n                    }\n                };\n                /* istanbul ignore next */\n                ajax.onError = function (e) {\n                    _this.uploadFailed(e, selectedFiles[i]);\n                    return {};\n                };\n                ajax.send(formData);\n            }\n        }\n    };\n    Uploader.prototype.spliceFiles = function (liIndex) {\n        var liElement = this.fileList[liIndex];\n        var allFiles = this.getFilesData();\n        var nameElements = +liElement.getAttribute('data-files-count');\n        var startIndex = 0;\n        for (var i = 0; i < liIndex; i++) {\n            startIndex += (+this.fileList[i].getAttribute('data-files-count'));\n        }\n        var endIndex = (startIndex + nameElements) - 1;\n        for (var j = endIndex; j >= startIndex; j--) {\n            allFiles.splice(j, 1);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Remove the uploaded file from server manually by calling the remove URL action.\n     * If you pass an empty argument to this method, the complete file list can be cleared,\n     * otherwise remove the specific file based on its argument (“file_data”).\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to remove from file list/server.\n     * @param { boolean } customTemplate - Set true if the component rendering with customize template.\n     * @param { boolean } removeDirectly - Set true if files remove without removing event.\n     * @param { boolean } postRawFile - Set false, to post file name only to the remove action.\n     * @returns {void}\n     */\n    Uploader.prototype.remove = function (fileData, customTemplate, removeDirectly, postRawFile, args) {\n        var _this = this;\n        if (isNullOrUndefined(postRawFile)) {\n            postRawFile = true;\n        }\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            customFormData: [],\n            postRawFile: postRawFile,\n            currentRequest: null\n        };\n        var beforeEventArgs = {\n            cancel: false,\n            customFormData: [],\n            currentRequest: null\n        };\n        this.trigger('beforeRemove', beforeEventArgs, function (beforeEventArgs) {\n            if (!beforeEventArgs.cancel) {\n                if (_this.isFormUpload()) {\n                    eventArgs.filesData = fileData;\n                    _this.trigger('removing', eventArgs, function (eventArgs) {\n                        if (!eventArgs.cancel) {\n                            var removingFiles = _this.getFilesInArray(fileData);\n                            var isLiRemoved = false;\n                            var liIndex = void 0;\n                            for (var _i = 0, removingFiles_1 = removingFiles; _i < removingFiles_1.length; _i++) {\n                                var data = removingFiles_1[_i];\n                                if (!isLiRemoved) {\n                                    liIndex = _this.fileList.indexOf(data.list);\n                                }\n                                if (liIndex > -1) {\n                                    var inputElement = !isNullOrUndefined(data.input) ? data.input : null;\n                                    if (inputElement) {\n                                        detach(inputElement);\n                                    }\n                                    _this.spliceFiles(liIndex);\n                                    detach(_this.fileList[liIndex]);\n                                    _this.fileList.splice(liIndex, 1);\n                                    isLiRemoved = true;\n                                    liIndex = -1;\n                                }\n                            }\n                        }\n                    });\n                }\n                else if (_this.isForm && (isNullOrUndefined(_this.asyncSettings.removeUrl) || _this.asyncSettings.removeUrl === '')) {\n                    eventArgs.filesData = _this.getFilesData();\n                    _this.trigger('removing', eventArgs, function (eventArgs) {\n                        if (!eventArgs.cancel) {\n                            _this.clearAll();\n                        }\n                    });\n                }\n                else {\n                    var removeFiles = [];\n                    fileData = !isNullOrUndefined(fileData) ? fileData : _this.filesData;\n                    if (fileData instanceof Array) {\n                        removeFiles = fileData;\n                    }\n                    else {\n                        removeFiles.push(fileData);\n                    }\n                    eventArgs.filesData = removeFiles;\n                    var removeUrl = _this.asyncSettings.removeUrl;\n                    var validUrl = (removeUrl === '' || isNullOrUndefined(removeUrl)) ? false : true;\n                    var _loop_5 = function (files) {\n                        var fileUploadedIndex = _this.uploadedFilesData.indexOf(files);\n                        if ((files.statusCode === '2' || files.statusCode === '4' || (files.statusCode === '0' &&\n                            fileUploadedIndex !== -1)) && validUrl) {\n                            _this.removeUploadedFile(files, eventArgs, removeDirectly, customTemplate);\n                        }\n                        else {\n                            if (!removeDirectly) {\n                                _this.trigger('removing', eventArgs, function (eventArgs) {\n                                    if (!eventArgs.cancel) {\n                                        _this.removeFilesData(files, customTemplate);\n                                    }\n                                });\n                            }\n                            else {\n                                _this.removeFilesData(files, customTemplate);\n                            }\n                        }\n                        if (args && !args.target.classList.contains(REMOVE_ICON)) {\n                            _this.checkActionComplete(false);\n                        }\n                    };\n                    for (var _i = 0, removeFiles_1 = removeFiles; _i < removeFiles_1.length; _i++) {\n                        var files = removeFiles_1[_i];\n                        _loop_5(files);\n                    }\n                }\n            }\n        });\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Clear all the file entries from list that can be uploaded files or added in upload queue.\n     *\n     * @returns {void}\n     */\n    Uploader.prototype.clearAll = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.listParent)) {\n            if (this.browserName !== 'msie') {\n                this.element.value = '';\n            }\n            this.filesData = [];\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            filesData: this.filesData\n        };\n        this.trigger('clearing', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.clearData();\n                _this.actionCompleteCount = 0;\n                _this.count = -1;\n            }\n        });\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Get the data of files which are shown in file list.\n     *\n     * @param { number } index - specifies the file list item(li) index.\n     * @returns {FileInfo[]}\n     */\n    Uploader.prototype.getFilesData = function (index) {\n        if (isNullOrUndefined(index)) {\n            return this.filesData;\n        }\n        else {\n            return this.getSelectedFiles(index);\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Pauses the in-progress chunked upload based on the file data.\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to pause from uploading.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns {void}\n     */\n    Uploader.prototype.pause = function (fileData, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        this.pauseUploading(fileDataFiles, custom);\n    };\n    Uploader.prototype.pauseUploading = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                this.pauseUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    Uploader.prototype.getFiles = function (fileData) {\n        var files = [];\n        if (!isNullOrUndefined(fileData) && !(fileData instanceof Array)) {\n            files.push(fileData);\n        }\n        else {\n            files = fileData;\n        }\n        return files;\n    };\n    /**\n     * Resumes the chunked upload that is previously paused based on the file data.\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to resume the paused file.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns {void}\n     */\n    Uploader.prototype.resume = function (fileData, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        this.resumeFiles(fileDataFiles, custom);\n    };\n    Uploader.prototype.resumeFiles = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '4') {\n                this.resumeUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    /**\n     * Retries the canceled or failed file upload based on the file data.\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to retry the canceled or failed file.\n     * @param { boolean } fromcanceledStage - Set true to retry from canceled stage and set false to retry from initial stage.\n     * @param {boolean} custom -Specifies whether the uploader is rendered with custom file list.\n     * @returns {void}\n     */\n    Uploader.prototype.retry = function (fileData, fromcanceledStage, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        if (this.sequentialUpload && this.isFirstFileOnSelection) {\n            this.isFirstFileOnSelection = false;\n        }\n        this.retryFailedFiles(fileDataFiles, fromcanceledStage, custom);\n    };\n    Uploader.prototype.retryFailedFiles = function (fileData, fromcanceledStage, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '5' || files[i].statusCode === '0') {\n                if (this.asyncSettings.chunkSize > 0) {\n                    this.retryUpload(this.getCurrentMetaData(files[i], null), fromcanceledStage);\n                }\n                else {\n                    var liElement = void 0;\n                    if (!custom) {\n                        liElement = this.fileList[this.filesData.indexOf(files[i])];\n                    }\n                    this.reloadcanceledFile(null, files[i], liElement, custom);\n                }\n            }\n        }\n    };\n    /**\n     * Stops the in-progress chunked upload based on the file data.\n     * When the file upload is canceled, the partially uploaded file is removed from server.\n     *\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to cancel the progressing file.\n     * @returns {void}\n     */\n    Uploader.prototype.cancel = function (fileData) {\n        fileData = fileData ? fileData : this.filesData;\n        var cancelingFiles = this.getFilesInArray(fileData);\n        this.cancelUpload(cancelingFiles);\n    };\n    Uploader.prototype.cancelUpload = function (fileData) {\n        var files = this.getFiles(fileData);\n        if (this.asyncSettings.chunkSize > 0) {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    var metaData = this.getCurrentMetaData(files[i], null);\n                    metaData.file.statusCode = '5';\n                    metaData.file.status = this.localizedTexts('fileUploadCancel');\n                    this.updateMetaData(metaData);\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    files[i].statusCode = '5';\n                    files[i].status = this.localizedTexts('fileUploadCancel');\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n    };\n    Uploader.prototype.showHideUploadSpinner = function (files) {\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && isNullOrUndefined(this.template)) {\n            var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n    };\n    __decorate([\n        Complex({ saveUrl: '', removeUrl: '' }, AsyncSettings)\n    ], Uploader.prototype, \"asyncSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"sequentialUpload\", void 0);\n    __decorate([\n        Property({})\n    ], Uploader.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"multiple\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"autoUpload\", void 0);\n    __decorate([\n        Complex({}, ButtonsProps)\n    ], Uploader.prototype, \"buttons\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(0)\n    ], Uploader.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(30000000)\n    ], Uploader.prototype, \"maxFileSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"dropArea\", void 0);\n    __decorate([\n        Collection([{}], FilesProp)\n    ], Uploader.prototype, \"files\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"showFileList\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"directoryUpload\", void 0);\n    __decorate([\n        Property('Default')\n    ], Uploader.prototype, \"dropEffect\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"rendering\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"beforeUpload\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"fileListRendering\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"uploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"success\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"failure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"beforeRemove\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"clearing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkSuccess\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkFailure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkUploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"canceling\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"pausing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"resuming\", void 0);\n    Uploader = __decorate([\n        NotifyPropertyChanges\n    ], Uploader);\n    return Uploader;\n}(Component));\nexport { Uploader };\n/* eslint-enable @typescript-eslint/no-explicit-any */\n","import { addClass, detach, EventHandler, isNullOrUndefined, select, Ajax, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser, closest, removeClass, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { Uploader, TextBox } from '@syncfusion/ej2-inputs';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button, CheckBox } from '@syncfusion/ej2-buttons';\nimport { RenderType } from '../base/enum';\nimport { dispatchEvent, parseHtml, hasClass, convertToBlob } from '../base/util';\nimport { isIDevice } from '../../common/util';\n/**\n * `Image` module is used to handle image actions.\n */\nvar Image = /** @class */ (function () {\n    function Image(parent, serviceLocator) {\n        this.isImgUploaded = false;\n        this.isAllowedTypes = true;\n        this.pageX = null;\n        this.pageY = null;\n        this.deletedImg = [];\n        this.parent = parent;\n        this.rteID = parent.element.id;\n        this.i10n = serviceLocator.getService('rteLocale');\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n        this.addEventListener();\n    }\n    Image.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.keyUp, this.onKeyUp, this);\n        this.parent.on(events.insertImage, this.insertImage, this);\n        this.parent.on(events.showImageDialog, this.showDialog, this);\n        this.parent.on(events.closeImageDialog, this.closeDialog, this);\n        this.parent.on(events.windowResize, this.onWindowResize, this);\n        this.parent.on(events.insertCompleted, this.showImageQuickToolbar, this);\n        this.parent.on(events.clearDialogObj, this.clearDialogObj, this);\n        this.parent.on(events.imageToolbarAction, this.onToolbarAction, this);\n        this.parent.on(events.imageCaption, this.caption, this);\n        this.parent.on(events.imageDelete, this.deleteImg, this);\n        this.parent.on(events.imageLink, this.insertImgLink, this);\n        this.parent.on(events.imageAlt, this.insertAltText, this);\n        this.parent.on(events.editAreaClick, this.editAreaClickHandler, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.imageSize, this.imageSize, this);\n        this.parent.on(events.dropDownSelect, this.alignmentSelect, this);\n        this.parent.on(events.initialEnd, this.afterRender, this);\n        this.parent.on(events.dynamicModule, this.afterRender, this);\n        this.parent.on(events.paste, this.imagePaste, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    Image.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.keyUp, this.onKeyUp);\n        this.parent.off(events.windowResize, this.onWindowResize);\n        this.parent.off(events.insertImage, this.insertImage);\n        this.parent.off(events.showImageDialog, this.showDialog);\n        this.parent.off(events.closeImageDialog, this.closeDialog);\n        this.parent.off(events.insertCompleted, this.showImageQuickToolbar);\n        this.parent.off(events.clearDialogObj, this.clearDialogObj);\n        this.parent.off(events.imageCaption, this.caption);\n        this.parent.off(events.imageToolbarAction, this.onToolbarAction);\n        this.parent.off(events.imageDelete, this.deleteImg);\n        this.parent.off(events.imageLink, this.insertImgLink);\n        this.parent.off(events.imageAlt, this.insertAltText);\n        this.parent.off(events.editAreaClick, this.editAreaClickHandler);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.imageSize, this.imageSize);\n        this.parent.off(events.dropDownSelect, this.alignmentSelect);\n        this.parent.off(events.initialEnd, this.afterRender);\n        this.parent.off(events.dynamicModule, this.afterRender);\n        this.parent.off(events.paste, this.imagePaste);\n        this.parent.off(events.destroy, this.removeEventListener);\n        var dropElement = this.parent.iframeSettings.enable ? this.parent.inputElement.ownerDocument\n            : this.parent.inputElement;\n        dropElement.removeEventListener('drop', this.dragDrop.bind(this), true);\n        dropElement.removeEventListener('dragstart', this.dragStart.bind(this), true);\n        dropElement.removeEventListener('dragenter', this.dragEnter.bind(this), true);\n        dropElement.removeEventListener('dragover', this.dragOver.bind(this), true);\n        if (!isNullOrUndefined(this.contentModule)) {\n            EventHandler.remove(this.contentModule.getEditPanel(), Browser.touchEndEvent, this.imageClick);\n            this.parent.formatter.editorManager.observer.off(events.checkUndo, this.undoStack);\n            if (this.parent.insertImageSettings.resize) {\n                EventHandler.remove(this.parent.contentModule.getEditPanel(), Browser.touchStartEvent, this.resizeStart);\n                EventHandler.remove(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick);\n                EventHandler.remove(this.contentModule.getEditPanel(), 'cut', this.onCutHandler);\n            }\n        }\n    };\n    Image.prototype.onIframeMouseDown = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Image.prototype.afterRender = function () {\n        this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n        EventHandler.add(this.contentModule.getEditPanel(), Browser.touchEndEvent, this.imageClick, this);\n        if (this.parent.insertImageSettings.resize) {\n            EventHandler.add(this.parent.contentModule.getEditPanel(), Browser.touchStartEvent, this.resizeStart, this);\n            EventHandler.add(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick, this);\n            EventHandler.add(this.contentModule.getEditPanel(), 'cut', this.onCutHandler, this);\n        }\n        var dropElement = this.parent.iframeSettings.enable ? this.parent.inputElement.ownerDocument :\n            this.parent.inputElement;\n        dropElement.addEventListener('drop', this.dragDrop.bind(this), true);\n        dropElement.addEventListener('dragstart', this.dragStart.bind(this), true);\n        dropElement.addEventListener('dragenter', this.dragOver.bind(this), true);\n        dropElement.addEventListener('dragover', this.dragOver.bind(this), true);\n    };\n    Image.prototype.undoStack = function (args) {\n        if (args.subCommand.toLowerCase() === 'undo' || args.subCommand.toLowerCase() === 'redo') {\n            for (var i = 0; i < this.parent.formatter.getUndoRedoStack().length; i++) {\n                var temp = this.parent.createElement('div');\n                var contentElem = parseHtml(this.parent.formatter.getUndoRedoStack()[i].text);\n                temp.appendChild(contentElem);\n                var img = temp.querySelectorAll('img');\n                if (temp.querySelector('.e-img-resize') && img.length > 0) {\n                    for (var j = 0; j < img.length; j++) {\n                        img[j].style.outline = '';\n                    }\n                    detach(temp.querySelector('.e-img-resize'));\n                    this.parent.formatter.getUndoRedoStack()[i].text = temp.innerHTML;\n                }\n            }\n        }\n    };\n    Image.prototype.resizeEnd = function (e) {\n        this.resizeBtnInit();\n        this.imgEle.parentElement.style.cursor = 'auto';\n        if (Browser.isDevice) {\n            removeClass([e.target.parentElement], 'e-mob-span');\n        }\n        var args = { event: e, requestType: 'images' };\n        this.parent.trigger(events.resizeStop, args);\n        /* eslint-disable */\n        var pageX = this.getPointX(e);\n        var pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset +\n            this.parent.element.getBoundingClientRect().top + e.clientY : e.pageY;\n        /* eslint-enable */\n        this.parent.formatter.editorManager.observer.on(events.checkUndo, this.undoStack, this);\n        this.parent.formatter.saveData();\n    };\n    Image.prototype.resizeStart = function (e, ele) {\n        var _this = this;\n        if (this.parent.readonly) {\n            return;\n        }\n        var target = ele ? ele : e.target;\n        this.prevSelectedImgEle = this.imgEle;\n        if (target.tagName === 'IMG') {\n            this.parent.preventDefaultResize(e);\n            var img = target;\n            if (this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n                detach(this.imgResizeDiv);\n            }\n            this.imageResize(img);\n        }\n        if (target.classList.contains('e-rte-imageboxmark')) {\n            if (this.parent.formatter.getUndoRedoStack().length === 0) {\n                this.parent.formatter.saveData();\n            }\n            this.pageX = this.getPointX(e);\n            this.pageY = this.getPointY(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            this.resizeBtnInit();\n            if (this.quickToolObj) {\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n            if (target.classList.contains('e-rte-topLeft')) {\n                this.resizeBtnStat.topLeft = true;\n            }\n            if (target.classList.contains('e-rte-topRight')) {\n                this.resizeBtnStat.topRight = true;\n            }\n            if (target.classList.contains('e-rte-botLeft')) {\n                this.resizeBtnStat.botLeft = true;\n            }\n            if (target.classList.contains('e-rte-botRight')) {\n                this.resizeBtnStat.botRight = true;\n            }\n            if (Browser.isDevice && this.contentModule.getEditPanel().contains(this.imgResizeDiv) &&\n                !this.imgResizeDiv.classList.contains('e-mob-span')) {\n                addClass([this.imgResizeDiv], 'e-mob-span');\n            }\n            else {\n                var args = { event: e, requestType: 'images' };\n                this.parent.trigger(events.resizeStart, args, function (resizeStartArgs) {\n                    if (resizeStartArgs.cancel) {\n                        _this.cancelResizeAction();\n                    }\n                });\n            }\n            EventHandler.add(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd, this);\n        }\n    };\n    Image.prototype.imageClick = function (e) {\n        if (Browser.isDevice) {\n            if ((e.target.tagName === 'IMG' &&\n                e.target.parentElement.tagName === 'A') ||\n                (e.target.tagName === 'IMG')) {\n                this.contentModule.getEditPanel().setAttribute('contenteditable', 'false');\n                e.target.focus();\n            }\n            else {\n                if (!this.parent.readonly) {\n                    this.contentModule.getEditPanel().setAttribute('contenteditable', 'true');\n                }\n            }\n        }\n        if (e.target.tagName === 'IMG' &&\n            e.target.parentElement.tagName === 'A') {\n            e.preventDefault();\n        }\n    };\n    Image.prototype.onCutHandler = function () {\n        if (this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            this.cancelResizeAction();\n        }\n    };\n    Image.prototype.imageResize = function (e) {\n        this.resizeBtnInit();\n        this.imgEle = e;\n        addClass([this.imgEle], 'e-resize');\n        this.imgResizeDiv = this.parent.createElement('span', { className: 'e-img-resize', id: this.rteID + '_imgResize' });\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-topLeft', styles: 'cursor: nwse-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-topRight', styles: 'cursor: nesw-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-botLeft', styles: 'cursor: nesw-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-botRight', styles: 'cursor: nwse-resize'\n        }));\n        if (Browser.isDevice) {\n            addClass([this.imgResizeDiv], 'e-mob-rte');\n        }\n        e.style.outline = '2px solid #4a90e2';\n        this.imgResizePos(e, this.imgResizeDiv);\n        this.resizeImgDupPos(e);\n        this.contentModule.getEditPanel().appendChild(this.imgResizeDiv);\n        EventHandler.add(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing, this);\n    };\n    Image.prototype.getPointX = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageX;\n        }\n        else {\n            return e.pageX;\n        }\n    };\n    Image.prototype.getPointY = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageY;\n        }\n        else {\n            return e.pageY;\n        }\n    };\n    Image.prototype.imgResizePos = function (e, imgResizeDiv) {\n        var pos = this.calcPos(e);\n        var top = pos.top;\n        var left = pos.left;\n        var imgWid = e.width;\n        var imgHgt = e.height;\n        var borWid = (Browser.isDevice) ? (4 * parseInt((e.style.outline.slice(-3)), 10)) + 2 :\n            (2 * parseInt((e.style.outline.slice(-3)), 10)) + 2; //span border width + image outline width\n        var devWid = ((Browser.isDevice) ? 0 : 2); // span border width\n        imgResizeDiv.querySelector('.e-rte-botLeft').style.left = (left - borWid) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botLeft').style.top = ((imgHgt - borWid) + top) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botRight').style.left = ((imgWid - (borWid - devWid)) + left) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botRight').style.top = ((imgHgt - borWid) + top) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topRight').style.left = ((imgWid - (borWid - devWid)) + left) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topRight').style.top = (top - (borWid)) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topLeft').style.left = (left - borWid) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topLeft').style.top = (top - borWid) + 'px';\n    };\n    Image.prototype.calcPos = function (elem) {\n        var ignoreOffset = ['TD', 'TH', 'TABLE', 'A'];\n        var parentOffset = { top: 0, left: 0 };\n        var doc = elem.ownerDocument;\n        var offsetParent = ((elem.offsetParent && (elem.offsetParent.classList.contains('e-img-caption') ||\n            ignoreOffset.indexOf(elem.offsetParent.tagName) > -1)) ?\n            closest(elem, '#' + this.parent.getID() + '_rte-edit-view') : elem.offsetParent) || doc.documentElement;\n        while (offsetParent &&\n            (offsetParent === doc.body || offsetParent === doc.documentElement) &&\n            offsetParent.style.position === 'static') {\n            offsetParent = offsetParent.parentNode;\n        }\n        if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n            // eslint-disable-next-line\n            parentOffset = offsetParent.getBoundingClientRect();\n        }\n        return {\n            top: elem.offsetTop,\n            left: elem.offsetLeft\n        };\n    };\n    Image.prototype.setAspectRatio = function (img, expectedX, expectedY, e) {\n        if (isNullOrUndefined(img.width)) {\n            return;\n        }\n        var width = img.style.width !== '' ? img.style.width.match(/^\\d+(\\.\\d*)?%$/g) ? parseFloat(img.style.width) :\n            parseInt(img.style.width, 10) : img.width;\n        var height = img.style.height !== '' ? parseInt(img.style.height, 10) : img.height;\n        if (width > height) {\n            img.style.minWidth = '20px';\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                if (parseInt('' + img.getBoundingClientRect().width + '', 10) !== 0 && parseInt('' + width + '', 10) !== 0) {\n                    var percentageValue = this.pixToPerc((width / height * expectedY), (img.previousElementSibling || img.parentElement));\n                    img.style.width = Math.min(Math.round((percentageValue / img.getBoundingClientRect().width) * expectedX * 100) / 100, 100) + '%';\n                }\n                else {\n                    img.style.width = this.pixToPerc((width / height * expectedY), (img.previousElementSibling || img.parentElement)) + '%';\n                }\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else if (img.style.width === '' && img.style.height !== '') {\n                img.style.height = expectedY + 'px';\n            }\n            else if (img.style.width !== '' && img.style.height === '') {\n                var currentWidth = ((width / height * expectedY) + width / height) < (this.parent.inputElement.getBoundingClientRect().right - 32) ?\n                    ((width / height * expectedY) + width / height) : (this.parent.inputElement.getBoundingClientRect().right - 32);\n                img.style.width = currentWidth.toString() + 'px';\n            }\n            else if (img.style.width !== '') {\n                var currentWidth = (width / height * expectedY) < (this.parent.inputElement.getBoundingClientRect().right - 32) ?\n                    (width / height * expectedY) : (this.parent.inputElement.getBoundingClientRect().right - 32);\n                img.style.width = currentWidth + 'px';\n                img.style.height = expectedY + 'px';\n            }\n            else {\n                img.setAttribute('width', ((width / height * expectedY) + width / height).toString());\n            }\n        }\n        else if (height > width) {\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                if (parseInt('' + img.getBoundingClientRect().width + '', 10) !== 0 && parseInt('' + width + '', 10) !== 0) {\n                    img.style.width = Math.min(Math.round((width / img.getBoundingClientRect().width) * expectedX * 100) / 100, 100) + '%';\n                }\n                else {\n                    img.style.width = this.pixToPerc((expectedX / height * expectedY), (img.previousElementSibling || img.parentElement)) + '%';\n                }\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else if (img.style.width !== '') {\n                img.style.width = expectedX + 'px';\n                img.style.height = (height / width * expectedX) + 'px';\n            }\n            else {\n                img.setAttribute('width', this.resizeBtnStat.botRight ? (this.getPointX(e.event) - img.getBoundingClientRect().left).toString() : expectedX.toString());\n            }\n        }\n        else {\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                img.style.width = this.pixToPerc(expectedX, (img.previousElementSibling || img.parentElement)) + '%';\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else if (img.style.width !== '') {\n                img.style.width = expectedX + 'px';\n                img.style.height = expectedX + 'px';\n            }\n            else {\n                img.setAttribute('width', expectedX.toString());\n                img.setAttribute('height', expectedX.toString());\n            }\n        }\n    };\n    Image.prototype.pixToPerc = function (expected, parentEle) {\n        return expected / parseFloat(getComputedStyle(parentEle).width) * 100;\n    };\n    Image.prototype.imgDupMouseMove = function (width, height, e) {\n        var _this = this;\n        var args = { event: e, requestType: 'images' };\n        this.parent.trigger(events.onResize, args, function (resizingArgs) {\n            if (resizingArgs.cancel) {\n                _this.cancelResizeAction();\n            }\n            else {\n                if ((parseInt(_this.parent.insertImageSettings.minWidth, 10) >= parseInt(width, 10) ||\n                    (parseInt(_this.parent.getInsertImgMaxWidth(), 10) <= parseInt(width, 10) &&\n                        isNOU(_this.imgEle.style.width)))) {\n                    return;\n                }\n                if (!_this.parent.insertImageSettings.resizeByPercent &&\n                    (parseInt(_this.parent.insertImageSettings.minHeight, 10) >= parseInt(height, 10) ||\n                        parseInt(_this.parent.insertImageSettings.maxHeight, 10) <= parseInt(height, 10))) {\n                    return;\n                }\n                _this.imgEle.parentElement.style.cursor = 'pointer';\n                _this.setAspectRatio(_this.imgEle, parseInt(width, 10), parseInt(height, 10), args);\n                _this.resizeImgDupPos(_this.imgEle);\n                _this.imgResizePos(_this.imgEle, _this.imgResizeDiv);\n                _this.parent.setContentHeight('', false);\n            }\n        });\n    };\n    Image.prototype.resizing = function (e) {\n        if (this.imgEle.offsetWidth >= this.parent.getInsertImgMaxWidth()) {\n            this.imgEle.style.maxHeight = this.imgEle.offsetHeight + 'px';\n        }\n        var pageX = this.getPointX(e);\n        var pageY = this.getPointY(e);\n        var mouseX = (this.resizeBtnStat.botLeft || this.resizeBtnStat.topLeft) ? -(pageX - this.pageX) : (pageX - this.pageX);\n        var mouseY = (this.resizeBtnStat.topLeft || this.resizeBtnStat.topRight) ? -(pageY - this.pageY) : (pageY - this.pageY);\n        var width = parseInt(this.imgDupPos.width, 10) + mouseX;\n        var height = parseInt(this.imgDupPos.height, 10) + mouseY;\n        this.pageX = pageX;\n        this.pageY = pageY;\n        if (this.resizeBtnStat.botRight) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.botLeft) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.topRight) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.topLeft) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n    };\n    Image.prototype.cancelResizeAction = function () {\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n        if (this.imgEle && this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            detach(this.imgResizeDiv);\n            this.imgEle.style.outline = '';\n            this.imgResizeDiv = null;\n            this.pageX = null;\n            this.pageY = null;\n        }\n    };\n    Image.prototype.resizeImgDupPos = function (e) {\n        this.imgDupPos = {\n            width: (e.style.width !== '' && (this.parent.insertImageSettings &&\n                !this.parent.insertImageSettings.resizeByPercent)) ? this.imgEle.style.width : e.width + 'px',\n            height: (e.style.height !== '') ? this.imgEle.style.height : e.height + 'px'\n        };\n    };\n    Image.prototype.resizeBtnInit = function () {\n        return this.resizeBtnStat = { botLeft: false, botRight: false, topRight: false, topLeft: false };\n    };\n    Image.prototype.onToolbarAction = function (args) {\n        if (isIDevice()) {\n            this.parent.notify(events.selectionRestore, {});\n        }\n        var item = args.args.item;\n        switch (item.subCommand) {\n            case 'Replace':\n                if (this.parent.fileManagerSettings.enable) {\n                    this.parent.notify(events.renderFileManager, args);\n                }\n                else {\n                    this.parent.notify(events.insertImage, args);\n                }\n                break;\n            case 'Caption':\n                this.parent.notify(events.imageCaption, args);\n                break;\n            case 'InsertLink':\n                this.parent.notify(events.imageLink, args);\n                break;\n            case 'AltText':\n                this.parent.notify(events.imageAlt, args);\n                break;\n            case 'Remove':\n                this.parent.notify(events.imageDelete, args);\n                break;\n            case 'Dimension':\n                this.parent.notify(events.imageSize, args);\n                break;\n            case 'OpenImageLink':\n                this.openImgLink(args);\n                break;\n            case 'EditImageLink':\n                this.editImgLink(args);\n                break;\n            case 'RemoveImageLink':\n                this.removeImgLink(args);\n                break;\n        }\n    };\n    Image.prototype.openImgLink = function (e) {\n        var target = e.selectParent[0].parentNode.target === '' ? '_self' : '_blank';\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            url: e.selectParent[0].parentNode.href, target: target, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand\n        });\n    };\n    Image.prototype.editImgLink = function (e) {\n        var selectParentEle = e.selectParent[0].parentNode;\n        var linkUpdate = this.i10n.getConstant('dialogUpdate');\n        var inputDetails = {\n            url: selectParentEle.href, target: selectParentEle.target,\n            header: 'Edit Link', btnText: linkUpdate\n        };\n        this.insertImgLink(e, inputDetails);\n    };\n    Image.prototype.removeImgLink = function (e) {\n        if (Browser.isIE) {\n            this.contentModule.getEditPanel().focus();\n        }\n        e.selection.restore();\n        var isCapLink = (this.contentModule.getEditPanel().contains(this.captionEle) && select('a', this.captionEle)) ?\n            true : false;\n        var selectParent = isCapLink ? [this.captionEle] : [e.selectNode[0].parentElement];\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            insertElement: e.selectNode[0], selectParent: selectParent, selection: e.selection,\n            subCommand: e.args.item.subCommand\n        });\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            if (!isNullOrUndefined(e.selectParent)) {\n                removeClass([e.selectParent[0]], 'e-img-focus');\n            }\n        }\n        if (isCapLink) {\n            select('.e-img-inner', this.captionEle).focus();\n        }\n    };\n    Image.prototype.onKeyDown = function (event) {\n        var originalEvent = event.args;\n        var range;\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        this.deletedImg = [];\n        var isCursor;\n        var keyCodeValues = [27, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123,\n            44, 45, 9, 16, 17, 18, 19, 20, 33, 34, 35, 36, 37, 38, 39, 40, 91, 92, 93, 144, 145, 182, 183];\n        if (this.parent.editorMode === 'HTML') {\n            range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            isCursor = range.startContainer === range.endContainer && range.startOffset === range.endOffset;\n        }\n        if (!isCursor && this.parent.editorMode === 'HTML' && keyCodeValues.indexOf(originalEvent.which) < 0) {\n            var nodes = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            for (var i = 0; i < nodes.length; i++) {\n                if (nodes[i].nodeName === 'IMG') {\n                    this.deletedImg.push(nodes[i]);\n                }\n            }\n        }\n        if (this.parent.editorMode === 'HTML' && ((originalEvent.which === 8 && originalEvent.code === 'Backspace') ||\n            (originalEvent.which === 46 && originalEvent.code === 'Delete'))) {\n            var isCursor_1 = range.startContainer === range.endContainer && range.startOffset === range.endOffset;\n            if ((originalEvent.which === 8 && originalEvent.code === 'Backspace' && isCursor_1)) {\n                this.checkImageBack(range);\n            }\n            else if ((originalEvent.which === 46 && originalEvent.code === 'Delete' && isCursor_1)) {\n                this.checkImageDel(range);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.formatter.editorManager.nodeSelection) &&\n            originalEvent.code !== 'KeyK') {\n            range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            if (!originalEvent.ctrlKey && originalEvent.key && (originalEvent.key.length === 1 || originalEvent.action === 'enter') &&\n                (selectParentEle[0].tagName === 'IMG') && selectParentEle[0].parentElement) {\n                var prev = selectParentEle[0].parentElement.childNodes[0];\n                if (this.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                    this.removeResizeEle();\n                }\n                this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(), prev, prev, prev.textContent.length, prev.textContent.length);\n                removeClass([selectParentEle[0]], 'e-img-focus');\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n        }\n        if (originalEvent.ctrlKey && (originalEvent.keyCode === 89 || originalEvent.keyCode === 90)) {\n            this.undoStack({ subCommand: (originalEvent.keyCode === 90 ? 'undo' : 'redo') });\n        }\n        if (originalEvent.keyCode === 8 || originalEvent.keyCode === 46) {\n            if (selectNodeEle && selectNodeEle[0].nodeName === 'IMG' && selectNodeEle.length < 1) {\n                originalEvent.preventDefault();\n                var event_1 = {\n                    selectNode: selectNodeEle, selection: save, selectParent: selectParentEle,\n                    args: {\n                        item: { command: 'Images', subCommand: 'Remove' },\n                        originalEvent: originalEvent\n                    }\n                };\n                this.deleteImg(event_1, originalEvent.keyCode);\n            }\n            if (this.parent.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                this.removeResizeEle();\n            }\n        }\n        if (originalEvent.code === 'Backspace') {\n            originalEvent.action = 'backspace';\n        }\n        switch (originalEvent.action) {\n            case 'escape':\n                if (!isNullOrUndefined(this.dialogObj)) {\n                    this.dialogObj.close();\n                }\n                break;\n            case 'backspace':\n            case 'delete':\n                for (var i = 0; i < this.deletedImg.length; i++) {\n                    var src = this.deletedImg[i].src;\n                    this.imageRemovePost(src);\n                }\n                if (this.parent.editorMode !== 'Markdown') {\n                    if (range.startContainer.nodeType === 3) {\n                        if (originalEvent.code === 'Backspace') {\n                            if (range.startContainer.previousElementSibling && range.startOffset === 0 &&\n                                range.startContainer.previousElementSibling.classList.contains(classes.CLS_CAPTION) &&\n                                range.startContainer.previousElementSibling.classList.contains(classes.CLS_CAPINLINE)) {\n                                detach(range.startContainer.previousElementSibling);\n                            }\n                        }\n                        else {\n                            if (range.startContainer.nextElementSibling &&\n                                range.endContainer.textContent.length === range.endOffset &&\n                                range.startContainer.nextElementSibling.classList.contains(classes.CLS_CAPTION) &&\n                                range.startContainer.nextElementSibling.classList.contains(classes.CLS_CAPINLINE)) {\n                                detach(range.startContainer.nextElementSibling);\n                            }\n                        }\n                    }\n                    else if ((range.startContainer.nodeType === 1 &&\n                        range.startContainer.querySelector('.' + classes.CLS_CAPTION + '.' + classes.CLS_CAPINLINE))) {\n                        detach(range.startContainer.querySelector('.' + classes.CLS_CAPTION + '.' + classes.CLS_CAPINLINE));\n                    }\n                }\n                break;\n            case 'insert-image':\n                this.openDialog(true, originalEvent, save, selectNodeEle, selectParentEle);\n                originalEvent.preventDefault();\n                break;\n        }\n    };\n    Image.prototype.openDialog = function (isInternal, event, selection, ele, parentEle) {\n        var range;\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        if (!isInternal && !isNOU(this.parent.formatter.editorManager.nodeSelection)) {\n            range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        else {\n            save = selection;\n            selectNodeEle = ele;\n            selectParentEle = parentEle;\n        }\n        if (this.parent.editorMode === 'HTML') {\n            this.insertImage({\n                args: {\n                    item: { command: 'Images', subCommand: 'Image' },\n                    originalEvent: event\n                },\n                selectNode: selectNodeEle,\n                selection: save,\n                selectParent: selectParentEle\n            });\n        }\n        else {\n            this.insertImage({\n                args: {\n                    item: { command: 'Images', subCommand: 'Image' },\n                    originalEvent: event\n                },\n                member: 'image',\n                text: this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),\n                module: 'Markdown',\n                name: 'insertImage'\n            });\n        }\n    };\n    Image.prototype.showDialog = function () {\n        this.openDialog(false);\n    };\n    Image.prototype.closeDialog = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    // eslint-disable-next-line\n    Image.prototype.onKeyUp = function (event) {\n        if (!isNOU(this.deletedImg) && this.deletedImg.length > 0) {\n            for (var i = 0; i < this.deletedImg.length; i++) {\n                var args = {\n                    element: this.deletedImg[i],\n                    src: this.deletedImg[i].getAttribute('src')\n                };\n                this.parent.trigger(events.afterImageDelete, args);\n            }\n        }\n    };\n    Image.prototype.checkImageBack = function (range) {\n        if (range.startContainer.nodeName === '#text' && range.startOffset === 0 &&\n            !isNOU(range.startContainer.previousSibling) && range.startContainer.previousSibling.nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.previousSibling);\n        }\n        else if (range.startContainer.nodeName !== '#text' && !isNOU(range.startContainer.childNodes[range.startOffset - 1]) &&\n            range.startContainer.childNodes[range.startOffset - 1].nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.childNodes[range.startOffset - 1]);\n        }\n    };\n    Image.prototype.checkImageDel = function (range) {\n        if (range.startContainer.nodeName === '#text' && range.startOffset === range.startContainer.textContent.length &&\n            !isNOU(range.startContainer.nextSibling) && range.startContainer.nextSibling.nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.nextSibling);\n        }\n        else if (range.startContainer.nodeName !== '#text' && !isNOU(range.startContainer.childNodes[range.startOffset]) &&\n            range.startContainer.childNodes[range.startOffset].nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.childNodes[range.startOffset]);\n        }\n    };\n    Image.prototype.alignmentSelect = function (e) {\n        var item = e.item;\n        if (!document.body.contains(document.body.querySelector('.e-rte-quick-toolbar')) || item.command !== 'Images') {\n            return;\n        }\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n        selectNodeEle = (selectNodeEle[0].nodeName === 'IMG') ? selectNodeEle : [this.imgEle];\n        var args = { args: e, selectNode: selectNodeEle };\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        switch (item.subCommand) {\n            case 'JustifyLeft':\n                this.alignImage(args, 'JustifyLeft');\n                break;\n            case 'JustifyCenter':\n                this.alignImage(args, 'JustifyCenter');\n                break;\n            case 'JustifyRight':\n                this.alignImage(args, 'JustifyRight');\n                break;\n            case 'Inline':\n                this.inline(args);\n                break;\n            case 'Break':\n                this.break(args);\n                break;\n        }\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            removeClass([selectNodeEle[0]], 'e-img-focus');\n        }\n        this.cancelResizeAction();\n    };\n    Image.prototype.imageWithLinkQTBarItemUpdate = function () {\n        var separator;\n        var items = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item');\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].getAttribute('title') === this.i10n.getConstant('openLink') ||\n                items[i].getAttribute('title') === this.i10n.getConstant('editLink') ||\n                items[i].getAttribute('title') === this.i10n.getConstant('removeLink')) {\n                addClass([items[i]], 'e-link-groups');\n                items[i].style.display = 'none';\n            }\n            else if (items[i].getAttribute('title') === 'Insert Link') {\n                items[i].style.display = '';\n            }\n            else if (items[i].classList.contains('e-rte-horizontal-separator')) {\n                // eslint-disable-next-line\n                separator = items[i];\n                detach(items[i]);\n            }\n        }\n        var newItems = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item:not(.e-link-groups)');\n        this.quickToolObj.imageQTBar.addQTBarItem(['-'], Math.round(newItems.length / 2));\n    };\n    Image.prototype.showImageQuickToolbar = function (e) {\n        var _this = this;\n        if (e.type !== 'Images' || isNullOrUndefined(this.parent.quickToolbarModule)\n            || isNullOrUndefined(this.parent.quickToolbarModule.imageQTBar) || isNullOrUndefined(e.args)) {\n            return;\n        }\n        this.quickToolObj = this.parent.quickToolbarModule;\n        var args = e.args;\n        var target = e.elements;\n        [].forEach.call(e.elements, function (element, index) {\n            if (index === 0) {\n                target = element;\n            }\n        });\n        if (target && !closest(target, 'a')) {\n            this.imageWithLinkQTBarItemUpdate();\n        }\n        if (target.nodeName === 'IMG') {\n            addClass([target], ['e-img-focus']);\n        }\n        var pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset +\n            this.parent.element.getBoundingClientRect().top + args.clientY : args.pageY;\n        if (this.parent.quickToolbarModule.imageQTBar) {\n            if (e.isNotify) {\n                setTimeout(function () {\n                    _this.quickToolObj.imageQTBar.showPopup(args.pageX, pageY, target);\n                }, 400);\n            }\n            else {\n                this.quickToolObj.imageQTBar.showPopup(args.pageX, pageY, target);\n            }\n        }\n    };\n    Image.prototype.hideImageQuickToolbar = function () {\n        if (!isNullOrUndefined(this.contentModule.getEditPanel().querySelector('.e-img-focus'))) {\n            removeClass([this.contentModule.getEditPanel().querySelector('.e-img-focus')], 'e-img-focus');\n            if (this.quickToolObj && this.quickToolObj.imageQTBar && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n        }\n    };\n    Image.prototype.editAreaClickHandler = function (e) {\n        if (this.parent.readonly) {\n            this.hideImageQuickToolbar();\n            return;\n        }\n        var args = e.args;\n        var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n        if (args.which === 2 || (showOnRightClick && args.which === 1) || (!showOnRightClick && args.which === 3)) {\n            if ((showOnRightClick && args.which === 1) && !isNullOrUndefined(args.target) &&\n                args.target.tagName === 'IMG') {\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(), args.target);\n            }\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.imageQTBar) {\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var target = args.target;\n            this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n            var isPopupOpen = this.quickToolObj.imageQTBar.element.classList.contains('e-rte-pop');\n            if (target.nodeName === 'IMG' && this.parent.quickToolbarModule) {\n                if (isPopupOpen) {\n                    return;\n                }\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(), target);\n                if (isIDevice()) {\n                    this.parent.notify(events.selectionSave, e);\n                }\n                addClass([target], 'e-img-focus');\n                var items = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item');\n                var separator = void 0;\n                if (closest(target, 'a')) {\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].getAttribute('title') === this.i10n.getConstant('openLink') ||\n                            items[i].getAttribute('title') === this.i10n.getConstant('editLink') ||\n                            items[i].getAttribute('title') === this.i10n.getConstant('removeLink')) {\n                            items[i].style.display = '';\n                            removeClass([items[i]], 'e-link-groups');\n                        }\n                        else if (items[i].getAttribute('title') === 'Insert Link') {\n                            items[i].style.display = 'none';\n                        }\n                        else if (items[i].classList.contains('e-rte-horizontal-separator')) {\n                            // eslint-disable-next-line\n                            separator = items[i];\n                            detach(items[i]);\n                        }\n                    }\n                    var newItems = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item:not(.e-link-groups)');\n                    this.quickToolObj.imageQTBar.addQTBarItem(['-'], Math.round(newItems.length / 2));\n                }\n                else if (!closest(target, 'a')) {\n                    this.imageWithLinkQTBarItemUpdate();\n                }\n                this.showImageQuickToolbar({ args: args, type: 'Images', elements: [args.target] });\n            }\n            else {\n                this.hideImageQuickToolbar();\n            }\n        }\n    };\n    Image.prototype.insertImgLink = function (e, inputDetails) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var linkWrap = this.parent.createElement('div', { className: 'e-img-linkwrap' });\n            var linkUrl = this.i10n.getConstant('linkurl');\n            var content = '<div class=\"e-rte-field\">' +\n                '<input type=\"text\" data-role =\"none\" class=\"e-input e-img-link\" spellcheck=\"false\" placeholder=\"' + linkUrl + '\"/></div>' +\n                '<div class=\"e-rte-label\"></div>' + '<div class=\"e-rte-field\">' +\n                '<input type=\"checkbox\" class=\"e-rte-linkTarget\"  data-role =\"none\"></div>';\n            var contentElem = parseHtml(content);\n            linkWrap.appendChild(contentElem);\n            var linkTarget = linkWrap.querySelector('.e-rte-linkTarget');\n            var inputLink = linkWrap.querySelector('.e-img-link');\n            var linkOpenLabel = this.i10n.getConstant('linkOpenInNewWindow');\n            this.checkBoxObj = new CheckBox({\n                label: linkOpenLabel, checked: true, enableRtl: this.parent.enableRtl, change: function (e) {\n                    if (e.checked) {\n                        target_1 = '_blank';\n                    }\n                    else {\n                        target_1 = null;\n                    }\n                }\n            });\n            this.checkBoxObj.isStringTemplate = true;\n            this.checkBoxObj.createElement = this.parent.createElement;\n            this.checkBoxObj.appendTo(linkTarget);\n            var target_1 = this.checkBoxObj.checked ? '_blank' : null;\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var linkargs_1 = {\n                args: e.args,\n                selfImage: this, selection: e.selection,\n                selectNode: e.selectNode, selectParent: e.selectParent, link: inputLink, target: target_1\n            };\n            this.dialogObj.setProperties({\n                height: 'inherit',\n                width: '290px',\n                header: this.parent.localeObj.getConstant('imageInsertLinkHeader'),\n                content: linkWrap,\n                position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        // eslint-disable-next-line\n                        click: function (e) {\n                            _this.insertlink(linkargs_1);\n                        },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-link', isPrimary: true\n                        }\n                    }]\n            });\n            if (!isNullOrUndefined(inputDetails)) {\n                inputLink.value = inputDetails.url;\n                // eslint-disable-next-line\n                (inputDetails.target) ? this.checkBoxObj.checked = true : this.checkBoxObj.checked = false;\n                this.dialogObj.header = inputDetails.header;\n            }\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.insertAltText = function (e) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        var altText = this.i10n.getConstant('altText');\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var altWrap = this.parent.createElement('div', { className: 'e-img-altwrap' });\n            var altHeader = this.i10n.getConstant('alternateHeader');\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var getAlt = (e.selectNode[0].getAttribute('alt') === null) ? '' :\n                e.selectNode[0].getAttribute('alt');\n            var content = '<div class=\"e-rte-field\">' +\n                '<input type=\"text\" spellcheck=\"false\" value=\"' + getAlt + '\" class=\"e-input e-img-alt\" placeholder=\"' + altText + '\"/>' +\n                '</div>';\n            var contentElem = parseHtml(content);\n            altWrap.appendChild(contentElem);\n            var inputAlt = altWrap.querySelector('.e-img-alt');\n            var altArgs_1 = {\n                args: e.args, selfImage: this, selection: e.selection, selectNode: e.selectNode,\n                alt: inputAlt\n            };\n            this.dialogObj.setProperties({\n                height: 'inherit', width: '290px', header: altHeader, content: altWrap, position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        // eslint-disable-next-line\n                        click: function (e) {\n                            _this.insertAlt(altArgs_1);\n                        },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-alt', isPrimary: true\n                        }\n                    }]\n            });\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.insertAlt = function (e) {\n        if (!isNullOrUndefined(e.alt)) {\n            e.selection.restore();\n            if (this.parent.formatter.getUndoRedoStack().length === 0) {\n                this.parent.formatter.saveData();\n            }\n            var altText = e.alt.value;\n            this.parent.formatter.process(this.parent, e.args, e.args, {\n                altText: altText, selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n            this.dialogObj.hide({ returnValue: false });\n        }\n    };\n    Image.prototype.insertlink = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var url = e.link.value;\n        if (url === '') {\n            addClass([e.link], 'e-error');\n            e.link.setSelectionRange(0, url.length);\n            e.link.focus();\n            return;\n        }\n        if (!this.isUrl(url)) {\n            url = 'http://' + url;\n        }\n        else {\n            removeClass([e.link], 'e-error');\n        }\n        var proxy = e.selfImage;\n        if (proxy.parent.editorMode === 'HTML') {\n            e.selection.restore();\n        }\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        if (e.selectNode[0].parentElement.nodeName === 'A') {\n            proxy.parent.formatter.process(proxy.parent, e.args, e.args, {\n                url: url, target: proxy.checkBoxObj.checked ? '_blank' : null, selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n            proxy.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        proxy.parent.formatter.process(proxy.parent, e.args, e.args, {\n            url: url, target: proxy.checkBoxObj.checked ? '_blank' : null, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand, selection: e.selection\n        });\n        var captionEle = closest(e.selectNode[0], '.e-img-caption');\n        if (captionEle) {\n            select('.e-img-inner', captionEle).focus();\n        }\n        if (captionEle) {\n            select('.e-img-inner', captionEle).focus();\n        }\n        proxy.dialogObj.hide({ returnValue: false });\n    };\n    Image.prototype.isUrl = function (url) {\n        // eslint-disable-next-line\n        var regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/gi;\n        return regexp.test(url);\n    };\n    Image.prototype.deleteImg = function (e, keyCode) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var args = {\n            element: e.selectNode[0],\n            src: e.selectNode[0].getAttribute('src')\n        };\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        e.selection.restore();\n        if (this.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n            this.removeResizeEle();\n        }\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            selectNode: e.selectNode,\n            captionClass: classes.CLS_CAPTION,\n            subCommand: e.args.item.subCommand\n        });\n        this.imageRemovePost(args.src);\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n        }\n        this.cancelResizeAction();\n        if (isNullOrUndefined(keyCode)) {\n            this.parent.trigger(events.afterImageDelete, args);\n        }\n    };\n    Image.prototype.imageRemovePost = function (src) {\n        var proxy = this;\n        var absoluteUrl = '';\n        if (isNOU(this.parent.insertImageSettings.removeUrl) || this.parent.insertImageSettings.removeUrl === '') {\n            return;\n        }\n        if (src.indexOf('http://') > -1 || src.indexOf('https://') > -1) {\n            absoluteUrl = src;\n        }\n        else {\n            absoluteUrl = new URL(src, document.baseURI).href;\n        }\n        this.removingImgName = absoluteUrl.replace(/^.*[\\\\\\/]/, '');\n        var xhr = new XMLHttpRequest();\n        xhr.addEventListener(\"readystatechange\", function () {\n            if (this.readyState == 4 && this.status == 200) {\n                proxy.triggerPost(this.response);\n            }\n        });\n        xhr.open('GET', absoluteUrl);\n        xhr.responseType = 'blob';\n        xhr.send();\n    };\n    Image.prototype.triggerPost = function (response) {\n        var removeUrl = this.parent.insertImageSettings.removeUrl;\n        if (isNOU(removeUrl) || removeUrl === '') {\n            return;\n        }\n        var file = new File([response], this.removingImgName);\n        var ajax = new Ajax(removeUrl, 'POST', true, null);\n        var formData = new FormData();\n        formData.append('UploadFiles', file);\n        ajax.send(formData);\n    };\n    Image.prototype.caption = function (e) {\n        var selectNode = e.selectNode[0];\n        if (selectNode.nodeName !== 'IMG') {\n            return;\n        }\n        e.selection.restore();\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        this.cancelResizeAction();\n        addClass([selectNode], 'e-rte-image');\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Caption';\n        if (!isNullOrUndefined(closest(selectNode, '.' + classes.CLS_CAPTION))) {\n            detach(closest(selectNode, '.' + classes.CLS_CAPTION));\n            if (Browser.isIE) {\n                this.contentModule.getEditPanel().focus();\n                e.selection.restore();\n            }\n            if (selectNode.parentElement.tagName === 'A') {\n                this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: selectNode.parentElement, selectNode: e.selectNode, subCommand: subCommand });\n            }\n            else {\n                this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: selectNode, selectNode: e.selectNode, subCommand: subCommand });\n            }\n        }\n        else {\n            this.captionEle = this.parent.createElement('span', {\n                className: classes.CLS_CAPTION + ' ' + classes.CLS_RTE_CAPTION,\n                attrs: { contenteditable: 'false', draggable: 'false', style: 'width:' + this.parent.insertImageSettings.width }\n            });\n            var imgWrap = this.parent.createElement('span', { className: 'e-img-wrap' });\n            var imgInner = this.parent.createElement('span', { className: 'e-img-inner',\n                attrs: { contenteditable: 'true' } });\n            var parent_1 = e.selectNode[0].parentElement;\n            if (parent_1.tagName === 'A') {\n                parent_1.setAttribute('contenteditable', 'true');\n            }\n            imgWrap.appendChild(parent_1.tagName === 'A' ? parent_1 : e.selectNode[0]);\n            imgWrap.appendChild(imgInner);\n            var imgCaption = this.i10n.getConstant('imageCaption');\n            imgInner.innerHTML = imgCaption;\n            this.captionEle.appendChild(imgWrap);\n            if (selectNode.classList.contains(classes.CLS_IMGINLINE)) {\n                addClass([this.captionEle], classes.CLS_CAPINLINE);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGBREAK)) {\n                addClass([this.captionEle], classes.CLS_IMGBREAK);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGLEFT)) {\n                addClass([this.captionEle], classes.CLS_IMGLEFT);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGRIGHT)) {\n                addClass([this.captionEle], classes.CLS_IMGRIGHT);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGCENTER)) {\n                addClass([this.captionEle], classes.CLS_IMGCENTER);\n            }\n            this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: this.captionEle, selectNode: e.selectNode, subCommand: subCommand });\n            this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(), imgInner.childNodes[0], imgInner.childNodes[0], 0, imgInner.childNodes[0].textContent.length);\n        }\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            removeClass([selectNode], 'e-img-focus');\n        }\n    };\n    Image.prototype.imageSize = function (e) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var imgSizeHeader = this.i10n.getConstant('imageSizeHeader');\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var dialogContent = this.imgsizeInput(e);\n            var selectObj_1 = { args: e.args, selfImage: this, selection: e.selection, selectNode: e.selectNode };\n            this.dialogObj.setProperties({\n                height: 'inherit', width: '290px', header: imgSizeHeader, content: dialogContent, position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        // eslint-disable-next-line\n                        click: function (e) {\n                            _this.insertSize(selectObj_1);\n                        },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-size', isPrimary: true\n                        }\n                    }]\n            });\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.break = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Break';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.inline = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Inline';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.alignImage = function (e, type) {\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : type;\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.clearDialogObj = function () {\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            detach(this.dialogObj.element);\n            this.dialogObj = null;\n        }\n    };\n    Image.prototype.imagDialog = function (e) {\n        var _this = this;\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        var imgDialog = this.parent.createElement('div', { className: 'e-rte-img-dialog', id: this.rteID + '_image' });\n        this.parent.element.appendChild(imgDialog);\n        var imgInsert = this.i10n.getConstant('dialogInsert');\n        var imglinkCancel = this.i10n.getConstant('dialogCancel');\n        var imgHeader = this.i10n.getConstant('imageHeader');\n        var selection = e.selection;\n        var selectObj = { selfImage: this, selection: e.selection, args: e.args, selectParent: e.selectParent };\n        var dialogModel = {\n            header: imgHeader,\n            cssClass: classes.CLS_RTE_ELEMENTS,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            showCloseIcon: true, closeOnEscape: true, width: (Browser.isDevice) ? '290px' : '340px', height: 'inherit',\n            position: { X: 'center', Y: (Browser.isDevice) ? 'center' : 'top' },\n            isModal: Browser.isDevice,\n            buttons: [{\n                    click: this.insertImageUrl.bind(selectObj),\n                    buttonModel: { content: imgInsert, cssClass: 'e-flat e-insertImage', isPrimary: true, disabled: true }\n                },\n                {\n                    click: function (e) {\n                        _this.cancelDialog(e);\n                    },\n                    buttonModel: { cssClass: 'e-flat e-cancel', content: imglinkCancel }\n                }],\n            target: (Browser.isDevice) ? document.body : this.parent.element,\n            animationSettings: { effect: 'None' },\n            close: function (event) {\n                if (_this.isImgUploaded) {\n                    _this.uploadObj.removing();\n                }\n                _this.parent.isBlur = false;\n                if (event && event.event.returnValue) {\n                    if (_this.parent.editorMode === 'HTML') {\n                        selection.restore();\n                    }\n                    else {\n                        _this.parent.formatter.editorManager.markdownSelection.restore(_this.parent.contentModule.getEditPanel());\n                    }\n                }\n                _this.dialogObj.destroy();\n                detach(_this.dialogObj.element);\n                _this.dialogRenderObj.close(event);\n                _this.dialogObj = null;\n            }\n        };\n        var dialogContent = this.parent.createElement('div', { className: 'e-img-content' });\n        if ((!isNullOrUndefined(this.parent.insertImageSettings.path) && this.parent.editorMode === 'Markdown')\n            || this.parent.editorMode === 'HTML') {\n            dialogContent.appendChild(this.imgUpload(e));\n        }\n        var linkHeader = this.parent.createElement('div', { className: 'e-linkheader' });\n        var linkHeaderText = this.i10n.getConstant('imageLinkHeader');\n        if (this.parent.editorMode === 'HTML') {\n            linkHeader.innerHTML = linkHeaderText;\n        }\n        else {\n            linkHeader.innerHTML = this.i10n.getConstant('mdimageLink');\n        }\n        dialogContent.appendChild(linkHeader);\n        dialogContent.appendChild(this.imageUrlPopup(e));\n        if (e.selectNode && e.selectNode[0].nodeName === 'IMG') {\n            dialogModel.header = this.parent.localeObj.getConstant('editImageHeader');\n            dialogModel.content = dialogContent;\n        }\n        else {\n            dialogModel.content = dialogContent;\n        }\n        this.dialogObj = this.dialogRenderObj.render(dialogModel);\n        this.dialogObj.createElement = this.parent.createElement;\n        this.dialogObj.appendTo(imgDialog);\n        if (isNullOrUndefined(this.dialogObj)) {\n            return;\n        }\n        if (e.selectNode && e.selectNode[0].nodeName === 'IMG' && (e.name === 'insertImage')) {\n            this.dialogObj.element.querySelector('.e-insertImage').textContent = this.parent.localeObj.getConstant('dialogUpdate');\n        }\n        imgDialog.style.maxHeight = 'inherit';\n        if (this.quickToolObj) {\n            if (this.quickToolObj.imageQTBar && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n                this.quickToolObj.imageQTBar.hidePopup();\n                if (!isNullOrUndefined(e.selectParent)) {\n                    removeClass([e.selectParent[0]], 'e-img-focus');\n                }\n            }\n            if (this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n                this.quickToolObj.inlineQTBar.hidePopup();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Image.prototype.cancelDialog = function (e) {\n        this.parent.isBlur = false;\n        this.dialogObj.hide({ returnValue: true });\n        if (this.isImgUploaded) {\n            this.uploadObj.removing();\n        }\n    };\n    Image.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (target.nodeName === 'IMG') {\n            this.imgEle = target;\n        }\n        if (!isNullOrUndefined(this.dialogObj) && ((\n        // eslint-disable-next-line\n        !closest(target, '[id=' + \"'\" + this.dialogObj.element.id + \"'\" + ']') && this.parent.toolbarSettings.enable && this.parent.getToolbarElement() &&\n            !this.parent.getToolbarElement().contains(e.target)) ||\n            (this.parent.getToolbarElement() && this.parent.getToolbarElement().contains(e.target) &&\n                !closest(target, '#' + this.parent.getID() + '_toolbar_Image') &&\n                !target.querySelector('#' + this.parent.getID() + '_toolbar_Image')))) {\n            /* eslint-disable */\n            if (e.offsetX > e.target.clientWidth || e.offsetY > e.target.clientHeight) {\n            }\n            else {\n                this.dialogObj.hide({ returnValue: true });\n                this.parent.isBlur = true;\n                dispatchEvent(this.parent.element, 'focusout');\n            }\n            /* eslint-enable */\n        }\n        if (e.target.tagName !== 'IMG' && this.imgResizeDiv && !(this.quickToolObj &&\n            this.quickToolObj.imageQTBar && this.quickToolObj.imageQTBar.element.contains(e.target)) &&\n            this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            this.cancelResizeAction();\n        }\n        if (this.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n            if (target.tagName !== 'IMG') {\n                this.removeResizeEle();\n            }\n            if (target.tagName !== 'IMG' && !isNOU(this.imgEle)) {\n                this.imgEle.style.outline = '';\n            }\n            else if (!isNOU(this.prevSelectedImgEle) && this.prevSelectedImgEle !== target) {\n                this.prevSelectedImgEle.style.outline = '';\n            }\n        }\n    };\n    Image.prototype.removeResizeEle = function () {\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n        detach(this.contentModule.getEditPanel().querySelector('.e-img-resize'));\n    };\n    Image.prototype.onWindowResize = function () {\n        if (!isNOU(this.contentModule) && !isNOU(this.contentModule.getEditPanel().querySelector('.e-img-resize'))) {\n            this.cancelResizeAction();\n        }\n    };\n    // eslint-disable-next-line\n    Image.prototype.imageUrlPopup = function (e) {\n        var _this = this;\n        var imgUrl = this.parent.createElement('div', { className: 'imgUrl' });\n        var placeUrl = this.i10n.getConstant('imageUrl');\n        this.inputUrl = this.parent.createElement('input', {\n            className: 'e-input e-img-url',\n            attrs: { placeholder: placeUrl, spellcheck: 'false' }\n        });\n        this.inputUrl.addEventListener('input', function () {\n            if (!isNOU(_this.inputUrl)) {\n                if (_this.inputUrl.value.length === 0) {\n                    _this.dialogObj.getButtons(0).element.disabled = true;\n                }\n                else {\n                    _this.dialogObj.getButtons(0).element.removeAttribute('disabled');\n                }\n            }\n        });\n        imgUrl.appendChild(this.inputUrl);\n        return imgUrl;\n    };\n    // eslint-disable-next-line\n    Image.prototype.insertImageUrl = function (e) {\n        var proxy = this.selfImage;\n        proxy.isImgUploaded = false;\n        var url = proxy.inputUrl.value;\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        if (!isNullOrUndefined(proxy.uploadUrl) && proxy.uploadUrl.url !== '') {\n            proxy.uploadUrl.cssClass = (proxy.parent.insertImageSettings.display === 'inline' ?\n                classes.CLS_IMGINLINE : classes.CLS_IMGBREAK);\n            proxy.dialogObj.hide({ returnValue: false });\n            proxy.parent.formatter.process(proxy.parent, this.args, this.args.originalEvent, proxy.uploadUrl);\n            proxy.uploadUrl.url = '';\n            if (proxy.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                proxy.imgEle.style.outline = '';\n                proxy.removeResizeEle();\n            }\n        }\n        else if (url !== '') {\n            if (proxy.parent.editorMode === 'HTML' && isNullOrUndefined(closest(\n            // eslint-disable-next-line\n            this.selection.range.startContainer.parentNode, '[id=' + \"'\" + proxy.contentModule.getPanel().id + \"'\" + ']'))) {\n                proxy.contentModule.getEditPanel().focus();\n                var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.contentModule.getDocument());\n                this.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.contentModule.getDocument());\n                this.selectParent = proxy.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            }\n            var regex = /[\\w-]+.(jpg|png|jpeg|gif)/g;\n            var matchUrl = (!isNullOrUndefined(url.match(regex)) && proxy.parent.editorMode === 'HTML') ? url.match(regex)[0] : '';\n            var value = {\n                cssClass: (proxy.parent.insertImageSettings.display === 'inline' ? classes.CLS_IMGINLINE : classes.CLS_IMGBREAK),\n                url: url, selection: this.selection, altText: matchUrl,\n                selectParent: this.selectParent, width: {\n                    width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                    maxWidth: proxy.parent.getInsertImgMaxWidth()\n                },\n                height: {\n                    height: proxy.parent.insertImageSettings.height, minHeight: proxy.parent.insertImageSettings.minHeight,\n                    maxHeight: proxy.parent.insertImageSettings.maxHeight\n                }\n            };\n            proxy.parent.formatter.process(proxy.parent, this.args, this.args.originalEvent, value);\n            proxy.dialogObj.hide({ returnValue: false });\n        }\n    };\n    Image.prototype.imgsizeInput = function (e) {\n        var _this = this;\n        var selectNode = e.selectNode[0];\n        var imgHeight = this.i10n.getConstant('imageHeight');\n        var imgWidth = this.i10n.getConstant('imageWidth');\n        var imgSizeWrap = this.parent.createElement('div', { className: 'e-img-sizewrap' });\n        var widthVal = isNullOrUndefined(this.changedWidthValue) && (selectNode.style.width.toString() === 'auto' ||\n            selectNode.style.width !== '') ? selectNode.style.width : !isNullOrUndefined(this.changedWidthValue) ?\n            this.changedWidthValue : (parseInt(selectNode.getClientRects()[0].width.toString(), 10)).toString();\n        var heightVal = isNullOrUndefined(this.changedHeightValue) && (selectNode.style.height.toString() === 'auto' ||\n            selectNode.style.height !== '') ? selectNode.style.height : !isNullOrUndefined(this.changedHeightValue) ?\n            this.changedHeightValue : (parseInt(selectNode.getClientRects()[0].height.toString(), 10)).toString();\n        this.changedWidthValue = null;\n        this.changedHeightValue = null;\n        var content = '<div class=\"e-rte-label\"><label>' + imgWidth +\n            '</label></div><div class=\"e-rte-field\"><input type=\"text\" id=\"imgwidth\" class=\"e-img-width\" value=' +\n            widthVal\n            + ' /></div>' +\n            '<div class=\"e-rte-label\">' + '<label>' + imgHeight + '</label></div><div class=\"e-rte-field\"> ' +\n            '<input type=\"text\" id=\"imgheight\" class=\"e-img-height\" value=' +\n            heightVal\n            + ' /></div>';\n        var contentElem = parseHtml(content);\n        imgSizeWrap.appendChild(contentElem);\n        var widthNum = new TextBox({\n            value: formatUnit(widthVal),\n            enableRtl: this.parent.enableRtl,\n            input: function (e) {\n                _this.inputWidthValue = formatUnit(_this.inputValue(e.value));\n            }\n        });\n        widthNum.createElement = this.parent.createElement;\n        widthNum.appendTo(imgSizeWrap.querySelector('#imgwidth'));\n        var heightNum = new TextBox({\n            value: formatUnit(heightVal),\n            enableRtl: this.parent.enableRtl,\n            input: function (e) {\n                _this.inputHeightValue = formatUnit(_this.inputValue(e.value));\n            }\n        });\n        heightNum.createElement = this.parent.createElement;\n        heightNum.appendTo(imgSizeWrap.querySelector('#imgheight'));\n        return imgSizeWrap;\n    };\n    Image.prototype.inputValue = function (value) {\n        if (value === 'auto' || value.indexOf('%') !== -1 || value.indexOf('px') !== -1\n            || value.match(/(\\d+)/)) {\n            return value;\n        }\n        else {\n            return 'auto';\n        }\n    };\n    Image.prototype.insertSize = function (e) {\n        e.selection.restore();\n        var proxy = e.selfImage;\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        var dialogEle = proxy.dialogObj.element;\n        this.changedWidthValue = this.inputWidthValue;\n        this.changedHeightValue = this.inputHeightValue;\n        var width = dialogEle.querySelector('.e-img-width').value;\n        var height = dialogEle.parentElement.querySelector('.e-img-height').value;\n        proxy.parent.formatter.process(this.parent, e.args, e.args, {\n            width: width, height: height, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand\n        });\n        if (this.imgResizeDiv) {\n            proxy.imgResizePos(e.selectNode[0], this.imgResizeDiv);\n        }\n        proxy.dialogObj.hide({ returnValue: true });\n    };\n    Image.prototype.insertImage = function (e) {\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            var dialogContent = this.dialogObj.element.querySelector('.e-img-content');\n            if (((!isNullOrUndefined(this.parent.insertImageSettings.path) && this.parent.editorMode === 'Markdown')\n                || this.parent.editorMode === 'HTML')) {\n                document.getElementById(this.rteID + '_insertImage').focus();\n            }\n            else {\n                dialogContent.querySelector('.e-img-url').focus();\n            }\n        }\n    };\n    Image.prototype.imgUpload = function (e) {\n        var _this = this;\n        var save;\n        var selectParent;\n        // eslint-disable-next-line\n        var proxy = this;\n        var iframe = proxy.parent.iframeSettings.enable;\n        if (proxy.parent.editorMode === 'HTML' && (!iframe && isNullOrUndefined(closest(e.selection.range.startContainer.parentNode, '[id='\n            // eslint-disable-next-line\n            + \"'\" + this.parent.contentModule.getPanel().id + \"'\" + ']'))\n            || (iframe && !hasClass(e.selection.range.startContainer.parentNode.ownerDocument.querySelector('body'), 'e-lib')))) {\n            this.contentModule.getEditPanel().focus();\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        else {\n            save = e.selection;\n            selectParent = e.selectParent;\n        }\n        var uploadParentEle = this.parent.createElement('div', { className: 'e-img-uploadwrap e-droparea' });\n        var deviceImgUpMsg = this.i10n.getConstant('imageDeviceUploadMessage');\n        var imgUpMsg = this.i10n.getConstant('imageUploadMessage');\n        var span = this.parent.createElement('span', { className: 'e-droptext' });\n        var spanMsg = this.parent.createElement('span', {\n            className: 'e-rte-upload-text', innerHTML: ((Browser.isDevice) ? deviceImgUpMsg : imgUpMsg)\n        });\n        span.appendChild(spanMsg);\n        var btnEle = this.parent.createElement('button', {\n            className: 'e-browsebtn', id: this.rteID + '_insertImage', attrs: { autofocus: 'true', type: 'button' }\n        });\n        span.appendChild(btnEle);\n        uploadParentEle.appendChild(span);\n        var browserMsg = this.i10n.getConstant('browse');\n        var button = new Button({ content: browserMsg, enableRtl: this.parent.enableRtl });\n        button.isStringTemplate = true;\n        button.createElement = this.parent.createElement;\n        button.appendTo(btnEle);\n        var btnClick = (Browser.isDevice) ? span : btnEle;\n        EventHandler.add(btnClick, 'click', this.fileSelect, this);\n        var uploadEle = this.parent.createElement('input', {\n            id: this.rteID + '_upload', attrs: { type: 'File', name: 'UploadFiles' }\n        });\n        uploadParentEle.appendChild(uploadEle);\n        var altText;\n        var rawFile;\n        var selectArgs;\n        var filesData;\n        var beforeUploadArgs;\n        this.uploadObj = new Uploader({\n            asyncSettings: { saveUrl: this.parent.insertImageSettings.saveUrl, removeUrl: this.parent.insertImageSettings.removeUrl },\n            dropArea: span, multiple: false, enableRtl: this.parent.enableRtl,\n            allowedExtensions: this.parent.insertImageSettings.allowedTypes.toString(),\n            selected: function (e) {\n                proxy.isImgUploaded = true;\n                selectArgs = e;\n                filesData = e.filesData;\n                if (_this.parent.isServerRendered) {\n                    selectArgs = JSON.parse(JSON.stringify(e));\n                    e.cancel = true;\n                    rawFile = e.filesData;\n                    selectArgs.filesData = rawFile;\n                }\n                _this.parent.trigger(events.imageSelected, selectArgs, function (selectArgs) {\n                    if (!selectArgs.cancel) {\n                        _this.checkExtension(selectArgs.filesData[0]);\n                        altText = selectArgs.filesData[0].name;\n                        if (_this.parent.editorMode === 'HTML' && isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                            var reader_1 = new FileReader();\n                            // eslint-disable-next-line\n                            reader_1.addEventListener('load', function (e) {\n                                var url = _this.parent.insertImageSettings.saveFormat === 'Base64' ? reader_1.result :\n                                    URL.createObjectURL(convertToBlob(reader_1.result));\n                                proxy.uploadUrl = {\n                                    url: url, selection: save, altText: altText,\n                                    selectParent: selectParent,\n                                    width: {\n                                        width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                                        maxWidth: proxy.parent.getInsertImgMaxWidth()\n                                    }, height: {\n                                        height: proxy.parent.insertImageSettings.height,\n                                        minHeight: proxy.parent.insertImageSettings.minHeight,\n                                        maxHeight: proxy.parent.insertImageSettings.maxHeight\n                                    }\n                                };\n                                proxy.inputUrl.setAttribute('disabled', 'true');\n                                if (isNullOrUndefined(proxy.parent.insertImageSettings.saveUrl) && _this.isAllowedTypes\n                                    && !isNullOrUndefined(_this.dialogObj)) {\n                                    _this.dialogObj.getButtons(0).element.removeAttribute('disabled');\n                                }\n                            });\n                            reader_1.readAsDataURL(selectArgs.filesData[0].rawFile);\n                        }\n                        if (_this.parent.isServerRendered) {\n                            /* eslint-disable */\n                            _this.uploadObj._internalRenderSelect(selectArgs, rawFile);\n                            /* eslint-enable */\n                        }\n                    }\n                });\n            },\n            beforeUpload: function (args) {\n                if (_this.parent.isServerRendered) {\n                    beforeUploadArgs = JSON.parse(JSON.stringify(args));\n                    beforeUploadArgs.filesData = filesData;\n                    args.cancel = true;\n                    _this.parent.trigger(events.imageUploading, beforeUploadArgs, function (beforeUploadArgs) {\n                        if (beforeUploadArgs.cancel) {\n                            return;\n                        }\n                        /* eslint-disable */\n                        _this.uploadObj.currentRequestHeader = beforeUploadArgs.currentRequest ?\n                            beforeUploadArgs.currentRequest : _this.uploadObj.currentRequestHeader;\n                        _this.uploadObj.customFormDatas = beforeUploadArgs.customFormData && beforeUploadArgs.customFormData.length > 0 ?\n                            beforeUploadArgs.customFormData : _this.uploadObj.customFormDatas;\n                        _this.uploadObj.uploadFiles(rawFile, null);\n                        /* eslint-enable */\n                    });\n                }\n                else {\n                    _this.parent.trigger(events.beforeImageUpload, args);\n                }\n            },\n            uploading: function (e) {\n                if (!_this.parent.isServerRendered) {\n                    _this.parent.trigger(events.imageUploading, e);\n                }\n            },\n            success: function (e) {\n                _this.parent.trigger(events.imageUploadSuccess, e, function (e) {\n                    if (!isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                        var url = _this.parent.insertImageSettings.path + e.file.name;\n                        // eslint-disable-next-line\n                        var value = { url: url, selection: save };\n                        proxy.uploadUrl = {\n                            url: url, selection: save, altText: altText, selectParent: selectParent,\n                            width: {\n                                width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                                maxWidth: proxy.parent.getInsertImgMaxWidth()\n                            }, height: {\n                                height: proxy.parent.insertImageSettings.height, minHeight: proxy.parent.insertImageSettings.minHeight,\n                                maxHeight: proxy.parent.insertImageSettings.maxHeight\n                            }\n                        };\n                        proxy.inputUrl.setAttribute('disabled', 'true');\n                    }\n                    if (e.operation === 'upload' && !isNullOrUndefined(_this.dialogObj)) {\n                        _this.dialogObj.getButtons(0).element.removeAttribute('disabled');\n                    }\n                });\n            },\n            failure: function (e) {\n                _this.parent.trigger(events.imageUploadFailed, e);\n            },\n            removing: function () {\n                // eslint-disable-next-line\n                _this.parent.trigger(events.imageRemoving, e, function (e) {\n                    proxy.isImgUploaded = false;\n                    _this.dialogObj.getButtons(0).element.disabled = true;\n                    proxy.inputUrl.removeAttribute('disabled');\n                    if (proxy.uploadUrl) {\n                        proxy.uploadUrl.url = '';\n                    }\n                });\n            }\n        });\n        this.uploadObj.isStringTemplate = true;\n        this.uploadObj.createElement = this.parent.createElement;\n        this.uploadObj.appendTo(uploadEle);\n        return uploadParentEle;\n    };\n    Image.prototype.checkExtension = function (e) {\n        if (this.uploadObj.allowedExtensions) {\n            if (this.uploadObj.allowedExtensions.toLocaleLowerCase().indexOf(('.' + e.type).toLocaleLowerCase()) === -1) {\n                this.dialogObj.getButtons(0).element.setAttribute('disabled', 'disabled');\n                this.isAllowedTypes = false;\n            }\n            else {\n                this.isAllowedTypes = true;\n            }\n        }\n    };\n    Image.prototype.fileSelect = function () {\n        this.dialogObj.element.getElementsByClassName('e-file-select-wrap')[0].querySelector('button').click();\n        return false;\n    };\n    Image.prototype.dragStart = function (e) {\n        if (e.target.nodeName === 'IMG') {\n            this.parent.trigger(events.actionBegin, e, function (actionBeginArgs) {\n                if (actionBeginArgs.cancel) {\n                    e.preventDefault();\n                }\n                else {\n                    e.dataTransfer.effectAllowed = 'copyMove';\n                    e.target.classList.add(classes.CLS_RTE_DRAG_IMAGE);\n                }\n            });\n        }\n        else {\n            return true;\n        }\n    };\n    Image.prototype.dragEnter = function (e) {\n        e.dataTransfer.dropEffect = 'copy';\n        e.preventDefault();\n    };\n    Image.prototype.dragOver = function (e) {\n        if ((Browser.info.name === 'edge' && e.dataTransfer.items[0].type.split('/')[0].indexOf('image') > -1) ||\n            (Browser.isIE && e.dataTransfer.types[0] === 'Files')) {\n            e.preventDefault();\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Used to set range When drop an image\n     *\n     * @param {ImageDropEventArgs} args - specifies the image arguments.\n     * @returns {void}\n     */\n    Image.prototype.dragDrop = function (args) {\n        var _this = this;\n        this.parent.trigger(events.beforeImageDrop, args, function (e) {\n            var imgElement = _this.parent.inputElement.ownerDocument.querySelector('.' + classes.CLS_RTE_DRAG_IMAGE);\n            var isImgOrFileDrop = (imgElement && imgElement.tagName === 'IMG') || e.dataTransfer.files.length > 0;\n            if (!e.cancel && isImgOrFileDrop) {\n                _this.parent.trigger(events.actionBegin, e, function (actionBeginArgs) {\n                    if (actionBeginArgs.cancel) {\n                        e.preventDefault();\n                    }\n                    else {\n                        if (closest(e.target, '#' + _this.parent.getID() + '_toolbar') ||\n                            _this.parent.inputElement.contentEditable === 'false') {\n                            e.preventDefault();\n                            return;\n                        }\n                        if (_this.parent.element.querySelector('.' + classes.CLS_IMG_RESIZE)) {\n                            detach(_this.imgResizeDiv);\n                        }\n                        e.preventDefault();\n                        var range = void 0;\n                        if (_this.contentModule.getDocument().caretRangeFromPoint) { //For chrome\n                            range = _this.contentModule.getDocument().caretRangeFromPoint(e.clientX, e.clientY);\n                        }\n                        else if ((e.rangeParent)) { //For mozilla firefox\n                            range = _this.contentModule.getDocument().createRange();\n                            range.setStart(e.rangeParent, e.rangeOffset);\n                        }\n                        else {\n                            range = _this.getDropRange(e.clientX, e.clientY); //For internet explorer\n                        }\n                        _this.parent.notify(events.selectRange, { range: range });\n                        var uploadArea = _this.parent.element.querySelector('.' + classes.CLS_DROPAREA);\n                        if (uploadArea) {\n                            return;\n                        }\n                        _this.insertDragImage(e);\n                    }\n                });\n            }\n            else {\n                if (isImgOrFileDrop) {\n                    e.preventDefault();\n                }\n            }\n        });\n    };\n    /**\n     * Used to calculate range on internet explorer\n     *\n     * @param {number} x - specifies the x range.\n     * @param {number} y - specifies the y range.\n     * @returns {void}\n     */\n    Image.prototype.getDropRange = function (x, y) {\n        var startRange = this.contentModule.getDocument().createRange();\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(), startRange);\n        var elem = this.contentModule.getDocument().elementFromPoint(x, y);\n        var startNode = (elem.childNodes.length > 0 ? elem.childNodes[0] : elem);\n        var startCharIndexCharacter = 0;\n        if (this.parent.inputElement.firstChild.innerHTML === '<br>') {\n            startRange.setStart(startNode, startCharIndexCharacter);\n            startRange.setEnd(startNode, startCharIndexCharacter);\n        }\n        else {\n            var rangeRect = void 0;\n            do {\n                startCharIndexCharacter++;\n                startRange.setStart(startNode, startCharIndexCharacter);\n                startRange.setEnd(startNode, startCharIndexCharacter + 1);\n                rangeRect = startRange.getBoundingClientRect();\n            } while (rangeRect.left < x && startCharIndexCharacter < startNode.length - 1);\n        }\n        return startRange;\n    };\n    Image.prototype.insertDragImage = function (e) {\n        var _this = this;\n        e.preventDefault();\n        var activePopupElement = this.parent.element.querySelector('' + classes.CLS_POPUP_OPEN);\n        this.parent.notify(events.drop, { args: e });\n        if (activePopupElement) {\n            activePopupElement.classList.add(classes.CLS_HIDE);\n        }\n        var imgElement = this.parent.inputElement.ownerDocument.querySelector('.' + classes.CLS_RTE_DRAG_IMAGE);\n        if (e.dataTransfer.files.length > 0 && imgElement === null) { //For external image drag and drop\n            if (e.dataTransfer.files.length > 1) {\n                return;\n            }\n            var imgFiles = e.dataTransfer.files;\n            var fileName = imgFiles[0].name;\n            var imgType = fileName.substring(fileName.lastIndexOf('.'));\n            var allowedTypes = this.parent.insertImageSettings.allowedTypes;\n            for (var i = 0; i < allowedTypes.length; i++) {\n                if (imgType.toLocaleLowerCase() === allowedTypes[i].toLowerCase()) {\n                    if (this.parent.insertImageSettings.saveUrl) {\n                        this.onSelect(e);\n                    }\n                    else {\n                        var args = { args: e, text: '', file: imgFiles[0] };\n                        e.preventDefault();\n                        this.imagePaste(args);\n                    }\n                }\n            }\n        }\n        else { //For internal image drag and drop\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            if (imgElement && imgElement.tagName === 'IMG') {\n                if (imgElement.nextElementSibling) {\n                    if (imgElement.nextElementSibling.classList.contains(classes.CLS_IMG_INNER)) {\n                        range.insertNode(imgElement.parentElement.parentElement);\n                    }\n                    else {\n                        range.insertNode(imgElement);\n                    }\n                }\n                else {\n                    range.insertNode(imgElement);\n                }\n                imgElement.classList.remove(classes.CLS_RTE_DRAG_IMAGE);\n                var imgArgs_1 = { elements: [imgElement] };\n                imgElement.addEventListener('load', function () {\n                    _this.parent.trigger(events.actionComplete, imgArgs_1);\n                });\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                var args = e;\n                this.resizeStart(args, imgElement);\n                this.hideImageQuickToolbar();\n            }\n        }\n    };\n    Image.prototype.onSelect = function (args) {\n        var _this = this;\n        // eslint-disable-next-line\n        var proxy = this;\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var parentElement = this.parent.createElement('ul', { className: classes.CLS_UPLOAD_FILES });\n        this.parent.element.appendChild(parentElement);\n        var validFiles = {\n            name: '',\n            size: 0,\n            status: '',\n            statusCode: '',\n            type: '',\n            rawFile: args.dataTransfer.files[0],\n            validationMessages: {}\n        };\n        var imageTag = this.parent.createElement('IMG');\n        imageTag.style.opacity = '0.5';\n        imageTag.classList.add(classes.CLS_RTE_IMAGE);\n        imageTag.classList.add(classes.CLS_IMGINLINE);\n        imageTag.classList.add(classes.CLS_RESIZE);\n        var file = validFiles.rawFile;\n        var reader = new FileReader();\n        reader.addEventListener('load', function () {\n            var url = URL.createObjectURL(convertToBlob(reader.result));\n            imageTag.src = proxy.parent.insertImageSettings.saveFormat === 'Blob' ? url : reader.result;\n        });\n        if (file) {\n            reader.readAsDataURL(file);\n        }\n        range.insertNode(imageTag);\n        this.uploadMethod(args, imageTag);\n        var e = { elements: [imageTag] };\n        imageTag.addEventListener('load', function () {\n            _this.parent.trigger(events.actionComplete, e);\n        });\n        detach(parentElement);\n    };\n    /**\n     * Rendering uploader and popup for drag and drop\n     *\n     * @param {DragEvent} dragEvent - specifies the event.\n     * @param {HTMLImageElement} imageElement - specifies the element.\n     * @returns {void}\n     */\n    Image.prototype.uploadMethod = function (dragEvent, imageElement) {\n        var _this = this;\n        var isUploading = false;\n        // eslint-disable-next-line\n        var proxy = this;\n        var popupEle = this.parent.createElement('div');\n        this.parent.element.appendChild(popupEle);\n        var uploadEle = this.parent.createElement('input', {\n            id: this.rteID + '_upload', attrs: { type: 'File', name: 'UploadFiles' }\n        });\n        var offsetY = this.parent.iframeSettings.enable ? -50 : -90;\n        this.popupObj = new Popup(popupEle, {\n            relateTo: imageElement,\n            height: '85px',\n            width: '300px',\n            offsetY: offsetY,\n            content: uploadEle,\n            viewPortElement: this.parent.element,\n            position: { X: 'center', Y: 'top' },\n            enableRtl: this.parent.enableRtl,\n            zIndex: 10001,\n            // eslint-disable-next-line\n            close: function (event) {\n                _this.parent.isBlur = false;\n                _this.popupObj.destroy();\n                detach(_this.popupObj.element);\n                _this.popupObj = null;\n                if (!_this.parent.inlineMode.enable) {\n                    _this.parent.toolbarModule.baseToolbar.toolbarObj.disable(false);\n                }\n            }\n        });\n        this.popupObj.element.style.display = 'none';\n        addClass([this.popupObj.element], classes.CLS_POPUP_OPEN);\n        addClass([this.popupObj.element], classes.CLS_RTE_UPLOAD_POPUP);\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var timeOut = dragEvent.dataTransfer.files[0].size > 1000000 ? 300 : 100;\n        setTimeout(function () {\n            proxy.refreshPopup(imageElement);\n        }, timeOut);\n        var rawFile;\n        var beforeUploadArgs;\n        this.uploadObj = new Uploader({\n            asyncSettings: {\n                saveUrl: this.parent.insertImageSettings.saveUrl,\n                removeUrl: this.parent.insertImageSettings.removeUrl\n            },\n            cssClass: classes.CLS_RTE_DIALOG_UPLOAD,\n            dropArea: this.parent.element,\n            allowedExtensions: this.parent.insertImageSettings.allowedTypes.toString(),\n            removing: function () {\n                _this.parent.inputElement.contentEditable = 'true';\n                isUploading = false;\n                detach(imageElement);\n                _this.popupObj.close();\n            },\n            canceling: function () {\n                _this.parent.inputElement.contentEditable = 'true';\n                isUploading = false;\n                detach(imageElement);\n                _this.popupObj.close();\n                _this.quickToolObj.imageQTBar.hidePopup();\n                setTimeout(function () {\n                    _this.uploadObj.destroy();\n                }, 900);\n            },\n            beforeUpload: function (args) {\n                if (_this.parent.isServerRendered) {\n                    beforeUploadArgs = JSON.parse(JSON.stringify(args));\n                    beforeUploadArgs.filesData = rawFile;\n                    isUploading = true;\n                    args.cancel = true;\n                    _this.parent.trigger(events.imageUploading, beforeUploadArgs, function (beforeUploadArgs) {\n                        if (beforeUploadArgs.cancel) {\n                            return;\n                        }\n                        if (!_this.parent.inlineMode.enable) {\n                            _this.parent.toolbarModule.baseToolbar.toolbarObj.disable(true);\n                        }\n                        /* eslint-disable */\n                        _this.uploadObj.currentRequestHeader = beforeUploadArgs.currentRequest ?\n                            beforeUploadArgs.currentRequest : _this.uploadObj.currentRequestHeader;\n                        _this.uploadObj.customFormDatas = beforeUploadArgs.customFormData && beforeUploadArgs.customFormData.length > 0 ?\n                            beforeUploadArgs.customFormData : _this.uploadObj.customFormDatas;\n                        _this.uploadObj.uploadFiles(rawFile, null);\n                        _this.parent.inputElement.contentEditable = 'false';\n                        /* eslint-enable */\n                    });\n                }\n                else {\n                    _this.parent.trigger(events.beforeImageUpload, args);\n                    if (!_this.parent.inlineMode.enable) {\n                        _this.parent.toolbarModule.baseToolbar.toolbarObj.disable(true);\n                    }\n                }\n            },\n            uploading: function (e) {\n                if (!_this.parent.isServerRendered) {\n                    isUploading = true;\n                    _this.parent.trigger(events.imageUploading, e, function (imageUploadingArgs) {\n                        if (imageUploadingArgs.cancel) {\n                            if (!isNullOrUndefined(imageElement)) {\n                                detach(imageElement);\n                            }\n                            if (!isNullOrUndefined(_this.popupObj.element)) {\n                                detach(_this.popupObj.element);\n                            }\n                        }\n                        else {\n                            _this.parent.inputElement.contentEditable = 'false';\n                        }\n                    });\n                }\n            },\n            selected: function (e) {\n                if (isUploading) {\n                    e.cancel = true;\n                }\n                if (_this.parent.isServerRendered) {\n                    rawFile = e.filesData;\n                }\n            },\n            failure: function (e) {\n                isUploading = false;\n                _this.parent.inputElement.contentEditable = 'true';\n                var args = {\n                    args: dragEvent,\n                    type: 'Images',\n                    isNotify: undefined,\n                    elements: imageElement\n                };\n                setTimeout(function () {\n                    _this.uploadFailure(imageElement, args, e);\n                }, 900);\n            },\n            success: function (e) {\n                if (e.operation === \"cancel\") {\n                    return;\n                }\n                isUploading = false;\n                _this.parent.inputElement.contentEditable = 'true';\n                var args = {\n                    args: dragEvent,\n                    type: 'Images',\n                    isNotify: undefined,\n                    elements: imageElement\n                };\n                setTimeout(function () {\n                    _this.uploadSuccess(imageElement, dragEvent, args, e);\n                }, 900);\n            }\n        });\n        this.uploadObj.appendTo(this.popupObj.element.childNodes[0]);\n        this.popupObj.element.querySelector('.e-rte-dialog-upload .e-file-select-wrap').style.display = 'none';\n        range.selectNodeContents(imageElement);\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(), range);\n    };\n    Image.prototype.refreshPopup = function (imageElement) {\n        var imgPosition = this.parent.iframeSettings.enable ? this.parent.element.offsetTop +\n            imageElement.offsetTop : imageElement.offsetTop;\n        var rtePosition = this.parent.element.offsetTop + this.parent.element.offsetHeight;\n        if (imgPosition > rtePosition) {\n            this.popupObj.relateTo = this.parent.inputElement;\n            this.popupObj.offsetY = this.parent.iframeSettings.enable ? -30 : -65;\n            this.popupObj.element.style.display = 'block';\n        }\n        else {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition(imageElement);\n                this.popupObj.element.style.display = 'block';\n            }\n        }\n    };\n    /**\n     * Called when drop image upload was failed\n     *\n     * @param {HTMLElement} imgEle - specifies the image element.\n     * @param {IShowPopupArgs} args - specifies the arguments.\n     * @param {Object} e - specfies the object.\n     * @returns {void}\n     */\n    Image.prototype.uploadFailure = function (imgEle, args, e) {\n        detach(imgEle);\n        if (this.popupObj) {\n            this.popupObj.close();\n        }\n        this.parent.trigger(events.imageUploadFailed, e);\n        this.uploadObj.destroy();\n    };\n    /**\n     * Called when drop image upload was successful\n     *\n     * @param {HTMLElement} imageElement - specifies the image element.\n     * @param {DragEvent} dragEvent - specifies the drag event.\n     * @param {IShowPopupArgs} args - specifies the arguments.\n     * @param {ImageSuccessEventArgs} e - specifies the success event.\n     * @returns {void}\n     */\n    Image.prototype.uploadSuccess = function (imageElement, dragEvent, args, e) {\n        var _this = this;\n        imageElement.style.opacity = '1';\n        imageElement.classList.add(classes.CLS_IMG_FOCUS);\n        e.element = imageElement;\n        this.parent.trigger(events.imageUploadSuccess, e, function (e) {\n            if (!isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                var url = _this.parent.insertImageSettings.path + e.file.name;\n                imageElement.src = url;\n                imageElement.setAttribute('alt', e.file.name);\n            }\n        });\n        if (this.popupObj) {\n            this.popupObj.close();\n            this.uploadObj.destroy();\n        }\n        this.showImageQuickToolbar(args);\n        this.resizeStart(dragEvent, imageElement);\n    };\n    Image.prototype.imagePaste = function (args) {\n        var _this = this;\n        if (args.text.length === 0 && !isNullOrUndefined(args.file)) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            var reader_2 = new FileReader();\n            args.args.preventDefault();\n            // eslint-disable-next-line\n            reader_2.addEventListener('load', function (e) {\n                var url = {\n                    cssClass: (proxy_1.parent.insertImageSettings.display === 'inline' ? classes.CLS_IMGINLINE : classes.CLS_IMGBREAK),\n                    url: _this.parent.insertImageSettings.saveFormat === 'Base64' || !isNullOrUndefined(args.callBack) ?\n                        reader_2.result : URL.createObjectURL(convertToBlob(reader_2.result)),\n                    width: {\n                        width: proxy_1.parent.insertImageSettings.width, minWidth: proxy_1.parent.insertImageSettings.minWidth,\n                        maxWidth: proxy_1.parent.getInsertImgMaxWidth()\n                    },\n                    height: {\n                        height: proxy_1.parent.insertImageSettings.height, minHeight: proxy_1.parent.insertImageSettings.minHeight,\n                        maxHeight: proxy_1.parent.insertImageSettings.maxHeight\n                    }\n                };\n                if (!isNullOrUndefined(args.callBack)) {\n                    args.callBack(url);\n                    return;\n                }\n                else {\n                    proxy_1.parent.formatter.process(proxy_1.parent, { item: { command: 'Images', subCommand: 'Image' } }, args.args, url);\n                    _this.showPopupToolBar(args, url);\n                }\n            });\n            reader_2.readAsDataURL(args.file);\n        }\n    };\n    Image.prototype.showPopupToolBar = function (e, url) {\n        var _this = this;\n        var imageSrc = 'img[src=\"' + url.url + '\"]';\n        var imageElement = this.parent.inputElement.querySelector(imageSrc);\n        this.parent.quickToolbarModule.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n        var args = {\n            args: e.args,\n            type: 'Images',\n            isNotify: undefined,\n            elements: imageElement\n        };\n        if (imageElement) {\n            setTimeout(function () {\n                _this.showImageQuickToolbar(args);\n                _this.resizeStart(e.args, imageElement);\n            }, 0);\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Destroys the ToolBar.\n     *\n     * @method destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    /* eslint-enable */\n    Image.prototype.destroy = function () {\n        this.prevSelectedImgEle = undefined;\n        this.removeEventListener();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     */\n    Image.prototype.getModuleName = function () {\n        return 'image';\n    };\n    return Image;\n}());\nexport { Image };\n","import { getCode, keyboardKey } from '../../keyboard-key';\n\nimport { IS_FOCUSABLE_ATTRIBUTE } from '../../attributes';\nimport { Accessibility } from '../../types';\nimport { FocusZoneDirection } from '../../focusZone/types';\nimport { chatMessageBehavior } from './chatMessageBehavior';\n\nconst CHAT_FOCUSZONE_ATTRIBUTE = 'chat-focuszone';\n\n/**\n * @description\n * Adds a vertical focus zone navigation with a last message as a default tabbable element, pressing enter key focuses inside a message.\n *\n * @specification\n * Provides arrow key navigation in vertical direction.\n * Focus is set initially on the specified default tabbable element.\n * Focused active element of the component is reset when TAB from the component.\n * Focus can be moved inside a child component with embeded inner FocusZone by pressing a specified key.\n * Does not handle PageDown and PageUp.\n */\nexport const chatBehavior: Accessibility<ChatBehaviorProps> = () => ({\n  attributes: {\n    root: {},\n  },\n  focusZone: {\n    props: {\n      shouldEnterInnerZone: event => getCode(event) === keyboardKey.Enter,\n      direction: FocusZoneDirection.vertical,\n      shouldResetActiveElementWhenTabFromZone: true,\n      defaultTabbableElement: getLastTabbableElement, // select last chat message by default\n      [CHAT_FOCUSZONE_ATTRIBUTE]: '', // allows querying the default active element\n      pagingSupportDisabled: true,\n    },\n  },\n  childBehaviors: {\n    item: undefined,\n    message: chatMessageBehavior,\n  },\n});\n\nconst getLastTabbableElement = (root: HTMLElement): HTMLElement => {\n  const lastVisibleMessage = root.querySelector('[data-last-visible=\"true\"]') as HTMLElement;\n  if (lastVisibleMessage) return lastVisibleMessage;\n\n  const chatItemsElements = root.querySelectorAll(\n    `[${CHAT_FOCUSZONE_ATTRIBUTE}] .ui-chat__message[${IS_FOCUSABLE_ATTRIBUTE}=\"true\"]`,\n  );\n  return chatItemsElements.length > 0 ? (chatItemsElements[chatItemsElements.length - 1] as HTMLElement) : null;\n};\n\nexport type ChatBehaviorProps = never;\n","import { Accessibility } from '@fluentui/accessibility';\nimport {\n  ForwardRefWithAs,\n  getElementType,\n  useAccessibility,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { FluentComponentStaticProps, ShorthandValue } from '../../types';\nimport {\n  ChildrenComponentProps,\n  childrenExist,\n  commonPropTypes,\n  createShorthandFactory,\n  rtlTextContainer,\n  UIComponentProps,\n} from '../../utils';\nimport { Box, BoxProps } from '../Box/Box';\nimport { useChatContextSelectors } from './chatContext';\nimport { ChatDensity } from './chatDensity';\nimport { ChatItemContextProvider } from './chatItemContext';\n\nexport interface ChatItemSlotClassNames {\n  message: string;\n  gutter: string;\n}\n\nexport const chatItemClassName = 'ui-chat__item';\nexport const chatItemSlotClassNames: ChatItemSlotClassNames = {\n  message: `${chatItemClassName}__message`,\n  gutter: `${chatItemClassName}__gutter`,\n};\n\nexport interface ChatItemProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<never>;\n\n  /** Controls item's relation to other chat items. */\n  attached?: boolean | 'top' | 'bottom';\n\n  /** Indicates whether the content is positioned at the start or the end. */\n  contentPosition?: 'start' | 'end';\n\n  /** Chat density. Is automatically set by the Chat. */\n  density?: ChatDensity;\n\n  /** Chat items can have a gutter. */\n  gutter?: ShorthandValue<BoxProps>;\n\n  /** Chat items can have a message. */\n  message?: ShorthandValue<BoxProps>;\n}\n\nexport type ChatItemStylesProps = Pick<ChatItemProps, 'attached' | 'contentPosition' | 'density'>;\n\n/**\n * A ChatItem is container for single entity in Chat (e.g. message, notification, etc).\n */\nexport const ChatItem = (React.forwardRef<HTMLLIElement, ChatItemProps>((inputProps, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(ChatItem.displayName, context.telemetry);\n  setStart();\n\n  const chatProps = useChatContextSelectors({\n    density: v => v.density,\n    accessibility: v => v.behaviors.item,\n  });\n  const props = {\n    ...chatProps,\n    ...inputProps,\n  };\n\n  const {\n    accessibility,\n    attached,\n    children,\n    className,\n    contentPosition,\n    density,\n    design,\n    gutter,\n    message,\n    styles,\n    variables,\n  } = props;\n\n  const getA11Props = useAccessibility(accessibility, {\n    debugName: ChatItem.displayName,\n    rtl: context.rtl,\n  });\n  const { classes, styles: resolvedStyles } = useStyles<ChatItemStylesProps>(ChatItem.displayName, {\n    className: chatItemClassName,\n    mapPropsToStyles: () => ({\n      attached,\n      contentPosition,\n      density,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const renderContent = () => {\n    const gutterElement = Box.create(gutter, {\n      defaultProps: () =>\n        getA11Props('gutter', {\n          className: chatItemSlotClassNames.gutter,\n          styles: resolvedStyles.gutter,\n        }),\n    });\n    const messageElement = Box.create(message, {\n      defaultProps: () =>\n        getA11Props('message', {\n          className: chatItemSlotClassNames.message,\n          styles: resolvedStyles.message,\n        }),\n    });\n\n    return (\n      <ChatItemContextProvider value={{ attached }}>\n        {(contentPosition === 'start' || density === 'compact') && gutterElement}\n        {messageElement}\n        {contentPosition === 'end' && density === 'comfy' && gutterElement}\n      </ChatItemContextProvider>\n    );\n  };\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(ChatItem.handledProps, props);\n\n  const element = (\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        ref,\n        ...rtlTextContainer.getAttributes({ forElements: [children] }),\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children) ? children : renderContent()}\n    </ElementType>\n  );\n  setEnd();\n\n  return element;\n}) as unknown) as ForwardRefWithAs<'li', HTMLLIElement, ChatItemProps> & FluentComponentStaticProps<ChatItemProps>;\n\nChatItem.displayName = 'ChatItem';\n\nChatItem.defaultProps = {\n  as: 'li',\n  contentPosition: 'start',\n  attached: false,\n};\nChatItem.propTypes = {\n  ...commonPropTypes.createCommon({ content: false }),\n  attached: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf<'top' | 'bottom'>(['top', 'bottom'])]),\n  contentPosition: PropTypes.oneOf(['start', 'end']),\n  density: PropTypes.oneOf<ChatDensity>(['comfy', 'compact']),\n  gutter: customPropTypes.itemShorthand,\n  message: customPropTypes.itemShorthand,\n};\nChatItem.handledProps = Object.keys(ChatItem.propTypes) as any;\n\nChatItem.create = createShorthandFactory({ Component: ChatItem, mappedProp: 'message' });\n","import { Accessibility, chatBehavior, ChatBehaviorProps } from '@fluentui/accessibility';\nimport {\n  ForwardRefWithAs,\n  getElementType,\n  useAccessibility,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { FluentComponentStaticProps, ShorthandCollection } from '../../types';\nimport {\n  ChildrenComponentProps,\n  childrenExist,\n  commonPropTypes,\n  createShorthandFactory,\n  rtlTextContainer,\n  UIComponentProps,\n} from '../../utils';\nimport { ChatContextProvider, ChatContextValue } from './chatContext';\nimport { ChatDensity, defaultChatDensity } from './chatDensity';\nimport { ChatItem, ChatItemProps } from './ChatItem';\nimport { ChatMessage } from './ChatMessage';\nimport { ChatMessageDetails } from './ChatMessageDetails';\nimport { ChatMessageHeader } from './ChatMessageHeader';\nimport { ChatMessageReadStatus } from './ChatMessageReadStatus';\n\nexport interface ChatSlotClassNames {\n  item: string;\n}\n\nexport interface ChatProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<ChatBehaviorProps>;\n\n  /** Chat density. */\n  density?: ChatDensity;\n\n  /** Shorthand array of the items inside the chat. */\n  items?: ShorthandCollection<ChatItemProps>;\n}\n\nexport type ChatStylesProps = Pick<ChatProps, 'density'>;\nexport const chatClassName = 'ui-chat';\nexport const chatSlotClassNames: ChatSlotClassNames = {\n  item: `${chatClassName}__item`,\n};\n\n/**\n * A Chat displays messages from a conversation between multiple users.\n */\nexport const Chat = (React.forwardRef<HTMLUListElement, ChatProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Chat.displayName, context.telemetry);\n  setStart();\n\n  const { accessibility, children, className, density, design, items, styles, variables } = props;\n\n  const getA11Props = useAccessibility(accessibility, {\n    debugName: Chat.displayName,\n    rtl: context.rtl,\n  });\n  const { classes } = useStyles<ChatStylesProps>(Chat.displayName, {\n    className: chatClassName,\n    mapPropsToStyles: () => ({ density }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Chat.handledProps, props);\n\n  const childBehaviors = accessibility && (accessibility as Accessibility<ChatProps>)(props).childBehaviors;\n\n  const contextProps: ChatContextValue = {\n    density,\n    behaviors: {\n      item: childBehaviors?.item,\n      message: childBehaviors?.message,\n    },\n  };\n\n  const element = getA11Props.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        ref,\n        ...rtlTextContainer.getAttributes({ forElements: [children] }),\n        ...unhandledProps,\n      })}\n    >\n      <ChatContextProvider value={contextProps}>\n        {childrenExist(children)\n          ? children\n          : _.map(items, item =>\n              ChatItem.create(item, {\n                defaultProps: () => ({ className: chatSlotClassNames.item }),\n              }),\n            )}\n      </ChatContextProvider>\n    </ElementType>,\n  );\n  setEnd();\n\n  return element;\n}) as unknown) as ForwardRefWithAs<'ul', HTMLUListElement, ChatProps> &\n  FluentComponentStaticProps<ChatProps> & {\n    Item: typeof ChatItem;\n    Message: typeof ChatMessage;\n    MessageDetails: typeof ChatMessageDetails;\n    MessageReadStatus: typeof ChatMessageReadStatus;\n    MessageHeader: typeof ChatMessageHeader;\n  };\n\nChat.displayName = 'Chat';\n\nChat.defaultProps = {\n  accessibility: chatBehavior,\n  as: 'ul',\n  density: defaultChatDensity,\n};\nChat.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  items: PropTypes.arrayOf(customPropTypes.itemShorthand),\n  density: PropTypes.oneOf<ChatDensity>(['comfy', 'compact']),\n};\nChat.handledProps = Object.keys(Chat.propTypes) as any;\n\nChat.Item = ChatItem;\nChat.Message = ChatMessage;\nChat.MessageHeader = ChatMessageHeader;\nChat.MessageDetails = ChatMessageDetails;\nChat.MessageReadStatus = ChatMessageReadStatus;\n\nChat.create = createShorthandFactory({ Component: Chat });\n","import { detach, getUniqueID, append, closest, selectAll, select, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, Browser, isNullOrUndefined, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isCollide } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { RenderType } from '../base/enum';\nimport { setToolbarStatus, updateUndoRedoStatus, isIDevice } from '../base/util';\nimport { BaseToolbar } from './base-toolbar';\nimport { DropDownButtons } from './dropdown-buttons';\nimport { ColorPickerInput } from './color-picker';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar BaseQuickToolbar = /** @class */ (function () {\n    function BaseQuickToolbar(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.isDOMElement = false;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.popupRenderer = this.renderFactory.getRenderer(RenderType.Popup);\n        this.dropDownButtons = new DropDownButtons(this.parent, this.locator);\n        this.colorPickerObj = new ColorPickerInput(this.parent, this.locator);\n    }\n    BaseQuickToolbar.prototype.appendPopupContent = function () {\n        this.toolbarElement = this.parent.createElement('div', { className: classes.CLS_QUICK_TB });\n        this.element.appendChild(this.toolbarElement);\n    };\n    /**\n     * render method\n     *\n     * @param {IQuickToolbarOptions} args - specifies the arguments\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.render = function (args) {\n        var className;\n        if (args.popupType === 'Image') {\n            className = classes.CLS_IMAGE_POP;\n        }\n        else if (args.popupType === 'Inline') {\n            className = classes.CLS_INLINE_POP;\n        }\n        else {\n            className = '';\n        }\n        var popupId = getUniqueID(args.popupType + '_Quick_Popup');\n        this.stringItems = args.toolbarItems;\n        this.element = this.parent.createElement('div', { id: popupId, className: className + ' ' + classes.CLS_RTE_ELEMENTS });\n        this.element.setAttribute('aria-owns', this.parent.getID());\n        this.appendPopupContent();\n        this.createToolbar(args.toolbarItems, args.mode);\n        this.popupRenderer.renderPopup(this);\n        this.addEventListener();\n    };\n    BaseQuickToolbar.prototype.createToolbar = function (items, mode) {\n        this.quickTBarObj = new BaseToolbar(this.parent, this.locator);\n        this.quickTBarObj.render({\n            container: 'quick',\n            target: this.toolbarElement,\n            items: items,\n            mode: mode\n        });\n        this.quickTBarObj.toolbarObj.refresh();\n    };\n    BaseQuickToolbar.prototype.setPosition = function (e) {\n        var x;\n        var y;\n        var imgWrapper = closest(e.target, '.e-img-caption');\n        var target = !isNOU(imgWrapper) ? imgWrapper : e.target;\n        addClass([this.toolbarElement], [classes.CLS_RM_WHITE_SPACE]);\n        var targetOffsetTop = target.offsetTop;\n        var parentOffsetTop = window.pageYOffset + e.parentData.top;\n        if ((targetOffsetTop - e.editTop) > e.popHeight) {\n            y = parentOffsetTop + e.tBarElementHeight + (targetOffsetTop - e.editTop) - e.popHeight - 5;\n        }\n        else if (((e.editTop + e.editHeight) - (targetOffsetTop + target.offsetHeight)) > e.popHeight) {\n            y = parentOffsetTop + e.tBarElementHeight + (targetOffsetTop - e.editTop) + target.offsetHeight + 5;\n        }\n        else {\n            y = e.y;\n        }\n        if (target.offsetWidth > e.popWidth) {\n            x = (target.offsetWidth / 2) - (e.popWidth / 2) + e.parentData.left + target.offsetLeft;\n        }\n        else {\n            x = e.parentData.left + target.offsetLeft;\n        }\n        this.popupObj.position.X = ((x + e.popWidth) > e.parentData.right) ? e.parentData.right - e.popWidth : x;\n        this.popupObj.position.Y = (y >= 0) ? y : e.y + 5;\n        this.popupObj.dataBind();\n        removeClass([this.toolbarElement], [classes.CLS_RM_WHITE_SPACE]);\n    };\n    BaseQuickToolbar.prototype.checkCollision = function (e, viewPort, type) {\n        var x;\n        var y;\n        var parentTop = e.parentData.top;\n        var contentTop = e.windowY + parentTop + e.tBarElementHeight;\n        var collision = [];\n        if (viewPort === 'document') {\n            collision = isCollide(e.popup);\n        }\n        else {\n            collision = isCollide(e.popup, e.parentElement);\n        }\n        for (var i = 0; i < collision.length; i++) {\n            switch (collision[i]) {\n                case 'top':\n                    if (viewPort === 'document') {\n                        y = e.windowY;\n                    }\n                    else {\n                        y = (window.pageYOffset + parentTop) + e.tBarElementHeight;\n                    }\n                    break;\n                case 'bottom': {\n                    var posY = void 0;\n                    if (viewPort === 'document') {\n                        if (type === 'inline') {\n                            posY = (e.y - e.popHeight - 10);\n                        }\n                        else {\n                            if ((e.windowHeight - (parentTop + e.tBarElementHeight)) > e.popHeight) {\n                                if ((contentTop - e.windowHeight) > e.popHeight) {\n                                    posY = (contentTop + (e.windowHeight - parentTop)) - e.popHeight;\n                                }\n                                else {\n                                    posY = contentTop;\n                                }\n                            }\n                            else {\n                                posY = e.windowY + (parentTop + e.tBarElementHeight);\n                            }\n                        }\n                    }\n                    else {\n                        if (e.target.tagName !== 'IMG') {\n                            posY = (e.parentData.bottom + window.pageYOffset) - e.popHeight - 10;\n                        }\n                        else {\n                            posY = (e.parentData.bottom + window.pageYOffset) - e.popHeight - 5;\n                        }\n                    }\n                    y = posY;\n                    break;\n                }\n                case 'right':\n                    if (type === 'inline') {\n                        x = window.pageXOffset + (e.windowWidth - (e.popWidth + e.bodyRightSpace + 10));\n                    }\n                    else {\n                        x = e.x - e.popWidth;\n                    }\n                    break;\n                case 'left':\n                    if (type === 'inline') {\n                        x = 0;\n                    }\n                    else {\n                        x = e.parentData.left;\n                    }\n                    break;\n            }\n        }\n        this.popupObj.position.X = (x) ? x : this.popupObj.position.X;\n        this.popupObj.position.Y = (y) ? y : this.popupObj.position.Y;\n        this.popupObj.dataBind();\n    };\n    /**\n     * showPopup method\n     *\n     * @param {number} x - specifies the x value\n     * @param {number} y - specifies the y value\n     * @param {Element} target - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.showPopup = function (x, y, target) {\n        var _this = this;\n        var eventArgs = { popup: this.popupObj, cancel: false, targetElement: target };\n        this.parent.trigger(events.beforeQuickToolbarOpen, eventArgs, function (beforeQuickToolbarArgs) {\n            if (!beforeQuickToolbarArgs.cancel) {\n                var editPanelTop = void 0;\n                var editPanelHeight = void 0;\n                var bodyStyle = window.getComputedStyle(document.body);\n                var bodyRight = parseFloat(bodyStyle.marginRight.split('px')[0]) + parseFloat(bodyStyle.paddingRight.split('px')[0]);\n                var windowHeight = window.innerHeight;\n                var windowWidth = window.innerWidth;\n                var parent_1 = _this.parent.element;\n                var toolbarAvail = !isNullOrUndefined(_this.parent.getToolbar());\n                var tbHeight = toolbarAvail && _this.parent.toolbarModule.getToolbarHeight();\n                var expTBHeight = toolbarAvail && _this.parent.toolbarModule.getExpandTBarPopHeight();\n                var tBarHeight = (toolbarAvail) ? (tbHeight + expTBHeight) : 0;\n                addClass([_this.element], [classes.CLS_HIDE]);\n                if (Browser.isDevice && !isIDevice()) {\n                    addClass([_this.parent.getToolbar()], [classes.CLS_HIDE]);\n                }\n                if (_this.parent.iframeSettings.enable) {\n                    var cntEle = _this.contentRenderer.getPanel().contentWindow;\n                    editPanelTop = cntEle.pageYOffset;\n                    editPanelHeight = cntEle.innerHeight;\n                }\n                else {\n                    var cntEle = closest(target, '.' + classes.CLS_RTE_CONTENT);\n                    editPanelTop = (cntEle) ? cntEle.scrollTop : 0;\n                    editPanelHeight = (cntEle) ? cntEle.offsetHeight : 0;\n                }\n                if (!_this.parent.inlineMode.enable && !closest(target, 'table')) {\n                    _this.parent.disableToolbarItem(_this.parent.toolbarSettings.items);\n                    _this.parent.enableToolbarItem(['Undo', 'Redo']);\n                }\n                append([_this.element], document.body);\n                _this.popupObj.position.X = x + 20;\n                _this.popupObj.position.Y = y + 20;\n                _this.popupObj.dataBind();\n                _this.popupObj.element.classList.add('e-popup-open');\n                _this.dropDownButtons.renderDropDowns({\n                    container: _this.toolbarElement,\n                    containerType: 'quick',\n                    items: _this.stringItems\n                });\n                _this.colorPickerObj.renderColorPickerInput({\n                    container: _this.toolbarElement,\n                    containerType: 'quick',\n                    items: _this.stringItems\n                });\n                var showPopupData = {\n                    x: x, y: y,\n                    target: target,\n                    editTop: editPanelTop,\n                    editHeight: editPanelHeight,\n                    popup: _this.popupObj.element,\n                    popHeight: _this.popupObj.element.offsetHeight,\n                    popWidth: _this.popupObj.element.offsetWidth,\n                    parentElement: parent_1,\n                    bodyRightSpace: bodyRight,\n                    windowY: window.pageYOffset,\n                    windowHeight: windowHeight,\n                    windowWidth: windowWidth,\n                    parentData: parent_1.getBoundingClientRect(),\n                    tBarElementHeight: tBarHeight\n                };\n                if (target.tagName === 'IMG') {\n                    _this.setPosition(showPopupData);\n                }\n                if (!_this.parent.inlineMode.enable) {\n                    _this.checkCollision(showPopupData, 'parent', '');\n                }\n                _this.checkCollision(showPopupData, 'document', ((_this.parent.inlineMode.enable) ? 'inline' : ''));\n                _this.popupObj.element.classList.remove('e-popup-open');\n                removeClass([_this.element], [classes.CLS_HIDE]);\n                _this.popupObj.show({ name: 'ZoomIn', duration: (Browser.isIE ? 250 : 400) });\n                setStyleAttribute(_this.element, {\n                    maxWidth: window.outerWidth + 'px'\n                });\n                addClass([_this.element], [classes.CLS_POP]);\n                _this.isDOMElement = true;\n            }\n        });\n    };\n    /**\n     * hidePopup method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.hidePopup = function () {\n        var viewSourcePanel = this.parent.sourceCodeModule.getViewPanel();\n        if (Browser.isDevice && !isIDevice()) {\n            removeClass([this.parent.getToolbar()], [classes.CLS_HIDE]);\n        }\n        if (!isNullOrUndefined(this.parent.getToolbar()) && !this.parent.inlineMode.enable) {\n            if (isNullOrUndefined(viewSourcePanel) || viewSourcePanel.style.display === 'none') {\n                this.parent.enableToolbarItem(this.parent.toolbarSettings.items);\n            }\n        }\n        this.removeEleFromDOM();\n        this.isDOMElement = false;\n    };\n    /**\n     * @param {string} item - specifies the string value\n     * @param {number} index - specifies the index value\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.addQTBarItem = function (item, index) {\n        this.quickTBarObj.toolbarObj.addItems(this.quickTBarObj.getItems(item, 'toolbar'), index);\n    };\n    /**\n     * @param {number} index - specifies the index value\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.removeQTBarItem = function (index) {\n        this.quickTBarObj.toolbarObj.removeItems(index);\n    };\n    BaseQuickToolbar.prototype.removeEleFromDOM = function () {\n        var element = this.popupObj.element;\n        if (this.isDOMElement) {\n            this.dropDownButtons.destroyDropDowns();\n            this.colorPickerObj.destroyColorPicker();\n            removeClass([this.element], [classes.CLS_POP]);\n            detach(element);\n            var args = this.popupObj;\n            this.parent.trigger(events.quickToolbarClose, args);\n        }\n    };\n    BaseQuickToolbar.prototype.updateStatus = function (args) {\n        var options = {\n            args: args,\n            dropDownModule: this.dropDownButtons,\n            parent: this.parent,\n            tbElements: selectAll('.' + classes.CLS_TB_ITEM, this.element),\n            tbItems: this.quickTBarObj.toolbarObj.items\n        };\n        setToolbarStatus(options, true, this.parent);\n        if (!select('.e-rte-srctextarea', this.parent.element)) {\n            updateUndoRedoStatus(this.parent.getBaseToolbarObject(), this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n        }\n    };\n    /**\n     * Destroys the Quick toolbar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.destroy = function () {\n        if (this.popupObj && !this.popupObj.isDestroyed) {\n            this.popupObj.destroy();\n            this.removeEleFromDOM();\n        }\n        this.removeEventListener();\n    };\n    /**\n     * addEventListener method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        if (this.parent.inlineMode.enable) {\n            this.parent.on(events.toolbarUpdated, this.updateStatus, this);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the model element\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.inlineMode)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.inlineMode); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'enable':\n                        if (e.newProp.inlineMode.enable) {\n                            this.parent.on(events.toolbarUpdated, this.updateStatus, this);\n                        }\n                        else {\n                            this.parent.off(events.toolbarUpdated, this.updateStatus);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * removeEventListener method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        if (this.parent.inlineMode.enable) {\n            this.parent.off(events.toolbarUpdated, this.updateStatus);\n        }\n    };\n    return BaseQuickToolbar;\n}());\nexport { BaseQuickToolbar };\n","import { Popup } from '@syncfusion/ej2-popups';\nimport { CLS_QUICK_POP } from '../base/classes';\nimport * as events from '../base/constant';\n/**\n * `Popup renderer` module is used to render popup in RichTextEditor.\n *\n * @hidden\n\n */\nvar PopupRenderer = /** @class */ (function () {\n    /**\n     * Constructor for popup renderer module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent.\n     */\n    function PopupRenderer(parent) {\n        this.parent = parent;\n    }\n    PopupRenderer.prototype.quickToolbarOpen = function () {\n        var args = this.popupObj;\n        this.parent.trigger(events.quickToolbarOpen, args);\n    };\n    /**\n     * renderPopup method\n     *\n     * @param {BaseQuickToolbar} args - specifies  the arguments.\n     * @returns {void}\n     * @hidden\n\n     */\n    PopupRenderer.prototype.renderPopup = function (args) {\n        this.setPanel(args.element);\n        this.renderPanel();\n        args.popupObj = new Popup(args.element, {\n            targetType: 'relative',\n            relateTo: this.parent.element,\n            open: this.quickToolbarOpen.bind(this)\n        });\n        this.popupObj = args.popupObj;\n        args.popupObj.hide();\n    };\n    /**\n     * The function is used to add popup class in Quick Toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    PopupRenderer.prototype.renderPanel = function () {\n        this.getPanel().classList.add(CLS_QUICK_POP);\n    };\n    /**\n     * Get the popup element of RichTextEditor\n     *\n     * @returns {Element} - specifies the element\n     * @hidden\n\n     */\n    PopupRenderer.prototype.getPanel = function () {\n        return this.popupPanel;\n    };\n    /**\n     * Set the popup element of RichTextEditor\n     *\n     * @returns {void}\n     * @param  {Element} panel - specifies the element\n     * @hidden\n\n     */\n    PopupRenderer.prototype.setPanel = function (panel) {\n        this.popupPanel = panel;\n    };\n    return PopupRenderer;\n}());\nexport { PopupRenderer };\n","import { select, isNullOrUndefined, Browser, addClass, removeClass, EventHandler, closest, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { pageYOffset, hasClass, isIDevice } from '../base/util';\nimport { BaseQuickToolbar } from './base-quick-toolbar';\nimport { PopupRenderer } from '../renderer/popup-renderer';\nimport { CLS_INLINE_POP, CLS_INLINE } from '../base/classes';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar QuickToolbar = /** @class */ (function () {\n    function QuickToolbar(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.renderFactory.addRenderer(RenderType.Popup, new PopupRenderer(this.parent));\n        this.addEventListener();\n    }\n    QuickToolbar.prototype.formatItems = function (items) {\n        var formattedItems = [];\n        items.forEach(function (item) {\n            if (typeof item === 'string') {\n                switch (item.toLocaleLowerCase()) {\n                    case 'open':\n                        formattedItems.push('openLink');\n                        break;\n                    case 'edit':\n                        formattedItems.push('editLink');\n                        break;\n                    case 'unlink':\n                        formattedItems.push('removeLink');\n                        break;\n                    default:\n                        formattedItems.push(item);\n                        break;\n                }\n            }\n            else {\n                formattedItems.push(item);\n            }\n        });\n        return formattedItems;\n    };\n    QuickToolbar.prototype.getQTBarOptions = function (popType, mode, items, type) {\n        return {\n            popupType: popType,\n            toolbarItems: items,\n            mode: mode,\n            renderType: type\n        };\n    };\n    /**\n     * createQTBar method\n     *\n     * @param {string} popupType - specifies the string value\n     * @param {string} mode - specifies the string value.\n     * @param {string} items - specifies the string.\n     * @param {RenderType} type - specifies the render type.\n     * @returns {BaseQuickToolbar} - specifies the quick toolbar\n     * @hidden\n\n     */\n    QuickToolbar.prototype.createQTBar = function (popupType, mode, items, type) {\n        if (items.length < 1) {\n            return null;\n        }\n        var qTBar = new BaseQuickToolbar(this.parent, this.locator);\n        qTBar.render(this.getQTBarOptions(popupType, mode, this.formatItems(items), type));\n        return qTBar;\n    };\n    QuickToolbar.prototype.initializeQuickToolbars = function () {\n        this.parent.quickToolbarModule = this;\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        if (this.parent.inlineMode.enable && this.parent.inlineMode.onSelection && isIDevice()) {\n            EventHandler.add(this.contentRenderer.getDocument(), 'selectionchange', this.selectionChangeHandler, this);\n        }\n    };\n    // eslint-disable-next-line\n    QuickToolbar.prototype.onMouseDown = function (e) {\n        this.parent.isBlur = false;\n        this.parent.isRTE = true;\n    };\n    QuickToolbar.prototype.keyUpQT = function (e) {\n        if (e.which == 27) {\n            this.hideQuickToolbars();\n        }\n    };\n    QuickToolbar.prototype.renderQuickToolbars = function () {\n        if (this.linkQTBar || this.imageQTBar || this.textQTBar || this.tableQTBar) {\n            return;\n        }\n        this.linkQTBar = this.createQTBar('Link', 'Scrollable', this.parent.quickToolbarSettings.link, RenderType.LinkToolbar);\n        this.renderFactory.addRenderer(RenderType.LinkToolbar, this.linkQTBar);\n        this.textQTBar = this.createQTBar('Text', 'Scrollable', this.parent.quickToolbarSettings.text, RenderType.TextToolbar);\n        this.renderFactory.addRenderer(RenderType.TextToolbar, this.textQTBar);\n        this.imageQTBar = this.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n        this.renderFactory.addRenderer(RenderType.ImageToolbar, this.imageQTBar);\n        this.tableQTBar = this.createQTBar('Table', 'MultiRow', this.parent.quickToolbarSettings.table, RenderType.TableToolbar);\n        this.renderFactory.addRenderer(RenderType.TableToolbar, this.tableQTBar);\n        if (this.linkQTBar) {\n            EventHandler.add(this.linkQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.linkQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.imageQTBar) {\n            EventHandler.add(this.imageQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.imageQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.textQTBar) {\n            EventHandler.add(this.textQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.textQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.tableQTBar) {\n            EventHandler.add(this.tableQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.tableQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n    };\n    QuickToolbar.prototype.renderInlineQuickToolbar = function () {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.inlineQTBar = this.createQTBar('Inline', 'MultiRow', this.parent.toolbarSettings.items, RenderType.InlineToolbar);\n            this.renderFactory.addRenderer(RenderType.InlineToolbar, this.inlineQTBar);\n            EventHandler.add(this.inlineQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.inlineQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n    };\n    /**\n     * Method for showing the inline quick toolbar\n     *\n     * @param {number} x -specifies the value of x.\n     * @param {number} y - specifies the y valu.\n     * @param {HTMLElement} target - specifies the target element.\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.showInlineQTBar = function (x, y, target) {\n        if (this.parent.readonly || target.tagName.toLowerCase() === \"img\") {\n            return;\n        }\n        this.inlineQTBar.showPopup(x, y, target);\n    };\n    /**\n     * Method for hidding the inline quick toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideInlineQTBar = function () {\n        if (this.inlineQTBar && !hasClass(this.inlineQTBar.element, 'e-popup-close')) {\n            this.inlineQTBar.hidePopup();\n        }\n    };\n    /**\n     * Method for hidding the quick toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideQuickToolbars = function () {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close') && document.body.contains(this.linkQTBar.element)) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n            this.textQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close') && document.body.contains(this.imageQTBar.element)) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close') && document.body.contains(this.tableQTBar.element)) {\n            this.tableQTBar.hidePopup();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.deBounce = function (x, y, target) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () {\n            _this.showInlineQTBar(x, y, target);\n        }, 1000);\n    };\n    QuickToolbar.prototype.mouseUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            var args = e.args.touches ?\n                e.args.changedTouches[0] : e.args;\n            var range = this.parent.getRange();\n            var target = e.args.target;\n            if (isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n                if (isIDevice() && e.touchData && e.touchData.prevClientX !== e.touchData.clientX\n                    && e.touchData.prevClientY !== e.touchData.clientY) {\n                    return;\n                }\n                this.hideInlineQTBar();\n                var parentLeft = this.parent.element.getBoundingClientRect().left;\n                this.offsetX = this.parent.iframeSettings.enable ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n                this.offsetY = pageYOffset(args, this.parent.element, this.parent.iframeSettings.enable);\n                if (target.nodeName === 'TEXTAREA') {\n                    this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                }\n                else {\n                    var closestAnchor = closest(target, 'a');\n                    target = closestAnchor ? closestAnchor : target;\n                    var startNode = this.parent.getRange().startContainer.parentElement;\n                    var endNode = this.parent.getRange().endContainer.parentElement;\n                    if ((isNOU(closest(startNode, 'A')) || isNOU(closest(endNode, 'A'))) && (!closest(target, 'td,th') || !range.collapsed) &&\n                        (target.tagName !== 'IMG' || this.parent.getRange().startOffset !== this.parent.getRange().endOffset)) {\n                        if (this.parent.inlineMode.onSelection && range.collapsed) {\n                            return;\n                        }\n                        this.target = target;\n                        this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                    }\n                }\n            }\n        }\n    };\n    QuickToolbar.prototype.keyDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.inlineQTBarMouseDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.keyUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && !Browser.isDevice) {\n            if (this.parent.inlineMode.onSelection) {\n                return;\n            }\n            var args = e.args;\n            this.deBounce(this.offsetX, this.offsetY, args.target);\n        }\n    };\n    QuickToolbar.prototype.selectionChangeHandler = function (e) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () {\n            _this.onSelectionChange(e);\n        }, 1000);\n    };\n    QuickToolbar.prototype.onSelectionChange = function (e) {\n        if (!isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n            return;\n        }\n        var selection = this.contentRenderer.getDocument().getSelection();\n        if (!selection.isCollapsed) {\n            this.mouseUpHandler({ args: e });\n        }\n    };\n    /**\n     * getInlineBaseToolbar method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.getInlineBaseToolbar = function () {\n        return this.inlineQTBar && this.inlineQTBar.quickTBarObj;\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.destroy = function () {\n        if (this.linkQTBar) {\n            EventHandler.remove(this.linkQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.linkQTBar.element, 'keyup', this.keyUpQT);\n            this.linkQTBar.destroy();\n        }\n        if (this.textQTBar) {\n            EventHandler.remove(this.textQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.textQTBar.element, 'keyup', this.keyUpQT);\n            this.textQTBar.destroy();\n        }\n        if (this.imageQTBar) {\n            EventHandler.remove(this.imageQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.imageQTBar.element, 'keyup', this.keyUpQT);\n            this.imageQTBar.destroy();\n        }\n        if (this.tableQTBar) {\n            EventHandler.remove(this.tableQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.tableQTBar.element, 'keyup', this.keyUpQT);\n            this.tableQTBar.destroy();\n        }\n        if (this.inlineQTBar) {\n            EventHandler.remove(this.inlineQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.inlineQTBar.element, 'keyup', this.keyUpQT);\n            if (isIDevice()) {\n                EventHandler.remove(document, 'selectionchange', this.selectionChangeHandler);\n            }\n            this.inlineQTBar.destroy();\n        }\n        this.removeEventListener();\n    };\n    QuickToolbar.prototype.wireInlineQTBarEvents = function () {\n        this.parent.on(events.mouseUp, this.mouseUpHandler, this);\n        this.parent.on(events.mouseDown, this.inlineQTBarMouseDownHandler, this);\n        this.parent.on(events.keyDown, this.keyDownHandler, this);\n        this.parent.on(events.keyUp, this.keyUpHandler, this);\n        this.parent.on(events.sourceCodeMouseDown, this.mouseUpHandler, this);\n        this.parent.on(events.renderInlineToolbar, this.renderInlineQuickToolbar, this);\n    };\n    QuickToolbar.prototype.unWireInlineQTBarEvents = function () {\n        this.parent.off(events.mouseUp, this.mouseUpHandler);\n        this.parent.off(events.mouseDown, this.inlineQTBarMouseDownHandler);\n        this.parent.off(events.keyDown, this.keyDownHandler);\n        this.parent.off(events.keyUp, this.keyUpHandler);\n        this.parent.off(events.sourceCodeMouseDown, this.mouseUpHandler);\n        this.parent.off(events.renderInlineToolbar, this.renderInlineQuickToolbar);\n    };\n    // eslint-disable-next-line\n    QuickToolbar.prototype.toolbarUpdated = function (args) {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n            this.tableQTBar.hidePopup();\n        }\n    };\n    /**\n     * addEventListener\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.initializeQuickToolbars, this);\n        this.parent.on(events.mouseDown, this.renderQuickToolbars, this);\n        this.parent.on(events.toolbarUpdated, this.toolbarUpdated, this);\n        this.parent.on(events.drop, this.renderQuickToolbars, this);\n        this.wireInlineQTBarEvents();\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n        }\n        this.parent.on(events.focusChange, this.hideQuickToolbars, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n    };\n    QuickToolbar.prototype.onKeyDown = function (e) {\n        var args = e.args;\n        if (args.which === 8 || args.which === 46) {\n            if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n                this.imageQTBar.hidePopup();\n            }\n        }\n    };\n    QuickToolbar.prototype.onIframeMouseDown = function () {\n        this.hideQuickToolbars();\n        this.hideInlineQTBar();\n    };\n    QuickToolbar.prototype.setRtl = function (args) {\n        if (this.inlineQTBar) {\n            this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.imageQTBar) {\n            this.imageQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.linkQTBar) {\n            this.imageQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    /**\n     * removeEventListener\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.initializeQuickToolbars);\n        this.parent.off(events.mouseDown, this.renderQuickToolbars);\n        this.parent.off(events.toolbarUpdated, this.toolbarUpdated);\n        this.parent.off(events.drop, this.renderQuickToolbars);\n        this.unWireInlineQTBarEvents();\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.off(events.scroll, this.hideQuickToolbars);\n            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n        }\n        this.parent.off(events.focusChange, this.hideQuickToolbars);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.rtlMode, this.setRtl);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the element.\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.quickToolbarSettings)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.quickToolbarSettings); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'actionOnScroll':\n                        if (e.newProp.quickToolbarSettings.actionOnScroll === 'none') {\n                            this.parent.off(events.scroll, this.hideQuickToolbars);\n                            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n                        }\n                        else {\n                            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n                            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n                        }\n                        break;\n                }\n            }\n        }\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (this.inlineQTBar) {\n            removeClass([this.parent.element], [CLS_INLINE]);\n            this.unWireInlineQTBarEvents();\n            this.hideInlineQTBar();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.wireInlineQTBarEvents();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    QuickToolbar.prototype.getModuleName = function () {\n        return 'quickToolbar';\n    };\n    return QuickToolbar;\n}());\nexport { QuickToolbar };\n"],"sourceRoot":""}